(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["editor"],{

/***/ "./src/vendorjs/ckeditor.js":
/*!**********************************!*\
  !*** ./src/vendorjs/ckeditor.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

eval("/*!\n * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md.\n */\n!function(t){t.en=Object.assign(t.en||{},{a:\"Code\",b:\"Underline\",c:\"Cannot upload file:\",d:\"Paragraph\",e:\"Saving changes\",f:\"Bold\",g:\"Italic\",h:\"Block quote\",i:\"Choose heading\",j:\"Heading\",k:\"Heading 1\",l:\"Heading 2\",m:\"Heading 3\",n:\"image widget\",o:\"Full size image\",p:\"Side image\",q:\"Left aligned image\",r:\"Centered image\",s:\"Right aligned image\",t:\"Insert image\",u:\"Upload failed\",v:\"Enter image caption\",w:\"Align left\",x:\"Align right\",y:\"Align center\",z:\"Justify\",aa:\"Text alignment\",ab:\"Link\",ac:\"Numbered List\",ad:\"Bulleted List\",ae:\"Upload in progress\",af:\"Change image text alternative\",ag:\"Save\",ah:\"Cancel\",ai:\"Link URL\",aj:\"Unlink\",ak:\"Edit link\",al:\"Open link in new tab\",am:\"This link has no URL\",an:\"Rich Text Editor\",ao:\"Undo\",ap:\"Redo\",aq:\"Text alternative\",ar:\"Rich Text Editor, %0\"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=98)}([function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return o}),n.d(e,\"a\",function(){return r});const i=\"https://docs.ckeditor.com/ckeditor5/latest/framework/guides/support/error-codes.html\";class o extends Error{constructor(t,e){t=r(t),e&&(t+=\" \"+JSON.stringify(e)),super(t),this.name=\"CKEditorError\",this.data=e}static isCKEditorError(t){return t instanceof o}}function r(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: ${i}#error-${e[1]}\\n`:t}},function(t,e,n){var i={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,a=0,c=[],l=n(45);function d(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](o.parts[s]);for(;s<o.parts.length;s++)r.parts.push(g(o.parts[s],e))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(g(o.parts[s],e));i[o.id]={id:o.id,refs:1,parts:a}}}}function u(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function h(t,e){var n=r(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var i=c[c.length-1];if(\"top\"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var o=r(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,o)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function p(t){var e=document.createElement(\"style\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),m(e,t.attrs),h(t,e),e}function m(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,i,o,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var c=a++;n=s||(s=p(e)),i=w.bind(null,n,c,!1),o=w.bind(null,n,c,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",m(e,t.attrs),h(t,e),e}(e),i=function(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=l(i));o&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");var s=new Blob([i],{type:\"text/css\"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),o=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute(\"media\",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(; t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){f(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t, e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=u(t,e);return d(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var s=n[r];(a=i[s.id]).refs--,o.push(a)}t&&d(u(t,e),e);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join(\"\\n\")}}();function w(t,e,n,i){var o=n?\"\":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},function(t,e,n){\"use strict\";var i=n(0);const o={error(t,e){console.error(Object(i.a)(t),e)},warn(t,e){console.warn(Object(i.a)(t),e)}};e.a=o},function(t,e,n){\"use strict\";(function(t,i){var o=n(4),r={function:!0,object:!0},s=r[typeof exports]&&exports&&!exports.nodeType?exports:void 0,a=r[typeof t]&&t&&!t.nodeType?t:void 0,c=Object(o.a)(s&&a&&\"object\"==typeof i&&i),l=Object(o.a)(r[typeof self]&&self),d=Object(o.a)(r[typeof window]&&window),u=Object(o.a)(r[void 0]&&void 0),h=c||d!==(u&&u.window)&&d||l||u||Function(\"return this\")();e.a=h}).call(this,n(13)(t),n(14))},function(t,e,n){\"use strict\";e.a=function(t){return t&&t.Object===Object?t:null}},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z\" fill=\"#000\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z\" fill=\"#000\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"#000\" fill-rule=\"nonzero\"><path d=\"M2 4.5V3h16v1.5zM2 7.5V6h5.674v1.5zM2 10.5V9h5.674v1.5zM2 13.5V12h5.674v1.5zM10.5 7.5V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z\"/></g></svg>\\n'},function(t){t.exports={a:\"11.0.1\"}},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"#000\" fill-rule=\"nonzero\"><path d=\"M2 4.5V3h16v1.5zM4.5 7.5V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06C3.475 13.5 3 13.093 3 12.59V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z\"/></g></svg>\\n'},function(t,e){t.exports='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" stroke-linejoin=\"round\" stroke-miterlimit=\"1.414\"><path d=\"M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z\" fill-rule=\"nonzero\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"#000\" fill-rule=\"nonzero\"><path d=\"M2 4.5V3h16v1.5zM6.5 7.5V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z\"/></g></svg>\\n'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z\" fill=\"#454545\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,\"exports\",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){\"use strict\";(function(t){var i=n(16),o=n(3),r={function:!0,object:!0},s=r[typeof exports]&&exports&&!exports.nodeType?exports:void 0,a=r[typeof t]&&t&&!t.nodeType?t:void 0,c=(a&&a.exports===s?s:void 0)?o.a.Buffer:void 0,l=c?function(t){return t instanceof c}:Object(i.a)(!1);e.a=l}).call(this,n(13)(t))},function(t,e,n){\"use strict\";e.a=function(t){return function(){return t}}},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z\" fill=\"#000\" fill-rule=\"nonzero\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z\" fill=\"#000\" fill-rule=\"nonzero\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z\" fill=\"#000\" fill-rule=\"evenodd\"/></svg>\\n'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z\" fill=\"#333\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"#000\" fill-rule=\"evenodd\"><path d=\"M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563zM11 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563z\"/></g></svg>\\n'},function(t,e){t.exports='<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"><g><path d=\"M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z\"/><path fill-opacity=\".256\" d=\"M1 1h14v14H1z\"/><g class=\"ck-icon__selected-indicator\"><path d=\"M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z\"/><path fill-opacity=\".254\" d=\"M1 1h14v14H1z\"/></g></g></svg>\\n'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012.9.093 1.676.675 2.017 1.513.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z\" fill=\"#000\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z\" fill=\"#000\" fill-rule=\"nonzero\"/></svg>\\n'},function(t,e){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 700 250\"><g fill=\"#FAFAFA\" fill-rule=\"evenodd\"><rect width=\"700\" height=\"250\" rx=\"4\"/></g></svg>\\n'},function(t,e){t.exports='<svg width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z\" fill=\"#000\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"#000\" fill-rule=\"evenodd\"><path d=\"M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zM16.927 17.695l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z\"/></g></svg>'},function(t,e){t.exports='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z\" fill=\"#000\" fill-rule=\"nonzero\"/></svg>\\n'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z\" fill=\"#000\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z\" fill=\"#454545\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z\" fill=\"#454545\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z\" fill=\"#454545\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z\" fill=\"#454545\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z\" fill=\"#454545\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z\" fill=\"#2E2E2E\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z\" fill=\"#2E2E2E\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028-.15.17-.272.334-.365.495h3.542z\" fill=\"#2E2E2E\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53l1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278-.304 0-.565.105-.78.317-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z\" fill=\"#2E2E2E\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z\" fill=\"#2E2E2E\" fill-rule=\"evenodd\"/></svg>'},function(t,e){t.exports='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><g fill=\"#353535\"><g transform=\"translate(2 5.6)\"><path d=\"M10.5.1L15.7 4v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4L14 4.6 9.5 1.4l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zM5.3.1L0 4v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5 4.7-3.2.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z\"/></g></g></g></svg>'},function(t,e){t.exports='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><g fill=\"#333\"><path fill-rule=\"nonzero\" d=\"M3 18v-1.5h14V18z\"/><path d=\"M5.2 10V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z\"/></g></g></svg>\\n'},function(t,e,n){\"use strict\";(function(t){var e=n(2),i=n(8);const o=\"object\"==typeof window?window:t;o.CKEDITOR_VERSION?e.a.error(\"ckeditor-version-collision: The global CKEDITOR_VERSION constant has already been set.\",{collidingVersion:o.CKEDITOR_VERSION,version:i.a}):o.CKEDITOR_VERSION=i.a}).call(this,n(14))},function(t,e,n){var i=n(44);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:rgba(119,186,248,.5);--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-base-foreground);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#c2c2c2;--ck-color-upload-bar-background:#6cb5f9;--ck-color-upload-infinite-background:rgba(0,0,0,.1);--ck-color-link-default:#0000f0;--ck-color-link-selected-background:#ebf8ff;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit) * 1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit) * 0.8);--ck-spacing-small:calc(var(--ck-spacing-unit) * 0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit) * 0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit) * 0.16)}\"},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,i=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var o,r=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(r)?t:(o=0===r.indexOf(\"//\")?r:0===r.indexOf(\"/\")?n+r:i+r.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(o)+\")\")})}},function(t,e,n){var i=n(47);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}\"},function(t,e,n){var i=n(49);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}\"},function(t,e,n){var i=n(51);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}\"},function(t,e,n){var i=n(53);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row wrap;align-items:center}.ck.ck-toolbar.ck-toolbar_vertical{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating{flex-wrap:nowrap}.ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar__newline{display:block;width:100%}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:#ecf0f1;padding:0 var(--ck-spacing-small)}.ck.ck-toolbar>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>*{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar__separator{align-self:stretch;width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar__newline{margin:0}\"},function(t,e,n){var i=n(55);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px}.ck.ck-editor__main>.ck-editor__editable{background:#fff;border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable(.ck-focused),.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:none}\"},function(t,e,n){var i=n(57);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base) * var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon *{fill:currentColor}\"},function(t,e,n){var i=n(59);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;color:#071d34;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}.ck.ck-button.ck-button_with-text .ck-button__icon,a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1 * var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}\"},function(t,e,n){var i=n(61);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck .ck-widget.ck-widget_selectable{position:relative}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler{visibility:hidden;position:absolute}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon{display:block}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler,.ck .ck-widget.ck-widget_selectable:hover .ck-widget__selection-handler{visibility:visible}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#e0e0ff;--ck-color-widget-hover-border:#354c64;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{margin:var(--ck-spacing-standard) 0;padding:0;outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler,.ck .ck-widget.ck-widget_selectable.ck-widget_selected:hover .ck-widget__selection-handler{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_selectable.ck-widget_selected:hover .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_selectable:hover .ck-widget__selection-handler{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handler,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handler:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handler,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handler:hover{background:var(--ck-color-widget-blurred-border)}\"},function(t,e,n){var i=n(63);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}\"},function(t,e,n){var i=n(65);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}.ck.ck-text-alternative-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}\"},function(t,e,n){var i=n(67);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:\"\";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent;margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}'},function(t,e,n){var i=n(69);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck-content .image{clear:both;text-align:center}.ck-content .image>img{display:block;margin:0 auto;max-width:100%}\"},function(t,e,n){var i=n(71);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck-content .image{position:relative;overflow:hidden}.ck-content .image .ck-progress-bar{position:absolute;top:0;left:0}:root{--ck-image-upload-progress-line-width:30px}.ck-content .image.ck-appear{animation:fadeIn .7s}.ck-content .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\"},function(t,e,n){var i=n(73);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:\"\";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,n){var i=n(75);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:\"\";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e,n){var i=n(77);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute;left:0;transform:translate3d(0,100%,0)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block;will-change:transform}:root{--ck-dropdown-arrow-size:calc(0.5 * var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);width:var(--ck-dropdown-arrow-size);margin-left:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown__panel{border-radius:0;box-shadow:var(--ck-drop-shadow),0 0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}\"},function(t,e,n){var i=n(79);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;border:0;padding:calc(.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}\"},function(t,e,n){var i=n(81);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px}.ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto;transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:transform .3s ease}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(1.3846153847em)}\"},function(t,e,n){var i=n(83);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-toolbar-dropdown .ck-toolbar{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}\"},function(t,e,n){var i=n(85);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}\"},function(t,e,n){var i=n(87);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none;cursor:text;color:var(--ck-color-engine-placeholder-text)}\"},function(t,e,n){var i=n(89);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}\"},function(t,e,n){var i=n(91);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}\"},function(t,e,n){var i=n(93);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-link-form .ck-labeled-input{display:inline-block}.ck.ck-link-form .ck-label{display:none}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}.ck.ck-link-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}\"},function(t,e,n){var i=n(95);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:#fff}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:#039be5;text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}.ck.ck-link-actions>:not(:first-child){margin-left:var(--ck-spacing-standard)}\"},function(t,e,n){var i=n(97);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=\".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:#071d34;font-size:var(--ck-block-toolbar-size)}\"},function(t,e,n){\"use strict\";n.r(e);var i=Object.getPrototypeOf;var o=function(t){return i(Object(t))};var r=function(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e};var s=function(t){return!!t&&\"object\"==typeof t},a=\"[object Object]\",c=Object.prototype,l=Function.prototype.toString,d=c.hasOwnProperty,u=l.call(Object),h=c.toString;var f=function(t){if(!s(t)||h.call(t)!=a||r(t))return!1;var e=o(t);if(null===e)return!0;var n=d.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&l.call(n)==u};class p{constructor(t,e){this._config={},e&&this.define(e),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}_setToTarget(t,e,n,i=!1){if(f(e))return void this._setObjectToTarget(t,e,i);const o=e.split(\".\");e=o.pop();for(const e of o)f(t[e])||(t[e]={}),t=t[e];if(f(n))return f(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,i);i&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(\".\");e=n.pop();for(const e of n){if(!f(t[e])){t=null;break}t=t[e]}return t?t[e]:void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(i=>{this._setToTarget(t,i,e[i],n)})}}var m=n(0);var g=function(){return function t(){t.called=!0}};class b{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=g(),this.off=g()}}function w(){let t=\"e\";for(let e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t}var v={get(t){return\"number\"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};const _=Symbol(\"listeningTo\"),k=Symbol(\"emitterId\");var y={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){this.listenTo(this,t,function(t,...n){t.off(),e.call(this,t,...n)},n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let o,r;this[_]||(this[_]={});const s=this[_];A(t)||x(t);const a=A(t);(o=s[a])||(o=s[a]={emitter:t,callbacks:{}}),(r=o.callbacks[e])||(r=o.callbacks[e]=[]),r.push(n),function(t,e){const n=C(t);if(n[e])return;let i=e,o=null;const r=[];for(;\"\"!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},r.push(n[i]),o&&n[i].childEvents.push(o),o=i,i=i.substr(0,i.lastIndexOf(\":\"));if(\"\"!==i){for(const t of r)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(o)}}(t,e);const c=T(t,e),l=v.get(i.priority),d={callback:n,priority:l};for(const t of c){let e=!1;for(let n=0;n<t.length;n++)if(t[n].priority<l){t.splice(n,0,d),e=!0;break}e||t.push(d)}},stopListening(t,e,n){const i=this[_];let o=t&&A(t);const r=i&&o&&i[o],s=r&&e&&r.callbacks[e];if(!(!i||t&&!r||e&&!s))if(n)E(t,e,n);else if(s){for(;n=s.pop();)E(t,e,n);delete r.callbacks[e]}else if(r){for(e in r.callbacks)this.stopListening(t,e);delete i[o]}else{for(o in i)this.stopListening(i[o].emitter);delete this[_]}},fire(t,...e){const n=t instanceof b?t:new b(this,t),i=n.name;let o=function t(e,n){let i;if(!e._events||!(i=e._events[n])||!i.callbacks.length)return n.indexOf(\":\")>-1?t(e,n.substr(0,n.lastIndexOf(\":\"))):null;return i.callbacks}(this,i);if(n.path.push(this),o){const t=[n,...e];o=Array.from(o);for(let e=0;e<o.length&&(o[e].callback.apply(this,t),n.off.called&&(delete n.off.called,E(this,i,o[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(i),o=this._delegations.get(\"*\");t&&S(t,n,e),o&&S(o,n,e)}return n.return},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map);for(const i of t){const t=this._delegations.get(i);t?t.set(e,n):this._delegations.set(i,new Map([[e,n]]))}}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function x(t,e){t[k]||(t[k]=e||w())}function A(t){return t[k]}function C(t){return t._events||Object.defineProperty(t,\"_events\",{value:{}}),t._events}function T(t,e){const n=C(t)[e];if(!n)return[];let i=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){const o=T(t,n.childEvents[e]);i=i.concat(o)}return i}function S(t,e,n){for(let[i,o]of t){o?\"function\"==typeof o&&(o=o(e.name)):o=e.name;const t=new b(e.source,o);t.path=[...e.path],i.fire(t,...n)}}function E(t,e,n){const i=T(t,e);for(const t of i)for(let e=0;e<t.length;e++)t[e].callback==n&&(t.splice(e,1),e--)}function P(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in t.prototype)return;const i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i)})})}var O=function(){this.__data__=[]};var R=function(t,e){return t===e||t!=t&&e!=e};var I=function(t,e){for(var n=t.length;n--;)if(R(t[n][0],e))return n;return-1},V=Array.prototype.splice;var M=function(t){var e=this.__data__,n=I(e,t);return!(n<0||(n==e.length-1?e.pop():V.call(e,n,1),0))};var F=function(t){var e=this.__data__,n=I(e,t);return n<0?void 0:e[n][1]};var N=function(t){return I(this.__data__,t)>-1};var D=function(t,e){var n=this.__data__,i=I(n,t);return i<0?n.push([t,e]):n[i][1]=e,this};function B(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}B.prototype.clear=O,B.prototype.delete=M,B.prototype.get=F,B.prototype.has=N,B.prototype.set=D;var L=B;var j=function(){this.__data__=new L};var z=function(t){return this.__data__.delete(t)};var q=function(t){return this.__data__.get(t)};var U=function(t){return this.__data__.has(t)};var H=function(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)},W=\"[object Function]\",$=\"[object GeneratorFunction]\",K=Object.prototype.toString;var G=function(t){var e=H(t)?K.call(t):\"\";return e==W||e==$},J=Function.prototype.toString;var Q=function(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"},Y=/^\\[object .+?Constructor\\]$/,X=Object.prototype,Z=Function.prototype.toString,tt=X.hasOwnProperty,et=RegExp(\"^\"+Z.call(tt).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");var nt=function(t){return!!H(t)&&(G(t)||r(t)?et:Y).test(Q(t))};var it=function(t,e){var n=t[e];return nt(n)?n:void 0},ot=it(Object,\"create\");var rt=function(){this.__data__=ot?ot(null):{}};var st=function(t){return this.has(t)&&delete this.__data__[t]},at=\"__lodash_hash_undefined__\",ct=Object.prototype.hasOwnProperty;var lt=function(t){var e=this.__data__;if(ot){var n=e[t];return n===at?void 0:n}return ct.call(e,t)?e[t]:void 0},dt=Object.prototype.hasOwnProperty;var ut=function(t){var e=this.__data__;return ot?void 0!==e[t]:dt.call(e,t)},ht=\"__lodash_hash_undefined__\";var ft=function(t,e){return this.__data__[t]=ot&&void 0===e?ht:e,this};function pt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}pt.prototype.clear=rt,pt.prototype.delete=st,pt.prototype.get=lt,pt.prototype.has=ut,pt.prototype.set=ft;var mt=pt,gt=n(3),bt=it(gt.a,\"Map\");var wt=function(){this.__data__={hash:new mt,map:new(bt||L),string:new mt}};var vt=function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t};var _t=function(t,e){var n=t.__data__;return vt(e)?n[\"string\"==typeof e?\"string\":\"hash\"]:n.map};var kt=function(t){return _t(this,t).delete(t)};var yt=function(t){return _t(this,t).get(t)};var xt=function(t){return _t(this,t).has(t)};var At=function(t,e){return _t(this,t).set(t,e),this};function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ct.prototype.clear=wt,Ct.prototype.delete=kt,Ct.prototype.get=yt,Ct.prototype.has=xt,Ct.prototype.set=At;var Tt=Ct,St=200;var Et=function(t,e){var n=this.__data__;return n instanceof L&&n.__data__.length==St&&(n=this.__data__=new Tt(n.__data__)),n.set(t,e),this};function Pt(t){this.__data__=new L(t)}Pt.prototype.clear=j,Pt.prototype.delete=z,Pt.prototype.get=q,Pt.prototype.has=U,Pt.prototype.set=Et;var Ot=Pt;var Rt=function(t,e){for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););return t},It=Object.prototype.hasOwnProperty;var Vt=function(t,e,n){var i=t[e];It.call(t,e)&&R(i,n)&&(void 0!==n||e in t)||(t[e]=n)};var Mt=function(t,e,n,i){n||(n={});for(var o=-1,r=e.length;++o<r;){var s=e[o],a=i?i(n[s],t[s],s,n,t):t[s];Vt(n,s,a)}return n},Ft=Object.prototype.hasOwnProperty;var Nt=function(t,e){return Ft.call(t,e)||\"object\"==typeof t&&e in t&&null===o(t)},Dt=Object.keys;var Bt=function(t){return Dt(Object(t))};var Lt=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i};var jt=function(t){return function(e){return null==e?void 0:e[t]}},zt=jt(\"length\"),qt=9007199254740991;var Ut=function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=qt};var Ht=function(t){return null!=t&&Ut(zt(t))&&!G(t)};var Wt=function(t){return s(t)&&Ht(t)},$t=\"[object Arguments]\",Kt=Object.prototype,Gt=Kt.hasOwnProperty,Jt=Kt.toString,Qt=Kt.propertyIsEnumerable;var Yt=function(t){return Wt(t)&&Gt.call(t,\"callee\")&&(!Qt.call(t,\"callee\")||Jt.call(t)==$t)},Xt=Array.isArray,Zt=\"[object String]\",te=Object.prototype.toString;var ee=function(t){return\"string\"==typeof t||!Xt(t)&&s(t)&&te.call(t)==Zt};var ne=function(t){var e=t?t.length:void 0;return Ut(e)&&(Xt(t)||ee(t)||Yt(t))?Lt(e,String):null},ie=9007199254740991,oe=/^(?:0|[1-9]\\d*)$/;var re=function(t,e){return!!(e=null==e?ie:e)&&(\"number\"==typeof t||oe.test(t))&&t>-1&&t%1==0&&t<e},se=Object.prototype;var ae=function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||se)};var ce=function(t){var e=ae(t);if(!e&&!Ht(t))return Bt(t);var n=ne(t),i=!!n,o=n||[],r=o.length;for(var s in t)!Nt(t,s)||i&&(\"length\"==s||re(s,r))||e&&\"constructor\"==s||o.push(s);return o};var le=function(t,e){return t&&Mt(e,ce(e),t)};var de=function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n};var ue=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e},he=Object.getOwnPropertySymbols;function fe(t){return he(Object(t))}he||(fe=function(){return[]});var pe=fe;var me=function(t,e){return Mt(t,pe(t),e)};var ge=function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t};var be=function(t,e,n){var i=e(t);return Xt(t)?i:ge(i,n(t))};var we=function(t){return be(t,ce,pe)},ve=it(gt.a,\"DataView\"),_e=it(gt.a,\"Promise\"),ke=it(gt.a,\"Set\"),ye=it(gt.a,\"WeakMap\"),xe=Object.prototype.toString,Ae=Q(ve),Ce=Q(bt),Te=Q(_e),Se=Q(ke),Ee=Q(ye);function Pe(t){return xe.call(t)}(ve&&\"[object DataView]\"!=Pe(new ve(new ArrayBuffer(1)))||bt&&\"[object Map]\"!=Pe(new bt)||_e&&\"[object Promise]\"!=Pe(_e.resolve())||ke&&\"[object Set]\"!=Pe(new ke)||ye&&\"[object WeakMap]\"!=Pe(new ye))&&(Pe=function(t){var e=xe.call(t),n=\"[object Object]\"==e?t.constructor:void 0,i=n?Q(n):void 0;if(i)switch(i){case Ae:return\"[object DataView]\";case Ce:return\"[object Map]\";case Te:return\"[object Promise]\";case Se:return\"[object Set]\";case Ee:return\"[object WeakMap]\"}return e});var Oe=Pe,Re=Object.prototype.hasOwnProperty;var Ie=function(t){var e=t.length,n=t.constructor(e);return e&&\"string\"==typeof t[0]&&Re.call(t,\"index\")&&(n.index=t.index,n.input=t.input),n},Ve=gt.a.Uint8Array;var Me=function(t){var e=new t.constructor(t.byteLength);return new Ve(e).set(new Ve(t)),e};var Fe=function(t,e){var n=e?Me(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var Ne=function(t,e){return t.set(e[0],e[1]),t};var De=function(t,e,n,i){var o=-1,r=t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n};var Be=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n};var Le=function(t,e,n){var i=e?n(Be(t),!0):Be(t);return De(i,Ne,new t.constructor)},je=/\\w*$/;var ze=function(t){var e=new t.constructor(t.source,je.exec(t));return e.lastIndex=t.lastIndex,e};var qe=function(t,e){return t.add(e),t};var Ue=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n};var He=function(t,e,n){var i=e?n(Ue(t),!0):Ue(t);return De(i,qe,new t.constructor)},We=gt.a.Symbol,$e=We?We.prototype:void 0,Ke=$e?$e.valueOf:void 0;var Ge=function(t){return Ke?Object(Ke.call(t)):{}};var Je=function(t,e){var n=e?Me(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Qe=\"[object Boolean]\",Ye=\"[object Date]\",Xe=\"[object Map]\",Ze=\"[object Number]\",tn=\"[object RegExp]\",en=\"[object Set]\",nn=\"[object String]\",on=\"[object Symbol]\",rn=\"[object ArrayBuffer]\",sn=\"[object DataView]\",an=\"[object Float32Array]\",cn=\"[object Float64Array]\",ln=\"[object Int8Array]\",dn=\"[object Int16Array]\",un=\"[object Int32Array]\",hn=\"[object Uint8Array]\",fn=\"[object Uint8ClampedArray]\",pn=\"[object Uint16Array]\",mn=\"[object Uint32Array]\";var gn=function(t,e,n,i){var o=t.constructor;switch(e){case rn:return Me(t);case Qe:case Ye:return new o(+t);case sn:return Fe(t,i);case an:case cn:case ln:case dn:case un:case hn:case fn:case pn:case mn:return Je(t,i);case Xe:return Le(t,i,n);case Ze:case nn:return new o(t);case tn:return ze(t);case en:return He(t,i,n);case on:return Ge(t)}},bn=Object.create;var wn=function(t){return H(t)?bn(t):{}};var vn=function(t){return\"function\"!=typeof t.constructor||ae(t)?{}:wn(o(t))},_n=n(15),kn=\"[object Arguments]\",yn=\"[object Function]\",xn=\"[object GeneratorFunction]\",An=\"[object Object]\",Cn={};Cn[kn]=Cn[\"[object Array]\"]=Cn[\"[object ArrayBuffer]\"]=Cn[\"[object DataView]\"]=Cn[\"[object Boolean]\"]=Cn[\"[object Date]\"]=Cn[\"[object Float32Array]\"]=Cn[\"[object Float64Array]\"]=Cn[\"[object Int8Array]\"]=Cn[\"[object Int16Array]\"]=Cn[\"[object Int32Array]\"]=Cn[\"[object Map]\"]=Cn[\"[object Number]\"]=Cn[An]=Cn[\"[object RegExp]\"]=Cn[\"[object Set]\"]=Cn[\"[object String]\"]=Cn[\"[object Symbol]\"]=Cn[\"[object Uint8Array]\"]=Cn[\"[object Uint8ClampedArray]\"]=Cn[\"[object Uint16Array]\"]=Cn[\"[object Uint32Array]\"]=!0,Cn[\"[object Error]\"]=Cn[yn]=Cn[\"[object WeakMap]\"]=!1;var Tn=function t(e,n,i,o,s,a,c){var l;if(o&&(l=a?o(e,s,a,c):o(e)),void 0!==l)return l;if(!H(e))return e;var d=Xt(e);if(d){if(l=Ie(e),!n)return ue(e,l)}else{var u=Oe(e),h=u==yn||u==xn;if(Object(_n.a)(e))return de(e,n);if(u==An||u==kn||h&&!a){if(r(e))return a?e:{};if(l=vn(h?{}:e),!n)return me(e,le(l,e))}else{if(!Cn[u])return a?e:{};l=gn(e,u,t,n)}}c||(c=new Ot);var f=c.get(e);if(f)return f;if(c.set(e,l),!d)var p=i?we(e):ce(e);return Rt(p||e,function(r,s){p&&(r=e[s=r]),Vt(l,s,t(r,n,i,o,s,e,c))}),l};var Sn=function(t){return Tn(t,!1,!0)};function En(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?\"same\":t.length<e.length?\"prefix\":\"extension\"}class Pn{constructor(){this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new m.b(\"view-node-not-found-in-parent: The node's parent does not contain this node.\");return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.parent instanceof Pn?this.parent.document:null}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?\"push\":\"unshift\"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=En(e,n);switch(i){case\"prefix\":return!0;case\"extension\":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire(\"change:\"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Sn(this);return delete t.parent,t}is(t){return\"node\"==t}}P(Pn,y);class On extends Pn{constructor(t){super(),this._textData=t}is(t){return\"text\"==t||super.is(t)}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange(\"text\",this),this._textData=t}isSimilar(t){return t instanceof On&&(this===t||this.data===t.data)}_clone(){return new On(this.data)}}class Rn{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new m.b(\"view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.\");if(n<0||e+n>t.data.length)throw new m.b(\"view-textproxy-wrong-length: Given length value is incorrect.\");this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return\"textProxy\"==t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?\"push\":\"unshift\"](n),n=n.parent;return e}}function In(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}function Vn(t){return!(!t||!t[Symbol.iterator])}class Mn{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)(\"string\"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&(\"string\"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=Fn(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=Fn(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return\"function\"==typeof t||!e||e instanceof RegExp?null:e}}function Fn(t,e){if(\"function\"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){if(t instanceof RegExp)return t.test(e);return t===e}(e.name,t.name),!n.name)?null:e.attributes&&(n.attributes=function(t,e){const n=[];for(const i in t){const o=t[i];if(!e.hasAttribute(i))return null;{const t=e.getAttribute(i);if(!0===o)n.push(i);else if(o instanceof RegExp){if(!o.test(t))return null;n.push(i)}else{if(t!==o)return null;n.push(i)}}}return n}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){const n=[];for(const i of t)if(i instanceof RegExp){const t=e.getClassNames();for(const e of t)i.test(e)&&n.push(e);if(0===n.length)return null}else{if(!e.hasClass(i))return null;n.push(i)}return n}(e.classes,t),!n.classes))&&(!(e.styles&&(n.styles=function(t,e){const n=[];for(const i in t){const o=t[i];if(!e.hasStyle(i))return null;{const t=e.getStyle(i);if(o instanceof RegExp){if(!o.test(t))return null;n.push(i)}else{if(t!==o)return null;n.push(i)}}}return n}(e.styles,t),!n.styles))&&n)}class Nn extends Pn{constructor(t,e,n){if(super(),this.name=t,this._attrs=function(t){t=f(t)?In(t):new Map(t);for(const[e,n]of t)null===n?t.delete(e):\"string\"!=typeof n&&t.set(e,String(n));return t}(e),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has(\"class\")){const t=this._attrs.get(\"class\");Bn(this._classes,t),this._attrs.delete(\"class\")}this._styles=new Map,this._attrs.has(\"style\")&&(Dn(this._styles,this._attrs.get(\"style\")),this._attrs.delete(\"style\")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(t,e=null){return e?\"element\"==t&&e==this.name:\"element\"==t||t==this.name||super.is(t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield\"class\"),this._styles.size>0&&(yield\"style\");for(const t of this._attrs.keys())yield t}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield[\"class\",this.getAttribute(\"class\")]),this._styles.size>0&&(yield[\"style\",this.getAttribute(\"style\")])}getAttribute(t){if(\"class\"==t)return this._classes.size>0?[...this._classes].join(\" \"):void 0;if(\"style\"!=t)return this._attrs.get(t);if(this._styles.size>0){let t=\"\";for(const[e,n]of this._styles)t+=`${e}:${n};`;return t}}hasAttribute(t){return\"class\"==t?this._classes.size>0:\"style\"==t?this._styles.size>0:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Nn))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const[e,n]of this._styles)if(!t._styles.has(e)||t._styles.get(e)!==n)return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.get(t)}getStyleNames(){return this._styles.keys()}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new Mn(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(\",\"),e=Array.from(this._styles).map(t=>`${t[0]}:${t[1]}`).sort().join(\";\"),n=Array.from(this._attrs).map(t=>`${t[0]}=\"${t[1]}\"`).sort().join(\" \");return this.name+(\"\"==t?\"\":` class=\"${t}\"`)+(\"\"==e?\"\":` style=\"${e}\"`)+(\"\"==n?\"\":` ${n}`)}_clone(t=!1){const e=[];if(t)for(const n of this.getChildren())e.push(n._clone(t));const n=new this.constructor(this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles=new Map(this._styles),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange(\"children\",this);let n=0;const i=function(t){if(\"string\"==typeof t)return[new On(t)];Vn(t)||(t=[t]);return Array.from(t).map(t=>\"string\"==typeof t?new On(t):t instanceof Rn?new On(t.data):t)}(e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange(\"children\",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange(\"attributes\",this),\"class\"==t?Bn(this._classes,e):\"style\"==t?Dn(this._styles,e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange(\"attributes\",this),\"class\"==t?this._classes.size>0&&(this._classes.clear(),!0):\"style\"==t?this._styles.size>0&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange(\"attributes\",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.add(t))}_removeClass(t){this._fireChange(\"attributes\",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.delete(t))}_setStyle(t,e){if(this._fireChange(\"attributes\",this),f(t)){const e=Object.keys(t);for(const n of e)this._styles.set(n,t[n])}else this._styles.set(t,e)}_removeStyle(t){this._fireChange(\"attributes\",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._styles.delete(t))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Dn(t,e){let n=null,i=0,o=0,r=null;if(t.clear(),\"\"!==e){\";\"!=e.charAt(e.length-1)&&(e+=\";\");for(let s=0;s<e.length;s++){const a=e.charAt(s);if(null===n)switch(a){case\":\":r||(r=e.substr(i,s-i),o=s+1);break;case'\"':case\"'\":n=a;break;case\";\":const c=e.substr(o,s-o);r&&t.set(r.trim(),c.trim()),r=null,i=s+1}else a===n&&(n=null)}}}function Bn(t,e){const n=e.split(/\\s+/);t.clear(),n.forEach(e=>t.add(e))}class Ln extends Nn{constructor(t,e,n){super(t,e,n),this.getFillerOffset=jn}is(t,e=null){return e?\"containerElement\"==t&&e==this.name||super.is(t,e):\"containerElement\"==t||super.is(t)}}function jn(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is(\"element\",\"br\"))return this.childCount;for(const e of t)if(!e.is(\"uiElement\"))return null;return this.childCount}var zn=function(t,e,n){if(!H(n))return!1;var i=typeof e;return!!(\"number\"==i?Ht(n)&&re(e,n.length):\"string\"==i&&e in n)&&R(n[e],t)};var qn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Un=\"[object Symbol]\",Hn=Object.prototype.toString;var Wn=function(t){return\"symbol\"==typeof t||s(t)&&Hn.call(t)==Un},$n=NaN,Kn=/^\\s+|\\s+$/g,Gn=/^[-+]0x[0-9a-f]+$/i,Jn=/^0b[01]+$/i,Qn=/^0o[0-7]+$/i,Yn=parseInt;var Xn=function(t){if(\"number\"==typeof t)return t;if(Wn(t))return $n;if(H(t)){var e=G(t.valueOf)?t.valueOf():t;t=H(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(Kn,\"\");var n=Jn.test(t);return n||Qn.test(t)?Yn(t.slice(2),n?2:8):Gn.test(t)?$n:+t},Zn=1/0,ti=1.7976931348623157e308;var ei=function(t){return t?(t=Xn(t))===Zn||t===-Zn?(t<0?-1:1)*ti:t==t?t:0:0===t?t:0};var ni=function(t){var e=ei(t),n=e%1;return e==e?n?e-n:e:0},ii=\"Expected a function\",oi=Math.max;var ri=function(t,e){if(\"function\"!=typeof t)throw new TypeError(ii);return e=oi(void 0===e?t.length-1:ni(e),0),function(){for(var n=arguments,i=-1,o=oi(n.length-e,0),r=Array(o);++i<o;)r[i]=n[e+i];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,n[0],r);case 2:return t.call(this,n[0],n[1],r)}var s=Array(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=r,qn(t,this,s)}};var si=function(t){return ri(function(e,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=t.length>3&&\"function\"==typeof r?(o--,r):void 0,s&&zn(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),e=Object(e);++i<o;){var a=n[i];a&&t(e,a,i,r)}return e})},ai=gt.a.Reflect;var ci=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n},li=Object.prototype,di=ai?ai.enumerate:void 0,ui=li.propertyIsEnumerable;function hi(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}di&&!ui.call({valueOf:1},\"valueOf\")&&(hi=function(t){return ci(di(t))});var fi=hi,pi=Object.prototype.hasOwnProperty;var mi=function(t){for(var e=-1,n=ae(t),i=fi(t),o=i.length,r=ne(t),s=!!r,a=r||[],c=a.length;++e<o;){var l=i[e];s&&(\"length\"==l||re(l,c))||\"constructor\"==l&&(n||!pi.call(t,l))||a.push(l)}return a},gi=!Object.prototype.propertyIsEnumerable.call({valueOf:1},\"valueOf\"),bi=si(function(t,e){if(gi||ae(e)||Ht(e))Mt(e,mi(e),t);else for(var n in e)Vt(t,n,e[n])});const wi=Symbol(\"observableProperties\"),vi=Symbol(\"boundObservables\"),_i=Symbol(\"boundProperties\"),ki={set(t,e){if(H(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);xi(this);const n=this[wi];if(t in this&&!n.has(t))throw new m.b(\"observable-set-cannot-override: Cannot override an existing property.\");Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const i=n.get(t);let o=this.fire(\"set:\"+t,t,e,i);void 0===o&&(o=e),i===o&&n.has(t)||(n.set(t,o),this.fire(\"change:\"+t,t,o,i))}}),this[t]=e},bind(...t){if(!t.length||!Ti(t))throw new m.b(\"observable-bind-wrong-properties: All properties must be strings.\");if(new Set(t).size!==t.length)throw new m.b(\"observable-bind-duplicate-properties: Properties must be unique.\");xi(this);const e=this[_i];t.forEach(t=>{if(e.has(t))throw new m.b(\"observable-bind-rebind: Cannot bind the same property more that once.\")});const n=new Map;return t.forEach(t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)}),{to:Ai,toMany:Ci,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!(wi in this))return;const e=this[_i],n=this[vi];if(t.length){if(!Ti(t))throw new m.b(\"observable-unbind-wrong-properties: Properties must be strings.\");t.forEach(t=>{const i=e.get(t);if(!i)return;let o,r,s,a;i.to.forEach(t=>{o=t[0],r=t[1],s=n.get(o),(a=s[r]).delete(i),a.size||delete s[r],Object.keys(s).length||(n.delete(o),this.stopListening(o,\"change\"))}),e.delete(t)})}else n.forEach((t,e)=>{this.stopListening(e,\"change\")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new m.b(\"observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.\",{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)}}};bi(ki,y);var yi=ki;function xi(t){wi in t||(Object.defineProperty(t,wi,{value:new Map}),Object.defineProperty(t,vi,{value:new Map}),Object.defineProperty(t,_i,{value:new Map}))}function Ai(...t){const e=function(...t){if(!t.length)throw new m.b(\"observable-bind-to-parse-error: Invalid argument syntax in `to()`.\");const e={to:[]};let n;\"function\"==typeof t[t.length-1]&&(e.callback=t.pop());return t.forEach(t=>{if(\"string\"==typeof t)n.properties.push(t);else{if(\"object\"!=typeof t)throw new m.b(\"observable-bind-to-parse-error: Invalid argument syntax in `to()`.\");n={observable:t,properties:[]},e.to.push(n)}}),e}(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new m.b(\"observable-bind-to-no-callback: Binding multiple observables only possible with callback.\");if(i>1&&e.callback)throw new m.b(\"observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.\");e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==i)throw new m.b(\"observable-bind-to-properties-length: The number of properties must match.\");t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),function(t,e){e.forEach(e=>{const n=t[vi];let i;n.get(e.observable)||t.listenTo(e.observable,\"change\",(o,r)=>{(i=n.get(e.observable)[r])&&i.forEach(e=>{Si(t,e.property)})})})}(this._observable,this._to),function(t){let e;t._bindings.forEach((n,i)=>{t._to.forEach(o=>{e=o.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([o.observable,e]),function(t,e,n,i){const o=t[vi],r=o.get(n),s=r||{};s[i]||(s[i]=new Set);s[i].add(e),r||o.set(n,s)}(t._observable,n,o.observable,e)})})}(this),this._bindProperties.forEach(t=>{Si(this._observable,t)})}function Ci(t,e,n){if(this._bindings.size>1)throw new m.b(\"observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().\");this.to(...function(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}(t,e),n)}function Ti(t){return t.every(t=>\"string\"==typeof t)}function Si(t,e){const n=t[_i].get(e);let i;i=n.callback?n.callback.apply(t,n.to.map(t=>t[0][t[1]])):(i=n.to[0])[0][i[1]],t.hasOwnProperty(e)?t[e]=i:t.set(e,i)}const Ei=Symbol(\"document\");class Pi extends Ln{constructor(t,e,n){super(t,e,n),this.set(\"isReadOnly\",!1),this.set(\"isFocused\",!1)}get document(){return this.getCustomProperty(Ei)}set _document(t){if(this.getCustomProperty(Ei))throw new m.b(\"view-editableelement-document-already-set: View document is already set.\");this._setCustomProperty(Ei,t),this.bind(\"isReadOnly\").to(t),this.bind(\"isFocused\").to(t,\"isFocused\",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,\"change\",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}}P(Pi,yi);const Oi=Symbol(\"rootName\");class Ri extends Pi{constructor(t){super(t),this.rootName=\"main\"}is(t,e=null){return e?\"rootElement\"==t&&e==this.name||super.is(t,e):\"rootElement\"==t||super.is(t)}get rootName(){return this.getCustomProperty(Oi)}set rootName(t){this._setCustomProperty(Oi,t)}set _name(t){this.name=t}}class Ii{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new m.b(\"view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.\");if(t.direction&&\"forward\"!=t.direction&&\"backward\"!=t.direction)throw new m.b(\"view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.\",{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=Vi.createFromPosition(t.startPosition):this.position=Vi.createFromPosition(t.boundaries[\"backward\"==t.direction?\"end\":\"start\"]),this.direction=t.direction||\"forward\",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,i;do{i=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i)}next(){return\"forward\"==this.direction?this._next():this._previous()}_next(){let t=Vi.createFromPosition(this.position);const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let i;if(n instanceof On){if(t.isAtEnd)return this.position=Vi.createAfter(n),this._next();i=n.data[t.offset]}else i=n.getChild(t.offset);if(i instanceof Nn)return this.shallow?t.offset++:t=new Vi(i,0),this.position=t,this._formatReturnValue(\"elementStart\",i,e,t,1);if(i instanceof On){if(this.singleCharacters)return t=new Vi(i,0),this.position=t,this._next();{let n,o=i.data.length;return i==this._boundaryEndParent?(o=this.boundaries.end.offset,n=new Rn(i,0,o),t=Vi.createAfter(n)):(n=new Rn(i,0,i.data.length),t.offset++),this.position=t,this._formatReturnValue(\"text\",n,e,t,o)}}if(\"string\"==typeof i){let i;if(this.singleCharacters)i=1;else{i=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset}const o=new Rn(n,t.offset,i);return t.offset+=i,this.position=t,this._formatReturnValue(\"text\",o,e,t,i)}return t=Vi.createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue(\"elementEnd\",n,e,t)}_previous(){let t=Vi.createFromPosition(this.position);const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let i;if(n instanceof On){if(t.isAtStart)return this.position=Vi.createBefore(n),this._previous();i=n.data[t.offset-1]}else i=n.getChild(t.offset-1);if(i instanceof Nn)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue(\"elementStart\",i,e,t,1)):(t=new Vi(i,i.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue(\"elementEnd\",i,e,t));if(i instanceof On){if(this.singleCharacters)return t=new Vi(i,i.data.length),this.position=t,this._previous();{let n,o=i.data.length;if(i==this._boundaryStartParent){const e=this.boundaries.start.offset;o=(n=new Rn(i,e,i.data.length-e)).data.length,t=Vi.createBefore(n)}else n=new Rn(i,0,i.data.length),t.offset--;return this.position=t,this._formatReturnValue(\"text\",n,e,t,o)}}if(\"string\"==typeof i){let i;if(this.singleCharacters)i=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=t.offset-e}t.offset-=i;const o=new Rn(n,t.offset,i);return this.position=t,this._formatReturnValue(\"text\",o,e,t,i)}return t=Vi.createBefore(n),this.position=t,this._formatReturnValue(\"elementStart\",n,e,t,1)}_formatReturnValue(t,e,n,i,o){return e instanceof Rn&&(e.offsetInText+e.data.length==e.textNode.data.length&&(\"forward\"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Vi.createAfter(e.textNode):(i=Vi.createAfter(e.textNode),this.position=i)),0===e.offsetInText&&(\"backward\"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Vi.createBefore(e.textNode):(i=Vi.createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:o}}}}class Vi{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is(\"text\")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is(\"text\")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is(\"text\")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Pi);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=Vi.createFromPosition(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Ii(e);return n.skip(t),n.position}getAncestors(){return this.parent.is(\"documentFragment\")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return\"before\"==this.compareWith(t)}isAfter(t){return\"after\"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return\"different\";if(this.isEqual(t))return\"same\";const e=this.parent.is(\"node\")?this.parent.getPath():[],n=t.parent.is(\"node\")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=En(e,n);switch(i){case\"prefix\":return\"before\";case\"extension\":return\"after\";default:return e[i]<n[i]?\"before\":\"after\"}}static createAt(t,e){if(t instanceof Vi)return this.createFromPosition(t);{const n=t;if(\"end\"==e)e=n.is(\"text\")?n.data.length:n.childCount;else{if(\"before\"==e)return this.createBefore(n);if(\"after\"==e)return this.createAfter(n);e||(e=0)}return new Vi(n,e)}}static createAfter(t){if(t.is(\"textProxy\"))return new Vi(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new m.b(\"view-position-after-root: You can not make position after root.\",{root:t});return new Vi(t.parent,t.index+1)}static createBefore(t){if(t.is(\"textProxy\"))return new Vi(t.textNode,t.offsetInText);if(!t.parent)throw new m.b(\"view-position-before-root: You can not make position before root.\",{root:t});return new Vi(t.parent,t.index)}static createFromPosition(t){return new this(t.parent,t.offset)}}class Mi{constructor(t,e=null){this.start=Vi.createFromPosition(t),this.end=e?Vi.createFromPosition(e):Vi.createFromPosition(t)}*[Symbol.iterator](){yield*new Ii({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Fi,{direction:\"backward\"}),e=this.end.getLastMatchingPosition(Fi);return t.parent.is(\"text\")&&t.isAtStart&&(t=Vi.createBefore(t.parent)),e.parent.is(\"text\")&&e.isAtEnd&&(e=Vi.createAfter(e.parent)),new Mi(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Fi);if(t.isAfter(this.end)||t.isEqual(this.end))return new Mi(t,t);let e=this.end.getLastMatchingPosition(Fi,{direction:\"backward\"});const n=t.nodeAfter,i=e.nodeBefore;return n&&n.is(\"text\")&&(t=new Vi(n,0)),i&&i.is(\"text\")&&(e=new Vi(i,i.data.length)),new Mi(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Mi(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Mi(t.end,this.end))):e.push(Mi.createFromRange(this)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Mi(e,n)}return null}getWalker(t={}){return t.boundaries=this,new Ii(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Ii(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new Ii(t);yield e.position;for(const t of e)yield t.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static createFromParentsAndOffsets(t,e,n,i){return new this(new Vi(t,e),new Vi(n,i))}static createFromRange(t){return new this(t.start,t.end)}static createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static createIn(t){return this.createFromParentsAndOffsets(t,0,t,t.childCount)}static createOn(t){const e=t.is(\"textProxy\")?t.offsetSize:1;return this.createFromPositionAndShift(Vi.createBefore(t),e)}static createCollapsedAt(t,e){const n=Vi.createAt(t,e),i=Vi.createFromPosition(n);return new Mi(n,i)}}function Fi(t){return!(!t.item.is(\"attributeElement\")&&!t.item.is(\"uiElement\"))}function Ni(t){let e=0;for(const n of t)e++;return e}class Di{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel=\"\",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?t.end:t.start;return Vi.createFromPosition(e)}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?t.start:t.end;return Vi.createFromPosition(e)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield Mi.createFromRange(t)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?Mi.createFromRange(t):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?Mi.createFromRange(t):null}getFirstPosition(){const t=this.getFirstRange();return t?Vi.createFromPosition(t.start):null}getLastPosition(){const t=this.getLastRange();return t?Vi.createFromPosition(t.end):null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=Ni(this.getRanges());if(e!=Ni(t.getRanges()))return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let n=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),e.start.isEqual(i.start)&&e.end.isEqual(i.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange(),e=t.start.nodeAfter,n=t.end.nodeBefore;return e instanceof Nn&&e==n?e:null}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof Di||t instanceof Bi)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Mi)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof Vi)this._setRanges([new Mi(t)]),this._setFakeOptions(e);else if(t instanceof Pn){const i=!!n&&!!n.backward;let o;if(void 0===e)throw new m.b(\"view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.\");o=\"in\"==e?Mi.createIn(t):\"on\"==e?Mi.createOn(t):Mi.createCollapsedAt(t,e),this._setRanges([o],i),this._setFakeOptions(n)}else{if(!Vn(t))throw new m.b(\"view-selection-setTo-not-selectable: Cannot set selection to given place.\");this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire(\"change\")}setFocus(t,e){if(null===this.anchor)throw new m.b(\"view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.\");const n=Vi.createAt(t,e);if(\"same\"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.pop(),\"before\"==n.compareWith(i)?this._addRange(new Mi(n,i),!0):this._addRange(new Mi(i,n)),this.fire(\"change\")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const e of t)this._addRange(e);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||\"\"}_addRange(t,e=!1){if(!(t instanceof Mi))throw new m.b(\"view-selection-invalid-range: Invalid Range.\");this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new m.b(\"view-selection-range-intersects: Trying to add a range that intersects with another range from selection.\",{addedRange:t,intersectingRange:e});this._ranges.push(Mi.createFromRange(t))}}P(Di,y);class Bi{constructor(t=null,e,n){this._selection=new Di,this._selection.delegate(\"change\").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}P(Bi,y);class Li{constructor(t={}){this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||\"id\",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){let n;const i=this._idProperty;if(i in t){if(\"string\"!=typeof(n=t[i]))throw new m.b(\"collection-add-invalid-id\");if(this.get(n))throw new m.b(\"collection-add-item-already-exists\")}else t[i]=n=w();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new m.b(\"collection-add-item-invalid-index\");return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire(\"add\",t,e),this}get(t){let e;if(\"string\"==typeof t)e=this._itemMap.get(t);else{if(\"number\"!=typeof t)throw new m.b(\"collection-get-invalid-arg: Index or id must be given.\");e=this._items[t]}return e||null}getIndex(t){let e;return e=\"string\"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){let e,n,i,o=!1;const r=this._idProperty;if(\"string\"==typeof t?(n=t,o=!(i=this._itemMap.get(n)),i&&(e=this._items.indexOf(i))):\"number\"==typeof t?(e=t,o=!(i=this._items[e]),i&&(n=i[r])):(n=(i=t)[r],o=-1==(e=this._items.indexOf(i))||!this._itemMap.get(n)),o)throw new m.b(\"collection-remove-404: Item not found.\");this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire(\"remove\",i,e),i}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(t){if(this._bindToCollection)throw new m.b(\"collection-bind-to-rebind: The collection cannot be bound more than once.\");return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{\"function\"==typeof t?this._setUpBindToBinding(e=>t(e)):this._setUpBindToBinding(e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,o)=>{const r=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(i);if(r&&s)this._bindToExternalToInternalMap.set(i,s),this._bindToInternalToExternalMap.set(s,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(o);let r=o;for(const t of this._skippedIndexesFromExternal)o>t&&r--;for(const t of e._skippedIndexesFromExternal)r>=t&&r++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,r);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)r<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)n(0,t,e.getIndex(t));this.listenTo(e,\"add\",n),this.listenTo(e,\"remove\",(t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}P(Li,y);class ji{constructor(){this.selection=new Bi,this.roots=new Li({idProperty:\"rootName\"}),this.set(\"isReadOnly\",!1),this.set(\"isFocused\",!1),this.set(\"isComposing\",!1),this._postFixers=new Set}getRoot(t=\"main\"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t))break}while(e)}}P(ji,yi);const zi=10;class qi extends Nn{constructor(t,e,n){super(t,e,n),this.getFillerOffset=Ui,this._priority=zi,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new m.b(\"attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.\");return new Set(this._clonesGroup)}is(t,e=null){return e?\"attributeElement\"==t&&e==this.name||super.is(t,e):\"attributeElement\"==t||super.is(t)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function Ui(){if(Hi(this))return null;let t=this.parent;for(;t&&t.is(\"attributeElement\");){if(Hi(t)>1)return null;t=t.parent}return!t||Hi(t)>1?null:this.childCount}function Hi(t){return Array.from(t.getChildren()).filter(t=>!t.is(\"uiElement\")).length}qi.DEFAULT_PRIORITY=zi;class Wi extends Nn{constructor(t,e,n){super(t,e,n),this.getFillerOffset=$i}is(t,e=null){return e?\"emptyElement\"==t&&e==this.name||super.is(t,e):\"emptyElement\"==t||super.is(t)}_insertChild(t,e){if(e&&(e instanceof Pn||Array.from(e).length>0))throw new m.b(\"view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.\")}}function $i(){return null}const Ki=navigator.userAgent.toLowerCase();var Gi={isMac:function(t){return t.indexOf(\"macintosh\")>-1}(Ki),isEdge:function(t){return!!t.match(/edge\\/(\\d+.?\\d*)/)}(Ki)};const Ji=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t[\"f\"+(e-111)]=e;return t}();function Qi(t){let e;if(\"string\"==typeof t){if(!(e=Ji[t.toLowerCase()]))throw new m.b(\"keyboard-unknown-key: Unknown key name.\",{key:t})}else e=t.keyCode+(t.altKey?Ji.alt:0)+(t.ctrlKey?Ji.ctrl:0)+(t.shiftKey?Ji.shift:0);return e}function Yi(t){return\"string\"==typeof t&&(t=Xi(t)),t.map(t=>\"string\"==typeof t?Qi(t):t).reduce((t,e)=>e+t,0)}function Xi(t){return t.split(/\\s*\\+\\s*/)}class Zi extends Nn{constructor(t,e,n){super(t,e,n),this.getFillerOffset=eo}is(t,e=null){return e?\"uiElement\"==t&&e==this.name||super.is(t,e):\"uiElement\"==t||super.is(t)}_insertChild(t,e){if(e&&(e instanceof Pn||Array.from(e).length>0))throw new m.b(\"view-uielement-cannot-add: Cannot add child nodes to UIElement instance.\")}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}function to(t){t.document.on(\"keydown\",(e,n)=>(function(t,e,n){if(e.keyCode==Ji.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=t.focusNode,o=t.focusOffset,r=n.domPositionToView(e,o);if(null===r)return;let s=!1;const a=r.getLastMatchingPosition(t=>(t.item.is(\"uiElement\")&&(s=!0),!(!t.item.is(\"uiElement\")&&!t.item.is(\"attributeElement\"))));if(s){const e=n.viewPositionToDom(a);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}})(0,n,t.domConverter))}function eo(){return null}class no{constructor(t){this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return\"documentFragment\"==t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange(\"children\",this);let n=0;const i=function(t){if(\"string\"==typeof t)return[new On(t)];Vn(t)||(t=[t]);return Array.from(t).map(t=>\"string\"==typeof t?new On(t):t instanceof Rn?new On(t.data):t)}(e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange(\"children\",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire(\"change:\"+t,e)}}P(no,y);class io{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new On(t)}createAttributeElement(t,e,n={}){const i=new qi(t,e);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}createContainerElement(t,e){return new Ln(t,e)}createEditableElement(t,e){const n=new Pi(t,e);return n._document=this.document,n}createEmptyElement(t,e){return new Wi(t,e)}createUIElement(t,e,n){const i=new Zi(t,e);return n&&(i.render=n),i}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){f(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof Vi?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is(\"containerElement\"))throw new m.b(\"view-writer-break-non-container-element: Trying to break an element which is not a container element.\");if(!e.parent)throw new m.b(\"view-writer-break-root: Trying to break root element.\");if(t.isAtStart)return Vi.createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(Vi.createAfter(e),n);const i=new Mi(t,Vi.createAt(e,\"end\")),o=new Vi(n,0);this.move(i,o)}return Vi.createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is(\"text\"))return t;if(n.is(\"attributeElement\")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Vi(t,e))}const i=n.getChild(e-1),o=n.getChild(e);if(!i||!o)return t;if(i.is(\"text\")&&o.is(\"text\"))return co(i,o);if(i.is(\"attributeElement\")&&o.is(\"attributeElement\")&&i.isSimilar(o)){const t=i.childCount;return i._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Vi(i,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is(\"containerElement\")&&n.is(\"containerElement\")))throw new m.b(\"view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.\");const i=e.getChild(e.childCount-1),o=i instanceof On?Vi.createAt(i,\"end\"):Vi.createAt(e,\"end\");return this.move(Mi.createIn(n),Vi.createAt(e,\"end\")),this.remove(Mi.createOn(n)),o}insert(t,e){(function t(e){for(const n of e){if(!lo.some(t=>n instanceof t))throw new m.b(\"view-writer-insert-invalid-node\");n.is(\"text\")||t(n.getChildren())}})(e=Vn(e)?[...e]:[e]);const n=oo(t);if(!n)throw new m.b(\"view-writer-invalid-position-container\");const i=this._breakAttributes(t,!0),o=n._insertChild(i.offset,e);for(const t of e)this._addToClonedElementsGroup(t);const r=i.getShiftedBy(o),s=this.mergeAttributes(i);if(0===o)return new Mi(s,s);{s.isEqual(i)||r.offset--;const t=this.mergeAttributes(r);return new Mi(s,t)}}remove(t){if(ho(t),t.isCollapsed)return new no;const{start:e,end:n}=this._breakAttributesRange(t,!0),i=e.parent,o=n.offset-e.offset,r=i._removeChildren(e.offset,o);for(const t of r)this._removeFromClonedElementsGroup(t);const s=this.mergeAttributes(e);return t.start=s,t.end=Vi.createFromPosition(s),new no(r)}clear(t,e){ho(t);const n=t.getWalker({direction:\"backward\",ignoreElementEnd:!0});for(const i of n){const n=i.item;let o;if(n.is(\"element\")&&e.isSimilar(n))o=Mi.createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is(\"textProxy\")){const t=n.getAncestors().find(t=>t.is(\"element\")&&e.isSimilar(t));t&&(o=Mi.createIn(t))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,o=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-o}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof qi))throw new m.b(\"view-writer-wrap-invalid-attribute\");if(ho(t),t.isCollapsed){let n=t.start;n.parent.is(\"element\")&&!function(t){return Array.from(t.getChildren()).some(t=>!t.is(\"uiElement\"))}(n.parent)&&(n=n.getLastMatchingPosition(t=>t.item.is(\"uiElement\"))),n=this._wrapPosition(n,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new Mi(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof qi))throw new m.b(\"view-writer-unwrap-invalid-attribute\");if(ho(t),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0);if(i.isEqual(n.getShiftedBy(1))){const t=n.nodeAfter;if(!e.isSimilar(t)&&t instanceof qi&&this._unwrapAttributeElement(e,t)){const t=this.mergeAttributes(n);t.isEqual(n)||i.offset--;const e=this.mergeAttributes(i);return new Mi(t,e)}}const o=n.parent,r=this._unwrapChildren(o,n.offset,i.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new Mi(s,a)}rename(t,e){const n=new Ln(e,t.getAttributes());return this.insert(Vi.createAfter(t),n),this.move(Mi.createIn(t),Vi.createAt(n)),this.remove(Mi.createOn(t)),n}_wrapChildren(t,e,n,i){let o=e;const r=[];for(;o<n;){const e=t.getChild(o),n=e.is(\"text\"),s=e.is(\"attributeElement\"),a=e.is(\"emptyElement\"),c=e.is(\"uiElement\");if(n||a||c||s&&ro(i,e)){const n=i._clone();e._remove(),n._appendChild(e),t._insertChild(o,n),this._addToClonedElementsGroup(n),r.push(new Vi(t,o))}else s&&this._wrapChildren(e,0,e.childCount,i);o++}let s=0;for(const t of r){if(t.offset-=s,t.offset==e)continue;this.mergeAttributes(t).isEqual(t)||(s++,n--)}return Mi.createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,i){let o=e;const r=[];for(;o<n;){const e=t.getChild(o);if(e.isSimilar(i)){const i=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(o,i),this._removeFromClonedElementsGroup(e),r.push(new Vi(t,o),new Vi(t,o+s)),o+=s,n+=s-1}else e.is(\"attributeElement\")&&this._unwrapChildren(e,0,e.childCount,i),o++}let s=0;for(const t of r){if(t.offset-=s,t.offset==e||t.offset==n)continue;this.mergeAttributes(t).isEqual(t)||(s++,n--)}return Mi.createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){if(function(t){return t.start.parent==t.end.parent&&t.start.parent.is(\"attributeElement\")&&0===t.start.offset&&t.end.offset===t.start.parent.childCount}(t)&&this._wrapAttributeElement(e,t.start.parent)){const e=t.start.parent,n=this.mergeAttributes(Vi.createAfter(e)),i=this.mergeAttributes(Vi.createBefore(e));return new Mi(i,n)}const{start:n,end:i}=this._breakAttributesRange(t,!0);if(i.isEqual(n.getShiftedBy(1))){const t=n.nodeAfter;if(t instanceof qi&&this._wrapAttributeElement(e,t)){const t=this.mergeAttributes(n);t.isEqual(n)||i.offset--;const e=this.mergeAttributes(i);return new Mi(t,e)}}const o=n.parent,r=this._unwrapChildren(o,n.offset,i.offset,e),s=this._wrapChildren(o,r.start.offset,r.end.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const c=this.mergeAttributes(s.end);return new Mi(a,c)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return so(Vi.createFromPosition(t));t.parent.is(\"text\")&&(t=ao(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=(()=>!1),t.parent._insertChild(t.offset,n);const i=new Mi(t,t.getShiftedBy(1));this.wrap(i,e);const o=new Vi(n.parent,n.index);n._remove();const r=o.nodeBefore,s=o.nodeAfter;return r instanceof On&&s instanceof On?co(r,s):so(o)}_wrapAttributeElement(t,e){if(!fo(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if(\"class\"!==n&&\"style\"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())\"class\"!==n&&\"style\"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!fo(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if(\"class\"!==n&&\"style\"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())\"class\"!==n&&\"style\"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(ho(t),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new Mi(n,n)}const o=this._breakAttributes(i,e),r=o.parent.childCount,s=this._breakAttributes(n,e);return o.offset+=o.parent.childCount-r,new Mi(s,o)}_breakAttributes(t,e=!1){const n=t.offset,i=t.parent;if(t.parent.is(\"emptyElement\"))throw new m.b(\"view-writer-cannot-break-empty-element\");if(t.parent.is(\"uiElement\"))throw new m.b(\"view-writer-cannot-break-ui-element\");if(!e&&i.is(\"text\")&&uo(i.parent))return Vi.createFromPosition(t);if(uo(i))return Vi.createFromPosition(t);if(i.is(\"text\"))return this._breakAttributes(ao(t),e);if(n==i.childCount){const t=new Vi(i.parent,i.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new Vi(i.parent,i.index);return this._breakAttributes(t,e)}{const t=i.index+1,o=i._clone();i.parent._insertChild(t,o),this._addToClonedElementsGroup(o);const r=i.childCount-n,s=i._removeChildren(n,r);o._appendChild(s);const a=new Vi(i.parent,t);return this._breakAttributes(a,e)}}_addToClonedElementsGroup(t){if(!t.root.is(\"rootElement\"))return;if(t.is(\"element\"))for(const e of t.getChildren())this._addToClonedElementsGroup(e);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is(\"element\"))for(const e of t.getChildren())this._removeFromClonedElementsGroup(e);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&(n.delete(t),0===n.size&&this._cloneGroups.delete(e))}}function oo(t){let e=t.parent;for(;!uo(e);){if(!e)return;e=e.parent}return e}function ro(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function so(t){const e=t.nodeBefore;if(e&&e.is(\"text\"))return new Vi(e,e.data.length);const n=t.nodeAfter;return n&&n.is(\"text\")?new Vi(n,0):t}function ao(t){if(t.offset==t.parent.data.length)return new Vi(t.parent.parent,t.parent.index+1);if(0===t.offset)return new Vi(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new On(e)),new Vi(t.parent.parent,t.parent.index+1)}function co(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new Vi(t,n)}const lo=[On,qi,Ln,Wi,Zi];function uo(t){return t&&(t.is(\"containerElement\")||t.is(\"documentFragment\"))}function ho(t){const e=oo(t.start),n=oo(t.end);if(!e||!n||e!==n)throw new m.b(\"view-writer-invalid-range-container\")}function fo(t,e){return null===t.id&&null===e.id}const po=t=>{const e=t.createElement(\"br\");return e.dataset.ckeFiller=!0,e},mo=t=>t.createTextNode(\"\"),go=7;let bo=\"\";for(let t=0;t<go;t++)bo+=\"\";function wo(t){return t instanceof Text&&t.data.substr(0,go)===bo}function vo(t){return t.data.length==go&&wo(t)}function _o(t){return wo(t)?t.data.slice(go):t.data}const ko=new WeakMap;function yo(t,e){let n=ko.get(e);return n||(n=e(window.document),ko.set(e,n)),t.isEqualNode(n)}function xo(t,e){if(e.keyCode==Ji.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;wo(e)&&n<=go&&t.collapse(e,0)}}}function Ao(t,e,n){let i,o;if(n=n||function(t,e){return t===e},e.length<t.length){const n=t;t=e,e=n,i=\"delete\",o=\"insert\"}else i=\"insert\",o=\"delete\";const r=t.length,s=e.length,a=s-r,c={},l={};function d(a){const d=(void 0!==l[a-1]?l[a-1]:-1)+1,u=void 0!==l[a+1]?l[a+1]:-1,h=d>u?-1:1;c[a+h]&&(c[a]=c[a+h].slice(0)),c[a]||(c[a]=[]),c[a].push(d>u?i:o);let f=Math.max(d,u),p=f-a;for(;p<r&&f<s&&n(t[p],e[f]);)p++,f++,c[a].push(\"equal\");return f}let u,h=0;do{for(u=-h;u<a;u++)l[u]=d(u);for(u=a+h;u>a;u--)l[u]=d(u);l[a]=d(a),h++}while(l[a]!==s);return c[a].slice(1)}function Co(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function To(t){const e=t.parentNode;e&&e.removeChild(t)}function So(t){return\"[object Text]\"==Object.prototype.toString.call(t)}function Eo(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function Po(t,e){if(t===e)return[];return function(t,e){const n=[],{firstIndex:i,lastIndexOld:o,lastIndexNew:r}=e;r-i>0&&n.push({index:i,type:\"insert\",values:t.substring(i,r).split(\"\")});o-i>0&&n.push({index:i+(r-i),type:\"delete\",howMany:o-i});return n}(e,function(t,e){const n=Oo(t,e),i=Ro(t,n),o=Ro(e,n),r=Oo(i,o),s=t.length-r,a=e.length-r;return{firstIndex:n,lastIndexOld:s,lastIndexNew:a}}(t,e))}function Oo(t,e){for(let n=0;n<Math.max(t.length,e.length);n++)if(t[n]!==e[n])return n}function Ro(t,e){return t.substring(e).split(\"\").reverse().join(\"\")}class Io{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if(\"text\"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if(\"attributes\"===t)this.markedAttributes.add(e);else{if(\"children\"!==t)throw new m.b(\"view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.\");this.markedChildren.add(e)}}}render(){let t;for(const t of this.markedChildren)this._updateChildrenMappings(t);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const t of this.markedAttributes)this._updateAttrs(t);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;wo(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=Vo(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(n,i),r=this._findReplaceActions(o,n,i);if(-1!==r.indexOf(\"replace\")){const e={equal:0,insert:0,delete:0};for(const o of r)if(\"replace\"===o){const o=e.equal+e.insert,r=e.equal+e.delete,s=t.getChild(o);s&&!s.is(\"uiElement\")&&this._updateElementMappings(s,n[r]),To(i[o]),e.equal++}else e[o]++}}_updateElementMappings(t,e){const n=this.domConverter.mapDomToView(e);(!n||n&&!n.isSimilar(t))&&this.markedAttributes.add(t),this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is(\"text\")?Vi.createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&So(e.parent)&&wo(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!wo(t))throw new m.b(\"view-renderer-filler-was-lost: The inline filler node was lost.\");vo(t)?t.parentNode.removeChild(t):t.data=t.data.substr(go),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is(\"element\"))return!1;if(!function(t){if(\"false\"==t.getAttribute(\"contenteditable\"))return!1;const e=t.findAncestor(t=>t.hasAttribute(\"contenteditable\"));return!e||\"true\"==e.getAttribute(\"contenteditable\")}(e))return!1;if(n===e.getFillerOffset())return!1;const i=t.nodeBefore,o=t.nodeAfter;return!(i instanceof On||o instanceof On)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),o=n.data;let r=i.data;const s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(r=bo+r),o!=r){const t=Po(o,r);for(const e of t)\"insert\"===e.type?n.insertData(e.index,e.values.join(\"\")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),i=t.getAttributeKeys();for(const n of i)e.setAttribute(n,t.getAttribute(n));for(const i of n)t.hasAttribute(i)||e.removeAttribute(i)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const i=e.inlineFillerPosition,o=this.domConverter.mapViewToDom(t).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&Vo(n.ownerDocument,r,i.offset);const s=this._diffNodeLists(o,r);let a=0;const c=new Set;for(const t of s)\"insert\"===t?(Co(n,a,r[a]),a++):\"delete\"===t?(c.add(o[a]),To(o[a])):(this._markDescendantTextToSync(this.domConverter.domToView(r[a])),a++);for(const t of c)t.parentNode||this.domConverter.unbindDomElement(t)}_diffNodeLists(t,e){return Ao(t,e,function(t,e,n){if(e===n)return!0;if(So(e)&&So(n))return e.data===n.data;if(yo(e,t)&&yo(n,t))return!0;return!1}.bind(null,this.domConverter.blockFiller))}_findReplaceActions(t,e,n){if(-1===t.indexOf(\"insert\")||-1===t.indexOf(\"delete\"))return t;let i=[],o=[],r=[];const s={equal:0,insert:0,delete:0};for(const a of t)\"insert\"===a?r.push(n[s.equal+s.insert]):\"delete\"===a?o.push(e[s.equal+s.delete]):((i=i.concat(Ao(o,r,Mo).map(t=>\"equal\"===t?\"replace\":t))).push(\"equal\"),o=[],r=[]),s[a]++;return i.concat(Ao(o,r,Mo).map(t=>\"equal\"===t?\"replace\":t))}_markDescendantTextToSync(t){if(t)if(t.is(\"text\"))this.markedTexts.add(t);else if(t.is(\"element\"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;let n=this._fakeSelectionContainer;n||(this._fakeSelectionContainer=n=e.createElement(\"div\"),Object.assign(n.style,{position:\"fixed\",top:0,left:\"-9999px\",width:\"42px\"}),n.appendChild(e.createTextNode(\"\"))),n.parentElement||t.appendChild(n),n.firstChild.data=this.selection.fakeSelectionLabel||\"\";const i=e.getSelection(),o=e.createRange();i.removeAllRanges(),o.selectNodeContents(n),i.addRange(o),this.domConverter.bindFakeSelection(n,this.selection)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_removeDomSelection(){for(const t of this.domDocuments){if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Vo(t,e,n){const i=e instanceof Array?e:e.childNodes,o=i[n];if(So(o))return o.data=bo+o.data,o;{const o=t.createTextNode(bo);return Array.isArray(e)?i.splice(n,0,o):Co(e,n,o),o}}function Mo(t,e){return Eo(t)&&Eo(e)&&!So(t)&&!So(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}P(Io,yi);var Fo={window:window,document:document};function No(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function Do(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}var Bo=function(t){return!!t&&1===t.nodeType&&s(t)&&!f(t)};class Lo{constructor(t={}){this.blockFiller=t.blockFiller||po,this.preElements=[\"pre\"],this.blockElements=[\"p\",\"div\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Di(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.childNodes))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is(\"text\")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let i;if(t.is(\"documentFragment\"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is(\"uiElement\"))return i=t.render(e),n.bind&&this.bindElements(i,t),i;i=e.createElement(t.name),n.bind&&this.bindElements(i,t);for(const e of t.getAttributeKeys())i.setAttribute(e,t.getAttribute(e))}if(n.withChildren||void 0===n.withChildren)for(const o of this.viewChildrenToDom(t,e,n))i.appendChild(o);return i}}*viewChildrenToDom(t,e,n={}){const i=t.getFillerOffset&&t.getFillerOffset();let o=0;for(const r of t.getChildren())i===o&&(yield this.blockFiller(e)),yield this.viewToDom(r,e,n),o++;i===o&&(yield this.blockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is(\"text\")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return wo(n)&&(i+=go),{parent:n,offset:i}}{let n,i,o;if(0===t.offset){if(!(n=this.mapViewToDom(e)))return null;o=n.childNodes[0]}else{const e=t.nodeBefore;if(!(i=e.is(\"text\")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore)))return null;n=i.parentNode,o=i.nextSibling}if(So(o)&&wo(o))return{parent:o,offset:go};return{parent:n,offset:i?No(i)+1:0}}}domToView(t,e={}){if(yo(t,this.blockFiller))return null;const n=this.getParentUIElement(t,this._domToViewMapping);if(n)return n;if(So(t)){if(vo(t))return null;{const e=this._processDataFromDomText(t);return\"\"===e?null:new On(e)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new no,e.bind&&this.bindDocumentFragments(t,n);else{const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new Nn(i),e.bind&&this.bindElements(t,n);const o=t.attributes;for(let t=o.length-1;t>=0;t--)n._setAttribute(o[t].name,o[t].value)}if(e.withChildren||void 0===e.withChildren)for(const i of this.domChildrenToView(t,e))n._appendChild(i);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n],o=this.domToView(i,e);null!==o&&(yield o)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;So(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let e=0;e<t.rangeCount;e++){const i=t.getRangeAt(e),o=this.domRangeToView(i);o&&n.push(o)}return new Di(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Mi(e,n):null}domPositionToView(t,e){if(yo(t,this.blockFiller))return this.domPositionToView(t.parentNode,No(t));const n=this.mapDomToView(t);if(n&&n.is(\"uiElement\"))return Vi.createBefore(n);if(So(t)){if(vo(t))return this.domPositionToView(t.parentNode,No(t));const n=this.findCorrespondingViewText(t);let i=e;return n?(wo(t)&&(i=(i-=go)<0?0:i),new Vi(n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new Vi(e,0)}else{const n=t.childNodes[e-1],i=So(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new Vi(i.parent,i.index+1)}return null}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(vo(t))return null;const e=this.getParentUIElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t){return t.nextSibling instanceof On?t.nextSibling:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof On?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=Fo.window,i=[];zo(e,t=>{const{scrollLeft:e,scrollTop:n}=t;i.push([e,n])}),e.focus(),zo(e,t=>{const[e,n]=i.shift();t.scrollLeft=e,t.scrollTop=n}),Fo.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getParentUIElement(t){const e=Do(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&n.is(\"uiElement\"))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(So(t)&&wo(t)&&e<go)return!1;if(this.isElement(t)&&wo(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is(\"uiElement\")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(\" \"==e.charAt(0)){const n=this._getTouchingViewTextNode(t,!1);!(n&&this._nodeEndsWithSpace(n))&&n||(e=\"\"+e.substr(1))}if(\" \"==e.charAt(e.length-1)){this._getTouchingViewTextNode(t,!0)||(e=e.substr(0,e.length-1)+\"\")}return e.replace(/ {2}/g,\" \")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return\" \"==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(jo(t,this.preElements))return _o(t);e=e.replace(/[ \\n\\t\\r]{1,}/g,\" \");const n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),o=this._checkShouldLeftTrimDomText(n),r=this._checkShouldRightTrimDomText(t,i);return o&&(e=e.replace(/^ /,\"\")),r&&(e=e.replace(/ $/,\"\")),e=(e=_o(new Text(e))).replace(/ \\u00A0/g,\"  \"),o&&(e=e.replace(/^\\u00A0/,\" \")),So(i)&&\"\"!=i.data.charAt(0)||(e=e.replace(/\\u00A0( *)$/,\" $1\")),e}_checkShouldLeftTrimDomText(t){return!t||(!!Bo(t)||/[^\\S\\u00A0]/.test(t.data.charAt(t.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!wo(t)}_getTouchingViewTextNode(t,e){const n=new Ii({startPosition:e?Vi.createAfter(t):Vi.createBefore(t),direction:e?\"forward\":\"backward\"});for(const t of n){if(t.item.is(\"containerElement\"))return null;if(t.item.is(\"br\"))return null;if(t.item.is(\"textProxy\"))return t.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?\"nextNode\":\"previousNode\",i=t.ownerDocument,o=Do(t)[0],r=i.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:t=>So(t)?NodeFilter.FILTER_ACCEPT:\"BR\"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});r.currentNode=t;const s=r[n]();if(null!==s){const e=function(t,e){const n=Do(t),i=Do(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}(t,s);if(e&&!jo(t,this.blockElements,e)&&!jo(s,this.blockElements,e))return s}return null}}function jo(t,e,n){let i=Do(t);return n&&(i=i.slice(i.indexOf(n)+1)),i.some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}function zo(t,e){for(;t&&t!=Fo.document;)e(t),t=t.parentNode}function qo(t){const e=Object.prototype.toString.apply(t);return\"[object Window]\"==e||\"[object global]\"==e}var Uo=bi({},y,{listenTo(t,...e){if(Eo(t)||qo(t)){const n=this._getProxyEmitter(t)||new Ho(t);n.attach(...e),t=n}y.listenTo.call(this,t,...e)},stopListening(t,e,n){if(Eo(t)||qo(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}y.stopListening.call(this,t,e,n),t instanceof Ho&&t.detach(e)},_getProxyEmitter(t){return function(t,e){return t[_]&&t[_][e]?t[_][e].emitter:null}(this,Wo(t))}});class Ho{constructor(t){x(this,Wo(t)),this._domNode=t}}function Wo(t){return t[\"data-ck-expando\"]||(t[\"data-ck-expando\"]=w())}bi(Ho.prototype,y,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=i},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=(()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]}),n}});class $o{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}P($o,Uo);var Ko=\"__lodash_hash_undefined__\";var Go=function(t){return this.__data__.set(t,Ko),this};var Jo=function(t){return this.__data__.has(t)};function Qo(t){var e=-1,n=t?t.length:0;for(this.__data__=new Tt;++e<n;)this.add(t[e])}Qo.prototype.add=Qo.prototype.push=Go,Qo.prototype.has=Jo;var Yo=Qo;var Xo=function(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},Zo=1,tr=2;var er=function(t,e,n,i,o,r){var s=o&tr,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=r.get(t);if(l)return l==e;var d=-1,u=!0,h=o&Zo?new Yo:void 0;for(r.set(t,e);++d<a;){var f=t[d],p=e[d];if(i)var m=s?i(p,f,d,e,t,r):i(f,p,d,t,e,r);if(void 0!==m){if(m)continue;u=!1;break}if(h){if(!Xo(e,function(t,e){if(!h.has(e)&&(f===t||n(f,t,i,o,r)))return h.add(e)})){u=!1;break}}else if(f!==p&&!n(f,p,i,o,r)){u=!1;break}}return r.delete(t),u},nr=1,ir=2,or=\"[object Boolean]\",rr=\"[object Date]\",sr=\"[object Error]\",ar=\"[object Map]\",cr=\"[object Number]\",lr=\"[object RegExp]\",dr=\"[object Set]\",ur=\"[object String]\",hr=\"[object Symbol]\",fr=\"[object ArrayBuffer]\",pr=\"[object DataView]\",mr=We?We.prototype:void 0,gr=mr?mr.valueOf:void 0;var br=function(t,e,n,i,o,r,s){switch(n){case pr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case fr:return!(t.byteLength!=e.byteLength||!i(new Ve(t),new Ve(e)));case or:case rr:return+t==+e;case sr:return t.name==e.name&&t.message==e.message;case cr:return t!=+t?e!=+e:t==+e;case lr:case ur:return t==e+\"\";case ar:var a=Be;case dr:var c=r&ir;if(a||(a=Ue),t.size!=e.size&&!c)return!1;var l=s.get(t);return l?l==e:(r|=nr,s.set(t,e),er(a(t),a(e),i,o,r,s));case hr:if(gr)return gr.call(t)==gr.call(e)}return!1},wr=2;var vr=function(t,e,n,i,o,r){var s=o&wr,a=ce(t),c=a.length;if(c!=ce(e).length&&!s)return!1;for(var l=c;l--;){var d=a[l];if(!(s?d in e:Nt(e,d)))return!1}var u=r.get(t);if(u)return u==e;var h=!0;r.set(t,e);for(var f=s;++l<c;){var p=t[d=a[l]],m=e[d];if(i)var g=s?i(m,p,d,e,t,r):i(p,m,d,t,e,r);if(!(void 0===g?p===m||n(p,m,i,o,r):g)){h=!1;break}f||(f=\"constructor\"==d)}if(h&&!f){var b=t.constructor,w=e.constructor;b!=w&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof b&&b instanceof b&&\"function\"==typeof w&&w instanceof w)&&(h=!1)}return r.delete(t),h},_r={};_r[\"[object Float32Array]\"]=_r[\"[object Float64Array]\"]=_r[\"[object Int8Array]\"]=_r[\"[object Int16Array]\"]=_r[\"[object Int32Array]\"]=_r[\"[object Uint8Array]\"]=_r[\"[object Uint8ClampedArray]\"]=_r[\"[object Uint16Array]\"]=_r[\"[object Uint32Array]\"]=!0,_r[\"[object Arguments]\"]=_r[\"[object Array]\"]=_r[\"[object ArrayBuffer]\"]=_r[\"[object Boolean]\"]=_r[\"[object DataView]\"]=_r[\"[object Date]\"]=_r[\"[object Error]\"]=_r[\"[object Function]\"]=_r[\"[object Map]\"]=_r[\"[object Number]\"]=_r[\"[object Object]\"]=_r[\"[object RegExp]\"]=_r[\"[object Set]\"]=_r[\"[object String]\"]=_r[\"[object WeakMap]\"]=!1;var kr=Object.prototype.toString;var yr=function(t){return s(t)&&Ut(t.length)&&!!_r[kr.call(t)]},xr=2,Ar=\"[object Arguments]\",Cr=\"[object Array]\",Tr=\"[object Object]\",Sr=Object.prototype.hasOwnProperty;var Er=function(t,e,n,i,o,s){var a=Xt(t),c=Xt(e),l=Cr,d=Cr;a||(l=(l=Oe(t))==Ar?Tr:l),c||(d=(d=Oe(e))==Ar?Tr:d);var u=l==Tr&&!r(t),h=d==Tr&&!r(e),f=l==d;if(f&&!u)return s||(s=new Ot),a||yr(t)?er(t,e,n,i,o,s):br(t,e,l,n,i,o,s);if(!(o&xr)){var p=u&&Sr.call(t,\"__wrapped__\"),m=h&&Sr.call(e,\"__wrapped__\");if(p||m){var g=p?t.value():t,b=m?e.value():e;return s||(s=new Ot),n(g,b,i,o,s)}}return!!f&&(s||(s=new Ot),vr(t,e,n,i,o,s))};var Pr=function t(e,n,i,o,r){return e===n||(null==e||null==n||!H(e)&&!s(n)?e!=e&&n!=n:Er(e,n,t,i,o,r))};var Or=function(t,e,n){var i=(n=\"function\"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?Pr(t,e,n):!!i};class Rr extends $o{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,i=new Set;for(const n of t)if(\"childList\"===n.type){const t=e.mapDomToView(n.target);if(t&&t.is(\"uiElement\"))continue;t&&!this._isBogusBrMutation(n)&&i.add(t)}for(const o of t){const t=e.mapDomToView(o.target);if((!t||!t.is(\"uiElement\"))&&\"characterData\"===o.type){const t=e.findCorrespondingViewText(o.target);t&&!i.has(t.parent)?n.set(t,{type:\"text\",oldText:t.data,newText:_o(o.target),node:t}):!t&&wo(o.target)&&i.add(e.mapDomToView(o.target.parentNode))}}const o=[];for(const t of n.values())this.renderer.markToSync(\"text\",t.node),o.push(t);for(const t of i){const n=e.mapViewToDom(t),i=Array.from(t.getChildren()),r=Array.from(e.domChildrenToView(n,{withChildren:!1}));Or(i,r,a)||(this.renderer.markToSync(\"children\",t),o.push({type:\"children\",oldChildren:i,newChildren:r,node:t}))}const r=t[0].target.ownerDocument.getSelection();let s=null;if(r&&r.anchorNode){const t=e.domPositionToView(r.anchorNode,r.anchorOffset),n=e.domPositionToView(r.focusNode,r.focusOffset);t&&n&&(s=new Di(t)).setFocus(n)}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is(\"text\")||!e.is(\"text\"))&&t.data===e.data}this.document.fire(\"mutations\",o,s),this.view.render()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is(\"element\",\"br\")}}class Ir{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,bi(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Vr extends $o{constructor(t){super(t),this.useCapture=!1}observe(t){(\"string\"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new Ir(this.view,e,n))}}class Mr extends Vr{constructor(t){super(t),this.domEventType=[\"keydown\",\"keyup\"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return Qi(this)}})}}var Fr=Date.now,Nr=\"Expected a function\",Dr=Math.max,Br=Math.min;var Lr=function(t,e,n){var i,o,r,s,a,c=0,l=0,d=!1,u=!1,h=!0;if(\"function\"!=typeof t)throw new TypeError(Nr);function f(e){var n=i,r=o;return i=o=void 0,l=e,s=t.apply(r,n)}function p(t){var n=t-c;return!c||n>=e||n<0||u&&t-l>=r}function m(){var t=Fr();if(p(t))return g(t);a=setTimeout(m,function(t){var n=e-(t-c);return u?Br(n,r-(t-l)):n}(t))}function g(t){return clearTimeout(a),a=void 0,h&&i?f(t):(i=o=void 0,s)}function b(){var t=Fr(),n=p(t);if(i=arguments,o=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(m,e),d?f(t):s}(c);if(u)return clearTimeout(a),a=setTimeout(m,e),f(c)}return void 0===a&&(a=setTimeout(m,e)),s}return e=Xn(e)||0,H(n)&&(d=!!n.leading,r=(u=\"maxWait\"in n)?Dr(Xn(n.maxWait)||0,e):r,h=\"trailing\"in n?!!n.trailing:h),b.cancel=function(){void 0!==a&&clearTimeout(a),c=l=0,i=o=a=void 0},b.flush=function(){return void 0===a?s:g(Fr())},b};class jr extends $o{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Lr(t=>this.document.fire(\"selectionChangeDone\",t),200)}observe(){const t=this.document;t.on(\"keydown\",(e,n)=>{t.selection.isFake&&function(t){return t==Ji.arrowright||t==Ji.arrowleft||t==Ji.arrowup||t==Ji.arrowdown}(n.keyCode)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:\"lowest\"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new Di(e.getRanges(),{backward:e.isBackward,fake:!1});t!=Ji.arrowleft&&t!=Ji.arrowup||n.setTo(n.getFirstPosition()),t!=Ji.arrowright&&t!=Ji.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire(\"selectionChange\",i),this._fireSelectionChangeDoneDebounced(i)}}var zr=n(2);class qr extends $o{constructor(t){super(t),this.mutationObserver=t.getObserver(Rr),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Lr(t=>this.document.fire(\"selectionChangeDone\",t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,\"selectionchange\",()=>{this._handleSelectionChange(e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled||!this.document.isFocused&&!this.document.isReadOnly)return;this.mutationObserver.flush();const e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(e))if(++this._loopbackCounter>60)zr.a.warn(\"selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.\");else if(this.selection.isSimilar(n))this.view.render();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire(\"selectionChange\",t),this._fireSelectionChangeDoneDebounced(t)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class Ur extends Vr{constructor(t){super(t),this.domEventType=[\"focus\",\"blur\"],this.useCapture=!0;const e=this.document;e.on(\"focus\",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.render(),50)}),e.on(\"blur\",(n,i)=>{const o=e.selection.editableElement;null!==o&&o!==i.target||(e.isFocused=!1,t.render())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Hr extends Vr{constructor(t){super(t),this.domEventType=[\"compositionstart\",\"compositionupdate\",\"compositionend\"];const e=this.document;e.on(\"compositionstart\",()=>{e.isComposing=!0}),e.on(\"compositionend\",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}function Wr(t){return\"[object Range]\"==Object.prototype.toString.apply(t)}function $r(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}class Kr{constructor(t){const e=Wr(t);if(Object.defineProperty(this,\"_source\",{value:t._source||t,writable:!0,enumerable:!1}),Bo(t)||e){const n=e?t.startContainer:t;n.ownerDocument&&n.ownerDocument.body.contains(n)||zr.a.warn(\"rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.\",{source:t}),Jr(this,e?Kr.getDomRangeRects(t)[0]:t.getBoundingClientRect())}else if(qo(t)){const{innerWidth:e,innerHeight:n}=t;Jr(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else Jr(this,t)}clone(){return new Kr(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new Kr(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!Qr(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!Qr(n);){const t=new Kr(n),i=e.getIntersection(t);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode}}return e}isEqual(t){for(const e of Gr)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n;if(qo(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight;else{const i=$r(this._source);e=t.offsetWidth-t.clientWidth,n=t.offsetHeight-t.clientHeight,this.moveBy(i.left,i.top)}return this.width-=e,this.right-=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const t of n)e.push(new Kr(t));else{let n=t.startContainer;So(n)&&(n=n.parentNode);const i=new Kr(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}}const Gr=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\"];function Jr(t,e){for(const n of Gr)t[n]=e[n]}function Qr(t){return!!Bo(t)&&t===t.ownerDocument.body}function Yr({target:t,viewportOffset:e=0}){const n=os(t);let i=n,o=null;for(;i;){let r;Zr(r=rs(i==n?t:o),()=>ss(t,i));const s=ss(t,i);if(Xr(i,s,e),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return}else i=null}}function Xr(t,e,n){const i=e.clone().moveBy(0,n),o=e.clone().moveBy(0,-n),r=new Kr(t).excludeScrollbarsAndBorders();if(![o,i].every(t=>r.contains(t))){let{scrollX:s,scrollY:a}=t;es(o,r)?a-=r.top-e.top+n:ts(i,r)&&(a+=e.bottom-r.bottom+n),ns(e,r)?s-=r.left-e.left+n:is(e,r)&&(s+=e.right-r.right+n),t.scrollTo(s,a)}}function Zr(t,e){const n=os(t);let i,o;for(;t!=n.document.body;)o=e(),(i=new Kr(t).excludeScrollbarsAndBorders()).contains(o)||(es(o,i)?t.scrollTop-=i.top-o.top:ts(o,i)&&(t.scrollTop+=o.bottom-i.bottom),ns(o,i)?t.scrollLeft-=i.left-o.left:is(o,i)&&(t.scrollLeft+=o.right-i.right)),t=t.parentNode}function ts(t,e){return t.bottom>e.bottom}function es(t,e){return t.top<e.top}function ns(t,e){return t.left<e.left}function is(t,e){return t.right>e.right}function os(t){return Wr(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function rs(t){if(Wr(t)){let e=t.commonAncestorContainer;return So(e)&&(e=e.parentNode),e}return t.parentNode}function ss(t,e){const n=os(t),i=new Kr(t);if(n===e)return i;{let t=n;for(;t!=e;){const e=t.frameElement,n=new Kr(e).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),t=t.parent}}return i}Object.assign({},{scrollViewportToShowTarget:Yr,scrollAncestorsToShowTarget:function(t){Zr(rs(t),()=>new Kr(t))}});class as{constructor(){this.document=new ji,this.domConverter=new Lo,this._renderer=new Io(this.domConverter,this.document.selection),this._renderer.bind(\"isFocused\").to(this.document),this.domRoots=new Map,this._observers=new Map,this._ongoingChange=!1,this._renderingInProgress=!1,this._postFixersInProgress=!1,this._writer=new io(this.document),this.addObserver(Rr),this.addObserver(qr),this.addObserver(Ur),this.addObserver(Mr),this.addObserver(jr),this.addObserver(Hr),function(t){t.document.on(\"keydown\",xo)}(this),to(this),this.on(\"render\",()=>{this._render(),this.document.fire(\"layoutChanged\")})}attachDomRoot(t,e=\"main\"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync(\"children\",n),this._renderer.domDocuments.add(t.ownerDocument),n.on(\"change:children\",(t,e)=>this._renderer.markToSync(\"children\",e)),n.on(\"change:attributes\",(t,e)=>this._renderer.markToSync(\"attributes\",e)),n.on(\"change:text\",(t,e)=>this._renderer.markToSync(\"text\",e));for(const n of this._observers.values())n.observe(t,e)}getDomRoot(t=\"main\"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[t,n]of this.domRoots)e.observe(n,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&Yr({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t?(this.domConverter.focus(t),this.render()):zr.a.warn(\"view-focus-no-selection: There is no selection in any editable to focus.\")}}change(t){if(this._renderingInProgress||this._postFixersInProgress)throw new m.b(\"cannot-change-view-tree: Attempting to make changes to the view when it is in incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behaviour and inconsistency between the DOM and the view.\");this._ongoingChange?t(this._writer):(this._ongoingChange=!0,t(this._writer),this._ongoingChange=!1,this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire(\"render\"))}render(){this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.stopListening()}_render(){this._renderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this._renderingInProgress=!1}}function cs(t){return f(t)?In(t):new Map(t)}P(as,yi);class ls{constructor(t){this.parent=null,this._attrs=cs(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new m.b(\"models-node-not-found-in-parent: The node's parent does not contain this node.\");return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new m.b(\"models-node-not-found-in-parent: The node's parent does not contain this node.\");return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.root==this?null:this.root.document||null}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?\"push\":\"unshift\"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=En(e,n);switch(i){case\"prefix\":return!0;case\"extension\":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=[...this._attrs]),t}_clone(){return new ls(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=cs(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}is(t){return\"node\"==t}}class ds extends ls{constructor(t,e){super(e),this._data=t||\"\"}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return\"text\"==t||super.is(t)}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new ds(this.data,this.getAttributes())}static fromJSON(t){return new ds(t.data,t.attributes)}}class us{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new m.b(\"models-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.\");if(n<0||e+n>t.offsetSize)throw new m.b(\"models-textproxy-wrong-length: Given length value is incorrect.\");this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return\"textProxy\"==t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?\"push\":\"unshift\"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class hs{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new m.b(\"models-nodelist-index-out-of-bounds: Given index cannot be found in the node list.\");return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new m.b(\"models-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.\",{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const t of e)if(!(t instanceof ls))throw new m.b(\"models-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.\");this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class fs extends ls{constructor(t,e,n){super(e),this.name=t,this._children=new hs,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){return e?\"element\"==t&&e==this.name:\"element\"==t||t==this.name||super.is(t)}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):null;return new fs(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if(\"string\"==typeof t)return[new ds(t)];Vn(t)||(t=[t]);return Array.from(t).map(t=>\"string\"==typeof t?new ds(t):t instanceof us?new ds(t.data,t.getAttributes()):t)}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)n.name?e.push(fs.fromJSON(n)):e.push(ds.fromJSON(n))}return new fs(t.name,t.attributes,e)}}class ps{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new m.b(\"models-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.\");const e=t.direction||\"forward\";if(\"forward\"!=e&&\"backward\"!=e)throw new m.b(\"models-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.\",{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=bs.createFromPosition(t.startPosition):this.position=bs.createFromPosition(this.boundaries[\"backward\"==this.direction?\"end\":\"start\"]),this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,i,o;do{i=this.position,o=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i,this._visitedParent=o)}next(){return\"forward\"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=bs.createFromPosition(this.position),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeAfter;if(i instanceof fs)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,ms(\"elementStart\",i,t,e,1);if(i instanceof ds){let o;if(this.singleCharacters)o=1;else{let t=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),o=t-e.offset}const r=e.offset-i.startOffset,s=new us(i,r,o);return e.offset+=o,this.position=e,ms(\"text\",s,t,e,o)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():ms(\"elementEnd\",n,t,e)}_previous(){const t=this.position,e=bs.createFromPosition(this.position),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeBefore;if(i instanceof fs)return e.offset--,this.shallow?(this.position=e,ms(\"elementStart\",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():ms(\"elementEnd\",i,t,e));if(i instanceof ds){let o;if(this.singleCharacters)o=1;else{let t=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),o=e.offset-t}const r=e.offset-i.startOffset,s=new us(i,r-o,o);return e.offset-=o,this.position=e,ms(\"text\",s,t,e,o)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,ms(\"elementStart\",n,t,e,1)}}function ms(t,e,n,i,o){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:o}}}var gs=function(t){var e=t?t.length:0;return e?t[e-1]:void 0};class bs{constructor(t,e){if(!t.is(\"element\")&&!t.is(\"documentFragment\"))throw new m.b(\"models-position-root-invalid: Position root invalid.\");if(!(e instanceof Array)||0===e.length)throw new m.b(\"models-position-path-incorrect: Position path must be an array with at least one item.\",{path:e});e=t.getPath().concat(e),t=t.root,this.root=t,this.path=e}get offset(){return gs(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)t=t.getChild(t.offsetToIndex(this.path[e]));return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof ds&&t.startOffset<this.offset?t:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return\"different\";const e=En(this.path,t.path);switch(e){case\"same\":return\"same\";case\"prefix\":return\"before\";case\"extension\":return\"after\";default:return this.path[e]<t.path[e]?\"before\":\"after\"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new ps(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is(\"documentFragment\")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(t){if(this.root!=t.root)return[];const e=En(this.path,t.path),n=\"string\"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=bs.createFromPosition(this),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return\"after\"==this.compareWith(t)}isBefore(t){return\"before\"==this.compareWith(t)}isEqual(t){return\"same\"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case\"same\":return!0;case\"before\":e=bs.createFromPosition(this),n=bs.createFromPosition(t);break;case\"after\":e=bs.createFromPosition(t),n=bs.createFromPosition(this);break;default:return!1}let i=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==i.maxOffset)return!1;e.path=e.path.slice(0,-1),i=i.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}_getTransformedByDeletion(t,e){const n=bs.createFromPosition(this);if(this.root!=t.root)return n;if(\"same\"==En(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if(\"prefix\"==En(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e,n){const i=bs.createFromPosition(this);if(this.root!=t.root)return i;if(\"same\"==En(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&n)&&(i.offset+=e);else if(\"prefix\"==En(t.getParentPath(),this.getParentPath())){const n=t.path.length-1;t.offset<=this.path[n]&&(i.path[n]+=e)}return i}_getTransformedByMove(t,e,n,i,o){let r=this._getTransformedByDeletion(t,n);return e=e._getTransformedByDeletion(t,n),r=null===r||o&&r.isEqual(t)?this._getCombined(t,e):r._getTransformedByInsertion(e,n,i)}_getCombined(t,e){const n=t.path.length-1,i=bs.createFromPosition(e);return i.offset=i.offset+this.path[n]-t.offset,i.path=i.path.concat(this.path.slice(n+1)),i}static createAt(t,e){if(t instanceof bs)return this.createFromPosition(t);{const n=t;if(\"end\"==e)e=n.maxOffset;else{if(\"before\"==e)return this.createBefore(n);if(\"after\"==e)return this.createAfter(n);e||(e=0)}return this.createFromParentAndOffset(n,e)}}static createAfter(t){if(!t.parent)throw new m.b(\"models-position-after-root: You cannot make a position after root.\",{root:t});return this.createFromParentAndOffset(t.parent,t.endOffset)}static createBefore(t){if(!t.parent)throw new m.b(\"models-position-before-root: You cannot make a position before root.\",{root:t});return this.createFromParentAndOffset(t.parent,t.startOffset)}static createFromParentAndOffset(t,e){if(!t.is(\"element\")&&!t.is(\"documentFragment\"))throw new m.b(\"models-position-parent-incorrect: Position parent have to be a element or document fragment.\");const n=t.getPath();return n.push(e),new this(t.root,n)}static createFromPosition(t){return new this(t.root,t.path.slice())}static fromJSON(t,e){if(\"$graveyard\"===t.root)return new bs(e.graveyard,t.path);if(!e.getRoot(t.root))throw new m.b(\"models-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.\",{rootName:t.root});return new bs(e.getRoot(t.root),t.path)}}class ws{constructor(t,e=null){this.start=bs.createFromPosition(t),this.end=e?bs.createFromPosition(e):bs.createFromPosition(t)}*[Symbol.iterator](){yield*new ps({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}containsItem(t){const e=bs.createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new ws(this.start,t.start)),this.containsPosition(t.end)&&e.push(new ws(t.end,this.end))):e.push(ws.createFromRange(this)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new ws(e,n)}return null}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=bs.createFromPosition(this.start);let i=n.parent;for(;n.path.length>e+1;){const e=i.maxOffset-n.offset;0!==e&&t.push(new ws(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],i=e-n.offset;0!==i&&t.push(new ws(n,n.getShiftedBy(i))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new ps(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new ps(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new ps(t);yield e.position;for(const t of e)yield t.nextPosition}getTransformedByDelta(t){const e=[ws.createFromRange(this)],n=new Set([\"insert\",\"move\",\"remove\",\"reinsert\"]);for(const i of t.operations)if(n.has(i.type))for(let n=0;n<e.length;n++){let o;o=\"insert\"==i.type?e[n]._getTransformedByDocumentChange(i.type,t.type,i.position,i.nodes.maxOffset):e[n]._getTransformedByDocumentChange(i.type,t.type,i.targetPosition,i.howMany,i.sourcePosition),e.splice(n,1,...o),n+=o.length-1}return e}getTransformedByDeltas(t){const e=[ws.createFromRange(this)];for(const n of t)for(let t=0;t<e.length;t++){const i=e[t].getTransformedByDelta(n);e.splice(t,1,...i),t+=i.length-1}for(let t=0;t<e.length;t++){const n=e[t];for(let i=t+1;i<e.length;i++){const t=e[i];(n.containsRange(t)||t.containsRange(n)||n.isEqual(t))&&e.splice(i,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}_getTransformedByDocumentChange(t,e,n,i,o){if(\"insert\"==t)return this._getTransformedByInsertion(n,i,!1,!1);{const t=ws.createFromPositionAndShift(o,i);if(\"merge\"==e&&this.isCollapsed&&(this.start.isEqual(t.start)||this.start.isEqual(t.end))){const e=this.start.offset-t.start.offset;return[new ws(n.getShiftedBy(e))]}if(\"split\"==e&&this.isCollapsed&&this.end.isEqual(t.end))return[new ws(n.getShiftedBy(i))];if((t.containsPosition(this.start)||t.start.isEqual(this.start))&&this.containsPosition(t.end)&&this.end.isAfter(n)){const t=this.start._getCombined(o,n._getTransformedByDeletion(o,i)),e=this.end._getTransformedByMove(o,n,i,!1,!1);return[new ws(t,e)]}if((t.containsPosition(this.end)||t.end.isEqual(this.end))&&this.containsPosition(t.start)&&this.start.isBefore(n)){const t=this.start._getTransformedByMove(o,n,i,!0,!1),e=this.end._getCombined(o,n._getTransformedByDeletion(o,i));return[new ws(t,e)]}return this._getTransformedByMove(o,n,i)}}_getTransformedByInsertion(t,e,n=!1,i=!1){if(n&&this.containsPosition(t))return[new ws(this.start,t),new ws(t._getTransformedByInsertion(t,e,!0),this.end._getTransformedByInsertion(t,e,this.isCollapsed))];{const n=ws.createFromRange(this),o=!i,r=!!n.isCollapsed||i;return n.start=n.start._getTransformedByInsertion(t,e,o),n.end=n.end._getTransformedByInsertion(t,e,r),[n]}}_getTransformedByMove(t,e,n){if(this.isCollapsed){const i=this.start._getTransformedByMove(t,e,n,!0,!1);return[new ws(i)]}let i;const o=new ws(t,t.getShiftedBy(n)),r=this.getDifference(o);let s=null;const a=this.getIntersection(o);1==r.length?s=new ws(r[0].start._getTransformedByDeletion(t,n),r[0].end._getTransformedByDeletion(t,n)):2==r.length&&(s=new ws(this.start,this.end._getTransformedByDeletion(t,n)));const c=e._getTransformedByDeletion(t,n);return i=s?s._getTransformedByInsertion(c,n,null!==a):[],a&&i.push(new ws(a.start._getCombined(o.start,c),a.end._getCombined(o.start,c))),i}static createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static createFromParentsAndOffsets(t,e,n,i){return new this(bs.createFromParentAndOffset(t,e),bs.createFromParentAndOffset(n,i))}static createFromRange(t){return new this(t.start,t.end)}static createIn(t){return this.createFromParentsAndOffsets(t,0,t,t.maxOffset)}static createOn(t){return this.createFromPositionAndShift(bs.createBefore(t),t.offsetSize)}static createCollapsedAt(t,e){const n=bs.createAt(t,e),i=bs.createFromPosition(n);return new ws(n,i)}static createFromRanges(t){if(0===t.length)throw new m.b(\"range-create-from-ranges-empty-array: At least one range has to be passed.\");if(1==t.length)return this.createFromRange(t[0]);const e=t[0];t.sort((t,e)=>t.start.isAfter(e.start)?1:-1);const n=t.indexOf(e),i=new this(e.start,e.end);for(let e=n-1;e>=0&&t[e].end.isEqual(i.start);e++)i.start=bs.createFromPosition(t[e].start);for(let e=n+1;e<t.length&&t[e].start.isEqual(i.end);e++)i.end=bs.createFromPosition(t[e].end);return i}static fromJSON(t,e){return new this(bs.fromJSON(t.start,e),bs.fromJSON(t.end,e))}}class vs{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this.on(\"modelToViewPosition\",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this._findPositionIn(n,e.modelPosition.offset)},{priority:\"low\"}),this.on(\"viewToModelPosition\",(t,e)=>{if(e.modelPosition)return;let n=e.viewPosition.parent,i=this._viewToModelMapping.get(n);for(;!i;)n=n.parent,i=this._viewToModelMapping.get(n);const o=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=bs.createFromParentAndOffset(i,o)},{priority:\"low\"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);this._viewToModelMapping.delete(t),this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t),this._markerNameToElements.set(e,n)}unbindElementsFromMarkerName(t){this._markerNameToElements.delete(t)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new ws(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Mi(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire(\"viewToModelPosition\",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire(\"modelToViewPosition\",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const t of e)if(t.is(\"attributeElement\"))for(const e of t.getElementsWithSameId())n.add(e);else n.add(t);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}_toModelOffset(t,e,n){if(n!=t){return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t)}if(t.is(\"text\"))return e;let i=0;for(let n=0;n<e;n++)i+=this.getModelLength(t.getChild(n));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name)){return this._viewToModelLengthCallbacks.get(t.name)(t)}if(this._viewToModelMapping.has(t))return 1;if(t.is(\"text\"))return t.data.length;if(t.is(\"uiElement\"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}_findPositionIn(t,e){let n,i=0,o=0,r=0;if(t.is(\"text\"))return new Vi(t,e);for(;o<e;)n=t.getChild(r),o+=i=this.getModelLength(n),r++;return o==e?this._moveViewPositionToTextNode(new Vi(t,r)):this._findPositionIn(n,e-(o-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof On?new Vi(e,e.data.length):n instanceof On?new Vi(n,0):t}}P(vs,y);class _s{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=ks(e),t instanceof us&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=ks(e),t instanceof us&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=ks(e),t instanceof us&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const i=n.get(e);return void 0===i?null:i}revert(t,e){e=ks(e),t instanceof us&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const i=Symbol(\"textProxySymbol\");let o,r;return(o=this._textProxyRegistry.get(t))||(o=new Map,this._textProxyRegistry.set(t,o)),(r=o.get(e))||(r=new Map,o.set(e,r)),r.set(n,i),i}}function ks(t){const e=t.split(\":\");return e.length>1?e[0]+\":\"+e[1]:e[0]}class ys{constructor(t={}){this.conversionApi=bi({dispatcher:this},t)}convertChanges(t,e){for(const n of t.getMarkersToRemove())this.convertMarkerRemove(n.name,n.range,e);for(const n of t.getChanges())\"insert\"==n.type?this.convertInsert(ws.createFromPositionAndShift(n.position,n.length),e):\"remove\"==n.type?this.convertRemove(n.position,n.length,n.name,e):this.convertAttribute(n.range,n.attributeKey,n.attributeOldValue,n.attributeNewValue,e);for(const n of t.getMarkersToAdd())this.convertMarkerAdd(n.name,n.range,e)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const e of t){const t=e.item,n={item:t,range:ws.createFromPositionAndShift(e.previousPosition,e.length)};this._testAndFire(\"insert\",n);for(const e of t.getAttributeKeys())n.attributeKey=e,n.attributeOldValue=null,n.attributeNewValue=t.getAttribute(e),this._testAndFire(`attribute:${e}`,n)}this._clearConversionApi()}convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire(\"remove:\"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const o of t){const t={item:o.item,range:ws.createFromPositionAndShift(o.previousPosition,o.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,t)}this._clearConversionApi()}convertSelection(t,e,n){const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire(\"selection\",{selection:t},this.conversionApi),t.isCollapsed){for(const e of i){const n=e.getRange();if(!xs(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,\"addMarker:\"+e.name)&&this.fire(\"addMarker:\"+e.name,i,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,\"attribute:\"+n.attributeKey)&&this.fire(\"attribute:\"+n.attributeKey,n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,e,n){if(!e.root.document||\"$graveyard\"==e.root.rootName)return;this.conversionApi.writer=n;const i=\"addMarker:\"+t;if(e.isCollapsed){const n=new _s;return n.add(e,i),this.conversionApi.consumable=n,void this.fire(i,{markerName:t,markerRange:e},this.conversionApi)}this.conversionApi.consumable=this._createConsumableForRange(e,i);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,i))continue;const o={item:n,range:ws.createOn(n),markerName:t,markerRange:e};this.fire(i,o,this.conversionApi)}this._clearConversionApi()}convertMarkerRemove(t,e,n){e.root.document&&\"$graveyard\"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire(\"removeMarker:\"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(t){const e=new _s;for(const n of t){const t=n.item;e.add(t,\"insert\");for(const n of t.getAttributeKeys())e.add(t,\"attribute:\"+n)}return e}_createConsumableForRange(t,e){const n=new _s;for(const i of t.getItems())n.add(i,e);return n}_createSelectionConsumable(t,e){const n=new _s;n.add(t,\"selection\");for(const i of e)n.add(t,\"addMarker:\"+i.name);for(const e of t.getAttributeKeys())n.add(t,\"attribute:\"+e);return n}_testAndFire(t,e){if(!this.conversionApi.consumable.test(e.item,t))return;const n=e.item.name||\"$text\";this.fire(t+\":\"+n,e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function xs(t,e,n){const i=e.getRange(),o=Array.from(t.getAncestors());return o.shift(),o.reverse(),!o.some(t=>{if(i.containsItem(t)){return!!n.toViewElement(t).getCustomProperty(\"addHighlight\")}})}P(ys,y);class As{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield ws.createFromRange(t)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?ws.createFromRange(t):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?ws.createFromRange(t):null}getFirstPosition(){const t=this.getFirstRange();return t?bs.createFromPosition(t.start):null}getLastPosition(){const t=this.getLastRange();return t?bs.createFromPosition(t.end):null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof As)this._setRanges(t.getRanges(),t.isBackward);else if(t&&\"function\"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof ws)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof bs)this._setRanges([new ws(t)]);else if(t instanceof ls){const i=!!n&&!!n.backward;let o;if(\"in\"==e)o=ws.createIn(t);else if(\"on\"==e)o=ws.createOn(t);else{if(void 0===e)throw new m.b(\"models-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.\");o=ws.createCollapsedAt(t,e)}this._setRanges([o],i)}else{if(!Vn(t))throw new m.b(\"models-selection-setTo-not-selectable: Cannot set selection to given place.\");this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some(t=>{if(!(t instanceof ws))throw new m.b(\"models-selection-added-not-range: Trying to add an object that is not an instance of Range.\");return this._ranges.every(e=>!e.isEqual(t))});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire(\"change:range\",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new m.b(\"models-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.\");const n=bs.createAt(t,e);if(\"same\"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),\"before\"==n.compareWith(i)?(this._pushRange(new ws(n,i)),this._lastRangeBackward=!0):(this._pushRange(new ws(i,n)),this._lastRangeBackward=!1),this.fire(\"change:range\",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire(\"change:attribute\",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire(\"change:attribute\",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange(),e=t.start.nodeAfter,n=t.end.nodeBefore;return e instanceof fs&&e==n?e:null}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=Ts(e.start,t);n&&(yield n);for(const n of e.getWalker())\"elementEnd\"==n.type&&Cs(n.item,t)&&(yield n.item);const i=Ts(e.end,t);i&&!e.end.isTouching(bs.createAt(i))&&(yield i)}}containsEntireContent(t=this.anchor.root){const e=bs.createAt(t),n=bs.createAt(t,\"end\");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(ws.createFromRange(t))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new m.b(\"models-selection-range-intersects: Trying to add a range that intersects with another range from selection.\",{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Cs(t,e){return!e.has(t)&&(e.add(t),t.document.model.schema.isBlock(t)&&t.parent)}function Ts(t,e){const n=t.parent.getAncestors({parentFirst:!0,includeSelf:!0}),i=n.find(t=>Cs(t,e));return n.forEach(t=>e.add(t)),i}P(As,y);class Ss extends ws{constructor(t,e){super(t,e),function(){const t=new Set([\"insert\",\"move\",\"remove\",\"reinsert\"]);this.listenTo(this.root.document.model,\"applyOperation\",(e,n)=>{const i=n[0];i.isDocumentOperation&&t.has(i.type)&&function(t){const e=t.type,n=t.delta.batch;let i,o;\"insert\"==e?i=ws.createFromPositionAndShift(t.position,t.nodes.maxOffset):(i=ws.createFromPositionAndShift(t.getMovedRangeStart(),t.howMany),o=t.sourcePosition);const r=i.end.offset-i.start.offset;let s=i.start;\"move\"!=e&&\"remove\"!=e&&\"reinsert\"!=e||(s=s._getTransformedByInsertion(o,r));const a=this._getTransformedByDocumentChange(e,t.delta.type,s,r,o);\"move\"!=e&&\"remove\"!=e&&\"reinsert\"!=e||3!=a.length||(a[2]=i);const c=ws.createFromRanges(a),l=!c.isEqual(this),d=this.containsPosition(s),u=o&&(this.containsPosition(o)||this.start.isEqual(o)),h=d||u;if(l){const t=ws.createFromRange(this);this.start=c.start,this.end=c.end,this.fire(\"change:range\",t,{type:e,batch:n,range:i,sourcePosition:o})}else h&&this.fire(\"change:content\",ws.createFromRange(this),{type:e,batch:n,range:i,sourcePosition:o})}.call(this,i)},{priority:\"low\"})}.call(this)}detach(){this.stopListening()}}P(Ss,y);const Es=\"selection:\";class Ps{constructor(t){this._selection=new Os(t),this._selection.delegate(\"change:range\").to(this),this._selection.delegate(\"change:attribute\").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return Es+t}static _isStoreAttributeKey(t){return t.startsWith(Es)}}P(Ps,y);class Os extends As{constructor(t){super(),this._model=t.model,this._document=t,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.on(\"change:range\",()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new m.b(\"document-selection-wrong-position: Range from document selection starts or ends at incorrect position.\",{range:t})}),this.listenTo(this._document,\"change\",(t,e)=>{this._updateAttributes(!1),function(t,e){const n=t.document.differ;for(const i of n.getChanges()){if(\"insert\"!=i.type)continue;const n=i.position.parent,o=i.length===n.maxOffset;o&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith(Es));for(const i of e)t.removeAttribute(i,n)})}}(this._model,e)}),this.listenTo(this._model,\"applyOperation\",()=>{for(;this._fixGraveyardRangesData.length;){const{liveRange:t,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(t,e)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire(\"change:range\",{directChange:!1}))},{priority:\"lowest\"})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._refreshAttributes()}setFocus(t,e){super.setFocus(t,e),this._refreshAttributes()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire(\"change:attribute\",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire(\"change:attribute\",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=w();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._refreshAttributes(),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new m.b(\"document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.\",{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._refreshAttributes()}_refreshAttributes(){this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return void zr.a.warn(\"models-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.\");const e=Ss.createFromRange(t);return e.on(\"change:range\",(t,n,i)=>{this._hasChangedRange=!0,e.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:e,sourcePosition:i.sourcePosition})}),e}_updateAttributes(t){const e=cs(this._getSurroundingAttributes()),n=cs(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[t,e]of this._attributePriority)\"low\"==e&&(this._attrs.delete(t),this._attributePriority.delete(t));this._setAttributesTo(e);const i=[];for(const[t,e]of this.getAttributes())n.has(t)&&n.get(t)===e||i.push(t);for(const[t]of n)this.hasAttribute(t)||i.push(t);i.length>0&&this.fire(\"change:attribute\",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?\"normal\":\"low\";return(\"low\"!=i||\"normal\"!=this._attributePriority.get(t))&&(super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0))}_removeAttribute(t,e=!0){const n=e?\"normal\":\"low\";return(\"low\"!=n||\"normal\"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[e,n]of this.getAttributes())t.get(e)!==n&&this._removeAttribute(e,!1);for(const[n,i]of t){this._setAttribute(n,i,!1)&&e.add(n)}return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(Es)){yield[e.substr(Es.length),t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const e=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=Rs(e)),n||(n=Rs(i)),!this.isGravityOverridden&&!n){let t=e;for(;t&&!n;)n=Rs(t=t.previousSibling)}if(!n){let t=i;for(;t&&!n;)n=Rs(t=t.nextSibling)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is(\"element\")&&e.isObject(i.item))break;\"text\"==i.type&&null===n&&(n=i.item.getAttributes())}}return n}_fixGraveyardSelection(t,e){const n=bs.createFromPosition(e),i=this._model.schema.getNearestSelectionRange(n),o=this._ranges.indexOf(t);if(this._ranges.splice(o,1),t.detach(),i){const t=this._prepareRange(i);this._ranges.splice(o,0,t)}}}function Rs(t){return t instanceof us||t instanceof ds?t.getAttributes():null}var Is=function(t){return Tn(t,!0,!0)};function Vs(t){return(t=Is(t)).view=Ns(t.view,\"container\"),e=>{e.on(\"insert:\"+t.model,function(t){return(e,n,i)=>{const o=t(n.item,i.writer);if(!o)return;if(!i.consumable.consume(n.item,\"insert\"))return;const r=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,o),i.writer.insert(r,o)}}(t.view),{priority:t.converterPriority||\"normal\"})}}function Ms(t){let e=\"attribute:\"+((t=Is(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=\":\"+t.model.name),t.model.values)for(const e of t.model.values)t.view[e]=Ns(t.view[e],\"attribute\");else t.view=Ns(t.view,\"attribute\");const n=Ds(t);return i=>{i.on(e,function(t){return(e,n,i)=>{const o=t(n.attributeOldValue,i.writer),r=t(n.attributeNewValue,i.writer);if(!o&&!r)return;if(!i.consumable.consume(n.item,e.name))return;const s=i.writer,a=s.document.selection;if(n.item instanceof As||n.item instanceof Ps)s.wrap(a.getFirstRange(),r);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(t=s.unwrap(t,o)),null!==n.attributeNewValue&&r&&s.wrap(t,r)}}}(n),{priority:t.converterPriority||\"normal\"})}}function Fs(t){let e=\"attribute:\"+((t=Is(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=\":\"+t.model.name),t.model.values)for(const e of t.model.values)t.view[e]=Bs(t.view[e]);else t.view=Bs(t.view);const n=Ds(t);return i=>{i.on(e,function(t){return t=t||((t,e)=>({value:t,key:e.attributeKey})),(e,n,i)=>{const o=t(n.attributeOldValue,n),r=t(n.attributeNewValue,n);if(!o&&!r)return;if(!i.consumable.consume(n.item,e.name))return;const s=i.mapper.toViewElement(n.item),a=i.writer;if(null!==n.attributeOldValue&&o)if(\"class\"==o.key){const t=Array.isArray(o.value)?o.value:[o.value];for(const e of t)a.removeClass(e,s)}else if(\"style\"==o.key){const t=Object.keys(o.value);for(const e of t)a.removeStyle(e,s)}else a.removeAttribute(o.key,s);if(null!==n.attributeNewValue&&r)if(\"class\"==r.key){const t=Array.isArray(r.value)?r.value:[r.value];for(const e of t)a.addClass(e,s)}else if(\"style\"==r.key){const t=Object.keys(r.value);for(const e of t)a.setStyle(e,r.value[e],s)}else a.setAttribute(r.key,r.value,s)}}(n),{priority:t.converterPriority||\"normal\"})}}function Ns(t,e){return\"function\"==typeof t?t:(n,i)=>(function(t,e,n){\"string\"==typeof t&&(t={name:t});let i;const o=Object.assign({},t.attributes);if(\"container\"==n)i=e.createContainerElement(t.name,o);else if(\"attribute\"==n){const n={priority:t.priority||qi.DEFAULT_PRIORITY};i=e.createAttributeElement(t.name,o,n)}else i=e.createUIElement(t.name,o);if(t.styles){const n=Object.keys(t.styles);for(const o of n)e.setStyle(o,t.styles[o],i)}if(t.classes){const n=t.classes;if(\"string\"==typeof n)e.addClass(n,i);else for(const t of n)e.addClass(t,i)}return i})(t,i,e)}function Ds(t){return t.model.values?(e,n)=>{const i=t.view[e];return i?i(e,n):null}:t.view}function Bs(t){return\"string\"==typeof t?e=>({key:t,value:e}):\"object\"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}class Ls{constructor(t){this.model=t,this.view=new as,this.mapper=new vs,this.downcastDispatcher=new ys({mapper:this.mapper});const e=this.model.document,n=e.selection,i=this.model.markers;this.listenTo(e,\"change\",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(e.differ,t),this.downcastDispatcher.convertSelection(n,i,t)})},{priority:\"low\"}),this.listenTo(this.view.document,\"selectionChange\",function(t,e){return(n,i)=>{const o=i.newSelection,r=new As,s=[];for(const t of o.getRanges())s.push(e.toModelRange(t));r.setTo(s,{backward:o.isBackward}),r.isEqual(t.document.selection)||t.change(t=>{t.setSelection(r)})}}(this.model,this.mapper)),this.downcastDispatcher.on(\"insert:$text\",(t,e,n)=>{if(!n.consumable.consume(e.item,\"insert\"))return;const i=n.writer,o=n.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(o,r)},{priority:\"lowest\"}),this.downcastDispatcher.on(\"remove\",(t,e,n)=>{const i=n.mapper.toViewPosition(e.position),o=e.position.getShiftedBy(e.length),r=n.mapper.toViewPosition(o,{isPhantom:!0}),s=new Mi(i,r),a=n.writer.remove(s.getTrimmed());for(const t of Mi.createIn(a).getItems())n.mapper.unbindViewElement(t)},{priority:\"low\"}),this.downcastDispatcher.on(\"selection\",(t,e,n)=>{const i=n.writer,o=i.document.selection;for(const t of o.getRanges())t.isCollapsed&&t.end.parent.document&&n.writer.mergeAttributes(t.start);i.setSelection(null)},{priority:\"low\"}),this.downcastDispatcher.on(\"selection\",(t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,\"selection\"))return;const o=[];for(const t of i.getRanges()){const e=n.mapper.toViewRange(t);o.push(e)}n.writer.setSelection(o,{backward:i.isBackward})},{priority:\"low\"}),this.downcastDispatcher.on(\"selection\",(t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,\"selection\"))return;const o=n.writer,r=i.getFirstPosition(),s=n.mapper.toViewPosition(r),a=o.breakAttributes(s);o.setSelection(a)},{priority:\"low\"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if(\"$graveyard\"==t.rootName)return null;const e=new Ri(t.name);return e.rootName=t.rootName,e._document=this.view.document,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}}P(Ls,yi);class js{constructor(t,e=[]){this._editor=t,this._availablePlugins=new Map,this._plugins=new Map;for(const t of e)this._availablePlugins.set(t,t),t.pluginName&&this._availablePlugins.set(t.pluginName,t)}*[Symbol.iterator](){for(const t of this._plugins)\"function\"==typeof t[0]&&(yield t)}get(t){return this._plugins.get(t)}load(t,e=[]){const n=this,i=this._editor,o=new Set,r=[],s=u(t),a=u(e),c=function(t){const e=[];for(const n of t)d(n)||e.push(n);return e.length?e:null}(t);if(c){const t=\"plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.\";return zr.a.error(t,{plugins:c}),Promise.reject(new m.b(t,{plugins:c}))}return Promise.all(s.map(l)).then(()=>r);function l(t){if(!a.includes(t)&&!n.get(t)&&!o.has(t))return function(t){return new Promise(s=>{o.add(t),t.requires&&t.requires.forEach(n=>{const i=d(n);if(e.includes(i))throw new m.b(\"plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.\",{plugin:i,requiredBy:t});l(i)});const a=new t(i);n._add(t,a),r.push(a),s()})}(t).catch(e=>{throw zr.a.error(\"plugincollection-load: It was not possible to load the plugin.\",{plugin:t}),e})}function d(t){return\"function\"==typeof t?t:n._availablePlugins.get(t)}function u(t){return t.map(t=>d(t)).filter(t=>!!t)}}destroy(){const t=Array.from(this).map(([,t])=>t).filter(t=>\"function\"==typeof t.destroy).map(t=>t.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;n&&(this._plugins.has(n)?zr.a.warn(\"plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.\",{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t}):this._plugins.set(n,e))}}class zs{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new m.b(\"commandcollection-command-not-found: Command does not exist.\",{commandName:t});n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}function qs(t,e){const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t]}(t,e)?window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \\[context: [^\\]]+\\]$/,\"\"):e.replace(/ \\[context: [^\\]]+\\]$/,\"\")}window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});class Us{constructor(t){this.language=t||\"en\",this.t=((...t)=>this._t(...t))}_t(t,e){let n=qs(this.language,t);return e&&(n=n.replace(/%(\\d+)/g,(t,n)=>n<e.length?e[n]:t)),n}}class Hs{constructor(){this._consumables=new Map}add(t,e){let n;t.is(\"text\")||t.is(\"documentFragment\")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Ws,this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is(\"text\")||t.is(\"documentFragment\")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is(\"text\")||t.is(\"documentFragment\")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is(\"text\")||t.is(\"documentFragment\")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const t of n)\"style\"!=t&&\"class\"!=t&&e.attributes.push(t);const i=t.getClassNames();for(const t of i)e.classes.push(t);const o=t.getStyleNames();for(const t of o)e.styles.push(t);return e}static createFrom(t,e){if(e||(e=new Hs),t.is(\"text\"))return e.add(t),e;t.is(\"element\")&&e.add(t,Hs.consumablesFromElement(t)),t.is(\"documentFragment\")&&e.add(t);for(const n of t.getChildren())e=Hs.createFrom(n,e);return e}}class Ws{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=Xt(e)?e:[e],i=this._consumables[t];for(const e of n){if(\"attributes\"===t&&(\"class\"===e||\"style\"===e))throw new m.b(\"viewconsumable-invalid-attribute: Classes and styles should be handled separately.\");i.set(e,!0)}}_test(t,e){const n=Xt(e)?e:[e],i=this._consumables[t];for(const e of n)if(\"attributes\"!==t||\"class\"!==e&&\"style\"!==e){const t=i.get(e);if(void 0===t)return null;if(!t)return!1}else{const t=\"class\"==e?\"classes\":\"styles\",n=this._test(t,[...this._consumables[t].keys()]);if(!0!==n)return n}return!0}_consume(t,e){const n=Xt(e)?e:[e],i=this._consumables[t];for(const e of n)if(\"attributes\"!==t||\"class\"!==e&&\"style\"!==e)i.set(e,!1);else{const t=\"class\"==e?\"classes\":\"styles\";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=Xt(e)?e:[e],i=this._consumables[t];for(const e of n)if(\"attributes\"!==t||\"class\"!==e&&\"style\"!==e){!1===i.get(e)&&i.set(e,!0)}else{const t=\"class\"==e?\"classes\":\"styles\";this._revert(t,[...this._consumables[t].keys()])}}}class $s{constructor(){this._sourceDefinitions={},this.decorate(\"checkChild\"),this.decorate(\"checkAttribute\"),this.on(\"checkAttribute\",(t,e)=>{e[0]=new Ks(e[0])},{priority:\"highest\"}),this.on(\"checkChild\",(t,e)=>{e[0]=new Ks(e[0]),e[1]=this.getDefinition(e[1])},{priority:\"highest\"})}register(t,e){if(this._sourceDefinitions[t])throw new m.b(\"schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.\",{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new m.b(\"schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.\",{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e=\"string\"==typeof t?t:t.is&&(t.is(\"text\")||t.is(\"textProxy\"))?\"$text\":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!(!e||!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof bs){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof fs))throw new m.b(\"schema-check-merge-no-element-before: The node before the merge position must be an element.\");if(!(n instanceof fs))throw new m.b(\"schema-check-merge-no-element-after: The node after the merge position must be an element.\");return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on(\"checkChild\",(e,[n,i])=>{if(!i)return;const o=t(n,i);\"boolean\"==typeof o&&(e.stop(),e.return=o)},{priority:\"high\"})}addAttributeCheck(t){this.on(\"checkAttribute\",(e,[n,i])=>{const o=t(n,i);\"boolean\"==typeof o&&(e.stop(),e.return=o)},{priority:\"high\"})}getLimitElement(t){let e;if(t instanceof bs)e=t.parent;else{e=(t instanceof ws?[t]:Array.from(t.getRanges())).reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null)}for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed)return this.checkAttribute([...t.getFirstPosition().getAncestors(),\"$text\"],e);{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}getValidRanges(t,e){const n=[];for(const i of t){let t=i.start,o=i.start;const r=i.end;for(const r of i.getWalker())this.checkAttribute(r.item,e)||(o.isEqual(t)||n.push(new ws(o,t)),o=r.nextPosition),t=r.nextPosition;o&&!o.isEqual(r)&&n.push(new ws(o,r))}return n}getNearestSelectionRange(t,e=\"both\"){if(this.checkChild(t,\"$text\"))return new ws(t);let n,i;\"both\"!=e&&\"backward\"!=e||(n=new ps({startPosition:t,direction:\"backward\"})),\"both\"!=e&&\"forward\"!=e||(i=new ps({startPosition:t}));for(const t of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,i)){const e=t.walker==n?\"elementEnd\":\"elementStart\",i=t.value;if(i.type==e&&this.isObject(i.item))return ws.createOn(i.item);if(this.checkChild(i.nextPosition,\"$text\"))return new ws(i.nextPosition)}return null}findAllowedParent(t,e){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t){for(const t of n.getAttributeKeys())this.checkAttribute(n,t)||e.removeAttribute(t,n);n.is(\"element\")&&this.removeDisallowedAttributes(n.getChildren(),e)}}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=Gs(e[i],i);for(const e of n)Js(t,e);for(const e of n)Qs(t,e);for(const e of n)Ys(t,e),Xs(t,e);for(const e of n)Zs(t,e),ta(t,e);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{const t=this.getDefinition(i);return this._checkContextMatch(t,e,n-1)}}return!1}}P($s,yi);class Ks{constructor(t){if(t instanceof Ks)return t;\"string\"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&\"string\"!=typeof t[0]&&t[0].is(\"documentFragment\")&&t.shift(),this._items=t.map(ia)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Ks([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(\" \").endsWith(t)}}function Gs(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith(\"is\"));for(const i of t)e[i]=n[i]}}(t,n),ea(t,n,\"allowIn\"),ea(t,n,\"allowContentOf\"),ea(t,n,\"allowWhere\"),ea(t,n,\"allowAttributes\"),ea(t,n,\"allowAttributesOf\"),ea(t,n,\"inheritTypesFrom\"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function Js(t,e){for(const n of t[e].allowContentOf)if(t[n]){na(t,n).forEach(t=>{t.allowIn.push(e)})}delete t[e].allowContentOf}function Qs(t,e){for(const n of t[e].allowWhere){const i=t[n];if(i){const n=i.allowIn;t[e].allowIn.push(...n)}}delete t[e].allowWhere}function Ys(t,e){for(const n of t[e].allowAttributesOf){const i=t[n];if(i){const n=i.allowAttributes;t[e].allowAttributes.push(...n)}}delete t[e].allowAttributesOf}function Xs(t,e){const n=t[e];for(const e of n.inheritTypesFrom){const i=t[e];if(i){const t=Object.keys(i).filter(t=>t.startsWith(\"is\"));for(const e of t)e in n||(n[e]=i[e])}}delete n.inheritTypesFrom}function Zs(t,e){const n=t[e],i=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(i))}function ta(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function ea(t,e,n){for(const i of t)\"string\"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&e[n].push(...i[n])}function na(t,e){const n=t[e];return function(t){return Object.keys(t).map(e=>t[e])}(t).filter(t=>t.allowIn.includes(n.name))}function ia(t){return\"string\"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is(\"element\")?t.name:\"$text\",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}class oa{constructor(t={}){this._removeIfEmpty=new Set,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this)}convert(t,e,n=[\"$root\"]){this.fire(\"viewCleanup\",t),this._modelCursor=function(t,e){let n;for(const i of new Ks(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const o=e.createElement(i.name,t);n&&e.append(o,n),n=bs.createAt(o)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Hs.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),o=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,o);o.markers=function(t,e){const n=new Set,i=new Map,o=ws.createIn(t).getItems();for(const t of o)\"$marker\"==t.name&&n.add(t);for(const t of n){const n=t.getAttribute(\"data-name\"),o=bs.createBefore(t);i.has(n)?i.get(n).end=bs.createFromPosition(o):i.set(n,new ws(bs.createFromPosition(o))),e.remove(t)}return i}(o,e)}return this._modelCursor=null,this._removeIfEmpty.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is(\"element\")?this.fire(\"element:\"+t.name,n,this.conversionApi):t.is(\"text\")?this.fire(\"text\",n,this.conversionApi):this.fire(\"documentFragment\",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof ws))throw new m.b(\"view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.\");return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){const n=new ws(e);let i=e;for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,i);t.modelRange instanceof ws&&(n.end=t.modelRange.end,i=t.modelCursor)}return{modelRange:n,modelCursor:i}}_splitToAllowedParent(t,e){const n=this.conversionApi.schema.findAllowedParent(t,e);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;const i=this.conversionApi.writer.split(e,n);for(const t of i.range.getPositions())t.isEqual(i.position)||this._removeIfEmpty.add(t.parent);return{position:i.position,cursorParent:i.range.end.parent}}_removeEmptyElements(){let t=!1;for(const e of this._removeIfEmpty)e.isEmpty&&(this.conversionApi.writer.remove(e),this._removeIfEmpty.delete(e),t=!0);t&&this._removeEmptyElements()}}function ra(t){const e=function(t){const e=new Mn(t.view);return(n,i,o)=>{const r=e.match(i.viewItem);if(!r)return;r.match.name=!0;const s=function(t,e,n){return t instanceof Function?t(e,n):n.createElement(t)}(t.model,i.viewItem,o.writer);if(!s)return;if(!o.consumable.test(i.viewItem,r.match))return;const a=o.splitToAllowedParent(s,i.modelCursor);if(!a)return;o.writer.insert(s,a.position);const c=o.convertChildren(i.viewItem,bs.createAt(s));o.consumable.consume(i.viewItem,r.match),i.modelRange=new ws(bs.createBefore(s),bs.createAfter(c.modelCursor.parent)),a.cursorParent?i.modelCursor=bs.createAt(a.cursorParent):i.modelCursor=i.modelRange.end}}(t=Is(t)),n=ca(t),i=n?\"element:\"+n:\"element\";return n=>{n.on(i,e,{priority:t.converterPriority||\"normal\"})}}function sa(t){la(t=Is(t));const e=da(t,!1),n=ca(t),i=n?\"element:\"+n:\"element\";return n=>{n.on(i,e,{priority:t.converterPriority||\"normal\"})}}function aa(t){let e=null;(\"string\"==typeof(t=Is(t)).view||t.view.key)&&(e=function(t){\"string\"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;if(\"class\"==e||\"style\"==e){const i=\"class\"==e?\"classes\":\"styles\";n={[i]:t.view.value}}else{const i=void 0===t.view.value?/[\\s\\S]*/:t.view.value;n={attributes:{[e]:i}}}t.view.name&&(n.name=t.view.name);return t.view=n,e}(t)),la(t,e);const n=da(t,!0);return e=>{e.on(\"element\",n,{priority:t.converterPriority||\"low\"})}}function ca(t){return\"string\"==typeof t.view?t.view:\"object\"==typeof t.view&&\"string\"==typeof t.view.name?t.view.name:null}function la(t,e=null){const n=null===e||(t=>t.getAttribute(e)),i=\"object\"!=typeof t.model?t.model:t.model.key,o=\"object\"!=typeof t.model||void 0===t.model.value?n:t.model.value;t.model={key:i,value:o}}function da(t,e){const n=new Mn(t.view);return(i,o,r)=>{const s=n.match(o.viewItem);if(!s)return;const a=t.model.key,c=\"function\"==typeof t.model.value?t.model.value(o.viewItem):t.model.value;null!==c&&(!function(t){if(\"object\"==typeof t.view&&!ca(t))return!1;return!t.view.classes&&!t.view.attributes&&!t.view.styles}(t)?delete s.match.name:s.match.name=!0,r.consumable.test(o.viewItem,s.match)&&(o.modelRange||(o=Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor))),function(t,e,n,i){let o=!1;for(const r of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(r,e.key)&&(i.writer.setAttribute(e.key,e.value,r),o=!0);return o}(o.modelRange,{key:a,value:c},e,r)&&r.consumable.consume(o.viewItem,s.match)))}}P(oa,y);class ua{constructor(t,e){this.model=t,this.processor=e,this.mapper=new vs,this.downcastDispatcher=new ys({mapper:this.mapper}),this.downcastDispatcher.on(\"insert:$text\",(t,e,n)=>{if(!n.consumable.consume(e.item,\"insert\"))return;const i=n.writer,o=n.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(o,r)},{priority:\"lowest\"}),this.upcastDispatcher=new oa({schema:t.schema}),this.upcastDispatcher.on(\"text\",(t,e,n)=>{if(n.schema.checkChild(e.modelCursor,\"$text\")&&n.consumable.consume(e.viewItem)){const t=n.writer.createText(e.viewItem.data);n.writer.insert(t,e.modelCursor),e.modelRange=ws.createFromPositionAndShift(e.modelCursor,t.offsetSize),e.modelCursor=e.modelRange.end}},{priority:\"lowest\"}),this.upcastDispatcher.on(\"element\",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}},{priority:\"lowest\"}),this.upcastDispatcher.on(\"documentFragment\",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}},{priority:\"lowest\"}),this.decorate(\"init\")}get(t=\"main\"){return this.stringify(this.model.document.getRoot(t))}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){const e=ws.createIn(t),n=new no,i=new io(new ji);if(this.mapper.bindElements(t,n),this.downcastDispatcher.convertInsert(e,i),!t.is(\"documentFragment\")){const e=function(t){const e=[],n=t.root.document;if(!n)return[];const i=ws.createIn(t);for(const t of n.model.markers){const n=i.getIntersection(t.getRange());n&&e.push([t.name,n])}return e}(t);for(const[t,n]of e)this.downcastDispatcher.convertMarkerAdd(t,n,i)}return this.mapper.clearBindings(),n}init(t,e=\"main\"){if(this.model.document.version)throw new m.b(\"datacontroller-init-document-not-empty: Trying to set initial data to not empty document.\");const n=this.model.document.getRoot(e);return this.model.enqueueChange(\"transparent\",e=>{e.insert(this.parse(t,n),n)}),Promise.resolve()}set(t,e=\"main\"){const n=this.model.document.getRoot(e);this.model.enqueueChange(\"transparent\",e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys()),e.remove(ws.createIn(n)),e.insert(this.parse(t,n),n)})}parse(t,e=\"$root\"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e=\"$root\"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}destroy(){}}P(ua,yi);class ha{constructor(){this._dispatchersGroups=new Map}register(t,e){if(this._dispatchersGroups.has(t))throw new m.b(\"conversion-register-group-exists: Trying to register a group name that was already registered.\");this._dispatchersGroups.set(t,e)}for(t){const e=this._getDispatchers(t);return{add(t){return function(t,e){for(const n of t)e(n)}(e,t),this}}}elementToElement(t){this.for(\"downcast\").add(Vs(t));for(const{model:e,view:n}of fa(t))this.for(\"upcast\").add(ra({model:e,view:n,converterPriority:t.converterPriority}))}attributeToElement(t){this.for(\"downcast\").add(Ms(t));for(const{model:e,view:n}of fa(t))this.for(\"upcast\").add(sa({view:n,model:e,priority:t.priority}))}attributeToAttribute(t){this.for(\"downcast\").add(Fs(t));for(const{model:e,view:n}of fa(t))this.for(\"upcast\").add(aa({view:n,model:e}))}_getDispatchers(t){const e=this._dispatchersGroups.get(t);if(!e)throw new m.b(\"conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.\");return e}}function*fa(t){if(t.model.values)for(const e of t.model.values){yield*pa({key:t.model.key,value:e},t.view[e],t.upcastAlso?t.upcastAlso[e]:void 0)}else yield*pa(t.model,t.view,t.upcastAlso)}function*pa(t,e,n){if(yield{model:t,view:e},n){n=Array.isArray(n)?n:[n];for(const e of n)yield{model:t,view:e}}}class ma{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion}_validate(){}toJSON(){const t=Sn(this,!0);return t.__className=this.constructor.className,delete t.delta,delete t.isDocumentOperation,t}static get className(){return\"engine.model.operation.Operation\"}static fromJSON(t){return new this(t.baseVersion)}}class ga{constructor(t){this.markers=new Map,this._children=new hs,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return\"documentFragment\"==t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(fs.fromJSON(n)):e.push(ds.fromJSON(n));return new ga(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if(\"string\"==typeof t)return[new ds(t)];Vn(t)||(t=[t]);return Array.from(t).map(t=>\"string\"==typeof t?new ds(t):t instanceof us?new ds(t.data,t.getAttributes()):t)}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}}function ba(t,e){const n=(e=va(e)).reduce((t,e)=>t+e.offsetSize,0),i=t.parent;ka(t);const o=t.index;return i._insertChild(o,e),_a(i,o+e.length),_a(i,o),new ws(t,t.getShiftedBy(n))}function wa(t){if(!t.isFlat)throw new m.b(\"operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.\");const e=t.start.parent;ka(t.start),ka(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return _a(e,t.start.index),n}function va(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if(\"string\"==typeof t[n])e.push(new ds(t[n]));else if(t[n]instanceof us)e.push(new ds(t[n].data,t[n].getAttributes()));else if(t[n]instanceof ga||t[n]instanceof hs)for(const i of t[n])e.push(i);else t[n]instanceof ls&&e.push(t[n]);for(let t=1;t<e.length;t++){const n=e[t],i=e[t-1];n instanceof ds&&i instanceof ds&&ya(n,i)&&(e.splice(t-1,2,new ds(i.data+n.data,i.getAttributes())),t--)}return e}function _a(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is(\"text\")&&i.is(\"text\")&&ya(n,i)){const o=new ds(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function ka(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);const r=new ds(e.data.substr(0,i),e.getAttributes()),s=new ds(e.data.substr(i),e.getAttributes());n._insertChild(o,[r,s])}}function ya(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const t of n){if(t[1]!==e.getAttribute(t[0]))return!1;i.next()}return i.next().done}var xa=function(t,e){return Pr(t,e)};class Aa extends ma{constructor(t,e,n,i,o){super(o),this.range=ws.createFromRange(t),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?\"addAttribute\":null===this.newValue?\"removeAttribute\":\"changeAttribute\"}clone(){return new Aa(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Aa(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){for(const t of this.range.getItems()){if(null!==this.oldValue&&!xa(t.getAttribute(this.key),this.oldValue))throw new m.b(\"attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.\",{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new m.b(\"attribute-operation-attribute-exists: The attribute with given key already exists.\",{node:t,key:this.key})}}_execute(){xa(this.oldValue,this.newValue)||function(t,e,n){ka(t.start),ka(t.end);for(const i of t.getItems()){const t=i.is(\"textProxy\")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),_a(t.parent,t.index)}_a(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return\"engine.model.operation.AttributeOperation\"}static fromJSON(t,e){return new Aa(ws.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Ca extends ma{constructor(t,e,n,i){super(i),this.sourcePosition=bs.createFromPosition(t),this.howMany=e,this.targetPosition=bs.createFromPosition(n),this.isSticky=!1}get type(){return\"move\"}clone(){const t=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return t.isSticky=this.isSticky,t}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),e=new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1);return e.isSticky=this.isSticky,e}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(!t||!e)throw new m.b(\"move-operation-position-invalid: Source position or target position is invalid.\");if(n+this.howMany>t.maxOffset)throw new m.b(\"move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.\");if(t===e&&n<i&&i<n+this.howMany)throw new m.b(\"move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.\");if(this.sourcePosition.root==this.targetPosition.root&&\"prefix\"==En(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new m.b(\"move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.\")}}_execute(){!function(t,e){if(!t.isFlat)throw new m.b(\"operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.\");const n=wa(t);ba(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}(ws.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}static get className(){return\"engine.model.operation.MoveOperation\"}static fromJSON(t,e){const n=bs.fromJSON(t.sourcePosition,e),i=bs.fromJSON(t.targetPosition,e),o=new this(n,t.howMany,i,t.baseVersion);return t.isSticky&&(o.isSticky=!0),o}}class Ta extends Ca{get position(){return this.targetPosition}set position(t){this.targetPosition=t}get type(){return\"reinsert\"}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Sa(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){if(super._validate(),!this.sourcePosition.root.document)throw new m.b(\"reinsert-operation-on-detached-item: Cannot reinsert detached item.\");if(!this.targetPosition.root.document)throw new m.b(\"reinsert-operation-to-detached-parent: Cannot reinsert item to detached parent.\")}static get className(){return\"engine.model.operation.ReinsertOperation\"}}class Sa extends Ca{get type(){return\"remove\"}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ta(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){if(super._validate(),!this.sourcePosition.root.document)throw new m.b(\"remove-operation-on-detached-item: Cannot remove detached item.\")}static get className(){return\"engine.model.operation.RemoveOperation\"}}class Ea extends ma{constructor(t,e,n){super(n),this.position=bs.createFromPosition(t),this.nodes=new hs(va(e))}get type(){return\"insert\"}clone(){const t=new hs([...this.nodes].map(t=>t._clone(!0)));return new Ea(this.position,t,this.baseVersion)}getReversed(){const t=this.position.root.document.graveyard,e=new bs(t,[0]);return new Sa(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new m.b(\"insert-operation-position-invalid: Insertion position is invalid.\")}_execute(){const t=this.nodes;this.nodes=new hs([...t].map(t=>t._clone(!0))),ba(this.position,t)}static get className(){return\"engine.model.operation.InsertOperation\"}static fromJSON(t,e){const n=[];for(const e of t.nodes)e.name?n.push(fs.fromJSON(e)):n.push(ds.fromJSON(e));return new Ea(bs.fromJSON(t.position,e),n,t.baseVersion)}}class Pa extends ma{constructor(t,e,n,i,o,r){super(o),this.name=t,this.oldRange=e?ws.createFromRange(e):null,this.newRange=n?ws.createFromRange(n):null,this.affectsData=r,this._markers=i}get type(){return\"marker\"}clone(){return new Pa(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion,this.affectsData)}getReversed(){return new Pa(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1,this.affectsData)}_execute(){const t=this.newRange?\"_set\":\"_remove\";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return delete t._markers,t}static get className(){return\"engine.model.operation.MarkerOperation\"}static fromJSON(t,e){return new Pa(t.name,t.oldRange?ws.fromJSON(t.oldRange,e):null,t.newRange?ws.fromJSON(t.newRange,e):null,e.model.markers,t.baseVersion,t.affectsData)}}class Oa extends ma{get type(){return\"noop\"}clone(){return new Oa(this.baseVersion)}getReversed(){return new Oa(this.baseVersion+1)}_execute(){}static get className(){return\"engine.model.operation.NoOperation\"}}class Ra extends ma{constructor(t,e,n,i){super(i),this.position=t,this.oldName=e,this.newName=n}get type(){return\"rename\"}clone(){return new Ra(bs.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ra(bs.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof fs))throw new m.b(\"rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.\");if(t.name!==this.oldName)throw new m.b(\"rename-operation-wrong-name: Element to change has different name than operation's old name.\")}_execute(){this.position.nodeAfter.name=this.newName}static get className(){return\"engine.model.operation.RenameOperation\"}static fromJSON(t,e){return new Ra(bs.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class Ia extends ma{constructor(t,e,n,i,o){super(o),this.root=t,this.key=e,this.oldValue=n,this.newValue=i}get type(){return null===this.oldValue?\"addRootAttribute\":null===this.newValue?\"removeRootAttribute\":\"changeRootAttribute\"}clone(){return new Ia(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ia(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is(\"documentFragment\"))throw new m.b(\"rootattribute-operation-not-a-root: The element to change is not a root element.\",{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new m.b(\"rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.\",{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new m.b(\"rootattribute-operation-attribute-exists: The attribute with given key already exists.\",{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}static get className(){return\"engine.model.operation.RootAttributeOperation\"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new m.b(\"rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.\",{rootName:t});return new Ia(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}const Va={};Va[Aa.className]=Aa,Va[Ea.className]=Ea,Va[Pa.className]=Pa,Va[Ca.className]=Ca,Va[Oa.className]=Oa,Va[ma.className]=ma,Va[Ta.className]=Ta,Va[Sa.className]=Sa,Va[Ra.className]=Ra,Va[Ia.className]=Ia;class Ma{static fromJSON(t,e){return Va[t.__className].fromJSON(t,e)}}const Fa=new Map;class Na{static fromJSON(t,e){if(!Fa.has(t.__className))throw new m.b(\"delta-fromjson-no-deserializer: This delta has no defined deserializer\",{name:t.__className});const n=new(Fa.get(t.__className));for(const i of t.operations)n.addOperation(Ma.fromJSON(i,e));for(const e in t)\"__className\"!=e&&void 0===n[e]&&(n[e]=t[e]);return n}static register(t){Fa.set(t.className,t)}}class Da{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return this.operations.length>0?this.operations[0].baseVersion:null}set baseVersion(t){for(const e of this.operations)e.baseVersion=t++}get _reverseDeltaClass(){return Da}addOperation(t){return t.delta=this,this.operations.push(t),t}clone(){const t=new this.constructor;for(const e of this.operations)t.addOperation(e.clone());return t}getReversed(){const t=new this._reverseDeltaClass;for(const e of this.operations)t.addOperation(e.getReversed());t.operations.reverse();for(let e=0;e<t.operations.length;e++)t.operations[e].baseVersion=this.operations[this.operations.length-1].baseVersion+e+1;return t}toJSON(){const t=Sn(this);return t.__className=this.constructor.className,delete t.batch,t}static get className(){return\"engine.model.delta.Delta\"}}Na.register(Da);class Ba extends Da{get type(){return\"attribute\"}get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let t=null,e=null;for(const n of this.operations)n instanceof Oa||((null===t||t.isAfter(n.range.start))&&(t=n.range.start),(null===e||e.isBefore(n.range.end))&&(e=n.range.end));return t&&e?(this._range=new ws(t,e),this._range):null}get _reverseDeltaClass(){return Ba}toJSON(){const t=super.toJSON();return delete t._range,t}static get className(){return\"engine.model.delta.AttributeDelta\"}}Na.register(Ba);class La extends Da{get type(){return\"split\"}get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]&&this.operations[1]instanceof Ca?this.operations[1]:null}get _reverseDeltaClass(){return ja}static get className(){return\"engine.model.delta.SplitDelta\"}}Na.register(La);class ja extends Da{get type(){return\"merge\"}get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return La}static get className(){return\"engine.model.delta.MergeDelta\"}}Na.register(ja);class za extends Da{get type(){return\"move\"}get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return za}static get className(){return\"engine.model.delta.MoveDelta\"}}Na.register(za);class qa extends za{static get className(){return\"engine.model.delta.RemoveDelta\"}}Na.register(qa);class Ua extends Da{get type(){return\"rename\"}get _reverseDeltaClass(){return Ua}static get className(){return\"engine.model.delta.RenameDelta\"}}Na.register(Ua);class Ha extends Da{get type(){return\"wrap\"}get range(){const t=this._moveOperation;return t?ws.createFromPositionAndShift(t.sourcePosition,t.howMany):null}get howMany(){const t=this.range;return t?t.end.offset-t.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return Wa}static get className(){return\"engine.model.delta.WrapDelta\"}}Na.register(Ha);class Wa extends Da{get type(){return\"unwrap\"}get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return Ha}static get className(){return\"engine.model.delta.UnwrapDelta\"}}Na.register(Wa);class $a extends Da{get type(){return\"insert\"}get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return qa}static get className(){return\"engine.model.delta.InsertDelta\"}}Na.register($a);class Ka extends $a{static get className(){return\"engine.model.delta.WeakInsertDelta\"}}Na.register(Ka);var Ga=function(t,e,n={isStrong:!1}){let i,o;t instanceof Ea?i=Ja.InsertOperation:t instanceof Aa?i=Ja.AttributeOperation:t instanceof Ia?i=Ja.RootAttributeOperation:t instanceof Ra?i=Ja.RenameOperation:t instanceof Pa?i=Ja.MarkerOperation:t instanceof Ca?i=Ja.MoveOperation:o=Qa;i&&(o=e instanceof Ea?i.InsertOperation:e instanceof Aa?i.AttributeOperation:e instanceof Ia?i.RootAttributeOperation:e instanceof Ra?i.RenameOperation:e instanceof Pa?i.MarkerOperation:e instanceof Ca?i.MoveOperation:Qa);const r=o(t,e,n);return function(t,e){for(let n=0;n<e.length;n++)e[n].baseVersion=t+n+1;return e}(t.baseVersion,r)};const Ja={InsertOperation:{InsertOperation(t,e,n){const i=t.clone(),o=void 0===n.insertBefore?!n.isStrong:n.insertBefore;return i.position=i.position._getTransformedByInsertion(e.position,e.nodes.maxOffset,o),[i]},AttributeOperation:Qa,RootAttributeOperation:Qa,RenameOperation:Qa,MarkerOperation:Qa,MoveOperation(t,e,n){const i=t.clone(),o=void 0===n.insertBefore?!n.isStrong:n.insertBefore;return i.position=t.position._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,o,e.isSticky&&!n.forceNotSticky),[i]}},AttributeOperation:{InsertOperation:(t,e)=>t.range._getTransformedByInsertion(e.position,e.nodes.maxOffset,!0,!1).reverse().map(e=>new Aa(e,t.key,t.oldValue,t.newValue,t.baseVersion)),AttributeOperation(t,e,n){if(t.key===e.key){const i=t.range.getDifference(e.range).map(e=>new Aa(e,t.key,t.oldValue,t.newValue,t.baseVersion)),o=t.range.getIntersection(e.range);return o&&(n.isStrong?i.push(new Aa(o,e.key,e.newValue,t.newValue,t.baseVersion)):0===i.length&&i.push(new Oa(0))),i}return[t.clone()]},RootAttributeOperation:Qa,RenameOperation:Qa,MarkerOperation:Qa,MoveOperation(t,e){const n=ws.createFromPositionAndShift(e.sourcePosition,e.howMany);let i=[];const o=function(t){return 0===t.length?null:1==t.length?t[0]:(t[0].end=t[t.length-1].end,t[0])}(t.range.getDifference(n)),r=t.range.getIntersection(n);return null!==o&&(o.start=o.start._getTransformedByDeletion(e.sourcePosition,e.howMany),o.end=o.end._getTransformedByDeletion(e.sourcePosition,e.howMany),i=o._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,!0,!1).reverse()),null!==r&&(r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.push(r)),i.map(e=>new Aa(e,t.key,t.oldValue,t.newValue,t.baseVersion))}},RootAttributeOperation:{InsertOperation:Qa,AttributeOperation:Qa,RootAttributeOperation:(t,e,n)=>t.root!==e.root||t.key!==e.key||(t.newValue===e.newValue||n.isStrong)&&t.newValue!==e.newValue?[t.clone()]:[new Oa(t.baseVersion)],RenameOperation:Qa,MarkerOperation:Qa,MoveOperation:Qa},RenameOperation:{InsertOperation(t,e){const n=t.clone();return n.position=n.position._getTransformedByInsertion(e.position,e.nodes.maxOffset,!0),[n]},AttributeOperation:Qa,RootAttributeOperation:Qa,RenameOperation(t,e,n){const i=t.clone();if(t.position.isEqual(e.position)){if(!n.isStrong)return[new Oa(t.baseVersion)];i.oldName=e.newName}return[i]},MarkerOperation:Qa,MoveOperation(t,e){const n=t.clone(),i=n.position.isEqual(e.sourcePosition);return n.position=n.position._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!0,i),[n]}},MarkerOperation:{InsertOperation(t,e){const n=t.clone();return n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertion(e.position,e.nodes.maxOffset,!1,!1)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertion(e.position,e.nodes.maxOffset,!1,!1)[0]),[n]},AttributeOperation:Qa,RootAttributeOperation:Qa,RenameOperation:Qa,MarkerOperation(t,e,n){const i=t.clone();if(t.name==e.name){if(!n.isStrong)return[new Oa(t.baseVersion)];i.oldRange=e.newRange}return[i]},MoveOperation(t,e){const n=t.clone();if(n.oldRange){const t=n.oldRange._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany);n.oldRange=ws.createFromRanges(t)}if(n.newRange){const t=n.newRange._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany);n.newRange=ws.createFromRanges(t)}return[n]}},MoveOperation:{InsertOperation(t,e,n){let i=ws.createFromPositionAndShift(t.sourcePosition,t.howMany);const o=t.isSticky&&!n.forceNotSticky;i=i._getTransformedByInsertion(e.position,e.nodes.maxOffset,!1,o)[0];const r=void 0===n.insertBefore?!n.isStrong:n.insertBefore,s=new t.constructor(i.start,i.end.offset-i.start.offset,t.targetPosition._getTransformedByInsertion(e.position,e.nodes.maxOffset,r),t.baseVersion);return s.isSticky=t.isSticky,[s]},AttributeOperation:Qa,RootAttributeOperation:Qa,RenameOperation:Qa,MarkerOperation:Qa,MoveOperation(t,e,n){const i=ws.createFromPositionAndShift(t.sourcePosition,t.howMany),o=ws.createFromPositionAndShift(e.sourcePosition,e.howMany);let r=n.isStrong;const s=t.isSticky&&!n.forceNotSticky,a=void 0===n.insertBefore?!r:n.insertBefore,c=t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,a,e.isSticky&&!n.forceNotSticky);if(Ya(t,e)&&Ya(e,t))return[e.getReversed()];const l=i.containsPosition(e.targetPosition)||i.start.isEqual(e.targetPosition)&&s||i.end.isEqual(e.targetPosition)&&s;if(l&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!s),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,s),Xa([i],c,t);if((o.containsPosition(t.targetPosition)||o.start.isEqual(t.targetPosition)&&e.isSticky&&!n.forceNotSticky||o.end.isEqual(t.targetPosition)&&e.isSticky&&!n.forceNotSticky)&&o.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Xa([i],c,t);const d=En(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(\"prefix\"==d||\"extension\"==d)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!s),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,s),Xa([i],c,t);n.forceWeakRemove||(t instanceof Sa&&!(e instanceof Sa)?r=!0:!(t instanceof Sa)&&e instanceof Sa&&(r=!1));const u=[],h=i.getDifference(o);for(const t of h){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany),t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const n=\"same\"==En(t.start.getParentPath(),e.getMovedRangeStart().getParentPath()),i=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,n,s);u.push(...i)}const f=i.getIntersection(o);return null!==f&&r&&!l&&(f.start=f.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),f.end=f.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===u.length?u.push(f):1==u.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?u.unshift(f):u.push(f):u.splice(1,0,f)),0===u.length?[new Oa(t.baseVersion)]:Xa(u,c,t)}}};function Qa(t){return[t.clone()]}function Ya(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Xa(t,e,n){const i=[];for(let o=0;o<t.length;o++){const r=Za(t[o],e,n.isSticky);i.push(r);for(let e=o+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany,!0,!1)}return i}function Za(t,e,n){let i;const o=new(i=\"$graveyard\"==e.root.rootName?Sa:\"$graveyard\"==t.start.root.rootName?Ta:Ca)(t.start,t.end.offset-t.start.offset,e,0);return o.isSticky=n,o}var tc=function(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(o);++i<o;)r[i]=t[i+e];return r},ec=Math.ceil,nc=Math.max;var ic=function(t,e,n){e=(n?zn(t,e,n):void 0===e)?1:nc(ni(e),0);var i=t?t.length:0;if(!i||e<1)return[];for(var o=0,r=0,s=Array(ec(i/e));o<i;)s[r++]=tc(t,o,o+=e);return s};var oc=function(t){for(var e=-1,n=t?t.length:0,i=0,o=[];++e<n;){var r=t[e];r&&(o[i++]=r)}return o};var rc=function(t){return Xt(t)||Yt(t)};var sc=function t(e,n,i,o,r){var s=-1,a=e.length;for(i||(i=rc),r||(r=[]);++s<a;){var c=e[s];n>0&&i(c)?n>1?t(c,n-1,i,o,r):ge(r,c):o||(r[r.length]=c)}return r};var ac=function(){for(var t=arguments.length,e=Array(t?t-1:0),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return t?ge(Xt(n)?ue(n):[n],sc(e,1)):[]};var cc=function(t,e,n){for(var i=t.length,o=e+(n?0:-1);n?o--:++o<i;){var r=t[o];if(r!=r)return o}return-1};var lc=function(t,e,n){if(e!=e)return cc(t,n);for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1};var dc=function(t,e){return!!t.length&&lc(t,e,0)>-1};var uc=function(t,e,n){for(var i=-1,o=t.length;++i<o;)if(n(e,t[i]))return!0;return!1};var hc=function(t,e){for(var n=-1,i=t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o};var fc=function(t){return function(e){return t(e)}};var pc=function(t,e){return t.has(e)},mc=200;var gc=function(t,e,n,i){var o=-1,r=dc,s=!0,a=t.length,c=[],l=e.length;if(!a)return c;n&&(e=hc(e,fc(n))),i?(r=uc,s=!1):e.length>=mc&&(r=pc,s=!1,e=new Yo(e));t:for(;++o<a;){var d=t[o],u=n?n(d):d;if(d=i||0!==d?d:0,s&&u==u){for(var h=l;h--;)if(e[h]===u)continue t;c.push(d)}else r(e,u,i)||c.push(d)}return c},bc=ri(function(t,e){return Wt(t)?gc(t,sc(e,1,Wt,!0)):[]}),wc=1,vc=2;var _c=function(t,e,n,i){var o=n.length,r=o,s=!i;if(null==t)return!r;for(t=Object(t);o--;){var a=n[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<r;){var c=(a=n[o])[0],l=t[c],d=a[1];if(s&&a[2]){if(void 0===l&&!(c in t))return!1}else{var u=new Ot;if(i)var h=i(l,d,c,t,e,u);if(!(void 0===h?Pr(d,l,i,wc|vc,u):h))return!1}}return!0};var kc=function(t){return t==t&&!H(t)};var yc=function(t,e){return hc(e,function(e){return[e,t[e]]})};var xc=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n},Ac=\"[object Map]\",Cc=\"[object Set]\";var Tc=function(t){return function(e){var n=Oe(e);return n==Ac?Be(e):n==Cc?xc(e):yc(e,t(e))}}(ce);var Sc=function(t){for(var e=Tc(t),n=e.length;n--;)e[n][2]=kc(e[n][1]);return e};var Ec=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}};var Pc=function(t){var e=Sc(t);return 1==e.length&&e[0][2]?Ec(e[0][0],e[0][1]):function(n){return n===t||_c(n,t,e)}},Oc=\"Expected a function\";function Rc(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(Oc);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=t.apply(this,i);return n.cache=r.set(o,s),s};return n.cache=new(Rc.Cache||Tt),n}Rc.Cache=Tt;var Ic=Rc,Vc=1/0,Mc=We?We.prototype:void 0,Fc=Mc?Mc.toString:void 0;var Nc=function(t){if(\"string\"==typeof t)return t;if(Wn(t))return Fc?Fc.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-Vc?\"-0\":e};var Dc=function(t){return null==t?\"\":Nc(t)},Bc=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]/g,Lc=/\\\\(\\\\)?/g,jc=Ic(function(t){var e=[];return Dc(t).replace(Bc,function(t,n,i,o){e.push(i?o.replace(Lc,\"$1\"):n||t)}),e});var zc=function(t){return Xt(t)?t:jc(t)},qc=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Uc=/^\\w*$/;var Hc=function(t,e){if(Xt(t))return!1;var n=typeof t;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=t&&!Wn(t))||Uc.test(t)||!qc.test(t)||null!=e&&t in Object(e)},Wc=1/0;var $c=function(t){if(\"string\"==typeof t||Wn(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-Wc?\"-0\":e};var Kc=function(t,e){for(var n=0,i=(e=Hc(e,t)?[e]:zc(e)).length;null!=t&&n<i;)t=t[$c(e[n++])];return n&&n==i?t:void 0};var Gc=function(t,e,n){var i=null==t?void 0:Kc(t,e);return void 0===i?n:i};var Jc=function(t,e){return e in Object(t)};var Qc=function(t,e,n){for(var i,o=-1,r=(e=Hc(e,t)?[e]:zc(e)).length;++o<r;){var s=$c(e[o]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}return i||!!(r=t?t.length:0)&&Ut(r)&&re(s,r)&&(Xt(t)||ee(t)||Yt(t))};var Yc=function(t,e){return null!=t&&Qc(t,e,Jc)},Xc=1,Zc=2;var tl=function(t,e){return Hc(t)&&kc(e)?Ec($c(t),e):function(n){var i=Gc(n,t);return void 0===i&&i===e?Yc(n,t):Pr(e,i,void 0,Xc|Zc)}};var el=function(t){return t};var nl=function(t){return function(e){return Kc(e,t)}};var il=function(t){return Hc(t)?jt($c(t)):nl(t)};var ol=function(t){return\"function\"==typeof t?t:null==t?el:\"object\"==typeof t?Xt(t)?tl(t[0],t[1]):Pc(t):il(t)},rl=ri(function(t,e){var n=gs(e);return Wt(n)&&(n=void 0),Wt(t)?gc(t,sc(e,1,Wt,!0),ol(n)):[]}),sl=ri(function(t,e){var n=gs(e);return Wt(n)&&(n=void 0),Wt(t)?gc(t,sc(e,1,Wt,!0),void 0,n):[]});var al=function(t,e,n){var i=t?t.length:0;return i?(e=n||void 0===e?1:ni(e),tc(t,e<0?0:e,i)):[]};var cl=function(t,e,n){var i=t?t.length:0;return i?(e=n||void 0===e?1:ni(e),tc(t,0,(e=i-e)<0?0:e)):[]};var ll=function(t,e,n,i){for(var o=t.length,r=i?o:-1;(i?r--:++r<o)&&e(t[r],r,t););return n?tc(t,i?0:r,i?r+1:o):tc(t,i?r+1:0,i?o:r)};var dl=function(t,e){return t&&t.length?ll(t,ol(e,3),!0,!0):[]};var ul=function(t,e){return t&&t.length?ll(t,ol(e,3),!0):[]};var hl=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t},fl=4294967295;var pl=function(t){return t?hl(ni(t),0,fl):0};var ml=function(t,e,n,i){var o=t.length;for((n=ni(n))<0&&(n=-n>o?0:o+n),(i=void 0===i||i>o?o:ni(i))<0&&(i+=o),i=n>i?0:pl(i);n<i;)t[n++]=e;return t};var gl=function(t,e,n,i){var o=t?t.length:0;return o?(n&&\"number\"!=typeof n&&zn(t,e,n)&&(n=0,i=o),ml(t,e,n,i)):[]};var bl=function(t,e,n){for(var i=t.length,o=n?i:-1;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1};var wl=function(t,e){return t&&t.length?bl(t,ol(e,3)):-1};var vl=function(t,e){return t&&t.length?bl(t,ol(e,3),!0):-1};var _l=function(t){return t&&t.length?t[0]:void 0};var kl=function(t){return t&&t.length?sc(t,1):[]},yl=1/0;var xl=function(t){return t&&t.length?sc(t,yl):[]};var Al=function(t,e){return t&&t.length?(e=void 0===e?1:ni(e),sc(t,e)):[]};var Cl=function(t){for(var e=-1,n=t?t.length:0,i={};++e<n;){var o=t[e];i[o[0]]=o[1]}return i},Tl=Math.max;var Sl=function(t,e,n){var i=t?t.length:0;return i?((n=ni(n))<0&&(n=Tl(i+n,0)),lc(t,e,n)):-1};var El=function(t){return cl(t,1)},Pl=Math.min;var Ol=function(t,e,n){for(var i=n?uc:dc,o=t[0].length,r=t.length,s=r,a=Array(r),c=1/0,l=[];s--;){var d=t[s];s&&e&&(d=hc(d,fc(e))),c=Pl(d.length,c),a[s]=!n&&(e||o>=120&&d.length>=120)?new Yo(s&&d):void 0}d=t[0];var u=-1,h=a[0];t:for(;++u<o&&l.length<c;){var f=d[u],p=e?e(f):f;if(f=n||0!==f?f:0,!(h?pc(h,p):i(l,p,n))){for(s=r;--s;){var m=a[s];if(!(m?pc(m,p):i(t[s],p,n)))continue t}h&&h.push(p),l.push(f)}}return l};var Rl=function(t){return Wt(t)?t:[]},Il=ri(function(t){var e=hc(t,Rl);return e.length&&e[0]===t[0]?Ol(e):[]}),Vl=ri(function(t){var e=gs(t),n=hc(t,Rl);return e===gs(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?Ol(n,ol(e)):[]}),Ml=ri(function(t){var e=gs(t),n=hc(t,Rl);return e===gs(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?Ol(n,void 0,e):[]}),Fl=Array.prototype.join;var Nl=function(t,e){return t?Fl.call(t,e):\"\"},Dl=Math.max,Bl=Math.min;var Ll=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var o=i;if(void 0!==n&&(o=((o=ni(n))<0?Dl(i+o,0):Bl(o,i-1))+1),e!=e)return cc(t,o,!0);for(;o--;)if(t[o]===e)return o;return-1};var jl=function(t,e){var n=t.length;if(n)return re(e+=e<0?n:0,n)?t[e]:void 0};var zl=function(t,e){return t&&t.length?jl(t,ni(e)):void 0};var ql=function(t,e,n,i){for(var o=n-1,r=t.length;++o<r;)if(i(t[o],e))return o;return-1},Ul=Array.prototype.splice;var Hl=function(t,e,n,i){var o=i?ql:lc,r=-1,s=e.length,a=t;for(n&&(a=hc(t,fc(n)));++r<s;)for(var c=0,l=e[r],d=n?n(l):l;(c=o(a,d,c,i))>-1;)a!==t&&Ul.call(a,c,1),Ul.call(t,c,1);return t};var Wl=function(t,e){return t&&t.length&&e&&e.length?Hl(t,e):t},$l=ri(Wl);var Kl=function(t,e,n){return t&&t.length&&e&&e.length?Hl(t,e,ol(n)):t};var Gl=function(t,e,n){return t&&t.length&&e&&e.length?Hl(t,e,void 0,n):t};var Jl=function(t,e){for(var n=-1,i=null==t,o=e.length,r=Array(o);++n<o;)r[n]=i?void 0:Gc(t,e[n]);return r};var Ql=function(t,e){return 1==e.length?t:Kc(t,tc(e,0,-1))},Yl=Array.prototype.splice;var Xl=function(t,e){for(var n=t?e.length:0,i=n-1;n--;){var o=e[n];if(n==i||o!==r){var r=o;if(re(o))Yl.call(t,o,1);else if(Hc(o,t))delete t[$c(o)];else{var s=zc(o),a=Ql(t,s);null!=a&&delete a[$c(gs(s))]}}}return t};var Zl=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,r=Wn(t),s=void 0!==e,a=null===e,c=e==e,l=Wn(e);if(!a&&!l&&!r&&t>e||r&&s&&c&&!a&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!r&&!l&&t<e||l&&n&&o&&!i&&!r||a&&n&&o||!s&&o||!c)return-1}return 0},td=ri(function(t,e){e=sc(e,1);var n=t?t.length:0,i=Jl(t,e);return Xl(t,hc(e,function(t){return re(t,n)?+t:t}).sort(Zl)),i});var ed=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,o=[],r=t.length;for(e=ol(e,3);++i<r;){var s=t[i];e(s,i,t)&&(n.push(s),o.push(i))}return Xl(t,o),n},nd=Array.prototype.reverse;var id=function(t){return t?nd.call(t):t};var od=function(t,e,n){var i=t?t.length:0;return i?(n&&\"number\"!=typeof n&&zn(t,e,n)?(e=0,n=i):(e=null==e?0:ni(e),n=void 0===n?i:ni(n)),tc(t,e,n)):[]},rd=4294967294,sd=Math.floor,ad=Math.min;var cd=function(t,e,n,i){e=n(e);for(var o=0,r=t?t.length:0,s=e!=e,a=null===e,c=Wn(e),l=void 0===e;o<r;){var d=sd((o+r)/2),u=n(t[d]),h=void 0!==u,f=null===u,p=u==u,m=Wn(u);if(s)var g=i||p;else g=l?p&&(i||h):a?p&&h&&(i||!f):c?p&&h&&!f&&(i||!m):!f&&!m&&(i?u<=e:u<e);g?o=d+1:r=d}return ad(r,rd)},ld=2147483647;var dd=function(t,e,n){var i=0,o=t?t.length:i;if(\"number\"==typeof e&&e==e&&o<=ld){for(;i<o;){var r=i+o>>>1,s=t[r];null!==s&&!Wn(s)&&(n?s<=e:s<e)?i=r+1:o=r}return o}return cd(t,e,el,n)};var ud=function(t,e){return dd(t,e)};var hd=function(t,e,n){return cd(t,e,ol(n))};var fd=function(t,e){var n=t?t.length:0;if(n){var i=dd(t,e);if(i<n&&R(t[i],e))return i}return-1};var pd=function(t,e){return dd(t,e,!0)};var md=function(t,e,n){return cd(t,e,ol(n),!0)};var gd=function(t,e){if(t&&t.length){var n=dd(t,e,!0)-1;if(R(t[n],e))return n}return-1};var bd=function(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!R(a,c)){var c=a;r[o++]=0===s?0:s}}return r};var wd=function(t){return t&&t.length?bd(t):[]};var vd=function(t,e){return t&&t.length?bd(t,ol(e)):[]};var _d=function(t){return al(t,1)};var kd=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:ni(e),tc(t,0,e<0?0:e)):[]};var yd=function(t,e,n){var i=t?t.length:0;return i?(e=n||void 0===e?1:ni(e),tc(t,(e=i-e)<0?0:e,i)):[]};var xd=function(t,e){return t&&t.length?ll(t,ol(e,3),!1,!0):[]};var Ad=function(t,e){return t&&t.length?ll(t,ol(e,3)):[]};var Cd=function(){},Td=ke&&1/Ue(new ke([,-0]))[1]==1/0?function(t){return new ke(t)}:Cd,Sd=200;var Ed=function(t,e,n){var i=-1,o=dc,r=t.length,s=!0,a=[],c=a;if(n)s=!1,o=uc;else if(r>=Sd){var l=e?null:Td(t);if(l)return Ue(l);s=!1,o=pc,c=new Yo}else c=e?[]:a;t:for(;++i<r;){var d=t[i],u=e?e(d):d;if(d=n||0!==d?d:0,s&&u==u){for(var h=c.length;h--;)if(c[h]===u)continue t;e&&c.push(u),a.push(d)}else o(c,u,n)||(c!==a&&c.push(u),a.push(d))}return a},Pd=ri(function(t){return Ed(sc(t,1,Wt,!0))}),Od=ri(function(t){var e=gs(t);return Wt(e)&&(e=void 0),Ed(sc(t,1,Wt,!0),ol(e))}),Rd=ri(function(t){var e=gs(t);return Wt(e)&&(e=void 0),Ed(sc(t,1,Wt,!0),void 0,e)});var Id=function(t){return t&&t.length?Ed(t):[]};var Vd=function(t,e){return t&&t.length?Ed(t,ol(e)):[]};var Md=function(t,e){return t&&t.length?Ed(t,void 0,e):[]};var Fd=function(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s)}return r},Nd=Math.max;var Dd=function(t){if(!t||!t.length)return[];var e=0;return t=Fd(t,function(t){if(Wt(t))return e=Nd(t.length,e),!0}),Lt(e,function(e){return hc(t,jt(e))})};var Bd=function(t,e){if(!t||!t.length)return[];var n=Dd(t);return null==e?n:hc(n,function(t){return qn(e,void 0,t)})},Ld=ri(function(t,e){return Wt(t)?gc(t,e):[]});var jd=function(t,e,n){for(var i=-1,o=t.length;++i<o;)var r=r?ge(gc(r,t[i],e,n),gc(t[i],r,e,n)):t[i];return r&&r.length?Ed(r,e,n):[]},zd=ri(function(t){return jd(Fd(t,Wt))}),qd=ri(function(t){var e=gs(t);return Wt(e)&&(e=void 0),jd(Fd(t,Wt),ol(e))}),Ud=ri(function(t){var e=gs(t);return Wt(e)&&(e=void 0),jd(Fd(t,Wt),void 0,e)}),Hd=ri(Dd);var Wd=function(t,e,n){for(var i=-1,o=t.length,r=e.length,s={};++i<o;){var a=i<r?e[i]:void 0;n(s,t[i],a)}return s};var $d=function(t,e){return Wd(t||[],e||[],Vt)};var Kd=function(t,e,n,i){for(var o=-1,r=(e=Hc(e,t)?[e]:zc(e)).length,s=r-1,a=t;null!=a&&++o<r;){var c=$c(e[o]);if(H(a)){var l=n;if(o!=s){var d=a[c];void 0===(l=i?i(d,c,a):void 0)&&(l=null==d?re(e[o+1])?[]:{}:d)}Vt(a,c,l)}a=a[c]}return t};var Gd=function(t,e){return Wd(t||[],e||[],Kd)},Jd=ri(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=\"function\"==typeof n?(t.pop(),n):void 0,Bd(t,n)}),Qd={chunk:ic,compact:oc,concat:ac,difference:bc,differenceBy:rl,differenceWith:sl,drop:al,dropRight:cl,dropRightWhile:dl,dropWhile:ul,fill:gl,findIndex:wl,findLastIndex:vl,first:_l,flatten:kl,flattenDeep:xl,flattenDepth:Al,fromPairs:Cl,head:_l,indexOf:Sl,initial:El,intersection:Il,intersectionBy:Vl,intersectionWith:Ml,join:Nl,last:gs,lastIndexOf:Ll,nth:zl,pull:$l,pullAll:Wl,pullAllBy:Kl,pullAllWith:Gl,pullAt:td,remove:ed,reverse:id,slice:od,sortedIndex:ud,sortedIndexBy:hd,sortedIndexOf:fd,sortedLastIndex:pd,sortedLastIndexBy:md,sortedLastIndexOf:gd,sortedUniq:wd,sortedUniqBy:vd,tail:_d,take:kd,takeRight:yd,takeRightWhile:xd,takeWhile:Ad,union:Pd,unionBy:Od,unionWith:Rd,uniq:Id,uniqBy:Vd,uniqWith:Md,unzip:Dd,unzipWith:Bd,without:Ld,xor:zd,xorBy:qd,xorWith:Ud,zip:Hd,zipObject:$d,zipObjectDeep:Gd,zipWith:Jd};const Yd=new Map,Xd={transform(t,e,n){const i=(Xd.getTransformationCase(t,e)||Xd.defaultTransform)(t,e,Object.assign({},n));return function(t,e){for(const n of e)for(const e of n.operations)e.baseVersion=++t;return e}(Qd.last(e.operations).baseVersion,i)},defaultTransform(t,e,n){const i=[];let o=e.operations,r=[];for(const e of t.operations){const t=[e];for(const e of o)for(let i=0;i<t.length;i++){const o=t[i],s=Ga(o,e,n);Array.prototype.splice.apply(t,[i,1].concat(s)),i+=s.length-1;const a=Object.assign({},n);a.isStrong=!n.isStrong,a.insertBefore=void 0!==n.insertBefore?!n.insertBefore:void 0;const c=Ga(e,o,a);Array.prototype.push.apply(r,c)}o=r,r=[];for(const e of t)i.push(e)}return function t(e,n){let i=[];let o=null;let r;switch(e){case za:case qa:for(const t of n)(o=t instanceof Oa?new Da:t instanceof Sa?new qa:new za).addOperation(t),i.push(o);return i;case La:case Ha:return(o=new e).addOperation(n[0]),o.addOperation(n[1]),i=t(za,n.slice(2)),[o].concat(i);case ja:case Wa:return i=t(za,n.slice(0,-2)),(o=new e).addOperation(n[n.length-2]),o.addOperation(n[n.length-1]),i.concat(o);case Ua:return(o=n[0]instanceof Oa?new Da:new Ua).addOperation(n[0]),[o];case Ba:for(r=0;r<n.length&&n[r]instanceof Oa;r++);r==n.length?o=new Da:(o=new Ba,0!=r&&n.unshift(n.splice(r,1)[0]));for(const t of n)o.addOperation(t);return[o];default:o=new e;for(const t of n)o.addOperation(t);return[o]}}(t.constructor,i)},addTransformationCase(t,e,n){let i=Yd.get(t);i||(i=new Map,Yd.set(t,i)),i.set(e,n)},getTransformationCase(t,e){let n=Yd.get(t.constructor);if(!n||!n.get(e.constructor)){const i=Yd.keys();for(const o of i)if(t instanceof o&&Yd.get(o).get(e.constructor)){n=Yd.get(o);break}}if(n)return n.get(e.constructor)},transformDeltaSets(t,e,n=null){const i=Array.from(t),o=Array.from(e),r=null!==n,s={isStrong:!0};if(r){s.wasAffected=new Map,s.originalDelta=new Map,s.document=n,s.undoMode=!0;for(const t of o)s.originalDelta.set(t,t)}for(let t=0;t<i.length;t++){const e=[i[t]];for(let t=0;t<o.length;t++){const n=[o[t]];for(let t=0;t<e.length;t++)for(let i=0;i<n.length;i++){r&&nu(e[t],n[i],s);const o=Xd.transform(e[t],n[i],{insertBefore:s.insertBefore,forceNotSticky:s.forceNotSticky,isStrong:s.isStrong,forceWeakRemove:s.forceWeakRemove,undoMode:s.undoMode}),a=Xd.transform(n[i],e[t],{insertBefore:!s.insertBefore,forceNotSticky:s.forceNotSticky,isStrong:!s.isStrong,forceWeakRemove:s.forceWeakRemove,undoMode:s.undoMode});if(r){ou(e[t],o,s);const r=s.originalDelta.get(n[i]);for(const t of a)s.originalDelta.set(t,r)}e.splice(t,1,...o),t+=o.length-1,n.splice(i,1,...a),i+=a.length-1}o.splice(t,1,...n),t+=n.length-1}i.splice(t,1,...e),t+=e.length-1}const a=tu(i)-tu(t),c=tu(o)-tu(e);return c<a?eu(o,a-c):a<c&&eu(i,c-a),{deltasA:i,deltasB:o}}};var Zd=Xd;function tu(t){return t.reduce((t,e)=>t+e.operations.length,0)}function eu(t,e){const n=t[t.length-1];let i=n.operations.length+n.baseVersion;const o=new Da;for(let t=0;t<e;t++)o.addOperation(new Oa(i++));t.push(o)}function nu(t,e,n){!function(t,e,n){n.wasAffected.get(t)||n.wasAffected.set(t,new Map);const i=n.originalDelta.get(e);let o=!!n.wasAffected.get(t).get(i);for(const n of t.operations){for(const t of e.operations)if(n instanceof Ca&&t instanceof Ca&&iu(n,t)){o=!0;break}if(o)break}n.wasAffected.get(t).set(i,o)}(t,e,n),function(t,e,n){const i=n.originalDelta.get(e);if(n.document.history.isUndoingDelta(i)){const e=n.document.history.getUndoneDelta(i),o=n.wasAffected.get(t),r=o.get(e);void 0!==r&&(n.insertBefore=r)}}(t,e,n),function(t,e){const n=e.document.history,i=e.originalDelta.get(t);e.forceWeakRemove=n.isUndoneDelta(i)}(e,n),function(t,e){const n=e.originalDelta.get(t),i=e.document.history;e.forceNotSticky=i.isUndoneDelta(n)||i.isUndoingDelta(n)}(e,n)}function iu(t,e){const n=t.targetPosition,i=e.sourcePosition,o=En(i.getParentPath(),n.getParentPath());return n.root==i.root&&(\"same\"==o&&i.offset<n.offset)}function ou(t,e,n){delete n.insertBefore,delete n.forceNotSticky,delete n.forceWeakRemove;const i=n.wasAffected.get(t);n.wasAffected.delete(t);for(const t of e)n.wasAffected.set(t,new Map(i))}class ru extends Da{get type(){return\"marker\"}get _reverseDeltaClass(){return ru}static get className(){return\"engine.model.delta.MarkerDelta\"}}Na.register(ru);const su=Zd.addTransformationCase,au=Zd.defaultTransform;function cu(t,e){const n=t.clone(),i=n.operations[0];return i.oldRange&&(i.oldRange=i.oldRange.getTransformedByDelta(e)[0]),i.newRange&&(i.newRange=i.newRange.getTransformedByDelta(e)[0]),[n]}function lu(t,e){const n=new Ba,i=t.nodes;let o=i.getNode(0).getAttribute(e.key),r=0,s=i.getNode(0).offsetSize;for(let t=1;t<i.length;t++){const n=i.getNode(t),c=n.getAttribute(e.key);c!=o&&(o!=e.value&&a(),o=c,r=s),s+=n.offsetSize}return a(),n;function a(){const i=new ws(t.position.getShiftedBy(r),t.position.getShiftedBy(s)),a=new Aa(i,e.key,o,e.value,0);n.addOperation(a)}}function du(){const t=new Da;return t.addOperation(new Oa(0)),t}su(Ba,Ka,(t,e,n)=>{const i=au(t,e,n);return t.range.containsPosition(e.position)&&i.push(lu(e,t)),i}),su(Ba,La,(t,e,n)=>{if(!e.position)return au(t,e,n);const i=n.undoMode,o=new bs(e.position.root,e.position.path.slice(0,-1)),r=au(t,e,n);if(i||!(e._cloneOperation instanceof Ea))return r;for(const n of t.operations)if(n.range.containsPosition(o)||n.range.start.isEqual(o)){const t=new Ba,i=o.getShiftedBy(1),s=bs.createFromPosition(i);s.path.push(0);const a=e._cloneOperation.nodes.getNode(0).getAttribute(n.key);t.addOperation(new Aa(new ws(i,s),n.key,void 0===a?null:a,n.newValue,0)),r.push(t);break}return r}),su($a,ja,(t,e,n)=>{if(!e.position)return au(t,e,n);return!n.undoMode&&t.position.isEqual(e.position)?[e.getReversed(),t.clone()]:au(t,e,n)}),su(ru,La,cu),su(ru,ja,cu),su(ru,Ha,cu),su(ru,Wa,cu),su(ru,za,cu),su(ru,Ua,cu),su(za,ja,(t,e,n)=>{if(n.undoMode||!e.position)return au(t,e,n);const i=t.sourcePosition.root==e.position.root&&\"same\"===En(t.sourcePosition.getParentPath(),e.position.getParentPath()),o=t.sourcePosition.offset<=e.position.offset&&t.sourcePosition.offset+t.howMany>e.position.offset;return i&&o?[e.getReversed(),t.clone()]:au(t,e,n)}),su(ja,$a,(t,e,n)=>{if(!t.position)return au(t,e,n);return!n.undoMode&&t.position.isEqual(e.position)?[du()]:au(t,e,n)}),su(ja,za,(t,e,n)=>{if(n.undoMode||!t.position)return au(t,e,n);const i=t.position.root==e.sourcePosition.root&&\"same\"===En(t.position.getParentPath(),e.sourcePosition.getParentPath()),o=e.sourcePosition.offset<=t.position.offset&&e.sourcePosition.offset+e.howMany>t.position.offset;return i&&o?[du()]:au(t,e,n)}),su(La,La,(t,e,n)=>{if(n.undoMode)return au(t,e,n);if(!t.position||!e.position)return au(t,e,n);const i=t.position.getParentPath(),o=e.position.getParentPath();if(t.position.root==e.position.root&&\"same\"==En(i,o)){if((t=t.clone()).position.offset<e.position.offset||t.position.offset==e.position.offset&&n.isStrong){t._cloneOperation instanceof Ta&&e._cloneOperation instanceof Ta&&t._cloneOperation.sourcePosition.offset>e._cloneOperation.sourcePosition.offset&&t._cloneOperation.sourcePosition.offset--;const n=ws.createFromPositionAndShift(t.position,t._moveOperation.howMany),i=ws.createFromPositionAndShift(e.position,e._moveOperation.howMany),o=n.getDifference(i);let r=0;for(const t of o)r+=t.end.offset-t.start.offset;return 0===r?(t.operations.pop(),t.addOperation(new Oa(t.operations[0].baseVersion+1))):t.operations[1].howMany=r,[t]}{const i=Object.assign({},n);return i.isStrong=!0,i.insertBefore=!0,au(t,e,i)}}return au(t,e,n)}),su(La,Wa,(t,e,n)=>t.position&&t.position.root==e.position.root&&\"same\"===En(e.position.path,t.position.getParentPath())?[du()]:au(t,e,n)),su(La,Ha,(t,e,n)=>{if(!t.position)return au(t,e,n);const i=t.position.root==e.range.start.root,o=i&&\"same\"===En(t.position.getParentPath(),e.range.start.getParentPath()),r=e.range.start.offset<t.position.offset&&e.range.end.offset>=t.position.offset;if(o&&r)return[du()];if(i&&\"same\"===En(t.position.getParentPath(),e.range.end.getShiftedBy(-1).path)){const n=t.clone(),i=bs.createFromPosition(e.range.start);i.path.push(e.howMany-1);const o=i.getShiftedBy(1);n._cloneOperation.position=o;const r=bs.createFromPosition(i);r.path.push(t.position.offset),n._moveOperation.sourcePosition=r;const s=bs.createFromPosition(o);return s.path.push(0),n._moveOperation.targetPosition=s,[n]}return au(t,e,n)}),su(La,Ba,(t,e,n)=>{if(!t.position)return au(t,e,n);t=t.clone();const i=n.undoMode,o=new bs(t.position.root,t.position.path.slice(0,-1));if(i||!(t._cloneOperation instanceof Ea))return[t];for(const n of e.operations)if(n.range.containsPosition(o)||n.range.start.isEqual(o)){null!==n.newValue?t._cloneOperation.nodes.getNode(0)._setAttribute(n.key,n.newValue):t._cloneOperation.nodes.getNode(0)._removeAttribute(n.key);break}return[t]}),su(Wa,La,(t,e,n)=>e.position&&t.position.root==e.position.root&&\"same\"===En(t.position.path,e.position.getParentPath())?[e.getReversed(),t.clone()]:au(t,e,n)),su(Ka,Ba,(t,e)=>{const n=[t.clone()];return e.range.containsPosition(t.position)&&n.push(lu(t,e)),n}),su(Ha,La,(t,e,n)=>{if(!e.position)return au(t,e,n);const i=t.range.start.root==e.position.root,o=i&&\"same\"===En(t.range.start.getParentPath(),e.position.getParentPath()),r=t.range.start.offset<e.position.offset&&t.range.end.offset>=e.position.offset;if(o&&r)return[e.getReversed(),t.clone()];if(i&&\"same\"===En(e.position.getParentPath(),t.range.end.getShiftedBy(-1).path)){const e=t.clone();return e._insertOperation.position.offset++,e._moveOperation.howMany++,e._moveOperation.targetPosition.path[e._moveOperation.targetPosition.path.length-2]++,[e]}return au(t,e,n)}),su(Ua,La,(t,e,n)=>{const i=n.undoMode,o=au(t,e,n);if(i||!(e._cloneOperation instanceof Ea))return o;const r=e._cloneOperation.position.getShiftedBy(-1);if(r&&t.operations[0].position.isEqual(r)){const e=t.clone();e.operations[0].position=r.getShiftedBy(1),o.push(e)}return o}),su(La,Ua,(t,e,n)=>{t=t.clone();const i=n.undoMode;if(i||!(t._cloneOperation instanceof Ea))return[t];const o=t._cloneOperation.position.getShiftedBy(-1);if(o&&!i&&e.operations[0].position.isEqual(o)){const n=e.clone();return n.operations[0].position=o.getShiftedBy(1),n.operations[0].oldName=t._cloneOperation.nodes.getNode(0).name,[t,n]}return[t]}),su(qa,La,(t,e,n)=>{const i=au(t,e,n),o=e._cloneOperation.position||e._cloneOperation.targetPosition;if(!o)return au(t,e,n);if(n.undoMode)return i;for(const t of i)if(t instanceof qa){const e=t._moveOperation;e.sourcePosition.getShiftedBy(e.howMany).isEqual(o)&&(e.howMany+=1)}return i}),su(La,qa,(t,e,n)=>{if(n.undoMode)return au(t,e,n);const i=t._cloneOperation.position||t._cloneOperation.targetPosition;if(!i)return au(t,e,n);const o=(e=e.clone())._moveOperation;return o.sourcePosition.getShiftedBy(o.howMany).isEqual(i)&&(o.howMany+=1),au(t,e,n)});class uu{constructor(t=\"default\"){this.deltas=[],this.type=t}get baseVersion(){for(const t of this.deltas)if(null!==t.baseVersion)return t.baseVersion;return null}addDelta(t){return t.batch=this,this.deltas.push(t),t}*getOperations(){for(const t of this.deltas)yield*t.operations}}class hu extends Da{static get className(){return\"engine.model.delta.RootAttributeDelta\"}}Na.register(hu);class fu extends ma{constructor(t,e){super(null),this.sourcePosition=bs.createFromPosition(t),this.howMany=e}get type(){return\"detach\"}_validate(){if(this.sourcePosition.root.document)throw new m.b(\"detach-operation-on-document-node: Cannot detach document node.\")}_execute(){wa(ws.createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return\"engine.model.operation.DetachOperation\"}}class pu extends fs{constructor(t,e,n=\"main\"){super(e),this._doc=t,this.rootName=n}get document(){return this._doc}is(t,e){return e?\"rootElement\"==t&&e==this.name||super.is(t,e):\"rootElement\"==t||super.is(t)}toJSON(){return this.rootName}}class mu{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new ds(t,e)}createElement(t,e){return new fs(t,e)}createDocumentFragment(){return new ga}insert(t,e,n){this._assertWriterUsedCorrectly();const i=bs.createAt(e,n),o=t instanceof ds&&!t.parent?new Ka:new $a;if(t.parent){if(_u(t.root,i.root))return void this.move(ws.createOn(t),i);if(t.root.document)throw new Error(\"models-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.\");this.remove(t)}const r=i.root.document?i.root.document.version:null,s=new Ea(i,t,r);if(this.batch.addDelta(o),o.addOperation(s),this.model.applyOperation(s),t instanceof ga)for(const[e,n]of t.markers){const t=bs.createAt(n.root),o=new ws(n.start._getCombined(t,i),n.end._getCombined(t,i));this.addMarker(e,{range:o,usingOperation:!0})}}insertText(t,e,n,i){e instanceof ga||e instanceof fs||e instanceof bs?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof ga||e instanceof fs||e instanceof bs?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,\"end\")}appendText(t,e,n){e instanceof ga||e instanceof fs?this.insert(this.createText(t),e,\"end\"):this.insert(this.createText(t,e),n,\"end\")}appendElement(t,e,n){e instanceof ga||e instanceof fs?this.insert(this.createElement(t),e,\"end\"):this.insert(this.createElement(t,e),n,\"end\")}setAttribute(t,e,n){this._assertWriterUsedCorrectly(),n instanceof ws?gu(this,t,e,n):bu(this,t,e,n)}setAttributes(t,e){for(const[n,i]of cs(t))this.setAttribute(n,i,e)}removeAttribute(t,e){this._assertWriterUsedCorrectly(),e instanceof ws?gu(this,t,null,e):bu(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof ws)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof ws))throw new m.b(\"writer-move-invalid-range: Invalid range to move.\");if(!t.isFlat)throw new m.b(\"writer-move-range-not-flat: Range to move is not flat.\");const i=bs.createAt(e,n);if(!_u(t.root,i.root))throw new m.b(\"writer-move-different-document: Range is going to be moved between different documents.\");const o=new za;this.batch.addDelta(o);const r=t.root.document?t.root.document.version:null,s=new Ca(t.start,t.end.offset-t.start.offset,i,r);o.addOperation(s),this.model.applyOperation(s)}remove(t){this._assertWriterUsedCorrectly();const e=(t,e)=>{const n=new qa;this.batch.addDelta(n),vu(t,e,n,this.model)};if(t instanceof ws){const n=t.getMinimalFlatRanges().reverse();for(const t of n)e(t.start,t.end.offset-t.start.offset)}else{const n=t.is(\"text\")?t.offsetSize:1;e(bs.createBefore(t),n)}}merge(t){this._assertWriterUsedCorrectly();const e=new ja;this.batch.addDelta(e);const n=t.nodeBefore,i=t.nodeAfter;if(!(n instanceof fs))throw new m.b(\"writer-merge-no-element-before: Node before merge position must be an element.\");if(!(i instanceof fs))throw new m.b(\"writer-merge-no-element-after: Node after merge position must be an element.\");const o=bs.createFromParentAndOffset(i,0),r=bs.createFromParentAndOffset(n,n.maxOffset),s=t.root.document?t.root.document.version:null,a=new Ca(o,i.maxOffset,r,s);a.isSticky=!0,e.addOperation(a),this.model.applyOperation(a),vu(t,1,e,this.model)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof fs))throw new m.b(\"writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.\");const n=new Ua;this.batch.addDelta(n);const i=t.root.document?t.root.document.version:null,o=new Ra(bs.createBefore(t),t.name,e,i);n.addOperation(o),this.model.applyOperation(o)}split(t,e){this._assertWriterUsedCorrectly();let n,i,o=t.parent;if(!o.parent)throw new m.b(\"writer-split-element-no-parent: Element with no parent can not be split.\");if(e||(e=o.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new m.b(\"writer-split-invalid-limit-element: Limit element is not a position ancestor.\");do{const e=new La;this.batch.addDelta(e);const r=new fs(o.name,o.getAttributes()),s=o.root.document?o.root.document.version:null,a=new Ea(bs.createAfter(o),r,s);e.addOperation(a),this.model.applyOperation(a);const c=null!==s?s+1:null,l=new Ca(t,o.maxOffset-t.offset,bs.createFromParentAndOffset(r,0),c);l.isSticky=!0,e.addOperation(l),this.model.applyOperation(l),n||i||(n=o,i=r),o=(t=bs.createBefore(r)).parent}while(o!==e);return{position:t,range:new ws(bs.createAt(n,\"end\"),bs.createAt(i))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new m.b(\"writer-wrap-range-not-flat: Range to wrap is not flat.\");const n=e instanceof fs?e:new fs(e);if(n.childCount>0)throw new m.b(\"writer-wrap-element-not-empty: Element to wrap with is not empty.\");if(null!==n.parent)throw new m.b(\"writer-wrap-element-attached: Element to wrap with is already attached to tree models.\");const i=new Ha;this.batch.addDelta(i);const o=t.root.document?t.root.document.version:null,r=new Ea(t.end,n,o);i.addOperation(r),this.model.applyOperation(r);const s=null!==o?o+1:null,a=bs.createFromParentAndOffset(n,0),c=new Ca(t.start,t.end.offset-t.start.offset,a,s);i.addOperation(c),this.model.applyOperation(c)}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new m.b(\"writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.\");const e=new Wa;this.batch.addDelta(e);const n=bs.createFromParentAndOffset(t,0),i=n.root.document?n.root.document.version:null,o=new Ca(n,t.maxOffset,bs.createBefore(t),i);o.isSticky=!0,e.addOperation(o),this.model.applyOperation(o),vu(bs.createBefore(t),1,e,this.model)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||\"boolean\"!=typeof e.usingOperation)throw new m.b(\"writer-addMarker-no-usingOperations: The options.usingOperations parameter is required when adding a new marker.\");const n=e.usingOperation,i=e.range,o=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new m.b(\"writer-addMarker-marker-exists: Marker with provided name already exists.\");if(!i)throw new m.b(\"writer-addMarker-no-range: Range parameter is required when adding a new marker.\");return n?(wu(this,t,null,i,o),this.model.markers.get(t)):this.model.markers._set(t,i,n,o)}updateMarker(t,e={}){this._assertWriterUsedCorrectly();const n=\"string\"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new m.b(\"writer-updateMarker-marker-not-exists: Marker with provided name does not exists.\");const o=\"boolean\"==typeof e.usingOperation,r=\"boolean\"==typeof e.affectsData,s=r?e.affectsData:i.affectsData;if(!o&&!e.range&&!r)throw new m.b(\"writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.\");const a=i.getRange(),c=e.range?e.range:a;o&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?wu(this,n,null,c,s):(wu(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):i.managedUsingOperations?wu(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e=\"string\"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new m.b(\"writer-removeMarker-no-marker: Trying to remove marker which does not exist.\");const n=this.model.markers.get(e);n.managedUsingOperations?wu(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),\"string\"==typeof t)this._setSelectionAttribute(t,e);else for(const[e,n]of cs(t))this._setSelectionAttribute(e,n)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),\"string\"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Ps._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=Ps._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new m.b(\"writer-incorrect-use: Trying to use a writer outside the change() block.\")}}function gu(t,e,n,i){const o=new Ba,r=t.model,s=r.document;let a,c,l,d=i.start;for(const t of i)l=t.item.getAttribute(e),a&&c!=l&&(c!=n&&u(),d=a),a=t.nextPosition,c=l;function u(){0===o.operations.length&&t.batch.addDelta(o);const i=new ws(d,a),l=i.root.document?s.version:null,u=new Aa(i,e,c,n,l);o.addOperation(u),r.applyOperation(u)}a instanceof bs&&a!=d&&c!=n&&u()}function bu(t,e,n,i){const o=t.model,r=o.document,s=i.getAttribute(e);let a,c;if(s!=n){const l=i.root===i,d=l?new hu:new Ba;if(t.batch.addDelta(d),l){const t=i.document?r.version:null;c=new Ia(i,e,s,n,t)}else{const t=(a=i.is(\"element\")?new ws(bs.createBefore(i),bs.createFromParentAndOffset(i,0)):new ws(bs.createBefore(i),bs.createAfter(i))).root.document?r.version:null;c=new Aa(a,e,s,n,t)}d.addOperation(c),o.applyOperation(c)}}function wu(t,e,n,i,o){const r=t.model,s=r.document,a=new ru,c=new Pa(e,n,i,r.markers,s.version,o);t.batch.addDelta(a),a.addOperation(c),r.applyOperation(c)}function vu(t,e,n,i){let o;if(t.root.document){const n=i.document,r=new bs(n.graveyard,[0]);o=new Sa(t,e,r,n.version)}else o=new fu(t,e);n.addOperation(o),i.applyOperation(o)}function _u(t,e){return t===e||t instanceof pu&&e instanceof pu}class ku{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(t){switch(t.type){case\"insert\":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case\"addAttribute\":case\"removeAttribute\":case\"changeAttribute\":for(const e of t.range.getItems())this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case\"remove\":case\"move\":case\"reinsert\":{const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case\"rename\":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=ws.createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,i){const o=this._changedMarkers.get(t);o?(o.newRange=n,o.affectsData=i,null==o.oldRange&&null==o.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const e=[];for(const t of this._changesInElement.keys()){const n=this._changesInElement.get(t).sort((t,e)=>t.offset===e.offset?t.type!=e.type?\"remove\"==t.type?-1:1:0:t.offset<e.offset?-1:1),i=this._elementSnapshots.get(t),o=yu(t.getChildren()),r=xu(i.length,n);let s=0,a=0;for(const n of r)if(\"i\"===n)e.push(this._getInsertDiff(t,s,o[s].name)),s++;else if(\"r\"===n)e.push(this._getRemoveDiff(t,s,i[a].name)),a++;else if(\"a\"===n){const n=o[s].attributes,r=i[a].attributes;let c;if(\"$text\"==o[s].name)c=ws.createFromParentsAndOffsets(t,s,t,s+1);else{const e=t.offsetToIndex(s);c=ws.createFromParentsAndOffsets(t,s,t.getChild(e),0)}e.push(...this._getAttributesDiff(c,r,n)),s++,a++}else s++,a++}e.sort((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount<e.changeCount?-1:1:t.position.isBefore(e.position)?-1:1);for(let t=1;t<e.length;t++){const n=e[t-1],i=e[t],o=\"remove\"==n.type&&\"remove\"==i.type&&\"$text\"==n.name&&\"$text\"==i.name&&n.position.isEqual(i.position),r=\"insert\"==n.type&&\"insert\"==i.type&&\"$text\"==n.name&&\"$text\"==i.name&&n.position.parent==i.position.parent&&n.position.offset+n.length==i.position.offset,s=\"attribute\"==n.type&&\"attribute\"==i.type&&n.position.parent==i.position.parent&&n.range.isFlat&&i.range.isFlat&&n.position.offset+n.length==i.position.offset&&n.attributeKey==i.attributeKey&&n.attributeOldValue==i.attributeOldValue&&n.attributeNewValue==i.attributeNewValue;(o||r||s)&&(e[t-1].length++,s&&(e[t-1].range.end=e[t-1].range.end.getShiftedBy(1)),e.splice(t,1),t--)}for(const t of e)delete t.changeCount,\"attribute\"==t.type&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(Au),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const i={type:\"insert\",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){const i={type:\"remove\",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:\"attribute\",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let t=0;t<n.length;t++)n[t].howMany<1&&(n.splice(t,1),t--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,yu(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,o=n.offset+n.howMany;if(\"insert\"==t.type&&(\"insert\"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<o&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),\"remove\"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),\"attribute\"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<o){const o=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:\"attribute\",offset:i,howMany:o-n.howMany,count:this._changeCount++})}if(\"remove\"==t.type){if(\"insert\"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=o)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<o){const e=o-t.offset;n.howMany-=e,t.nodesToHandle-=e}if(\"remove\"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),\"attribute\"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<o)if(i<=o){const i=n.howMany;n.howMany=t.offset-n.offset;const o=i-n.howMany-t.nodesToHandle;e.unshift({type:\"attribute\",offset:t.offset,howMany:o,count:this._changeCount++})}else n.howMany-=o-t.offset}if(\"attribute\"==t.type){if(\"insert\"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>o){const t={type:\"attribute\",offset:o,howMany:i-o,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<o&&(i>o?(t.nodesToHandle=i-o,t.offset=o):t.nodesToHandle=0);\"attribute\"==n.type&&(t.offset>=n.offset&&i<=o?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=o&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:\"insert\",position:bs.createFromParentAndOffset(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:\"remove\",position:bs.createFromParentAndOffset(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[o,r]of e){const e=n.has(o)?n.get(o):null;e!==r&&i.push({type:\"attribute\",position:t.start,range:ws.createFromRange(t),length:1,attributeKey:o,attributeOldValue:r,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(o)}for(const[e,o]of n)i.push({type:\"attribute\",position:t.start,range:ws.createFromRange(t),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const t of n)if(\"insert\"==t.type&&i>=t.offset&&i<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const i=ws.createFromParentsAndOffsets(t,e,t,e+n);for(const t of i.getItems({shallow:!0}))t.is(\"element\")&&(this._elementSnapshots.delete(t),this._changesInElement.delete(t),this._removeAllNestedChanges(t,0,t.maxOffset))}}function yu(t){const e=[];for(const n of t)if(n.is(\"text\"))for(let t=0;t<n.data.length;t++)e.push({name:\"$text\",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function xu(t,e){const n=[];let i=0,o=0;for(const t of e)t.offset>i&&(n.push(...\"e\".repeat(t.offset-i).split(\"\")),o+=t.offset-i),\"insert\"==t.type?(n.push(...\"i\".repeat(t.howMany).split(\"\")),i=t.offset+t.howMany):\"remove\"==t.type?(n.push(...\"r\".repeat(t.howMany).split(\"\")),i=t.offset,o+=t.howMany):(n.push(...\"a\".repeat(t.howMany).split(\"\")),i=t.offset+t.howMany,o+=t.howMany);return o<t&&n.push(...\"e\".repeat(t-o).split(\"\")),n}function Au(t){const e=t.position&&\"$graveyard\"==t.position.root.rootName,n=t.range&&\"$graveyard\"==t.range.root.rootName;return!e&&!n}class Cu{constructor(){this._deltas=[],this._historyPoints=new Map,this._undoPairs=new Map,this._undoneDeltas=new Set}addDelta(t){if(t.operations.length>0&&!this._historyPoints.has(t.baseVersion)){const e=this._deltas.length;this._deltas[e]=t,this._historyPoints.set(t.baseVersion,e)}}*getDeltas(t=0,e=Number.POSITIVE_INFINITY){if(0===this._deltas.length)return;let n=this._getIndex(t);if(-1!=n)for(;n<this._deltas.length;){const t=this._deltas[n++];if(t.baseVersion>=e)break;yield t}}getDelta(t){const e=this._historyPoints.get(t);return void 0===e?null:this._deltas[e]}setDeltaAsUndone(t,e){this._undoPairs.set(e,t),this._undoneDeltas.add(t)}isUndoingDelta(t){return this._undoPairs.has(t)}isUndoneDelta(t){return this._undoneDeltas.has(t)}getUndoneDelta(t){return this._undoPairs.get(t)}_getIndex(t){const e=this._historyPoints.get(t);if(void 0===e){const e=this._deltas[this._deltas.length-1],n=e.baseVersion+e.operations.length;if(t<0||t>=n)return-1;throw new m.b(\"models-history-wrong-version: Given base version points to the middle of a delta.\")}return e}}function Tu(t,e){return function(t){return!!t&&1==t.length&&/[\\ud800-\\udbff]/.test(t)}(t.charAt(e-1))&&function(t){return!!t&&1==t.length&&/[\\udc00-\\udfff]/.test(t)}(t.charAt(e))}function Su(t,e){return function(t){return!!t&&1==t.length&&/[\\u0300-\\u036f\\u1ab0-\\u1aff\\u1dc0-\\u1dff\\u20d0-\\u20ff\\ufe20-\\ufe2f]/.test(t)}(t.charAt(e))}const Eu=\"$graveyard\";class Pu{constructor(t){this.model=t,this.version=0,this.history=new Cu(this),this.selection=new Ps(this),this.roots=new Li({idProperty:\"rootName\"}),this.differ=new ku(t.markers),this._postFixers=new Set,this.createRoot(\"$root\",Eu),this.listenTo(t,\"applyOperation\",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new m.b(\"models-document-applyOperation-wrong-version: Only operations with matching versions can be applied.\",{operation:n})},{priority:\"highest\"}),this.listenTo(t,\"applyOperation\",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:\"high\"}),this.listenTo(t,\"applyOperation\",(t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addDelta(n.delta))},{priority:\"low\"});let e=!1;this.listenTo(this.selection,\"change\",()=>{e=!0}),this.listenTo(t,\"_change\",(t,n)=>{this.differ.isEmpty&&!e||(this._callPostFixers(n),this.differ.hasDataChanges()?this.fire(\"change:data\",n.batch):this.fire(\"change\",n.batch),this.differ.reset(),e=!1)}),this.listenTo(t.markers,\"update\",(t,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on(\"change\",(t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot(Eu)}createRoot(t=\"$root\",e=\"main\"){if(this.roots.get(e))throw new m.b(\"models-document-createRoot-name-exists: Root with specified name already exists.\",{name:e});const n=new pu(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t=\"main\"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=Eu)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Sn(this);return t.selection=\"[engine.model.DocumentSelection]\",t.model=\"[engine.model.Model]\",t}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model.schema,n=new bs(t,[0]);return e.getNearestSelectionRange(n)||new ws(n)}_validateSelectionRange(t){return Ou(t.start)&&Ou(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t))break}while(e)}}function Ou(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!Tu(n,i)&&!Su(n,i)}return!0}P(Pu,y);class Ru{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,i=!1){const o=t instanceof Iu?t.name:t,r=this._markers.get(o);if(r){const t=r.getRange();let s=!1;return t.isEqual(e)||(r._attachLiveRange(Ss.createFromRange(e)),s=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,s=!0),\"boolean\"==typeof i&&i!=r.affectsData&&(r._affectsData=i,s=!0),s&&this.fire(\"update:\"+o,r,t,e),r}const s=Ss.createFromRange(e),a=new Iu(o,s,n,i);return this._markers.set(o,a),this.fire(\"update:\"+o,a,null,e),a}_remove(t){const e=t instanceof Iu?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire(\"update:\"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+\":\")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}P(Ru,y);class Iu{constructor(t,e,n,i){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new m.b(\"marker-destroyed: Cannot use a destroyed marker instance.\");return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new m.b(\"marker-destroyed: Cannot use a destroyed marker instance.\");return this._affectsData}getStart(){if(!this._liveRange)throw new m.b(\"marker-destroyed: Cannot use a destroyed marker instance.\");return bs.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new m.b(\"marker-destroyed: Cannot use a destroyed marker instance.\");return bs.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new m.b(\"marker-destroyed: Cannot use a destroyed marker instance.\");return ws.createFromRange(this._liveRange)}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate(\"change:range\").to(this),t.delegate(\"change:content\").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating(\"change:range\",this),this._liveRange.stopDelegating(\"change:content\",this),this._liveRange.detach(),this._liveRange=null}}P(Iu,y);class Vu extends bs{constructor(t,e,n){if(super(t,e),!this.root.is(\"rootElement\"))throw new m.b(\"models-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.\");this.stickiness=n||\"sticksToNext\",function(){const t=new Set([\"insert\",\"move\",\"remove\",\"reinsert\"]);this.listenTo(this.root.document.model,\"applyOperation\",(e,n)=>{const i=n[0];i.isDocumentOperation&&t.has(i.type)&&function(t){let e,n;\"insert\"==t.type?e=ws.createFromPositionAndShift(t.position,t.nodes.maxOffset):(e=ws.createFromPositionAndShift(t.getMovedRangeStart(),t.howMany),n=t.sourcePosition);const i=e.end.offset-e.start.offset;let o;switch(t.type){case\"insert\":const r=\"sticksToNext\"==this.stickiness;o=this._getTransformedByInsertion(e.start,i,r);break;case\"move\":case\"remove\":case\"reinsert\":const s=ws.createFromPositionAndShift(n,i),a=s.containsPosition(this)||s.start.isEqual(this)&&\"sticksToNext\"==this.stickiness||s.end.isEqual(this)&&\"sticksToPrevious\"==this.stickiness;if(a)o=this._getCombined(n,e.start);else{const t=\"sticksToNext\"==this.stickiness,r=e.start._getTransformedByInsertion(n,i);o=this._getTransformedByMove(n,r,i,t)}}if(!this.isEqual(o)){const t=bs.createFromPosition(this);this.path=o.path,this.root=o.root,this.fire(\"change\",t)}}.call(this,i)},{priority:\"low\"})}.call(this)}detach(){this.stopListening()}}P(Vu,y);class Mu{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[]}handleNodes(t,e){t=Array.from(t);for(let n=0;n<t.length;n++){const i=t[n];this._handleNode(i,{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?ws.createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}_handleNode(t,e){if(this.schema.isObject(t))return void this._handleObject(t,e);this._checkAndSplitToAllowedPosition(t,e)?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}_handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}_handleDisallowedNode(t,e){t.is(\"element\")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}_insert(t){if(!this.schema.checkChild(this.position,t))return void zr.a.error(\"insertcontent-wrong-position: The node cannot be inserted on the given position.\",{node:t,position:this.position});const e=Vu.createFromPosition(this.position);this.writer.insert(t,this.position),this.position=bs.createFromPosition(e),e.detach(),this.schema.isObject(t)&&!this.schema.checkChild(this.position,\"$text\")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_mergeSiblingsOf(t,e){if(!(t instanceof fs))return;const n=this._canMergeLeft(t,e),i=this._canMergeRight(t,e),o=Vu.createBefore(t),r=Vu.createAfter(t);if(n){const t=Vu.createFromPosition(this.position);this.writer.merge(o),this.position=bs.createFromPosition(t),t.detach()}if(i){this.position.isEqual(r)||zr.a.error(\"insertcontent-wrong-position-on-merge: The insertion position should equal the merge position\"),this.position=bs.createAt(r.nodeBefore,\"end\");const t=new Vu(this.position.root,this.position.path,\"sticksToPrevious\");this.writer.merge(r),this.position=bs.createFromPosition(t),t.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),o.detach(),r.detach()}_canMergeLeft(t,e){const n=t.previousSibling;return e.isFirst&&n instanceof fs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}_canMergeRight(t,e){const n=t.nextSibling;return e.isLast&&n instanceof fs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}_tryAutoparagraphing(t,e){const n=this.writer.createElement(\"paragraph\");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=bs.createBefore(t),t.isEmpty&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=bs.createAfter(this.position.parent);else{const t=bs.createAfter(this.position.parent);this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}function Fu(t,e,n={}){if(e.isCollapsed)return;const i=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();if(i.start.parent==i.end.parent)return!1;return t.checkChild(n,\"paragraph\")}(i,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(ws.createIn(n)),Nu(t,bs.createAt(n),e)}(t,e);const o=e.getFirstRange(),r=o.start,s=Vu.createFromPosition(o.end);o.start.isTouching(o.end)||t.remove(o),n.leaveUnmerged||(!function t(e,n,i){const o=n.parent;const r=i.parent;if(o==r)return;if(!o.parent||!r.parent)return;if(!function(t,e,n){const i=new ws(t,e);for(const t of i.getWalker())if(n.isLimit(t.item))return!1;return!0}(n,i,e.model.schema))return;n=bs.createAfter(o);i=bs.createBefore(r);i.isEqual(n)||e.insert(r,n);e.merge(n);for(;i.parent.isEmpty;){const t=i.parent;i=bs.createBefore(t),e.remove(t)}t(e,n,i)}(t,r,s),i.removeDisallowedAttributes(r.parent.getChildren(),t)),e instanceof Ps?t.setSelection(r):e.setTo(r),function(t,e){const n=t.checkChild(e,\"$text\"),i=t.checkChild(e,\"paragraph\");return!n&&i}(i,r)&&Nu(t,r,e),s.detach()})}function Nu(t,e,n){const i=t.createElement(\"paragraph\");t.insert(i,e),n instanceof Ps?t.setSelection(i,0):n.setTo(i,0)}const Du=' ,.?!:;\"-()';function Bu(t,e,n={}){const i=t.schema,o=\"backward\"!=n.direction,r=n.unit?n.unit:\"character\",s=e.focus,a=new ps({boundaries:function(t,e){const n=t.root,i=bs.createAt(n,e?\"end\":0);return e?new ws(t,i):new ws(i,t)}(s,o),singleCharacters:!0,direction:o?\"forward\":\"backward\"}),c={walker:a,schema:i,isForward:o,unit:r};let l;for(;l=a.next();){if(l.done)return;const n=Lu(c,l.value);if(n)return void(e instanceof Ps?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}function Lu(t,e){if(\"text\"==e.type)return\"word\"===t.unit?function(t,e){let n=t.position.textNode;if(n){let i=t.position.offset-n.startOffset;for(;!ju(n.data,i,e)&&!zu(n,i,e);){t.next();const o=e?t.position.nodeAfter:t.position.nodeBefore;if(o&&o.is(\"text\")){const i=o.data.charAt(e?0:o.data.length-1);Du.includes(i)||(t.next(),n=t.position.textNode)}i=t.position.offset-n.startOffset}}return t.position}(t.walker,t.isForward):function(t,e){const n=t.position.textNode;if(n){const i=n.data;let o=t.position.offset-n.startOffset;for(;Tu(i,o)||\"character\"==e&&Su(i,o);)t.next(),o=t.position.offset-n.startOffset}return t.position}(t.walker,t.unit,t.isForward);if(e.type==(t.isForward?\"elementStart\":\"elementEnd\")){if(t.schema.isObject(e.item))return bs.createAt(e.item,t.isForward?\"after\":\"before\");if(t.schema.checkChild(e.nextPosition,\"$text\"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip(()=>!0);if(t.schema.checkChild(e.nextPosition,\"$text\"))return e.nextPosition}}function ju(t,e,n){const i=e+(n?0:-1);return Du.includes(t.charAt(i))}function zu(t,e,n){return e===(n?t.endOffset:0)}function qu(t,e){const n=[];Array.from(t.getItems({direction:\"backward\"})).map(t=>ws.createOn(t)).filter(e=>{return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))}).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=ws.createOn(n);n=n.parent,e.remove(t)}})}function Uu(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.selection,i=e.schema,o=[];let r=!1;for(const t of n.getRanges()){const e=Hu(t,i);e?(o.push(e),r=!0):o.push(t)}if(r){let e=o;if(o.length>1){const t=o[0].start,n=o[o.length-1].end;e=[new ws(t,n)]}t.setSelection(e,{backward:n.isBackward})}})(e,t))}function Hu(t,e){return t.isCollapsed?function(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;const o=i.start;if(n.isEqual(o))return null;if(o.nodeAfter&&e.isLimit(o.nodeAfter))return new ws(o,bs.createAfter(o.nodeAfter));return new ws(o)}(t,e):function(t,e){const n=t.start,i=t.end,o=e.checkChild(n,\"$text\"),r=e.checkChild(i,\"$text\"),s=e.getLimitElement(n),a=e.getLimitElement(i);if(s===a){if(o&&r)return null;if(function(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,\"$text\"),o=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,\"$text\");return i&&o}(n,i,e)){const t=e.getNearestSelectionRange(n,\"forward\"),o=e.getNearestSelectionRange(i,\"backward\");return new ws(t?t.start:n,o?o.start:i)}}const c=s&&!s.is(\"rootElement\"),l=a&&!a.is(\"rootElement\");if(c||l){const t=c?Wu(bs.createAt(s),e,\"start\"):n,o=l?Wu(bs.createAt(a),e,\"end\"):i;return new ws(t,o)}return null}(t,e)}function Wu(t,e,n){let i=t.parent,o=i;for(;e.isLimit(o)&&o.parent;)i=o,o=o.parent;return\"start\"===n?bs.createBefore(i):bs.createAfter(i)}class $u{constructor(){this.markers=new Ru,this.document=new Pu(this),this.schema=new $s,this._pendingChanges=[],this._currentWriter=null,[\"insertContent\",\"deleteContent\",\"modifySelection\",\"getSelectedContent\",\"applyOperation\"].forEach(t=>this.decorate(t)),this.on(\"applyOperation\",(t,e)=>{e[0]._validate()},{priority:\"highest\"}),this.schema.register(\"$root\",{isLimit:!0}),this.schema.register(\"$block\",{allowIn:\"$root\",isBlock:!0}),this.schema.register(\"$text\",{allowIn:\"$block\"}),this.schema.register(\"$clipboardHolder\",{allowContentOf:\"$root\",isLimit:!0}),this.schema.extend(\"$text\",{allowIn:\"$clipboardHolder\"}),this.schema.register(\"$marker\",{allowIn:[\"$root\",\"$block\"]}),Uu(this)}change(t){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new uu,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}enqueueChange(t,e){\"string\"==typeof t?t=new uu(t):\"function\"==typeof t&&(e=t,t=new uu),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}applyOperation(t){t._execute()}transformDeltas(t,e,n=!1){return Zd.transformDeltaSets(t,e,n?this.document:null)}insertContent(t,e){!function(t,e,n){t.change(i=>{n.isCollapsed||t.deleteContent(n);const o=new Mu(t,i,n.anchor);let r;r=e.is(\"documentFragment\")?e.getChildren():[e],o.handleNodes(r,{isFirst:!0,isLast:!0});const s=o.getSelectionRange();s?n instanceof Ps?i.setSelection(s):n.setTo(s):zr.a.warn(\"insertcontent-no-range: Cannot determine a proper selection range after insertion.\")})}(this,t,e)}deleteContent(t,e){Fu(this,t,e)}modifySelection(t,e){Bu(this,t,e)}getSelectedContent(t){return function(t,e){return t.change(t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const o=i.start.root,r=i.start.getCommonPath(i.end),s=o.getNodeByPath(r);let a;const c=(a=i.start.parent==i.end.parent?i:ws.createFromParentsAndOffsets(s,i.start.path[r.length],s,i.end.path[r.length]+1)).end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is(\"textProxy\")?t.appendText(e.data,e.getAttributes(),n):t.append(e._clone(!0),n);if(a!=i){const e=i._getTransformedByMove(a.start,bs.createAt(n,0),c)[0],o=new ws(bs.createAt(n),e.start);qu(new ws(e.end,bs.createAt(n,\"end\")),t),qu(o,t)}return n})}(this,t)}hasContent(t){if(t instanceof fs&&(t=ws.createIn(t)),t.isCollapsed)return!1;for(const e of t.getItems())if(e.is(\"textProxy\")||this.schema.isObject(e))return!0;return!1}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];for(;this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new mu(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.fire(\"_change\",this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return t}}P($u,yi);class Ku{constructor(){this._listener=Object.create(Uo)}listenTo(t){this._listener.listenTo(t,\"keydown\",(t,e)=>{this._listener.fire(\"_keydown:\"+Qi(e),e)})}set(t,e,n={}){const i=Yi(t),o=n.priority;this._listener.listenTo(this._listener,\"_keydown:\"+i,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:o})}press(t){return!!this._listener.fire(\"_keydown:\"+Qi(t),t)}destroy(){this._listener.stopListening()}}class Gu extends Ku{constructor(t){super(),this.editor=t}set(t,e,n={}){if(\"string\"==typeof e){const t=e;e=((e,n)=>{this.editor.execute(t),n()})}super.set(t,e,n)}}n(42);class Ju{constructor(t){const e=this.constructor.builtinPlugins;this.config=new p(t,this.constructor.defaultConfig),this.config.define(\"plugins\",e),this.plugins=new js(this,e),this.commands=new zs,this.locale=new Us(this.config.get(\"language\")),this.t=this.locale.t,this.set(\"state\",\"initializing\"),this.once(\"ready\",()=>this.state=\"ready\",{priority:\"high\"}),this.once(\"destroy\",()=>this.state=\"destroyed\",{priority:\"high\"}),this.set(\"isReadOnly\",!1),this.model=new $u,this.data=new ua(this.model),this.editing=new Ls(this.model),this.editing.view.document.bind(\"isReadOnly\").to(this),this.conversion=new ha,this.conversion.register(\"downcast\",[this.editing.downcastDispatcher,this.data.downcastDispatcher]),this.conversion.register(\"editingDowncast\",[this.editing.downcastDispatcher]),this.conversion.register(\"dataDowncast\",[this.data.downcastDispatcher]),this.conversion.register(\"upcast\",[this.data.upcastDispatcher]),this.keystrokes=new Gu(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this,e=this.config;return function(){const n=e.get(\"plugins\")||[],i=e.get(\"removePlugins\")||[];return t.plugins.load(n,i)}().then(t=>n(t,\"init\").then(()=>n(t,\"afterInit\"))).then(()=>this.fire(\"pluginsReady\"));function n(t,e){return t.reduce((t,n)=>n[e]?t.then(n[e].bind(n)):t,Promise.resolve())}}destroy(){let t=Promise.resolve();return\"initializing\"==this.state&&(t=new Promise(t=>this.once(\"ready\",t))),t.then(()=>{this.fire(\"destroy\"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...t){this.commands.execute(...t)}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>{n.fire(\"dataReady\"),n.fire(\"ready\")}).then(()=>n))})}}P(Ju,yi);var Qu={setData(t){this.data.set(t)},getData(){return this.data.get()}};var Yu={updateSourceElement(){if(!this.sourceElement)throw new m.b(\"editor-missing-sourceelement: Cannot update the source element of a detached editor.\");!function(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}(this.sourceElement,this.data.get())}};class Xu{getHtml(t){const e=document.implementation.createHTMLDocument(\"\").createElement(\"div\");return e.appendChild(t),e.innerHTML}}class Zu{constructor(){this._domParser=new DOMParser,this._domConverter=new Lo({blockFiller:mo}),this._htmlWriter=new Xu}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,\"text/html\"),n=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class th{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){if(this.has(t))throw new m.b(\"componentfactory-item-exists: The item already exists in the component factory.\",{name:t});this._components.set(eh(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new m.b(\"componentfactory-item-missing: The required component is not registered in the factory.\",{name:t});return this._components.get(eh(t)).callback(this.editor.locale)}has(t){return this._components.has(eh(t))}}function eh(t){return String(t).toLowerCase()}class nh{constructor(){this.set(\"isFocused\",!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new m.b(\"focusTracker-add-element-already-exist\");this.listenTo(t,\"focus\",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,\"blur\",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}P(nh,Uo),P(nh,yi);class ih{constructor(t,e){this.editor=t,this.view=e,this.componentFactory=new th(t),this.focusTracker=new nh,this.listenTo(t.editing.view.document,\"layoutChanged\",()=>this.update())}update(){this.fire(\"update\")}destroy(){this.stopListening(),this.view.destroy()}}P(ih,y);class oh extends ih{constructor(t,e){super(t,e),this._toolbarConfig=function(t){return Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]}}(t.config.get(\"toolbar\"))}init(){const t=this.editor,e=this.view;e.render(),e.stickyPanel.bind(\"isActive\").to(this.focusTracker,\"isFocused\"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset);const n=t.editing.view.document.getRoot();e.editable.bind(\"isReadOnly\").to(n),e.editable.bind(\"isFocused\").to(t.editing.view.document),e.editable.name=n.rootName,this.focusTracker.add(this.view.editableElement),this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:i,beforeFocus:o,afterBlur:r}){n.add(i.element),e.set(\"Alt+F10\",(t,e)=>{n.isFocused&&!i.focusTracker.isFocused&&(o&&o(),i.focus(),e())}),i.keystrokes.set(\"Esc\",(e,n)=>{i.focusTracker.isFocused&&(t.focus(),r&&r(),n())})}({origin:t.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:this.view.toolbar})}}class rh extends Li{constructor(t){super({idProperty:\"viewUid\"}),this.on(\"add\",(t,e,n)=>{e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}),this.on(\"remove\",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this.locale=t,this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t}delegate(...t){if(!t.length||!function(t){return t.every(t=>\"string\"==typeof t)}(t))throw new m.b(\"ui-viewcollection-delegate-wrong-events: All event names must be strings.\");return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on(\"add\",(n,i)=>{for(const n of t)i.delegate(n).to(e)}),this.on(\"remove\",(n,i)=>{for(const n of t)i.stopDelegating(n,e)})}}}}P(Li,yi);var sh=function(t,e){return Tn(t,!0,!0,e)};const ah=\"http://www.w3.org/1999/xhtml\";class ch{constructor(t){Object.assign(this,bh(gh(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new m.b(\"ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.\");this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)yh(n)?yield n:xh(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,i)=>new dh({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,o)=>new uh({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:o})}}static extend(t,e){t._isRendered&&zr.a.warn(\"template-extend-render: Attempting to extend a template which has already been rendered.\"),function t(e,n){n.attributes&&(e.attributes||(e.attributes={}),_h(e.attributes,n.attributes));n.eventListeners&&(e.eventListeners||(e.eventListeners={}),_h(e.eventListeners,n.eventListeners));n.text&&e.text.push(...n.text);if(n.children&&n.children.length){if(e.children.length!=n.children.length)throw new m.b(\"ui-template-extend-children-mismatch: The number of children in extended definition does not match.\");let i=0;for(const o of n.children)t(e.children[i++],o)}}(t,bh(gh(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new m.b('ui-template-wrong-syntax: Node definition must have either \"tag\" or \"text\" when rendering a new Node.');return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||ah,this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(\"\"),hh(this.text)?this._bindToObservable({schema:this.text,updater:function(t){return{set(e){t.textContent=e},remove(){t.textContent=\"\"}}}(e),data:t}):e.textContent=this.text.join(\"\"),e}_renderAttributes(t){let e,n,i,o;if(!this.attributes)return;const r=t.node,s=t.revertData;for(e in this.attributes)if(i=r.getAttribute(e),n=this.attributes[e],s&&(s.attributes[e]=i),o=H(n[0])&&n[0].ns?n[0].ns:null,hh(n)){const a=o?n[0].value:n;s&&Ch(e)&&a.unshift(i),this._bindToObservable({schema:a,updater:ph(r,e,o),data:t})}else\"style\"==e&&\"string\"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(s&&i&&Ch(e)&&n.unshift(i),kh(n=n.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(vh,\"\"))||r.setAttributeNS(o,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const o=t[i];hh(o)?this._bindToObservable({schema:[o],updater:mh(n,i),data:e}):n.style[i]=o}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let o=0;for(const r of this.children)if(Ah(r)){if(!i){r.setParent(e);for(const t of r)n.appendChild(t.element)}}else if(yh(r))i||(r.isRendered||r.render(),n.appendChild(r.element));else if(Eo(r))n.appendChild(r);else if(i){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),r._renderNode({node:n.childNodes[o++],isApplying:!0,revertData:e})}else n.appendChild(r.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[i,o]=e.split(\"@\");return n.activateDomEventListener(i,o,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;fh(t,e,n);const o=t.filter(t=>!kh(t)).filter(t=>t.observable).map(i=>i.activateAttributeListener(t,e,n));i&&i.bindings.push(o)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}P(ch,y);class lh{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>fh(t,e,n);return this.emitter.listenTo(this.observable,\"change:\"+this.attribute,i),()=>{this.emitter.stopListening(this.observable,\"change:\"+this.attribute,i)}}}class dh extends lh{activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||(\"function\"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class uh extends lh{getValue(t){return!kh(super.getValue(t))&&(this.valueIfTrue||!0)}}function hh(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(hh):t instanceof lh)}function fh(t,e,{node:n}){let i=function(t,e){return t.map(t=>t instanceof lh?t.getValue(e):t)}(t,n);kh(i=1==t.length&&t[0]instanceof uh?i[0]:i.reduce(vh,\"\"))?e.remove():e.set(i)}function ph(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function mh(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function gh(t){return sh(t,t=>{if(t&&(t instanceof lh||xh(t)||yh(t)||Ah(t)))return t})}function bh(t){if(\"string\"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){Array.isArray(t.text)||(t.text=[t.text])}(t),t.on&&(t.eventListeners=function(t){for(const e in t)wh(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),wh(t,e)}(t.attributes);const e=[];if(t.children)if(Ah(t.children))e.push(t.children);else for(const n of t.children)xh(n)||yh(n)||Eo(n)?e.push(n):e.push(new ch(n));t.children=e}return t}function wh(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function vh(t,e){return kh(e)?t:kh(t)?e:`${t} ${e}`}function _h(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function kh(t){return!t&&0!==t}function yh(t){return t instanceof Th}function xh(t){return t instanceof ch}function Ah(t){return t instanceof rh}function Ch(t){return\"class\"==t||\"style\"==t}n(43);class Th{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Li,this._unboundChildren=this.createCollection(),this._viewCollections.on(\"add\",(e,n)=>{n.locale=t}),this.decorate(\"render\")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ch.bind(this,this)}createCollection(){const t=new rh;return this._viewCollections.add(t),t}registerChild(t){Vn(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){Vn(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new ch(t)}extendTemplate(t){ch.extend(this.template,t)}render(){if(this.isRendered)throw new m.b(\"ui-view-render-already-rendered: This View has already been rendered.\");this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy())}}P(Th,Uo),P(Th,yi);n(46);class Sh extends Th{constructor(t){super(t),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const t=this._bodyCollectionContainer=new ch({tag:\"div\",attributes:{class:[\"ck\",\"ck-reset_all\",\"ck-body\"]},children:this.body}).render();document.body.appendChild(t)}}n(48);class Eh extends Th{constructor(t){super(t),this.set(\"text\"),this.set(\"for\");const e=this.bindTemplate;this.setTemplate({tag:\"label\",attributes:{class:[\"ck\",\"ck-label\"],for:e.to(\"for\")},children:[{text:e.to(\"text\")}]})}}class Ph extends Sh{constructor(t){super(t);const e=w();this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(e),this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-reset\",\"ck-editor\"],role:\"application\",dir:\"ltr\",lang:t.language,\"aria-labelledby\":`ck-editor__aria-label_${e}`},children:[this._voiceLabelView,{tag:\"div\",attributes:{class:[\"ck\",\"ck-editor__top\",\"ck-reset_all\"],role:\"presentation\"},children:this.top},{tag:\"div\",attributes:{class:[\"ck\",\"ck-editor__main\"],role:\"presentation\"},children:this.main}]})}_createVoiceLabel(t){const e=this.t,n=new Eh;return n.text=e(\"an\"),n.extendTemplate({attributes:{id:`ck-editor__aria-label_${t}`,class:\"ck-voice-label\"}}),n}}class Oh extends Th{constructor(t,e){super(t);const n=this.bindTemplate;e&&(this.element=this.editableElement=e),this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-content\",\"ck-editor__editable\",n.to(\"isFocused\",t=>t?\"ck-focused\":\"ck-blurred\")],contenteditable:n.to(\"isReadOnly\",t=>!t)}}),this.set(\"isReadOnly\",!1),this.set(\"isFocused\",!1),this.externalElement=e}render(){super.render(),this.externalElement?this.template.apply(this.element=this.externalElement):this.editableElement=this.element}destroy(){this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}class Rh extends Oh{constructor(t,e){super(t,e);const n=this.bindTemplate,i=this.t;this.set(\"name\",null);this.extendTemplate({attributes:{role:\"textbox\",\"aria-label\":n.to(\"name\",t=>i(\"ar\",[t])),class:\"ck-editor__editable_inline\"}})}}function Ih(t){return e=>e+t}n(50);const Vh=Ih(\"px\");class Mh extends Th{constructor(t){super(t);const e=this.bindTemplate;this.set(\"isActive\",!1),this.set(\"isSticky\",!1),this.set(\"limiterElement\",null),this.set(\"limiterBottomOffset\",50),this.set(\"viewportTopOffset\",0),this.set(\"_marginLeft\",null),this.set(\"_isStickyToTheLimiter\",!1),this.set(\"_hasViewportTopOffset\",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new ch({tag:\"div\",attributes:{class:[\"ck\",\"ck-sticky-panel__placeholder\"],style:{display:e.to(\"isSticky\",t=>t?\"block\":\"none\"),height:e.to(\"isSticky\",t=>t?Vh(this._panelRect.height):null)}}}).render(),this._contentPanel=new ch({tag:\"div\",attributes:{class:[\"ck\",\"ck-sticky-panel__content\",e.if(\"isSticky\",\"ck-sticky-panel__content_sticky\"),e.if(\"_isStickyToTheLimiter\",\"ck-sticky-panel__content_sticky_bottom-limit\")],style:{width:e.to(\"isSticky\",t=>t?Vh(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to(\"_hasViewportTopOffset\",t=>t?Vh(this.viewportTopOffset):null),bottom:e.to(\"_isStickyToTheLimiter\",t=>t?Vh(this.limiterBottomOffset):null),marginLeft:e.to(\"_marginLeft\")}},children:this.content}).render(),this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-sticky-panel\"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Fo.window,\"scroll\",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,\"change:isActive\",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Vh(-Fo.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class Fh{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];\"string\"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(Nh)||null}get last(){return this.focusables.filter(Nh).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?\"first\":\"last\"];let i=(e+n+t)%n;do{const e=this.focusables.get(i);if(Nh(e))return e;i=(i+n+t)%n}while(i!==e);return null}}function Nh(t){return!(!t.focus||\"none\"==Fo.window.getComputedStyle(t.element).display)}class Dh extends Th{constructor(t){super(t),this.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-toolbar__separator\"]}})}}n(52);class Bh extends Th{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new nh,this.keystrokes=new Ku,this.set(\"isVertical\",!1),this.set(\"className\"),this._focusCycler=new Fh({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[\"arrowleft\",\"arrowup\"],focusNext:[\"arrowright\",\"arrowdown\"]}}),this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-toolbar\",e.if(\"isVertical\",\"ck-toolbar_vertical\"),e.to(\"className\")]},children:this.items,on:{mousedown:function(t){return t.bindTemplate.to(e=>{e.target===t.element&&e.preventDefault()})}(this)}})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on(\"add\",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on(\"remove\",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){t.map(t=>{\"|\"==t?this.items.add(new Dh):e.has(t)?this.items.add(e.create(t)):zr.a.warn(\"toolbarview-item-unavailable: The requested toolbar item is unavailable.\",{name:t})})}}n(54);class Lh extends Ph{constructor(t){super(t),this.stickyPanel=new Mh(t),this.toolbar=new Bh(t),this.editable=new Rh(t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}get editableElement(){return this.editable.element}}class jh{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display=\"none\",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display=\"\",e&&e.remove()}),this._replacedElements=[]}}class zh extends Ju{constructor(t,e){super(e),Bo(t)&&(this.sourceElement=t),this._elementReplacer=new jh,this.data.processor=new Zu,this.model.document.createRoot(),this.ui=new oh(this,new Lh(this.locale)),function(t){if(!G(t.updateSourceElement))throw new m.b(\"attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.\");const e=t.sourceElement;if(e&&\"textarea\"===e.tagName.toLowerCase()&&e.form){let n;const i=e.form,o=()=>t.updateSourceElement();G(i.submit)&&(n=i.submit,i.submit=(()=>{o(),n.apply(i)})),i.addEventListener(\"submit\",o),t.on(\"destroy\",()=>{i.removeEventListener(\"submit\",o),n&&(i.submit=n)})}}(this)}get element(){return this.ui.view.element}destroy(){return this.sourceElement&&this.updateSourceElement(),this._elementReplacer.restore(),this.ui.destroy(),super.destroy()}static create(t,e){return new Promise(n=>{const i=new this(t,e);n(i.initPlugins().then(()=>i.ui.init()).then(()=>{Bo(t)&&i._elementReplacer.replace(t,i.element),i.fire(\"uiReady\")}).then(()=>i.editing.view.attachDomRoot(i.ui.view.editableElement)).then(()=>{const e=Bo(t)?function(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}(t):t;return i.data.init(e)}).then(()=>{i.fire(\"dataReady\"),i.fire(\"ready\")}).then(()=>i))})}}P(zh,Qu),P(zh,Yu);class qh{constructor(t){this.editor=t}destroy(){this.stopListening()}}P(qh,yi);class Uh{constructor(t){this.files=function(t){const e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];if(e.length)return e;return n.filter(t=>\"file\"===t.kind).map(t=>t.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}class Hh extends Vr{constructor(t){super(t);const e=this.document;function n(t,n){n.preventDefault();const i=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges());e.fire(\"clipboardInput\",{dataTransfer:n.dataTransfer,targetRanges:i})}this.domEventType=[\"paste\",\"copy\",\"cut\",\"drop\",\"dragover\"],this.listenTo(e,\"paste\",n,{priority:\"low\"}),this.listenTo(e,\"drop\",n,{priority:\"low\"})}onDomEvent(t){const e={dataTransfer:new Uh(t.clipboardData?t.clipboardData:t.dataTransfer)};\"drop\"==t.type&&(e.dropRange=function(t,e){const n=e.target.ownerDocument,i=e.clientX,o=e.clientY;let r;n.caretRangeFromPoint&&n.caretRangeFromPoint(i,o)?r=n.caretRangeFromPoint(i,o):e.rangeParent&&((r=n.createRange()).setStart(e.rangeParent,e.rangeOffset),r.collapse(!0));return r?t.domConverter.domRangeToView(r):t.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,e)}}const Wh=[\"figcaption\",\"li\"];class $h extends qh{static get pluginName(){return\"Clipboard\"}init(){const t=this.editor,e=t.model.document,n=t.editing.view,i=n.document;function o(n,o){const r=o.dataTransfer;o.preventDefault();const s=t.data.toView(t.model.getSelectedContent(e.selection));i.fire(\"clipboardOutput\",{dataTransfer:r,content:s,method:n.name})}this._htmlDataProcessor=new Zu,n.addObserver(Hh),this.listenTo(i,\"clipboardInput\",e=>{t.isReadOnly&&e.stop()},{priority:\"highest\"}),this.listenTo(i,\"clipboardInput\",(t,e)=>{const i=e.dataTransfer;let o=\"\";i.getData(\"text/html\")?o=function(t){return t.replace(/<span(?: class=\"Apple-converted-space\"|)>(\\s+)<\\/span>/g,(t,e)=>1==e.length?\" \":e)}(i.getData(\"text/html\")):i.getData(\"text/plain\")&&(o=function(t){return(t=t.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\\n\\n/g,\"</p><p>\").replace(/\\n/g,\"<br>\").replace(/^\\s/,\"&nbsp;\").replace(/\\s$/,\"&nbsp;\").replace(/\\s\\s/g,\" &nbsp;\")).indexOf(\"</p><p>\")>-1&&(t=`<p>${t}</p>`),t}(i.getData(\"text/plain\"))),o=this._htmlDataProcessor.toView(o),this.fire(\"inputTransformation\",{content:o}),n.scrollToTheSelection()},{priority:\"low\"}),this.listenTo(this,\"inputTransformation\",(t,n)=>{if(!n.content.isEmpty){const t=this.editor.data,i=this.editor.model,o=t.toModel(n.content,\"$clipboardHolder\");if(0==o.childCount)return;i.insertContent(o,e.selection)}},{priority:\"low\"}),this.listenTo(i,\"copy\",o,{priority:\"low\"}),this.listenTo(i,\"cut\",(e,n)=>{t.isReadOnly?n.preventDefault():o(e,n)},{priority:\"low\"}),this.listenTo(i,\"clipboardOutput\",(n,i)=>{i.content.isEmpty||(i.dataTransfer.setData(\"text/html\",this._htmlDataProcessor.toData(i.content)),i.dataTransfer.setData(\"text/plain\",function t(e){let n=\"\";if(e.is(\"text\")||e.is(\"textProxy\"))n=e.data;else if(e.is(\"img\")&&e.hasAttribute(\"alt\"))n=e.getAttribute(\"alt\");else{let i=null;for(const o of e.getChildren()){const e=t(o);i&&(i.is(\"containerElement\")||o.is(\"containerElement\"))&&(Wh.includes(i.name)||Wh.includes(o.name)?n+=\"\\n\":n+=\"\\n\\n\"),n+=e,i=o}}return n}(i.content))),\"cut\"==i.method&&t.model.deleteContent(e.selection)},{priority:\"low\"})}}class Kh{constructor(t){this.editor=t,this.set(\"value\",void 0),this.set(\"isEnabled\",!1),this.decorate(\"execute\"),this.listenTo(this.editor.model.document,\"change\",()=>{this.refresh()}),this.on(\"execute\",t=>{this.isEnabled||t.stop()},{priority:\"high\"}),this.listenTo(t,\"change:isReadOnly\",(t,e,n)=>{n?(this.on(\"set:isEnabled\",Gh,{priority:\"highest\"}),this.isEnabled=!1):(this.off(\"set:isEnabled\",Gh),this.refresh())})}refresh(){this.isEnabled=!0}execute(){}destroy(){this.stopListening()}}function Gh(t){t.return=!1,t.stop()}P(Kh,yi);class Jh extends Kh{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n,i){const o=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,a=r.end.parent;if(i.isLimit(s)||i.isLimit(a))return void(o||s!=a||t.deleteContent(n));if(o)Qh(e,n,r.start);else{const i=!(r.start.isAtStart&&r.end.isAtEnd),o=s==a;t.deleteContent(n,{leaveUnmerged:i}),i&&(o?Qh(e,n,n.focus):e.setSelection(a,0))}}(this.editor.model,n,e.selection,t.schema),this.fire(\"afterExecute\",{writer:n})})}}function Qh(t,e,n){const i=n.parent,o=new i.constructor(i.name,i.getAttributes());n.isAtEnd?t.insert(o,n.parent,\"after\"):n.isAtStart?t.insert(o,n.parent,\"before\"):t.split(n),t.setSelection(n.parent.nextSibling,0)}class Yh extends $o{constructor(t){super(t);const e=this.document;e.on(\"keydown\",(t,n)=>{if(this.isEnabled&&n.keyCode==Ji.enter){let i;e.once(\"enter\",t=>i=t,{priority:\"highest\"}),e.fire(\"enter\",new Ir(e,n.domEvent,{isSoft:n.shiftKey})),i&&i.stop.called&&t.stop()}})}observe(){}}class Xh extends qh{static get pluginName(){return\"Enter\"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(Yh),t.commands.add(\"enter\",new Jh(t)),this.listenTo(n,\"enter\",(n,i)=>{i.isSoft||(t.execute(\"enter\"),i.preventDefault(),e.scrollToTheSelection())},{priority:\"low\"})}}class Zh extends Kh{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n){const i=n.isCollapsed,o=n.getFirstRange(),r=o.start.parent,s=o.end.parent,a=r==s;if(i)tf(e,o.end);else{const i=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),a?tf(e,n.focus):i&&e.setSelection(s,0)}}(t,n,e.selection),this.fire(\"afterExecute\",{writer:n})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,\"softBreak\"))return!1;const i=e.getFirstRange(),o=i.start.parent,r=i.end.parent;if((ef(o,t)||ef(r,t))&&o!==r)return!1;return!0}(t.schema,e.selection)}}function tf(t,e){const n=t.createElement(\"softBreak\");t.insert(n,e),t.setSelection(n,\"after\")}function ef(t,e){return!t.is(\"rootElement\")&&(e.isLimit(t)||ef(t.parent,e))}class nf extends qh{static get pluginName(){return\"ShiftEnter\"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,o=i.document;e.register(\"softBreak\",{allowWhere:\"$text\"}),n.for(\"upcast\").add(ra({model:\"softBreak\",view:\"br\"})),n.for(\"downcast\").add(Vs({model:\"softBreak\",view:(t,e)=>e.createEmptyElement(\"br\")})),i.addObserver(Yh),t.commands.add(\"shiftEnter\",new Zh(t)),this.listenTo(o,\"enter\",(e,n)=>{n.isSoft&&(t.execute(\"shiftEnter\"),n.preventDefault(),i.scrollToTheSelection())},{priority:\"low\"})}}class of{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=((t,e)=>{\"transparent\"!=e.type&&e!==this._batch&&this._reset(!0)}),this._selectionChangeCallback=(()=>{this._reset()}),this.model.document.on(\"change\",this._changeCallback),this.model.document.selection.on(\"change:range\",this._selectionChangeCallback),this.model.document.selection.on(\"change:attribute\",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=new uu),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off(\"change\",this._changeCallback),this.model.document.selection.off(\"change:range\",this._selectionChangeCallback),this.model.document.selection.off(\"change:attribute\",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class rf extends Kh{constructor(t,e){super(t),this._buffer=new of(t.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||\"\",o=i.length,r=t.range||n.selection.getFirstRange(),s=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{const e=r.isCollapsed;this._buffer.lock(),e||t.remove(r),i&&t.insertText(i,n.selection.getAttributes(),r.start),s?t.setSelection(s):e&&t.setSelection(r.start.getShiftedBy(o)),this._buffer.unlock(),this._buffer.input(o)})}}function sf(t){let e=null;const n=t.model,i=t.editing.view,o=t.commands.get(\"input\");function r(){const t=o.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}i.document.on(\"keydown\",(t,s)=>(function(t){const s=n.document,a=i.document.isComposing,c=e&&e.isEqual(s.selection);if(e=null,!o.isEnabled)return;if(function(t){if(t.ctrlKey)return!0;return af.includes(t.keyCode)}(t)||s.selection.isCollapsed)return;if(a&&229===t.keyCode)return;if(!a&&229===t.keyCode&&c)return;r()})(s),{priority:\"lowest\"}),i.document.on(\"compositionstart\",function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;if(t.selection.isCollapsed||e)return;r()},{priority:\"lowest\"}),i.document.on(\"compositionend\",()=>{e=new As(n.document.selection)},{priority:\"lowest\"})}const af=[Qi(\"arrowUp\"),Qi(\"arrowRight\"),Qi(\"arrowDown\"),Qi(\"arrowLeft\"),9,16,17,18,20,27,33,34,35,36];for(let t=112;t<=135;t++)af.push(t);function cf(t){if(0==t.length)return!1;for(const e of t)if(\"children\"===e.type&&!lf(e))return!0;return!1}function lf(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=function(t,e){const n=[];let i,o=0;return t.forEach(t=>{\"equal\"==t?(r(),o++):\"insert\"==t?(s(\"insert\")?i.values.push(e[o]):(r(),i={type:\"insert\",index:o,values:[e[o]]}),o++):s(\"delete\")?i.howMany++:(r(),i={type:\"delete\",index:o,howMany:1})}),r(),n;function r(){i&&(n.push(i),i=null)}function s(t){return i&&i.type==t}}(Ao(t.oldChildren,t.newChildren,df),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]instanceof On?n:void 0}function df(t,e){return t instanceof On&&e instanceof On?t.data===e.data:t===e}class uf{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(cf(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map(t=>t.node).reduce((t,e)=>t.getCommonAncestor(e,{includeSelf:!0}));if(!e)return;return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(t=>t.is(\"containerElement\")||t.is(\"rootElement\"))}(t);if(!n)return;const i=this.editor.editing.view.domConverter.mapViewToDom(n),o=new Lo,r=this.editor.data.toModel(o.domToView(i)).getChild(0),s=this.editor.editing.mapper.toModelElement(n);if(!s)return;const a=Array.from(r.getChildren()),c=Array.from(s.getChildren()),l=a[a.length-1],d=c[c.length-1];if(l&&l.is(\"softBreak\")&&d&&!d.is(\"softBreak\")&&a.pop(),!hf(a)||!hf(c))return;const u=a.map(t=>t.is(\"text\")?t.data:\"@\").join(\"\").replace(/\\u00A0/g,\" \"),h=c.map(t=>t.is(\"text\")?t.data:\"@\").join(\"\");if(h===u)return;const f=Ao(h,u),{firstChangeAt:p,insertions:m,deletions:g}=ff(f);let b=null;e&&(b=this.editing.mapper.toModelRange(e.getFirstRange()));const w=u.substr(p,m),v=ws.createFromParentsAndOffsets(s,p,s,p+g);this.editor.execute(\"input\",{text:w,range:v,resultRange:b})}_handleTextMutation(t,e){if(\"text\"!=t.type)return;const n=t.newText.replace(/\\u00A0/g,\" \"),i=Ao(t.oldText.replace(/\\u00A0/g,\" \"),n),{firstChangeAt:o,insertions:r,deletions:s}=ff(i);let a=null;e&&(a=this.editing.mapper.toModelRange(e.getFirstRange()));const c=new Vi(t.node,o),l=this.editing.mapper.toModelPosition(c),d=ws.createFromPositionAndShift(l,s),u=n.substr(o,r);this.editor.execute(\"input\",{text:u,range:d,resultRange:a})}_handleTextNodeInsertion(t){if(\"children\"!=t.type)return;const e=lf(t),n=new Vi(t.node,e.index),i=this.editing.mapper.toModelPosition(n),o=e.values[0].data;this.editor.execute(\"input\",{text:o.replace(/\\u00A0/g,\" \"),range:new ws(i)})}}function hf(t){return t.every(t=>t.is(\"text\")||t.is(\"softBreak\"))}function ff(t){let e=null,n=null;for(let i=0;i<t.length;i++){\"equal\"!=t[i]&&(e=null===e?i:e,n=i)}let i=0,o=0;for(let r=e;r<=n;r++)\"insert\"!=t[r]&&i++,\"delete\"!=t[r]&&o++;return{insertions:o,deletions:i,firstChangeAt:e}}class pf extends qh{static get pluginName(){return\"Input\"}init(){const t=this.editor,e=new rf(t,t.config.get(\"typing.undoStep\")||20);t.commands.add(\"input\",e),sf(t),function(t){t.editing.view.document.on(\"mutations\",(e,n,i)=>{new uf(t).handle(n,i)})}(t)}}class mf extends Kh{constructor(t,e){super(t),this.direction=e,this._buffer=new of(t.model,t.config.get(\"typing.undoStep\"))}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const o=new As(n.selection),r=o.isCollapsed;if(o.isCollapsed&&e.modifySelection(o,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void this._replaceEntireContentWithParagraph(i);if(o.isCollapsed)return;let s=0;o.getFirstRange().getMinimalFlatRanges().forEach(t=>{s+=Ni(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(o,{doNotResetEntireContent:r}),this._buffer.input(s),i.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(i)))return!1;if(!e.schema.checkChild(i,\"paragraph\"))return!1;const o=i.getChild(0);return!o||\"paragraph\"!==o.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n),o=new fs(\"paragraph\");t.remove(ws.createIn(i)),t.insert(o,i),t.setSelection(o,0)}}class gf extends $o{constructor(t){super(t);const e=t.document;let n=0;e.on(\"keyup\",(t,e)=>{e.keyCode!=Ji.delete&&e.keyCode!=Ji.backspace||(n=0)}),e.on(\"keydown\",(t,i)=>{const o={};if(i.keyCode==Ji.delete)o.direction=\"forward\",o.unit=\"character\";else{if(i.keyCode!=Ji.backspace)return;o.direction=\"backward\",o.unit=\"codePoint\"}const r=Gi.isMac?i.altKey:i.ctrlKey;let s;o.unit=r?\"word\":o.unit,o.sequence=++n,e.once(\"delete\",t=>s=t,{priority:\"highest\"}),e.fire(\"delete\",new Ir(e,i.domEvent,o)),s&&s.stop.called&&t.stop()})}observe(){}}function bf(t){const e=t.model,n=t.editing.view,i=200;let o=null,r=new As(e.document.selection),s=Date.now();e.document.selection.on(\"change\",function(t){const e=new As(t.source);r.isEqual(e)||(o=r,r=e,s=Date.now())}),n.document.on(\"mutations\",function(n,a){cf(a)&&function(t){for(const e of t){if(\"children\"!==e.type)continue;const t=e.oldChildren,n=e.newChildren;if(!wf(t))continue;const i=Ao(t,n),o=i.some(t=>\"delete\"===t),r=i.some(t=>\"insert\"===t);if(o&&!r)return!0}return!1}(a)&&(!function(){Date.now()-s<i&&o&&!o.isCollapsed&&r.isCollapsed&&r.getLastPosition().isEqual(o.getLastPosition())&&e.enqueueChange(t=>{t.setSelection(o)});t.execute(\"delete\")}(),n.stop())},{priority:\"highest\"})}function wf(t){return t.every(t=>t.is(\"containerElement\"))}class vf extends qh{static get pluginName(){return\"Delete\"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(gf),t.commands.add(\"forwardDelete\",new mf(t,\"forward\")),t.commands.add(\"delete\",new mf(t,\"backward\")),this.listenTo(n,\"delete\",(n,i)=>{t.execute(\"forward\"==i.direction?\"forwardDelete\":\"delete\",{unit:i.unit,sequence:i.sequence}),i.preventDefault(),e.scrollToTheSelection()}),bf(t)}}class _f extends qh{static get requires(){return[pf,vf]}static get pluginName(){return\"Typing\"}}class kf extends Kh{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const i=this.editor.model,o=i.document,r=[];for(const e of t){const t=yf(e,n).find(t=>t.start.root!=o.graveyard);t&&r.push(t)}r.length&&i.change(t=>{t.setSelection(r,{backward:e})})}_undo(t,e){const n=this.editor.model,i=n.document;this._createdBatches.add(e);const o=t.deltas.slice();o.reverse();for(const t of o)if(t.operations.some(t=>t.isDocumentOperation)){const o=t.baseVersion+t.operations.length,r=Array.from(i.history.getDeltas(o)),s=n.transformDeltas([t.getReversed()],r,!0).deltasA;for(const o of s){o.baseVersion=i.version,e.addDelta(o);for(const t of o.operations)n.applyOperation(t);i.history.setDeltaAsUndone(t,o)}}}}function yf(t,e){const n=function(t,e){for(const n of e)for(const e of n.operations)for(let n=0;n<t.length;n++){let i;switch(e.type){case\"insert\":i=t[n]._getTransformedByInsertion(e.position,e.nodes.maxOffset,!0);break;case\"move\":case\"remove\":case\"reinsert\":i=t[n]._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!0)}i&&(t.splice(n,1,...i),n=n+i.length-1)}return t}([t],e);n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<n.length;t++){const e=n[t-1],i=n[t];e.end.isTouching(i.start)&&(e.end=i.end,n.splice(t,1),t--)}return n}class xf extends kf{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],i=new uu;this.editor.model.enqueueChange(i,()=>{this._undo(n.batch,i);const t=this.editor.model.document.history.getDeltas(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire(\"revert\",n.batch,i)}),this.refresh()}}class Af extends kf{execute(){const t=this._stack.pop(),e=new uu;this.editor.model.enqueueChange(e,()=>{const n=t.batch.deltas[t.batch.deltas.length-1],i=n.baseVersion+n.operations.length,o=this.editor.model.document.history.getDeltas(i);this._restoreSelection(t.selection.ranges,t.selection.isBackward,o),this._undo(t.batch,e)}),this.refresh()}}class Cf extends qh{constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new xf(t),this._redoCommand=new Af(t),t.commands.add(\"undo\",this._undoCommand),t.commands.add(\"redo\",this._redoCommand),this.listenTo(t.model,\"applyOperation\",(t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const i=n.delta.batch;this._batchRegistry.has(i)||\"transparent\"==i.type||(this._redoCommand._createdBatches.has(i)?this._undoCommand.addBatch(i):this._undoCommand._createdBatches.has(i)||(this._undoCommand.addBatch(i),this._redoCommand.clearStack()),this._batchRegistry.add(i))},{priority:\"highest\"}),this.listenTo(this._undoCommand,\"revert\",(t,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set(\"CTRL+Z\",\"undo\"),t.keystrokes.set(\"CTRL+Y\",\"redo\"),t.keystrokes.set(\"CTRL+SHIFT+Z\",\"redo\")}}n(56);class Tf extends Th{constructor(){super();const t=this.bindTemplate;this.set(\"content\",\"\"),this.set(\"viewBox\",\"0 0 20 20\"),this.set(\"fillColor\",\"\"),this.setTemplate({tag:\"svg\",ns:\"http://www.w3.org/2000/svg\",attributes:{class:[\"ck\",\"ck-icon\"],viewBox:t.to(\"viewBox\")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on(\"change:content\",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on(\"change:fillColor\",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),\"image/svg+xml\").querySelector(\"svg\"),e=t.getAttribute(\"viewBox\");for(e&&(this.viewBox=e),this.element.innerHTML=\"\";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(\".ck-icon__fill\").forEach(t=>{t.style.fill=this.fillColor})}}n(58);class Sf extends Th{constructor(t){super(t);const e=this.bindTemplate,n=w();this.set(\"class\"),this.set(\"labelStyle\"),this.set(\"icon\"),this.set(\"isEnabled\",!0),this.set(\"isOn\",!1),this.set(\"isVisible\",!0),this.set(\"keystroke\"),this.set(\"label\"),this.set(\"tabindex\",-1),this.set(\"tooltip\"),this.set(\"type\",\"button\"),this.set(\"withText\",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(n),this.iconView=new Tf,this.iconView.extendTemplate({attributes:{class:\"ck-button__icon\"}}),this.setTemplate({tag:\"button\",attributes:{class:[\"ck\",\"ck-button\",\"tooltipped\",e.to(\"class\"),e.if(\"isEnabled\",\"ck-disabled\",t=>!t),e.if(\"isVisible\",\"ck-hidden\",t=>!t),e.to(\"isOn\",t=>t?\"ck-on\":\"ck-off\"),e.if(\"withText\",\"ck-button_with-text\")],type:e.to(\"type\",t=>t||\"button\"),tabindex:e.to(\"tabindex\"),\"aria-labelledby\":`ck-editor__aria-label_${n}`,\"aria-disabled\":e.if(\"isEnabled\",!0,t=>!t),\"aria-pressed\":e.if(\"isOn\",!0),\"data-position\":\"bottom\",\"data-tooltip\":[e.to(\"label\"),e.to(\"keystroke\")]},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{this.isEnabled?this.fire(\"execute\"):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind(\"content\").to(this,\"icon\"),this.children.add(this.iconView)),this.children.add(this.labelView)}focus(){this.element.focus()}_createLabelView(t){const e=new Th,n=this.bindTemplate;return e.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-button__label\"],style:n.to(\"labelStyle\"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to(\"label\")}]}),e}}var Ef=n(17),Pf=n.n(Ef),Of=n(18),Rf=n.n(Of);class If extends qh{init(){const t=this.editor.t;this._addButton(\"undo\",t(\"ao\"),\"CTRL+Z\",Pf.a),this._addButton(\"redo\",t(\"ap\"),\"CTRL+Y\",Rf.a)}_addButton(t,e,n,i){const o=this.editor;o.ui.componentFactory.add(t,r=>{const s=o.commands.get(t),a=new Sf(r);return a.set({label:e,icon:i,keystroke:n,tooltip:!0}),a.bind(\"isEnabled\").to(s,\"isEnabled\"),this.listenTo(a,\"execute\",()=>o.execute(t)),a})}}class Vf extends qh{static get requires(){return[Cf,If]}static get pluginName(){return\"Undo\"}}class Mf{constructor(t,e,n){let i;if(\"function\"==typeof n)i=n;else{const e=n;i=(()=>{t.execute(e)})}t.model.document.on(\"change\",(n,o)=>{if(\"transparent\"==o.type)return;const r=Array.from(t.model.document.differ.getChanges()),s=r[0];if(1!=r.length||\"insert\"!==s.type||\"$text\"!=s.name||1!=s.length)return;const a=s.position.textNode||s.position.nodeAfter;if(!a.parent.is(\"paragraph\"))return;const c=e.exec(a.data);c&&t.model.enqueueChange(t=>{const e=ws.createFromParentsAndOffsets(a.parent,0,a.parent,c[0].length);t.remove(e),i({match:c})})})}}class Ff{constructor(t,e,n){let i,o,r,s;e instanceof RegExp?i=e:r=e,\"string\"==typeof n?o=n:s=n,r=r||(t=>{let e;const n=[],o=[];for(;null!==(e=i.exec(t))&&!(e&&e.length<4);){let{index:t,1:i,2:r,3:s}=e;const a=i+r+s,c=[t+=e[0].length-a.length,t+i.length],l=[t+i.length+r.length,t+i.length+r.length+s.length];n.push(c),n.push(l),o.push([t+i.length,t+i.length+r.length])}return{remove:n,format:o}}),s=s||((t,e)=>{for(const n of e)t.setAttribute(o,!0,n);t.removeSelectionAttribute(o)}),t.model.document.on(\"change\",(e,n)=>{if(\"transparent\"==n.type)return;const i=t.model.document.selection;if(!i.isCollapsed)return;const a=Array.from(t.model.document.differ.getChanges()),c=a[0];if(1!=a.length||\"insert\"!==c.type||\"$text\"!=c.name||1!=c.length)return;const l=i.focus.parent,d=function(t){return Array.from(t.getChildren()).reduce((t,e)=>t+e.data,\"\")}(l).slice(0,i.focus.offset),u=r(d),h=Nf(l,u.format),f=Nf(l,u.remove);h.length&&f.length&&t.model.enqueueChange(e=>{const n=t.model.schema.getValidRanges(h,o);s(e,n);for(const t of f.reverse())e.remove(t)})})}}function Nf(t,e){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>ws.createFromParentsAndOffsets(t,e[0],t,e[1]))}class Df extends Kh{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const o=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of o)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const t of n.getRanges())for(const n of t.getItems())if(e.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}const Bf=\"bold\";class Lf extends qh{init(){const t=this.editor;t.model.schema.extend(\"$text\",{allowAttributes:Bf}),t.conversion.attributeToElement({model:Bf,view:\"strong\",upcastAlso:[\"b\",{styles:{\"font-weight\":\"bold\"}}]}),t.commands.add(Bf,new Df(t,Bf)),t.keystrokes.set(\"CTRL+B\",Bf)}}var jf=n(19),zf=n.n(jf);const qf=\"bold\";class Uf extends qh{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(qf,n=>{const i=t.commands.get(qf),o=new Sf(n);return o.set({label:e(\"f\"),icon:zf.a,keystroke:\"CTRL+B\",tooltip:!0}),o.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\"),this.listenTo(o,\"execute\",()=>t.execute(qf)),o})}}const Hf=\"italic\";class Wf extends qh{init(){const t=this.editor;t.model.schema.extend(\"$text\",{allowAttributes:Hf}),t.conversion.attributeToElement({model:Hf,view:\"i\",upcastAlso:[\"em\",{styles:{\"font-style\":\"italic\"}}]}),t.commands.add(Hf,new Df(t,Hf)),t.keystrokes.set(\"CTRL+I\",Hf)}}var $f=n(20),Kf=n.n($f);const Gf=\"italic\";class Jf extends qh{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Gf,n=>{const i=t.commands.get(Gf),o=new Sf(n);return o.set({label:e(\"g\"),icon:Kf.a,keystroke:\"CTRL+I\",tooltip:!0}),o.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\"),this.listenTo(o,\"execute\",()=>t.execute(Gf)),o})}}function Qf(t){const e=t.next();return e.done?null:e.value}class Yf extends Kh{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document,n=t.schema,i=Array.from(e.selection.getSelectedBlocks());t.change(t=>{if(this.value)this._removeQuote(t,i.filter(Xf));else{const e=i.filter(t=>Xf(t)||tp(n,t));this._applyQuote(t,e)}})}_getValue(){const t=Qf(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Xf(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Qf(t.getSelectedBlocks());return!!n&&tp(e,n)}_removeQuote(t,e){Zf(e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=bs.createBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=bs.createAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,e){const n=[];Zf(e).reverse().forEach(e=>{let i=Xf(e.start);i||(i=new fs(\"blockQuote\"),t.wrap(e,i)),n.push(i)}),n.reverse().reduce((e,n)=>e.nextSibling==n?(t.merge(bs.createAfter(e)),e):n)}}function Xf(t){return\"blockQuote\"==t.parent.name?t.parent:null}function Zf(t){let e,n=0;const i=[];for(;n<t.length;){const o=t[n],r=t[n+1];e||(e=bs.createBefore(o)),r&&o.nextSibling==r||(i.push(new ws(e,bs.createAfter(o))),e=null),n++}return i}function tp(t,e){const n=t.checkChild(e.parent,\"blockQuote\"),i=t.checkChild([\"$root\",\"blockQuote\"],e);return n&&i}class ep extends qh{init(){const t=this.editor,e=t.model.schema;t.commands.add(\"blockQuote\",new Yf(t)),e.register(\"blockQuote\",{allowWhere:\"$block\",allowContentOf:\"$root\"}),e.addChildCheck((t,e)=>{if(t.endsWith(\"blockQuote\")&&\"blockQuote\"==e.name)return!1}),t.conversion.elementToElement({model:\"blockQuote\",view:\"blockquote\"})}afterInit(){const t=this.editor.commands.get(\"blockQuote\");this.listenTo(this.editor.editing.view.document,\"enter\",(e,n)=>{const i=this.editor.model.document,o=i.selection.getLastPosition().parent;i.selection.isCollapsed&&o.isEmpty&&t.value&&(this.editor.execute(\"blockQuote\"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())})}}var np=n(21),ip=n.n(np);class op extends qh{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(\"blockQuote\",n=>{const i=t.commands.get(\"blockQuote\"),o=new Sf(n);return o.set({label:e(\"h\"),icon:ip.a,tooltip:!0}),o.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\"),this.listenTo(o,\"execute\",()=>t.execute(\"blockQuote\")),o})}}class rp extends qh{static get pluginName(){return\"PendingActions\"}init(){this.set(\"hasAny\",!1),this._actions=new Li({idProperty:\"_id\"}),this._actions.delegate(\"add\",\"remove\").to(this)}add(t){if(\"string\"!=typeof t)throw new m.b(\"pendingactions-add-invalid-message: The message must be a string.\");const e=Object.create(yi);return e.set(\"message\",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class sp{constructor(){const t=new window.FileReader;this._reader=t,this.set(\"loaded\",0),t.onprogress=(t=>{this.loaded=t.loaded})}get error(){return this._reader.error}read(t){const e=this._reader;return this.total=t.size,new Promise((n,i)=>{e.onload=(()=>{n(e.result)}),e.onerror=(()=>{i(\"error\")}),e.onabort=(()=>{i(\"aborted\")}),this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}P(sp,yi);class ap extends qh{static get pluginName(){return\"FileRepository\"}static get requires(){return[rp]}init(){this.loaders=new Li,this.loaders.on(\"add\",()=>this._updatePendingAction()),this.loaders.on(\"remove\",()=>this._updatePendingAction()),this._pendingAction=null,this.set(\"uploaded\",0),this.set(\"uploadTotal\",null),this.bind(\"uploadedPercent\").to(this,\"uploaded\",this,\"uploadTotal\",(t,e)=>e?t/e*100:0)}getLoader(t){for(const e of this.loaders)if(e.file==t)return e;return null}createLoader(t){if(!this.createUploadAdapter)return zr.a.error(\"filerepository-no-upload-adapter: Upload adapter is not defined.\"),null;const e=new cp(t);return e._adapter=this.createUploadAdapter(e),this.loaders.add(e),e.on(\"change:uploaded\",()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t}),e.on(\"change:uploadTotal\",()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t}),e}destroyLoader(t){const e=t instanceof cp?t:this.getLoader(t);e._destroy(),this.loaders.remove(e)}_updatePendingAction(){const t=this.editor.plugins.get(rp);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e(\"ae\")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind(\"message\").to(this,\"uploadedPercent\",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}P(ap,yi);class cp{constructor(t,e){this.id=w(),this.file=t,this._adapter=e,this._reader=new sp,this.set(\"status\",\"idle\"),this.set(\"uploaded\",0),this.set(\"uploadTotal\",null),this.bind(\"uploadedPercent\").to(this,\"uploaded\",this,\"uploadTotal\",(t,e)=>e?t/e*100:0),this.set(\"uploadResponse\",null)}read(){if(\"idle\"!=this.status)throw new m.b(\"filerepository-read-wrong-status: You cannot call read if the status is different than idle.\");return this.status=\"reading\",this._reader.read(this.file).then(t=>(this.status=\"idle\",t)).catch(t=>{if(\"aborted\"===t)throw this.status=\"aborted\",\"aborted\";throw this.status=\"error\",this._reader.error})}upload(){if(\"idle\"!=this.status)throw new m.b(\"filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.\");return this.status=\"uploading\",this._adapter.upload().then(t=>(this.uploadResponse=t,this.status=\"idle\",t)).catch(t=>{if(\"aborted\"===this.status)throw\"aborted\";throw this.status=\"error\",t})}abort(){const t=this.status;this.status=\"aborted\",\"reading\"==t&&this._reader.abort(),\"uploading\"==t&&this._adapter.abort&&this._adapter.abort(),this._destroy()}_destroy(){this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0,this.file=void 0}}P(cp,yi);const lp=/^data:(\\S*?);base64,/;class dp{constructor(t,e,n){if(!t)throw new Error(\"File must be provided\");if(!e)throw new Error(\"Token must be provided\");if(!n)throw new Error(\"Api address must be provided\");this.file=function(t){if(\"string\"!=typeof t)return!1;const e=t.match(lp);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(lp)[1],i=atob(t.replace(lp,\"\")),o=[];for(let t=0;t<i.length;t+=e){const n=i.slice(t,t+e),r=new Array(n.length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);o.push(new Uint8Array(r))}return new Blob(o,{type:n})}catch(t){throw new Error(\"Problem with decoding Base64 image data.\")}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on(\"progress\",(e,n)=>t(n)),this}onError(t){return this.once(\"error\",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open(\"POST\",this._apiAddress),t.setRequestHeader(\"Authorization\",this._token.value),t.responseType=\"json\",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire(\"error\",e)}e.addEventListener(\"error\",n(\"Network Error\")),e.addEventListener(\"abort\",n(\"Abort\")),e.upload&&e.upload.addEventListener(\"progress\",t=>{t.lengthComputable&&this.fire(\"progress\",{total:t.total,uploaded:t.loaded})}),e.addEventListener(\"load\",()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire(\"error\",n.message||n.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append(\"file\",this.file),new Promise((n,i)=>{e.addEventListener(\"load\",()=>{const t=e.status,o=e.response;return t<200||t>299?i(o.message||o.error):n(o)}),e.addEventListener(\"error\",()=>i(\"Network Error\")),e.addEventListener(\"abort\",()=>i(\"Abort\")),e.send(t)})}}P(dp,y);var up=dp;const hp={refreshInterval:36e5,autoRefresh:!0};class fp{constructor(t,e=hp){if(!t)throw new Error(\"`tokenUrl` must be provided\");this.set(\"value\",e.initValue),this._tokenUrl=t,this._options=Object.assign({},hp,e)}init(){return new Promise((t,e)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?t(this):this._refreshToken().then(t).catch(e)})}_refreshToken(){return new Promise((t,e)=>{const n=new XMLHttpRequest;n.open(\"GET\",this._tokenUrl),n.addEventListener(\"load\",()=>{const i=n.status,o=n.response;return i<200||i>299?e(\"Cannot download new token!\"):(this.set(\"value\",o),t(this))}),n.addEventListener(\"error\",()=>e(\"Network Error\")),n.addEventListener(\"abort\",()=>e(\"Abort\")),n.send()})}_startRefreshing(){this._refreshInterval=setInterval(this._refreshToken.bind(this),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(t,e=hp){return new fp(t,e).init()}}P(fp,yi);var pp=fp;class mp extends qh{init(){const t=this.editor.config.get(\"cloudServices\")||{};for(const e in t)this[e]=t[e];if(this.tokenUrl)return this.token=new mp.Token(this.tokenUrl),this.token.init();this.token=null}}mp.Token=pp;class gp extends qh{static get requires(){return[ap,mp]}init(){const t=this.editor,e=t.plugins.get(mp),n=e.token,i=e.uploadUrl;n&&(this._uploadGateway=new gp._UploadGateway(n,i),t.plugins.get(ap).createUploadAdapter=(t=>new bp(this._uploadGateway,t)))}}class bp{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.fileUploader=this.uploadGateway.upload(this.loader.file),this.fileUploader.on(\"progress\",(t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()}abort(){this.fileUploader.abort()}}gp._UploadGateway=class{constructor(t,e){if(!t)throw new Error(\"Token must be provided\");if(!e)throw new Error(\"Api address must be provided\");this._token=t,this._apiAddress=e}upload(t){return new up(t,this._token,this._apiAddress)}};class wp extends $o{constructor(t){super(t),this._observedElements=new Set}observe(t,e){this.document.getRoot(e).on(\"change:children\",(e,n)=>{this.view.once(\"render\",()=>this._updateObservedElements(t,n))})}_updateObservedElements(t,e){if(!e.is(\"element\")||e.is(\"attributeElement\"))return;const n=this.view.domConverter.mapViewToDom(e);if(n){for(const t of n.querySelectorAll(\"img\"))this._observedElements.has(t)||(this.listenTo(t,\"load\",(t,e)=>this._fireEvents(e)),this._observedElements.add(t));for(const e of this._observedElements)t.contains(e)||(this.stopListening(e),this._observedElements.delete(e))}}_fireEvents(t){this.isEnabled&&(this.document.fire(\"layoutChanged\"),this.document.fire(\"imageLoaded\",t))}destroy(){this._observedElements.clear(),super.destroy()}}function vp(t){return n=>{n.on(`attribute:${t}:image`,e)};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,o=n.mapper.toViewElement(e.item).getChild(0);null!==e.attributeNewValue?i.setAttribute(e.attributeKey,e.attributeNewValue,o):i.removeAttribute(e.attributeKey,o)}}class _p{constructor(){this._stack=[]}add(t,e){const n=this._stack,i=n[0];this._insertDescriptor(t);const o=n[0];i===o||kp(i,o)||this.fire(\"change:top\",{oldDescriptor:i,newDescriptor:o,writer:e})}remove(t,e){const n=this._stack,i=n[0];this._removeDescriptor(t);const o=n[0];i===o||kp(i,o)||this.fire(\"change:top\",{oldDescriptor:i,newDescriptor:o,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t.id);if(kp(t,e[n]))return;n>-1&&e.splice(n,1);let i=0;for(;e[i]&&yp(e[i],t);)i++;e.splice(i,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);n>-1&&e.splice(n,1)}}function kp(t,e){return t&&e&&t.priority==e.priority&&xp(t.classes)==xp(e.classes)}function yp(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&xp(t.classes)>xp(e.classes)}function xp(t){return Array.isArray(t)?t.sort().join(\",\"):t}P(_p,y);var Ap=n(22),Cp=n.n(Ap);const Tp=Symbol(\"isWidget\"),Sp=Symbol(\"label\"),Ep=\"ck-widget\",Pp=\"ck-widget_selected\";function Op(t){return!!t.getCustomProperty(Tp)}function Rp(t,e,n={}){return Gi.isEdge||e.setAttribute(\"contenteditable\",\"false\",t),e.addClass(Ep,t),e.setCustomProperty(Tp,!0,t),t.getFillerOffset=Vp,n.label&&function(t,e,n){n.setCustomProperty(Sp,e,t)}(t,n.label,e),n.hasSelectionHandler&&function(t,e){const n=e.createUIElement(\"div\",{class:\"ck ck-widget__selection-handler\"},function(t){const e=this.toDomElement(t),n=new Tf;return n.set(\"content\",Cp.a),n.render(),e.appendChild(n.element),e});e.insert(Vi.createAt(t),n),e.addClass([\"ck-widget_selectable\"],t)}(t,e),function(t,e,n,i){const o=new _p;o.on(\"change:top\",(e,o)=>{o.oldDescriptor&&i(t,o.oldDescriptor,o.writer),o.newDescriptor&&n(t,o.newDescriptor,o.writer)}),e.setCustomProperty(\"addHighlight\",(t,e,n)=>o.add(e,n),t),e.setCustomProperty(\"removeHighlight\",(t,e,n)=>o.remove(e,n),t)}(t,e,(t,e,n)=>n.addClass(i(e.classes),t),(t,e,n)=>n.removeClass(i(e.classes),t)),t;function i(t){return Array.isArray(t)?t:[t]}}function Ip(t){const e=t.getCustomProperty(Sp);return e?\"function\"==typeof e?e():e:\"\"}function Vp(){return null}const Mp=Symbol(\"isImage\");function Fp(t){const e=t.getSelectedElement();return!(!e||!function(t){return!!t.getCustomProperty(Mp)&&Op(t)}(e))}function Np(t){return t instanceof fs&&\"image\"==t.name}class Dp extends qh{init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion;t.editing.view.addObserver(wp),e.register(\"image\",{isObject:!0,isBlock:!0,allowWhere:\"$block\",allowAttributes:[\"alt\",\"src\",\"srcset\"]}),i.for(\"dataDowncast\").add(Vs({model:\"image\",view:(t,e)=>Bp(e)})),i.for(\"editingDowncast\").add(Vs({model:\"image\",view:(t,e)=>(function(t,e,n){return e.setCustomProperty(Mp,!0,t),Rp(t,e,{label:function(){const e=t.getChild(0).getAttribute(\"alt\");return e?`${e} ${n}`:n}})})(Bp(e),e,n(\"n\"))})),i.for(\"downcast\").add(vp(\"src\")).add(vp(\"alt\")).add(function(){return e=>{e.on(\"attribute:srcset:image\",t)};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,o=n.mapper.toViewElement(e.item).getChild(0);if(null===e.attributeNewValue){const t=e.attributeOldValue;t.data&&(i.removeAttribute(\"srcset\",o),i.removeAttribute(\"sizes\",o),t.width&&i.removeAttribute(\"width\",o))}else{const t=e.attributeNewValue;t.data&&(i.setAttribute(\"srcset\",t.data,o),i.setAttribute(\"sizes\",\"100vw\",o),t.width&&i.setAttribute(\"width\",t.width,o))}}}()),i.for(\"upcast\").add(ra({view:{name:\"img\",attributes:{src:!0}},model:(t,e)=>e.createElement(\"image\",{src:t.getAttribute(\"src\")})})).add(aa({view:{name:\"img\",key:\"alt\"},model:\"alt\"})).add(aa({view:{name:\"img\",key:\"srcset\"},model:{key:\"srcset\",value:t=>{const e={data:t.getAttribute(\"srcset\")};return t.hasAttribute(\"width\")&&(e.width=t.getAttribute(\"width\")),e}}})).add(function(){return e=>{e.on(\"element:figure\",t)};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:\"image\"}))return;const i=Array.from(e.viewItem.getChildren()).find(t=>t.is(\"img\"));if(!i||!i.hasAttribute(\"src\")||!n.consumable.test(i,{name:!0}))return;const o=n.convertItem(i,e.modelCursor),r=Qf(o.modelRange.getItems());r&&(n.convertChildren(e.viewItem,bs.createAt(r)),e.modelRange=o.modelRange,e.modelCursor=o.modelCursor)}}())}}function Bp(t){const e=t.createEmptyElement(\"img\"),n=t.createContainerElement(\"figure\",{class:\"image\"});return t.insert(Vi.createAt(n),e),n}class Lp extends Vr{constructor(t){super(t),this.domEventType=\"mousedown\"}onDomEvent(t){this.fire(t.type,t)}}n(60);const jp=Yi(\"Ctrl+A\");class zp extends qh{static get pluginName(){return\"Widget\"}init(){const t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on(\"selection\",(t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,o=i.document.selection,r=o.getSelectedElement();for(const t of o.getRanges())for(const e of t){const t=e.item;t.is(\"element\")&&Op(t)&&(i.addClass(Pp,t),this._previouslySelected.add(t),t==r&&i.setSelection(o.getRanges(),{fake:!0,label:Ip(r)}))}},{priority:\"low\"}),t.addObserver(Lp),this.listenTo(e,\"mousedown\",(...t)=>this._onMousedown(...t)),this.listenTo(e,\"keydown\",(...t)=>this._onKeydown(...t),{priority:\"high\"}),this.listenTo(e,\"delete\",(t,e)=>{this._handleDelete(\"forward\"==e.direction)&&(e.preventDefault(),t.stop())},{priority:\"high\"})}_onMousedown(t,e){const n=this.editor,i=n.editing.view,o=i.document;let r=e.target;if(function(t){for(;t;){if(t instanceof Pi&&!(t instanceof Ri))return!0;t=t.parent}return!1}(r))return;if(!Op(r)&&!(r=r.findAncestor(Op)))return;e.preventDefault(),o.isFocused||i.focus();const s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_onKeydown(t,e){const n=e.keyCode,i=n==Ji.delete||n==Ji.arrowdown||n==Ji.arrowright;let o=!1;!function(t){return t==Ji.arrowright||t==Ji.arrowleft||t==Ji.arrowup||t==Ji.arrowdown}(n)?!function(t){return Qi(t)==jp}(e)?n===Ji.enter&&(o=this._handleEnterKey(e.shiftKey)):o=this._selectAllNestedEditableContent()||this._selectAllContent():o=this._handleArrowKeys(i),o&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(t=>{let i=e.anchor.parent;for(;i.isEmpty;){const e=i;i=e.parent,t.remove(e)}this._setSelectionOverElement(n)}),!0):void 0}_handleArrowKeys(t){const e=this.editor.model,n=e.schema,i=e.document.selection,o=i.getSelectedElement();if(o&&n.isObject(o)){const o=t?i.getLastPosition():i.getFirstPosition(),r=n.getNearestSelectionRange(o,t?\"forward\":\"backward\");return r&&e.change(t=>{t.setSelection(r)}),!0}if(!i.isCollapsed)return;const r=this._getObjectElementNextToSelection(t);return r instanceof fs&&n.isObject(r)?(this._setSelectionOverElement(r),!0):void 0}_handleEnterKey(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();if(n&&e.schema.isObject(n))return e.change(e=>{const i=e.createElement(\"paragraph\");e.insert(i,n,t?\"before\":\"after\"),e.setSelection(i,\"in\")}),!0}_selectAllNestedEditableContent(){const t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);return e.getFirstRange().root!=n&&(t.change(t=>{t.setSelection(ws.createIn(n))}),!0)}_selectAllContent(){const t=this.editor.model,e=this.editor.editing,n=e.view.document.selection.getSelectedElement();if(n&&Op(n)){const i=e.mapper.toModelElement(n.parent);return t.change(t=>{t.setSelection(ws.createIn(i))}),!0}return!1}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(ws.createOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,i=e.document.selection,o=new As(i);e.modifySelection(o,{direction:t?\"forward\":\"backward\"});const r=t?o.focus.nodeBefore:o.focus.nodeAfter;return r instanceof fs&&n.isObject(r)?r:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(Pp,e);this._previouslySelected.clear()}}class qp extends Kh{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Np(t),Np(t)&&t.hasAttribute(\"alt\")?this.value=t.getAttribute(\"alt\"):this.value=!1}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute(\"alt\",t.newValue,n)})}}class Up extends qh{init(){this.editor.commands.add(\"imageTextAlternative\",new qp(this.editor))}}function Hp({emitter:t,activator:e,callback:n,contextElements:i}){t.listenTo(document,\"mousedown\",(t,{target:o})=>{if(e()){for(const t of i)if(t.contains(o))return;n()}})}class Wp extends Th{constructor(t,e){super(t);const n=`ck-input-${w()}`;this.set(\"label\"),this.set(\"value\"),this.set(\"isReadOnly\",!1),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(e,n);const i=this.bindTemplate;this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-labeled-input\",i.if(\"isReadOnly\",\"ck-disabled\")]},children:[this.labelView,this.inputView]})}_createLabelView(t){const e=new Eh(this.locale);return e.for=t,e.bind(\"text\").to(this,\"label\"),e}_createInputView(t,e){const n=new t(this.locale);return n.id=e,n.bind(\"value\").to(this),n.bind(\"isReadOnly\").to(this),n}select(){this.inputView.select()}focus(){this.inputView.focus()}}n(62);class $p extends Th{constructor(t){super(t),this.set(\"value\"),this.set(\"id\"),this.set(\"placeholder\"),this.set(\"isReadOnly\",!1);const e=this.bindTemplate;this.setTemplate({tag:\"input\",attributes:{type:\"text\",class:[\"ck\",\"ck-input\",\"ck-input-text\"],id:e.to(\"id\"),placeholder:e.to(\"placeholder\"),readonly:e.to(\"isReadOnly\")}})}render(){super.render();const t=t=>{this.element.value=t||0===t?t:\"\"};t(this.value),this.on(\"change:value\",(e,n,i)=>{t(i)})}select(){this.element.select()}focus(){this.element.focus()}}function Kp({view:t}){t.listenTo(t.element,\"submit\",(e,n)=>{n.preventDefault(),t.fire(\"submit\")},{useCapture:!0})}var Gp=n(5),Jp=n.n(Gp),Qp=n(6),Yp=n.n(Qp);n(64);class Xp extends Th{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new nh,this.keystrokes=new Ku,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e(\"ag\"),Jp.a,\"ck-button-save\"),this.saveButtonView.type=\"submit\",this.cancelButtonView=this._createButton(e(\"ah\"),Yp.a,\"ck-button-cancel\",\"cancel\"),this._focusables=new rh,this._focusCycler=new Fh({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"shift + tab\",focusNext:\"tab\"}}),this.setTemplate({tag:\"form\",attributes:{class:[\"ck\",\"ck-text-alternative-form\"],tabindex:\"-1\"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Kp({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(t,e,n,i){const o=new Sf(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate(\"execute\").to(this,i),o}_createLabeledInputView(){const t=this.locale.t,e=new Wp(this.locale,$p);return e.label=t(\"aq\"),e.inputView.placeholder=t(\"aq\"),e}}function Zp({element:t,target:e,positions:n,limiter:i,fitInViewport:o}){G(e)&&(e=e()),G(i)&&(i=i());const r=function(t){for(;t&&\"html\"!=t.tagName.toLowerCase();){if(\"static\"!=Fo.window.getComputedStyle(t).position)return t;t=t.parentElement}return null}(t.parentElement),s=new Kr(t),a=new Kr(e);let c,l;if(i||o){const t=i&&new Kr(i).getVisible(),e=o&&new Kr(Fo.window);[l,c]=function(t,e,n,i,o){let r,s,a=0,c=0;const l=n.getArea();return t.some(t=>{const[d,u]=tm(t,e,n);let h,f;if(i)if(o){const t=i.getIntersection(o);h=t?t.getIntersectionArea(u):0}else h=i.getIntersectionArea(u);function p(){c=f,a=h,r=u,s=d}return o&&(f=o.getIntersectionArea(u)),o&&!i?f>c&&p():!o&&i?h>a&&p():f>c&&h>=a?p():f>=c&&h>a&&p(),h===l}),r?[s,r]:null}(n,a,s,t,e)||tm(n[0],a,s)}else[l,c]=tm(n[0],a,s);let{left:d,top:u}=em(c);if(r){const t=em(new Kr(r)),e=$r(r);d-=t.left,u-=t.top,d+=r.scrollLeft,u+=r.scrollTop,d-=e.left,u-=e.top}return{left:d,top:u,name:l}}function tm(t,e,n){const{left:i,top:o,name:r}=t(e,n);return[r,n.clone().moveTo(i,o)]}function em({left:t,top:e}){const{scrollX:n,scrollY:i}=Fo.window;return{left:t+n,top:e+i}}n(66);const nm=Ih(\"px\"),im=Fo.document.body;class om extends Th{constructor(t){super(t);const e=this.bindTemplate;this.set(\"top\",0),this.set(\"left\",0),this.set(\"position\",\"arrow_nw\"),this.set(\"isVisible\",!1),this.set(\"withArrow\",!0),this.set(\"className\"),this.content=this.createCollection(),this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-balloon-panel\",e.to(\"position\",t=>`ck-balloon-panel_${t}`),e.if(\"isVisible\",\"ck-balloon-panel_visible\"),e.if(\"withArrow\",\"ck-balloon-panel_with-arrow\"),e.to(\"className\")],style:{top:e.to(\"top\",nm),left:e.to(\"left\",nm)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=om.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast],limiter:im,fitInViewport:!0},t),{top:i,left:o,name:r}=om._getOptimalPosition(n);Object.assign(this,{top:i,left:o,position:r})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=(()=>{this.isVisible?this._startPinning(t):this._stopPinning()}),this._startPinning(t),this.listenTo(this,\"change:isVisible\",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,\"change:isVisible\",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=rm(t.target),n=t.limiter?rm(t.limiter):im;this.listenTo(Fo.document,\"scroll\",(i,o)=>{const r=o.target,s=e&&r.contains(e),a=n&&r.contains(n);!s&&!a&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(Fo.window,\"resize\",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(Fo.document,\"scroll\"),this.stopListening(Fo.window,\"resize\")}}function rm(t){return Bo(t)?t:Wr(t)?t.commonAncestorContainer:\"function\"==typeof t?rm(t()):null}function sm(t,e){return t.top-e.height-om.arrowVerticalOffset}function am(t){return t.bottom+om.arrowVerticalOffset}om.arrowHorizontalOffset=25,om.arrowVerticalOffset=10,om._getOptimalPosition=Zp,om.defaultPositions={northArrowSouth:(t,e)=>({top:sm(t,e),left:t.left+t.width/2-e.width/2,name:\"arrow_s\"}),northArrowSouthEast:(t,e)=>({top:sm(t,e),left:t.left+t.width/2-e.width+om.arrowHorizontalOffset,name:\"arrow_se\"}),northArrowSouthWest:(t,e)=>({top:sm(t,e),left:t.left+t.width/2-om.arrowHorizontalOffset,name:\"arrow_sw\"}),northWestArrowSouth:(t,e)=>({top:sm(t,e),left:t.left-e.width/2,name:\"arrow_s\"}),northWestArrowSouthWest:(t,e)=>({top:sm(t,e),left:t.left-om.arrowHorizontalOffset,name:\"arrow_sw\"}),northWestArrowSouthEast:(t,e)=>({top:sm(t,e),left:t.left-e.width+om.arrowHorizontalOffset,name:\"arrow_se\"}),northEastArrowSouth:(t,e)=>({top:sm(t,e),left:t.right-e.width/2,name:\"arrow_s\"}),northEastArrowSouthEast:(t,e)=>({top:sm(t,e),left:t.right-e.width+om.arrowHorizontalOffset,name:\"arrow_se\"}),northEastArrowSouthWest:(t,e)=>({top:sm(t,e),left:t.right-om.arrowHorizontalOffset,name:\"arrow_sw\"}),southArrowNorth:(t,e)=>({top:am(t),left:t.left+t.width/2-e.width/2,name:\"arrow_n\"}),southArrowNorthEast:(t,e)=>({top:am(t),left:t.left+t.width/2-e.width+om.arrowHorizontalOffset,name:\"arrow_ne\"}),southArrowNorthWest:(t,e)=>({top:am(t),left:t.left+t.width/2-om.arrowHorizontalOffset,name:\"arrow_nw\"}),southWestArrowNorth:(t,e)=>({top:am(t),left:t.left-e.width/2,name:\"arrow_n\"}),southWestArrowNorthWest:(t,e)=>({top:am(t),left:t.left-om.arrowHorizontalOffset,name:\"arrow_nw\"}),southWestArrowNorthEast:(t,e)=>({top:am(t),left:t.left-e.width+om.arrowHorizontalOffset,name:\"arrow_ne\"}),southEastArrowNorth:(t,e)=>({top:am(t),left:t.right-e.width/2,name:\"arrow_n\"}),southEastArrowNorthEast:(t,e)=>({top:am(t),left:t.right-e.width+om.arrowHorizontalOffset,name:\"arrow_ne\"}),southEastArrowNorthWest:(t,e)=>({top:am(t),left:t.right-om.arrowHorizontalOffset,name:\"arrow_nw\"})};class cm extends qh{static get pluginName(){return\"ContextualBalloon\"}init(){this.view=new om,this.positionLimiter=(()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null}),this._stack=new Map,this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element)}get visibleView(){const t=this._stack.get(this.view.content.get(0));return t?t.view:null}hasView(t){return this._stack.has(t)}add(t){if(this.hasView(t.view))throw new m.b(\"contextualballoon-add-view-exist: Cannot add configuration of the same view twice.\");this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(t.view,t),this._show(t)}remove(t){if(!this.hasView(t))throw new m.b(\"contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.\");if(this.visibleView===t){this.view.content.remove(t),this._stack.delete(t);const e=Array.from(this._stack.values()).pop();e?this._show(e):this.view.hide()}else this._stack.delete(t)}updatePosition(t){t&&(this._stack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition())}_show({view:t,balloonClassName:e=\"\"}){this.view.className=e,this.view.content.add(t),this.view.pin(this._getBalloonPosition())}_getBalloonPosition(){let t=Array.from(this._stack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}var lm=n(23),dm=n.n(lm);function um(t){const e=t.plugins.get(\"ContextualBalloon\");if(Fp(t.editing.view.document.selection)){const n=hm(t);e.updatePosition(n)}}function hm(t){const e=t.editing.view,n=om.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class fm extends qh{static get requires(){return[cm]}init(){this._createButton(),this._createForm()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add(\"imageTextAlternative\",n=>{const i=t.commands.get(\"imageTextAlternative\"),o=new Sf(n);return o.set({label:e(\"af\"),icon:dm.a,tooltip:!0}),o.bind(\"isEnabled\").to(i,\"isEnabled\"),this.listenTo(o,\"execute\",()=>this._showForm()),o})}_createForm(){const t=this.editor,e=t.editing.view.document;this._balloon=this.editor.plugins.get(\"ContextualBalloon\"),this._form=new Xp(t.locale),this._form.render(),this.listenTo(this._form,\"submit\",()=>{t.execute(\"imageTextAlternative\",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,\"cancel\",()=>{this._hideForm(!0)}),this._form.keystrokes.set(\"Esc\",(t,e)=>{this._hideForm(!0),e()}),this.listenTo(t.ui,\"update\",()=>{Fp(e.selection)?this._isVisible&&um(t):this._hideForm(!0)}),Hp({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._form.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get(\"imageTextAlternative\"),n=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:hm(t)}),n.value=n.inputView.element.value=e.value||\"\",this._form.labeledInput.select()}_hideForm(t){this._isVisible&&(this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView==this._form}}class pm extends qh{static get requires(){return[Up,fm]}static get pluginName(){return\"ImageTextAlternative\"}}n(68);class mm extends qh{static get requires(){return[Dp,zp,pm]}static get pluginName(){return\"Image\"}}class gm extends Th{constructor(t){super(t),this.buttonView=new Sf(t),this._fileInputView=new bm(t),this._fileInputView.bind(\"acceptedType\").to(this),this._fileInputView.bind(\"allowMultipleFiles\").to(this),this._fileInputView.delegate(\"done\").to(this),this.setTemplate({tag:\"span\",attributes:{class:\"ck-file-dialog-button\"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on(\"execute\",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class bm extends Th{constructor(t){super(t),this.set(\"acceptedType\"),this.set(\"allowMultipleFiles\",!1);const e=this.bindTemplate;this.setTemplate({tag:\"input\",attributes:{class:[\"ck-hidden\"],type:\"file\",tabindex:\"-1\",accept:e.to(\"acceptedType\"),multiple:e.to(\"allowMultipleFiles\")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire(\"done\",this.element.files),this.element.value=\"\"})}})}open(){this.element.click()}}var wm=n(24),vm=n.n(wm);function _m(t){return/^image\\/(jpeg|png|gif|bmp)$/.test(t.type)}function km(t){const e=t.getSelectedElement();if(e)return bs.createAfter(e);const n=t.getSelectedBlocks().next().value;if(n){if(n.isEmpty)return bs.createAt(n);const e=bs.createAfter(n);return t.focus.isTouching(e)?e:bs.createBefore(n)}return t.focus}class ym extends qh{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(\"imageUpload\",n=>{const i=new gm(n),o=t.commands.get(\"imageUpload\");return i.set({acceptedType:\"image/*\",allowMultipleFiles:!0}),i.buttonView.set({label:e(\"t\"),icon:vm.a,tooltip:!0}),i.buttonView.bind(\"isEnabled\").to(o),i.on(\"done\",(e,n)=>{for(const e of Array.from(n)){const n=km(t.model.document.selection);_m(e)&&t.execute(\"imageUpload\",{file:e,insertAt:n})}}),i})}}var xm=n(25),Am=n.n(xm);n(70),n(72),n(74);class Cm extends qh{constructor(t){super(t),this.placeholder=\"data:image/svg+xml;utf8,\"+encodeURIComponent(Am.a)}init(){this.editor.editing.downcastDispatcher.on(\"attribute:uploadStatus:image\",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,n){const i=this.editor,o=e.item,r=o.getAttribute(\"uploadId\");if(!n.consumable.consume(e.item,t.name))return;const s=i.plugins.get(ap),a=r?e.attributeNewValue:null,c=this.placeholder,l=i.editing.mapper.toViewElement(o),d=n.writer;if(\"reading\"==a)return Em(l,d),void Pm(c,l,d);if(\"uploading\"==a){const t=s.loaders.get(r);return Em(l,d),void(t?(Om(l,d),function(t,e,n,i){const o=function(t){const e=t.createUIElement(\"div\",{class:\"ck-progress-bar\"});return t.setCustomProperty(Tm,!0,e),e}(e);e.insert(Vi.createAt(t,\"end\"),o),n.on(\"change:uploadedPercent\",(t,e,n)=>{i.change(t=>{t.setStyle(\"width\",n+\"%\",o)})})}(l,d,t,i.editing.view)):Pm(c,l,d))}\"complete\"==a&&s.loaders.get(r)&&!Gi.isEdge&&function(t,e,n){const i=new Zi(\"div\",{class:\"ck-image-upload-complete-icon\"});e.insert(Vi.createAt(t,\"end\"),i),setTimeout(()=>{n.change(t=>t.remove(Mi.createOn(i)))},3e3)}(l,d,i.editing.view),function(t,e){Im(t,e,Tm)}(l,d),Om(l,d),function(t,e){e.removeClass(\"ck-appear\",t)}(l,d)}}const Tm=Symbol(\"progress-bar\"),Sm=Symbol(\"placeholder\");function Em(t,e){t.hasClass(\"ck-appear\")||e.addClass(\"ck-appear\",t)}function Pm(t,e,n){e.hasClass(\"ck-image-upload-placeholder\")||n.addClass(\"ck-image-upload-placeholder\",e);const i=e.getChild(0);i.getAttribute(\"src\")!==t&&n.setAttribute(\"src\",t,i),Rm(e,Sm)||n.insert(Vi.createAfter(i),function(t){const e=t.createUIElement(\"div\",{class:\"ck-upload-placeholder-loader\"});return t.setCustomProperty(Sm,!0,e),e}(n))}function Om(t,e){t.hasClass(\"ck-image-upload-placeholder\")&&e.removeClass(\"ck-image-upload-placeholder\",t),Im(t,e,Sm)}function Rm(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function Im(t,e,n){const i=Rm(t,n);i&&e.remove(Mi.createOn(i))}class Vm extends Kh{execute(t){const e=this.editor,n=e.model.document,i=t.file,o=e.plugins.get(ap);e.model.change(r=>{const s=o.createLoader(i);if(!s)return;const a=r.createElement(\"image\",{uploadId:s.id});let c;c=t.insertAt?new As([new ws(t.insertAt)]):n.selection,e.model.insertContent(a,c),a.parent&&r.setSelection(a,\"on\")})}}class Mm extends qh{static get pluginName(){return\"Notification\"}init(){this.on(\"show:warning\",(t,e)=>{window.alert(e.message)},{priority:\"lowest\"})}showSuccess(t,e={}){this._showNotification({message:t,type:\"success\",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:\"info\",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:\"warning\",namespace:e.namespace,title:e.title})}_showNotification(t){const e=`show:${t.type}`+(t.namespace?`:${t.namespace}`:\"\");this.fire(e,{message:t.message,type:t.type,title:t.title||\"\"})}}class Fm extends qh{static get requires(){return[ap,Mm]}init(){const t=this.editor,e=t.model.document,n=t.model.schema,i=t.plugins.get(ap);n.extend(\"image\",{allowAttributes:[\"uploadId\",\"uploadStatus\"]}),t.commands.add(\"imageUpload\",new Vm(t)),this.listenTo(t.editing.view.document,\"clipboardInput\",(n,o)=>{if(function(t){return Array.from(t.types).includes(\"text/html\")&&\"\"!==t.getData(\"text/html\")}(o.dataTransfer))return;let r=new As(o.targetRanges.map(e=>t.editing.mapper.toModelRange(e)));for(const s of o.dataTransfer.files){if(_m(s)){const e=km(r);t.model.change(n=>{const o=i.createLoader(s);if(!o)return;const r=n.createElement(\"image\",{uploadId:o.id}),a=new As([new ws(e)]);t.model.insertContent(r,a),r.parent&&n.setSelection(r,\"on\")}),n.stop()}r=e.selection}}),t.editing.view.document.on(\"dragover\",(t,e)=>{e.preventDefault()}),e.on(\"change\",()=>{const t=e.differ.getChanges({includeChangesInGraveyard:!0});for(const e of t)if(\"insert\"==e.type&&\"image\"==e.name){const t=e.position.nodeAfter,n=\"$graveyard\"==e.position.root.rootName,o=t.getAttribute(\"uploadId\");if(!o)continue;const r=i.loaders.get(o);if(!r)continue;n?r.abort():\"idle\"==r.status&&this._load(r,t)}})}_load(t,e){const n=this.editor,i=n.model,o=n.locale.t,r=n.plugins.get(ap),s=n.plugins.get(Mm);return i.enqueueChange(\"transparent\",t=>{t.setAttribute(\"uploadStatus\",\"reading\",e)}),t.read().then(o=>{const r=n.editing.mapper.toViewElement(e).getChild(0),s=t.upload();return n.editing.view.change(t=>{t.setAttribute(\"src\",o,r)}),i.enqueueChange(\"transparent\",t=>{t.setAttribute(\"uploadStatus\",\"uploading\",e)}),s}).then(t=>{i.enqueueChange(\"transparent\",n=>{n.setAttributes({uploadStatus:\"complete\",src:t.default},e);let i=0;const o=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e))return i=Math.max(i,e),!0}).map(e=>`${t[e]} ${e}w`).join(\", \");\"\"!=o&&n.setAttribute(\"srcset\",{data:o,width:i},e)}),a()}).catch(n=>{if(\"error\"!==t.status&&\"aborted\"!==t.status)throw n;\"error\"==t.status&&s.showWarning(n,{title:o(\"u\"),namespace:\"upload\"}),a(),i.enqueueChange(\"transparent\",t=>{t.remove(e)})});function a(){i.enqueueChange(\"transparent\",t=>{t.removeAttribute(\"uploadId\",e),t.removeAttribute(\"uploadStatus\",e)}),r.destroyLoader(t)}}}class Nm extends qh{static get pluginName(){return\"ImageUpload\"}static get requires(){return[Fm,ym,Cm]}}class Dm extends Kh{refresh(){const t=this.editor.model,e=Qf(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is(\"paragraph\"),this.isEnabled=!!e&&Bm(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(i=>{const o=(t.selection||n.selection).getSelectedBlocks();for(const t of o)!t.is(\"paragraph\")&&Bm(t,e.schema)&&i.rename(t,\"paragraph\")})}}function Bm(t,e){return e.checkChild(t.parent,\"paragraph\")&&!e.isObject(t)}class Lm extends qh{static get pluginName(){return\"Paragraph\"}init(){const t=this.editor,e=t.model,n=t.data;t.commands.add(\"paragraph\",new Dm(t)),e.schema.register(\"paragraph\",{inheritAllFrom:\"$block\"}),t.conversion.elementToElement({model:\"paragraph\",view:\"p\"}),n.upcastDispatcher.on(\"element\",(t,e,n)=>{if(n.consumable.test(e.viewItem,{name:e.viewItem.name}))if(Lm.paragraphLikeElements.has(e.viewItem.name)){if(e.viewItem.isEmpty)return;const t=n.writer.createElement(\"paragraph\"),i=n.splitToAllowedParent(t,e.modelCursor);if(!i)return;n.writer.insert(t,i.position);const{modelRange:o}=n.convertChildren(e.viewItem,bs.createAt(t));e.modelRange=new ws(bs.createBefore(t),o.end),e.modelCursor=e.modelRange.end}else zm(e.viewItem,e.modelCursor,n.schema)&&(e=Object.assign(e,jm(e.viewItem,e.modelCursor,n)))},{priority:\"low\"}),n.upcastDispatcher.on(\"text\",(t,e,n)=>{e.modelRange||zm(e.viewItem,e.modelCursor,n.schema)&&(e=Object.assign(e,jm(e.viewItem,e.modelCursor,n)))},{priority:\"lowest\"}),e.document.registerPostFixer(t=>this._autoparagraphEmptyRoots(t)),t.on(\"dataReady\",()=>{e.enqueueChange(\"transparent\",t=>this._autoparagraphEmptyRoots(t))},{priority:\"lowest\"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const n of e.document.getRootNames()){const i=e.document.getRoot(n);if(i.isEmpty&&\"$graveyard\"!=i.rootName&&e.schema.checkChild(i,\"paragraph\"))return t.insertElement(\"paragraph\",i),!0}}}function jm(t,e,n){const i=n.writer.createElement(\"paragraph\");return n.writer.insert(i,e),n.convertItem(t,bs.createAt(i))}function zm(t,e,n){const i=new Ks(e);return!!n.checkChild(i,\"paragraph\")&&!!n.checkChild(i.push(\"paragraph\"),t)}Lm.paragraphLikeElements=new Set([\"blockquote\",\"dd\",\"div\",\"dt\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"li\",\"p\",\"td\"]);class qm extends Kh{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Qf(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>Um(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,i=t.value;e.change(t=>{const o=Array.from(n.selection.getSelectedBlocks()).filter(t=>Um(t,i,e.schema));for(const e of o)e.is(i)||t.rename(e,i)})}}function Um(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}const Hm=\"paragraph\";class Wm extends qh{constructor(t){super(t),t.config.define(\"heading\",{options:[{model:\"paragraph\",title:\"Paragraph\",class:\"p\"},{model:\"heading1\",view:\"h2\",title:\"Heading 1\",class:\"h2\"},{model:\"heading2\",view:\"h3\",title:\"Heading 2\",class:\"h3\"},{model:\"heading3\",view:\"h4\",title:\"Heading 3\",class:\"h4\"}]})}static get requires(){return[Lm]}init(){const t=this.editor,e=t.config.get(\"heading.options\"),n=[];for(const i of e)i.model!==Hm&&(t.model.schema.register(i.model,{inheritAllFrom:\"$block\"}),t.conversion.elementToElement(i),n.push(i.model));t.commands.add(\"heading\",new qm(t,n))}afterInit(){const t=this.editor,e=t.commands.get(\"enter\"),n=t.config.get(\"heading.options\");e&&this.listenTo(e,\"afterExecute\",(e,i)=>{const o=t.model.document.selection.getFirstPosition().parent;n.some(t=>o.is(t.model))&&!o.is(Hm)&&0===o.childCount&&i.writer.rename(o,Hm)})}}class $m{constructor(t,e){e&&bi(this,e),t&&this.set(t)}}P($m,yi);class Km extends Th{constructor(t){super(t);const e=this.bindTemplate;this.set(\"isVisible\",!1),this.children=this.createCollection(),this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-reset\",\"ck-dropdown__panel\",e.if(\"isVisible\",\"ck-dropdown__panel-visible\")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;\"function\"==typeof t.focusLast?t.focusLast():t.focus()}}}n(76);class Gm extends Th{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set(\"isOpen\",!1),this.set(\"isEnabled\",!0),this.focusTracker=new nh,this.keystrokes=new Ku,this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-dropdown\",i.if(\"isEnabled\",\"ck-disabled\",t=>!t)]},children:[e,n]}),e.extendTemplate({attributes:{class:[\"ck-dropdown__button\"]}})}render(){super.render(),this.listenTo(this.buttonView,\"open\",()=>{this.isOpen=!this.isOpen}),this.panelView.bind(\"isVisible\").to(this,\"isOpen\"),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set(\"arrowdown\",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set(\"arrowright\",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set(\"arrowleft\",t),this.keystrokes.set(\"esc\",t)}focus(){this.buttonView.focus()}}var Jm=n(26),Qm=n.n(Jm);class Ym extends Sf{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{\"aria-haspopup\":!0}}),this.delegate(\"execute\").to(this,\"open\")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Tf;return t.content=Qm.a,t.extendTemplate({attributes:{class:\"ck-dropdown__arrow\"}}),t}}n(78);class Xm extends Th{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new nh,this.keystrokes=new Ku,this._focusCycler=new Fh({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"arrowup\",focusNext:\"arrowdown\"}}),this.setTemplate({tag:\"ul\",attributes:{class:[\"ck\",\"ck-reset\",\"ck-list\"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on(\"add\",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on(\"remove\",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Zm extends Th{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:\"li\",attributes:{class:[\"ck\",\"ck-list__item\"]},children:this.children})}focus(){this.children.first.focus()}}class tg extends Th{constructor(t){super(t),this.setTemplate({tag:\"li\",attributes:{class:[\"ck\",\"ck-list__separator\"]}})}}n(80);class eg extends Sf{constructor(t){super(t),this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:\"ck-switchbutton\"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Th;return t.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-button__toggle\"]},children:[{tag:\"span\",attributes:{class:[\"ck\",\"ck-button__toggle__inner\"]}}]}),t}}n(82),n(84);function ng(t,e=Ym){const n=new e(t),i=new Km(t),o=new Gm(t,n,i);return n.bind(\"isEnabled\").to(o),n instanceof Ym?n.bind(\"isOn\").to(o,\"isOpen\"):n.arrowView.bind(\"isOn\").to(o,\"isOpen\"),function(t){(function(t){t.on(\"render\",()=>{Hp({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})})(t),function(t){t.on(\"execute\",e=>{e.source instanceof eg||(t.isOpen=!1)})}(t),function(t){t.keystrokes.set(\"arrowdown\",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set(\"arrowup\",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}(t)}(o),o}function ig(t){const e=t.t,n={Paragraph:e(\"d\"),\"Heading 1\":e(\"k\"),\"Heading 2\":e(\"l\"),\"Heading 3\":e(\"m\")};return t.config.get(\"heading.options\").map(t=>{const e=n[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t})}class og extends qh{init(){const t=this.editor,e=t.t,n=ig(t),i=e(\"i\"),o=e(\"j\");t.ui.componentFactory.add(\"heading\",e=>{const r={},s=new Li,a=t.commands.get(\"heading\"),c=t.commands.get(\"paragraph\"),l=[a];for(const t of n){const e={type:\"button\",model:new $m({label:t.title,class:t.class,withText:!0})};\"paragraph\"===t.model?(e.model.bind(\"isOn\").to(c,\"value\"),e.model.set(\"commandName\",\"paragraph\"),l.push(c)):(e.model.bind(\"isOn\").to(a,\"value\",e=>e===t.model),e.model.set({commandName:\"heading\",commandValue:t.model})),s.add(e),r[t.model]=t.title}const d=ng(e);return function(t,e){const n=t.locale,i=t.listView=new Xm(n);i.items.bindTo(e).using(({type:t,model:e})=>{if(\"separator\"===t)return new tg(n);if(\"button\"===t||\"switchbutton\"===t){const i=new Zm(n);let o;return(o=\"button\"===t?new Sf(n):new eg(n)).bind(...Object.keys(e)).to(e),o.delegate(\"execute\").to(i),i.children.add(o),i}}),t.panelView.children.add(i),i.items.delegate(\"execute\").to(t)}(d,s),d.buttonView.set({isOn:!1,withText:!0,tooltip:o}),d.extendTemplate({attributes:{class:[\"ck-heading-dropdown\"]}}),d.bind(\"isEnabled\").toMany(l,\"isEnabled\",(...t)=>t.some(t=>t)),d.buttonView.bind(\"label\").to(a,\"value\",c,\"value\",(t,e)=>{const n=t||e&&\"paragraph\";return r[n]?r[n]:i}),this.listenTo(d,\"execute\",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()}),d})}}n(86);const rg=new WeakMap;function sg(t,e,n,i){const o=t.document;rg.has(o)||(rg.set(o,new Map),o.registerPostFixer(t=>(function(t,e){const n=rg.get(t);let i=!1;for(const[t,o]of n)ag(e,t,o)&&(i=!0);return i})(o,t))),rg.get(o).set(e,{placeholderText:n,checkFunction:i}),t.render()}function ag(t,e,n){const i=e.document,o=n.placeholderText;let r=!1;if(!i)return!1;e.getAttribute(\"data-placeholder\")!==o&&(t.setAttribute(\"data-placeholder\",o,e),r=!0);const s=i.selection.anchor,a=n.checkFunction;if(a&&!a())return e.hasClass(\"ck-placeholder\")&&(t.removeClass(\"ck-placeholder\",e),r=!0),r;const c=!Array.from(e.getChildren()).some(t=>!t.is(\"uiElement\"));return!i.isFocused&&c?(e.hasClass(\"ck-placeholder\")||(t.addClass(\"ck-placeholder\",e),r=!0),r):(c&&s&&s.parent!==e?e.hasClass(\"ck-placeholder\")||(t.addClass(\"ck-placeholder\",e),r=!0):e.hasClass(\"ck-placeholder\")&&(t.removeClass(\"ck-placeholder\",e),r=!0),r)}const cg=Symbol(\"imageCaption\");function lg(t,e){return n=>{const i=n.createEditableElement(\"figcaption\");return n.setCustomProperty(cg,!0,i),sg(t,i,e),function(t,e){return e.addClass([\"ck-editor__editable\",\"ck-editor__nested-editable\"],t),Gi.isEdge||(e.setAttribute(\"contenteditable\",t.isReadOnly?\"false\":\"true\",t),t.on(\"change:isReadOnly\",(n,i,o)=>{e.setAttribute(\"contenteditable\",o?\"false\":\"true\",t)})),t.on(\"change:isFocused\",(n,i,o)=>{o?e.addClass(\"ck-editor__nested-editable_focused\",t):e.removeClass(\"ck-editor__nested-editable_focused\",t)}),t}(i,n)}}function dg(t){for(const e of t.getChildren())if(e instanceof fs&&\"caption\"==e.name)return e;return null}function ug(t){const e=t.parent;return\"figcaption\"==t.name&&e&&\"figure\"==e.name&&e.hasClass(\"image\")?{name:!0}:null}class hg extends qh{init(){const t=this.editor,e=t.editing.view,n=t.model.schema,i=t.data,o=t.editing,r=t.t;n.register(\"caption\",{allowIn:\"image\",allowContentOf:\"$block\",isLimit:!0}),t.model.document.registerPostFixer(t=>this._insertMissingModelCaptionElement(t)),t.conversion.for(\"upcast\").add(ra({view:ug,model:\"caption\"}));i.downcastDispatcher.on(\"insert:caption\",fg(t=>t.createContainerElement(\"figcaption\"),!1));const s=lg(e,r(\"v\"));o.downcastDispatcher.on(\"insert:caption\",fg(s)),o.downcastDispatcher.on(\"insert\",this._fixCaptionVisibility(t=>t.item),{priority:\"high\"}),o.downcastDispatcher.on(\"remove\",this._fixCaptionVisibility(t=>t.position.parent),{priority:\"high\"}),e.document.registerPostFixer(t=>this._updateCaptionVisibility(t))}_updateCaptionVisibility(t){const e=this.editor.editing.mapper,n=this._lastSelectedCaption;let i;const o=this.editor.model.document.selection,r=o.getSelectedElement();if(r&&r.is(\"image\")){const t=dg(r);i=e.toViewElement(t)}const s=pg(o.getFirstPosition().parent);if(s&&(i=e.toViewElement(s)),i)return n?n===i?gg(i,t):(mg(n,t),this._lastSelectedCaption=i,gg(i,t)):(this._lastSelectedCaption=i,gg(i,t));if(n){const e=mg(n,t);return this._lastSelectedCaption=null,e}return!1}_fixCaptionVisibility(t){return(e,n,i)=>{const o=pg(t(n)),r=this.editor.editing.mapper,s=i.writer;if(o){const t=r.toViewElement(o);t&&(o.childCount?s.removeClass(\"ck-hidden\",t):s.addClass(\"ck-hidden\",t))}}}_insertMissingModelCaptionElement(t){const e=this.editor.model.document.differ.getChanges();for(const n of e)if(\"insert\"==n.type&&\"image\"==n.name){const e=n.position.nodeAfter;if(!dg(e))return t.appendElement(\"caption\",e),!0}}}function fg(t,e=!0){return(n,i,o)=>{const r=i.item;if((r.childCount||e)&&Np(r.parent)){if(!o.consumable.consume(i.item,\"insert\"))return;const e=o.mapper.toViewElement(i.range.start.parent),n=t(o.writer),s=o.writer;r.childCount||s.addClass(\"ck-hidden\",n),function(t,e,n,i){const o=Vi.createAt(n,\"end\");i.writer.insert(o,t),i.mapper.bindElements(e,t)}(n,i.item,e,o)}}}function pg(t){const e=t.getAncestors({includeSelf:!0}).find(t=>\"caption\"==t.name);return e&&e.parent&&\"image\"==e.parent.name?e:null}function mg(t,e){return!t.childCount&&!t.hasClass(\"ck-hidden\")&&(e.addClass(\"ck-hidden\",t),!0)}function gg(t,e){return!!t.hasClass(\"ck-hidden\")&&(e.removeClass(\"ck-hidden\",t),!0)}class bg extends Kh{constructor(t,e){super(t),this._defaultStyle=!1,this.styles=e.reduce((t,e)=>(t[e.name]=e,e.isDefault&&(this._defaultStyle=e.name),t),{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Np(t),t)if(t.hasAttribute(\"imageStyle\")){const e=t.getAttribute(\"imageStyle\");this.value=!!this.styles[e]&&e}else this.value=this._defaultStyle;else this.value=!1}execute(t){const e=t.value,n=this.editor.model,i=n.document.selection.getSelectedElement();n.change(t=>{this.styles[e].isDefault?t.removeAttribute(\"imageStyle\",i):t.setAttribute(\"imageStyle\",e,i)})}}function wg(t,e){for(const n of e)if(n.name===t)return n}var vg=n(9),_g=n.n(vg),kg=n(10),yg=n.n(kg),xg=n(11),Ag=n.n(xg),Cg=n(7),Tg=n.n(Cg);const Sg={full:{name:\"full\",title:\"Full size image\",icon:_g.a,isDefault:!0},side:{name:\"side\",title:\"Side image\",icon:Tg.a,className:\"image-style-side\"},alignLeft:{name:\"alignLeft\",title:\"Left aligned image\",icon:yg.a,className:\"image-style-align-left\"},alignCenter:{name:\"alignCenter\",title:\"Centered image\",icon:Ag.a,className:\"image-style-align-center\"},alignRight:{name:\"alignRight\",title:\"Right aligned image\",icon:Tg.a,className:\"image-style-align-right\"}},Eg={full:_g.a,left:yg.a,right:Tg.a,center:Ag.a};function Pg(t=[]){return t.map(Og).map(t=>Object.assign({},t))}function Og(t){if(\"string\"==typeof t){const e=t;Sg[e]?t=Object.assign({},Sg[e]):(zr.a.warn(\"image-style-not-found: There is no such image style of given name.\",{name:e}),t={name:e})}else if(Sg[t.name]){const e=Sg[t.name],n=Object.assign({},t);for(const i in e)t.hasOwnProperty(i)||(n[i]=e[i]);t=n}return\"string\"==typeof t.icon&&Eg[t.icon]&&(t.icon=Eg[t.icon]),t}class Rg extends qh{static get requires(){return[Dp]}static get pluginName(){return\"ImageStyleEditing\"}init(){const t=this.editor,e=t.model.schema,n=t.data,i=t.editing;t.config.define(\"image.styles\",[\"full\",\"side\"]);const o=Pg(t.config.get(\"image.styles\"));e.extend(\"image\",{allowAttributes:\"imageStyle\"});const r=function(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const o=wg(n.attributeNewValue,t),r=wg(n.attributeOldValue,t),s=i.mapper.toViewElement(n.item),a=i.writer;r&&a.removeClass(r.className,s),o&&a.addClass(o.className,s)}}(o);i.downcastDispatcher.on(\"attribute:imageStyle:image\",r),n.downcastDispatcher.on(\"attribute:imageStyle:image\",r),n.upcastDispatcher.on(\"element:figure\",function(t){const e=t.filter(t=>!t.isDefault);return(t,n,i)=>{if(!n.modelRange)return;const o=n.viewItem,r=Qf(n.modelRange.getItems());if(i.schema.checkAttribute(r,\"imageStyle\"))for(const t of e)i.consumable.consume(o,{classes:t.className})&&i.writer.setAttribute(\"imageStyle\",t.name,r)}}(o),{priority:\"low\"}),t.commands.add(\"imageStyle\",new bg(t,o))}}n(88);class Ig extends qh{get localizedDefaultStylesTitles(){const t=this.editor.t;return{\"Full size image\":t(\"o\"),\"Side image\":t(\"p\"),\"Left aligned image\":t(\"q\"),\"Centered image\":t(\"r\"),\"Right aligned image\":t(\"s\")}}init(){const t=function(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}(Pg(this.editor.config.get(\"image.styles\")),this.localizedDefaultStylesTitles);for(const e of t)this._createButton(e)}_createButton(t){const e=this.editor,n=`imageStyle:${t.name}`;e.ui.componentFactory.add(n,n=>{const i=e.commands.get(\"imageStyle\"),o=new Sf(n);return o.set({label:t.title,icon:t.icon,tooltip:!0}),o.bind(\"isEnabled\").to(i,\"isEnabled\"),o.bind(\"isOn\").to(i,\"value\",e=>e===t.name),this.listenTo(o,\"execute\",()=>e.execute(\"imageStyle\",{value:t.name})),o})}}const Vg=\"ck-toolbar-container\";function Mg(t,e){return new ws(Fg(t,e,!0),Fg(t,e,!1))}function Fg(t,e,n){let i=t.textNode||(n?t.nodeBefore:t.nodeAfter),o=null;for(;i&&i.getAttribute(\"linkHref\")==e;)o=i,i=n?i.previousSibling:i.nextSibling;return o?bs.createAt(o,n?\"before\":\"after\"):t}class Ng extends Kh{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(\"linkHref\"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,\"linkHref\")}execute(t){const e=this.editor.model,n=e.document.selection;e.change(i=>{if(n.isCollapsed){const e=n.getFirstPosition();if(n.hasAttribute(\"linkHref\")){const e=Mg(n.getFirstPosition(),n.getAttribute(\"linkHref\"));i.setAttribute(\"linkHref\",t,e),i.setSelection(e)}else if(\"\"!==t){const o=cs(n.getAttributes());o.set(\"linkHref\",t);const r=i.createText(t,o);i.insert(r,e),i.setSelection(ws.createOn(r))}}else{const o=e.schema.getValidRanges(n.getRanges(),\"linkHref\");for(const e of o)i.setAttribute(\"linkHref\",t,e)}})}}class Dg extends Kh{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute(\"linkHref\")}execute(){const t=this.editor.model,e=t.document.selection;t.change(t=>{const n=e.isCollapsed?[Mg(e.getFirstPosition(),e.getAttribute(\"linkHref\"))]:e.getRanges();for(const e of n)t.removeAttribute(\"linkHref\",e)})}}const Bg=Symbol(\"linkElement\"),Lg=/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g,jg=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function zg(t,e){const n=e.createAttributeElement(\"a\",{href:t},{priority:5});return e.setCustomProperty(Bg,!0,n),n}function qg(t){return function(t){return t.replace(Lg,\"\").match(jg)}(t=String(t))?t:\"#\"}class Ug{constructor(t,e,n){this.model=t,this.attribute=n,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,\"change:range\",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&Hg(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())})}handleForwardMovement(t,e){const n=this.attribute;if(!(this._isGravityOverridden||t.isAtStart&&this._hasSelectionAttribute))return Kg(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):Wg(t,n)?(this._preventCaretMovement(e),this._overrideGravity(),!0):$g(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0}handleBackwardMovement(t,e){const n=this.attribute;return this._isGravityOverridden?Kg(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):Kg(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&$g(t,n)?this._hasSelectionAttribute?void(Gg(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(Gg(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(t){t.preventDefault()}_removeSelectionAttribute(){this.model.change(t=>{t.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(t){const e=this.attribute;this.model.change(n=>{n.setSelectionAttribute(this.attribute,t.nodeBefore.getAttribute(e))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function Hg(t,e){return Wg(t,e)||$g(t,e)}function Wg(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e);return!!i&&i.hasAttribute(e)&&(!o||n.getAttribute(e)!==i.getAttribute(e))}function $g(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e),r=!!i&&i.hasAttribute(e);return o&&(!r||n.getAttribute(e)!==i.getAttribute(e))}function Kg(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e);if(!!i&&i.hasAttribute(e)&&o)return i.getAttribute(e)!==n.getAttribute(e)}function Gg(t,e){return Hg(t.getShiftedBy(-1),e)}n(90);const Jg=\"ck-link_selected\";class Qg extends qh{init(){const t=this.editor;t.model.schema.extend(\"$text\",{allowAttributes:\"linkHref\"}),t.conversion.for(\"dataDowncast\").add(Ms({model:\"linkHref\",view:zg})),t.conversion.for(\"editingDowncast\").add(Ms({model:\"linkHref\",view:(t,e)=>zg(qg(t),e)})),t.conversion.for(\"upcast\").add(sa({view:{name:\"a\",attributes:{href:!0}},model:{key:\"linkHref\",value:t=>t.getAttribute(\"href\")}})),t.commands.add(\"link\",new Ng(t)),t.commands.add(\"unlink\",new Dg(t)),function(t,e,n,i){const o=new Ug(e,n,i),r=e.document.selection;n.listenTo(t.document,\"keydown\",(t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==Ji.arrowright,i=e.keyCode==Ji.arrowleft;if(!n&&!i)return;const s=r.getFirstPosition();let a;(a=n?o.handleForwardMovement(s,e):o.handleBackwardMovement(s,e))&&t.stop()},{priority:v.get(\"high\")+1})}(t.editing.view,t.model,this,\"linkHref\"),this._setupLinkHighlight()}_setupLinkHighlight(){const t=this.editor,e=t.editing.view,n=new Set;e.document.registerPostFixer(e=>{const i=t.model.document.selection;if(i.hasAttribute(\"linkHref\")){const o=Mg(i.getFirstPosition(),i.getAttribute(\"linkHref\")),r=t.editing.mapper.toViewRange(o);for(const t of r.getItems())t.is(\"a\")&&(e.addClass(Jg,t),n.add(t))}}),t.conversion.for(\"editingDowncast\").add(t=>{function i(){e.change(t=>{for(const e of n.values())t.removeClass(Jg,e),n.delete(e)})}t.on(\"insert\",i,{priority:\"highest\"}),t.on(\"remove\",i,{priority:\"highest\"}),t.on(\"attribute\",i,{priority:\"highest\"}),t.on(\"selection\",i,{priority:\"highest\"})})}}class Yg extends Vr{constructor(t){super(t),this.domEventType=\"click\"}onDomEvent(t){this.fire(t.type,t)}}n(92);class Xg extends Th{constructor(t){super(t);const e=t.t;this.focusTracker=new nh,this.keystrokes=new Ku,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(e(\"ag\"),Jp.a,\"ck-button-save\"),this.saveButtonView.type=\"submit\",this.cancelButtonView=this._createButton(e(\"ah\"),Yp.a,\"ck-button-cancel\",\"cancel\"),this._focusables=new rh,this._focusCycler=new Fh({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"shift + tab\",focusNext:\"tab\"}}),this.setTemplate({tag:\"form\",attributes:{class:[\"ck\",\"ck-link-form\"],tabindex:\"-1\"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Kp({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new Wp(this.locale,$p);return e.label=t(\"ai\"),e.inputView.placeholder=\"https://example.com\",e}_createButton(t,e,n,i){const o=new Sf(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate(\"execute\").to(this,i),o}}var Zg=n(27),tb=n.n(Zg),eb=n(28),nb=n.n(eb);n(94);class ib extends Th{constructor(t){super(t);const e=t.t;this.focusTracker=new nh,this.keystrokes=new Ku,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e(\"aj\"),tb.a,\"unlink\"),this.editButtonView=this._createButton(e(\"ak\"),nb.a,\"edit\"),this.set(\"href\"),this._focusables=new rh,this._focusCycler=new Fh({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"shift + tab\",focusNext:\"tab\"}}),this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-link-actions\"],tabindex:\"-1\"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new Sf(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate(\"execute\").to(this,n),i}_createPreviewButton(){const t=new Sf(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n(\"al\")}),t.extendTemplate({attributes:{class:[\"ck\",\"ck-link-actions__preview\"],href:e.to(\"href\",t=>t&&qg(t)),target:\"_blank\"}}),t.bind(\"label\").to(this,\"href\",t=>t||n(\"am\")),t.bind(\"isEnabled\").to(this,\"href\",t=>!!t),t.template.tag=\"a\",t.template.eventListeners={},t}}var ob=n(29),rb=n.n(ob);const sb=\"Ctrl+K\";class ab extends qh{static get requires(){return[cm]}init(){const t=this.editor;t.editing.view.addObserver(Yg),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(cm),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,e=new ib(t.locale),n=t.commands.get(\"link\"),i=t.commands.get(\"unlink\");return e.bind(\"href\").to(n,\"value\"),e.editButtonView.bind(\"isEnabled\").to(n),e.unlinkButtonView.bind(\"isEnabled\").to(i),this.listenTo(e,\"edit\",()=>{this._addFormView()}),this.listenTo(e,\"unlink\",()=>{t.execute(\"unlink\"),this._hideUI()}),e.keystrokes.set(\"Esc\",(t,e)=>{this._hideUI(),e()}),e.keystrokes.set(sb,(t,e)=>{this._addFormView(),e()}),e}_createFormView(){const t=this.editor,e=new Xg(t.locale),n=t.commands.get(\"link\");return e.urlInputView.bind(\"value\").to(n,\"value\"),e.urlInputView.bind(\"isReadOnly\").to(n,\"isEnabled\",t=>!t),e.saveButtonView.bind(\"isEnabled\").to(n),this.listenTo(e,\"submit\",()=>{t.execute(\"link\",e.urlInputView.inputView.element.value),this._removeFormView()}),this.listenTo(e,\"cancel\",()=>{this._removeFormView()}),e.keystrokes.set(\"Esc\",(t,e)=>{this._removeFormView(),e()}),e}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get(\"link\"),n=t.t;t.keystrokes.set(sb,(t,n)=>{n(),e.isEnabled&&this._showUI()}),t.ui.componentFactory.add(\"link\",t=>{const i=new Sf(t);return i.isEnabled=!0,i.label=n(\"ab\"),i.icon=rb.a,i.keystroke=sb,i.tooltip=!0,i.bind(\"isEnabled\").to(e,\"isEnabled\"),this.listenTo(i,\"execute\",()=>this._showUI()),i})}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,\"click\",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set(\"Tab\",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:\"high\"}),this.editor.keystrokes.set(\"Esc\",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),Hp({emitter:this.formView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get(\"link\");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||\"\"}_removeFormView(){this._isFormInPanel&&(this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(){this.editor.commands.get(\"link\").isEnabled&&(this._getSelectedLinkElement()?this._areActionsVisible?this._addFormView():this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUI())}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,\"update\"),this._removeFormView(),this._balloon.remove(this.actionsView),t.editing.view.focus()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=o();function o(){return e.selection.focus.getAncestors().reverse().find(t=>t.is(\"element\"))}this.listenTo(t.ui,\"update\",()=>{const t=this._getSelectedLinkElement(),e=o();n&&!t||!n&&e!==i?this._hideUI():this._balloon.updatePosition(this._getBalloonPositionData()),n=t,i=e})}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement();return{target:n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_getSelectedLinkElement(){const t=this.editor.editing.view.document.selection;if(t.isCollapsed)return cb(t.getFirstPosition());{const e=t.getFirstRange().getTrimmed(),n=cb(e.start),i=cb(e.end);return n&&n==i&&Mi.createIn(n).getTrimmed().isEqual(e)?n:null}}}function cb(t){return t.getAncestors().find(t=>(function(t){return t.is(\"attributeElement\")&&!!t.getCustomProperty(Bg)})(t))}class lb extends Kh{constructor(t,e){super(t),this.type=\"bulleted\"==e?\"bulleted\":\"numbered\"}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document,n=Array.from(e.selection.getSelectedBlocks()).filter(e=>ub(e,t.schema)),i=!0===this.value;t.change(t=>{if(i){let e=n[n.length-1].nextSibling,i=Number.POSITIVE_INFINITY,o=[];for(;e&&\"listItem\"==e.name&&0!==e.getAttribute(\"listIndent\");){const t=e.getAttribute(\"listIndent\");t<i&&(i=t);const n=t-i;o.push({element:e,listIndent:n}),e=e.nextSibling}o=o.reverse();for(const e of o)t.setAttribute(\"listIndent\",e.listIndent,e.element)}if(!i){let t=Number.POSITIVE_INFINITY;for(const e of n)e.is(\"listItem\")&&e.getAttribute(\"listIndent\")<t&&(t=e.getAttribute(\"listIndent\"));db(n,!0,t=0===t?1:t),db(n,!1,t)}for(const e of n.reverse())i&&\"listItem\"==e.name?t.rename(e,\"paragraph\"):i||\"listItem\"==e.name?i||\"listItem\"!=e.name||e.getAttribute(\"listType\")==this.type||t.setAttribute(\"listType\",this.type,e):(t.setAttributes({listType:this.type,listIndent:0},e),t.rename(e,\"listItem\"))})}_getValue(){const t=Qf(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is(\"listItem\")&&t.getAttribute(\"listType\")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Qf(t.getSelectedBlocks());return!!n&&ub(n,e)}}function db(t,e,n){const i=e?t[0]:t[t.length-1];if(i.is(\"listItem\")){let o=i[e?\"previousSibling\":\"nextSibling\"],r=i.getAttribute(\"listIndent\");for(;o&&o.is(\"listItem\")&&o.getAttribute(\"listIndent\")>=n;)r>o.getAttribute(\"listIndent\")&&(r=o.getAttribute(\"listIndent\")),o.getAttribute(\"listIndent\")==r&&t[e?\"unshift\":\"push\"](o),o=o[e?\"previousSibling\":\"nextSibling\"]}}function ub(t,e){return e.checkChild(t.parent,\"listItem\")&&!e.isObject(t)}class hb extends Kh{constructor(t,e){super(t),this._indentBy=\"forward\"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change(t=>{const e=n[n.length-1];let i=e.nextSibling;for(;i&&\"listItem\"==i.name&&i.getAttribute(\"listIndent\")>e.getAttribute(\"listIndent\");)n.push(i),i=i.nextSibling;this._indentBy<0&&(n=n.reverse());for(const e of n){const n=e.getAttribute(\"listIndent\")+this._indentBy;n<0?t.rename(e,\"paragraph\"):t.setAttribute(\"listIndent\",n,e)}})}_checkEnabled(){const t=Qf(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is(\"listItem\"))return!1;if(this._indentBy>0){const e=t.getAttribute(\"listIndent\"),n=t.getAttribute(\"listType\");let i=t.previousSibling;for(;i&&i.is(\"listItem\")&&i.getAttribute(\"listIndent\")>=e;){if(i.getAttribute(\"listIndent\")==e)return i.getAttribute(\"listType\")==n;i=i.previousSibling}return!1}return!0}}function fb(){const t=!this.isEmpty&&(\"ul\"==this.getChild(0).name||\"ol\"==this.getChild(0).name);return this.isEmpty||t?0:null}function pb(t,e,n){const i=n.consumable;if(!i.test(e.item,\"insert\")||!i.test(e.item,\"attribute:listType\")||!i.test(e.item,\"attribute:listIndent\"))return;i.consume(e.item,\"insert\"),i.consume(e.item,\"attribute:listType\"),i.consume(e.item,\"attribute:listIndent\");const o=e.item;Eb(o,function(t,e){const n=e.mapper,i=e.writer,o=\"numbered\"==t.getAttribute(\"listType\")?\"ol\":\"ul\",r=function(t){const e=t.createContainerElement(\"li\");return e.getFillerOffset=fb,e}(i),s=i.createContainerElement(o,null);return i.insert(Vi.createAt(s),r),n.bindElements(t,r),r}(o,n),n)}function mb(t,e,n){const i=n.mapper.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is(\"li\")).nodeAfter,o=n.writer;o.breakContainer(Vi.createBefore(i)),o.breakContainer(Vi.createAfter(i));const r=i.parent,s=r.previousSibling,a=Mi.createOn(r),c=o.remove(a);s&&s.nextSibling&&Sb(o,s,s.nextSibling),Pb(n.mapper.toModelElement(i).getAttribute(\"listIndent\")+1,e.position,a.start,i,n);for(const t of Mi.createIn(c).getItems())n.mapper.unbindViewElement(t);t.stop()}function gb(t,e,n){if(!n.consumable.consume(e.item,\"attribute:listType\"))return;const i=n.mapper.toViewElement(e.item),o=n.writer;o.breakContainer(Vi.createBefore(i)),o.breakContainer(Vi.createAfter(i));let r=i.parent;const s=\"numbered\"==e.attributeNewValue?\"ol\":\"ul\";Sb(o,r=o.rename(r,s),r.nextSibling),Sb(o,r.previousSibling,r);for(const t of e.item.getChildren())n.consumable.consume(t,\"insert\")}function bb(t,e,n){if(!n.consumable.consume(e.item,\"attribute:listIndent\"))return;const i=n.mapper.toViewElement(e.item),o=n.writer;o.breakContainer(Vi.createBefore(i)),o.breakContainer(Vi.createAfter(i));const r=i.parent,s=r.previousSibling,a=Mi.createOn(r);o.remove(a),s&&s.nextSibling&&Sb(o,s,s.nextSibling),Pb(e.attributeOldValue+1,e.range.start,a.start,i,n),Eb(e.item,i,n);for(const t of e.item.getChildren())n.consumable.consume(t,\"insert\")}function wb(t,e,n){if(\"listItem\"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const i=n.writer,o=[];for(;(\"ul\"==t.parent.name||\"ol\"==t.parent.name)&&\"li\"==(t=i.breakContainer(t)).parent.name;){const e=t,n=Vi.createAt(t.parent,\"end\");if(!e.isEqual(n)){const t=i.remove(new Mi(e,n));o.push(t)}t=Vi.createAfter(t.parent)}if(o.length>0){for(let e=0;e<o.length;e++){const n=t.nodeBefore;if(t=i.insert(t,o[e]).end,e>0){const e=Sb(i,n,n.nextSibling);e&&e.parent==n&&t.offset--}}Sb(i,t.nodeBefore,t.nodeAfter)}}}function vb(t,e,n){const i=n.mapper.toViewPosition(e.position),o=i.nodeBefore,r=i.nodeAfter;Sb(n.writer,o,r)}function _b(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,i=this.conversionApi.store,o=t.createElement(\"listItem\");i.indent=i.indent||0,t.setAttribute(\"listIndent\",i.indent,o);const r=e.viewItem.parent&&\"ol\"==e.viewItem.parent.name?\"numbered\":\"bulleted\";t.setAttribute(\"listType\",r,o),i.indent++;const s=n.splitToAllowedParent(o,e.modelCursor);if(!s)return;t.insert(o,s.position);let a=bs.createAfter(o);for(const t of e.viewItem.getChildren())\"ul\"==t.name||\"ol\"==t.name?a=n.convertItem(t,a).modelCursor:n.convertItem(t,bs.createAt(o,\"end\"));i.indent--,e.modelRange=new ws(e.modelCursor,a),s.cursorParent?e.modelCursor=bs.createAt(s.cursorParent):e.modelCursor=e.modelRange.end}}function kb(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)e.is(\"li\")||e._remove()}}function yb(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,i=!0;for(const e of t)!n||e.is(\"ul\")||e.is(\"ol\")||e._remove(),e.is(\"text\")?(i&&(e._data=e.data.replace(/^\\s+/,\"\")),(!e.nextSibling||e.nextSibling.is(\"ul\")||e.nextSibling.is(\"ol\"))&&(e._data=e.data.replace(/\\s+$/,\"\"))):(e.is(\"ul\")||e.is(\"ol\"))&&(n=!0),i=!1}}function xb(t,e){if(e.isPhantom)return;const n=e.modelPosition.nodeBefore;if(n&&n.is(\"listItem\")){const t=e.mapper.toViewElement(n),i=t.getAncestors().find(t=>t.is(\"ul\")||t.is(\"ol\")),o=new Ii({startPosition:Vi.createAt(t,0)});for(const t of o){if(\"elementStart\"==t.type&&t.item.is(\"li\")){e.viewPosition=t.previousPosition;break}if(\"elementEnd\"==t.type&&t.item==i){e.viewPosition=t.nextPosition;break}}}}function Ab(t,e){const n=e.viewPosition,i=n.parent,o=e.mapper;if(\"ul\"==i.name||\"ol\"==i.name){if(n.isAtEnd){const t=o.toModelElement(n.nodeBefore),i=o.getModelLength(n.nodeBefore);e.modelPosition=bs.createBefore(t).getShiftedBy(i)}else{const t=o.toModelElement(n.nodeAfter);e.modelPosition=bs.createBefore(t)}t.stop()}else if(\"li\"==i.name&&n.nodeBefore&&(\"ul\"==n.nodeBefore.name||\"ol\"==n.nodeBefore.name)){const r=o.toModelElement(i);let s=1,a=n.nodeBefore;for(;a&&(a.is(\"ul\")||a.is(\"ol\"));)s+=o.getModelLength(a),a=a.previousSibling;e.modelPosition=bs.createBefore(r).getShiftedBy(s),t.stop()}}function Cb(t,[e,n]){let i=e.is(\"documentFragment\")?e.getChild(0):e;if(i&&i.is(\"listItem\")){const t=n.getFirstPosition();let e=null;if(t.parent.is(\"listItem\")?e=t.parent:t.nodeBefore&&t.nodeBefore.is(\"listItem\")&&(e=t.nodeBefore),e){const t=e.getAttribute(\"listIndent\");if(t>0)for(;i&&i.is(\"listItem\");)i._setAttribute(\"listIndent\",i.getAttribute(\"listIndent\")+t),i=i.nextSibling}}}function Tb(t,e){const n=!!e.sameIndent,i=!!e.smallerIndent,o=t instanceof fs?t.getAttribute(\"listIndent\"):e.listIndent;let r=t instanceof fs?t.previousSibling:t.nodeBefore;for(;r&&\"listItem\"==r.name;){const t=r.getAttribute(\"listIndent\");if(n&&o==t||i&&o>t)return r;r=r.previousSibling}return null}function Sb(t,e,n){return e&&n&&(\"ul\"==e.name||\"ol\"==e.name)&&e.name==n.name?t.mergeContainers(Vi.createAfter(e)):null}function Eb(t,e,n){const i=e.parent,o=n.mapper,r=n.writer;let s=o.toViewPosition(bs.createBefore(t));const a=Tb(t,{sameIndent:!0,smallerIndent:!0}),c=t.previousSibling;if(a&&a.getAttribute(\"listIndent\")==t.getAttribute(\"listIndent\")){const t=o.toViewElement(a);s=r.breakContainer(Vi.createAfter(t))}else s=c&&\"listItem\"==c.name?o.toViewPosition(bs.createAt(c,\"end\")):o.toViewPosition(bs.createBefore(t));if(s=Ob(s),r.insert(s,i),c&&\"listItem\"==c.name){const t=o.toViewElement(c),n=new Ii({boundaries:new Mi(Vi.createAt(t,0),s),ignoreElementEnd:!0});for(const t of n)if(t.item.is(\"li\")){const i=r.breakContainer(Vi.createBefore(t.item)),o=t.item.parent,s=Vi.createAt(e,\"end\");Sb(r,s.nodeBefore,s.nodeAfter),r.move(Mi.createOn(o),s),n.position=i}}else{const n=i.nextSibling;if(n&&(n.is(\"ul\")||n.is(\"ol\"))){let i=null;for(const e of n.getChildren()){const n=o.toModelElement(e);if(!(n&&n.getAttribute(\"listIndent\")>t.getAttribute(\"listIndent\")))break;i=e}i&&(r.breakContainer(Vi.createAfter(i)),r.move(Mi.createOn(i.parent),Vi.createAt(e,\"end\")))}}Sb(r,i,i.nextSibling),Sb(r,i.previousSibling,i)}function Pb(t,e,n,i,o){const r=Tb(e,{sameIndent:!0,smallerIndent:!0,listIndent:t}),s=o.mapper,a=o.writer,c=r?r.getAttribute(\"listIndent\"):null;let l;if(r)if(c==t){const t=s.toViewElement(r).parent;l=Vi.createAfter(t)}else{const t=bs.createAt(r,\"end\");l=s.toViewPosition(t)}else l=n;l=Ob(l);for(const t of[...i.getChildren()])(t.is(\"ul\")||t.is(\"ol\"))&&(l=a.move(Mi.createOn(t),l).end,Sb(a,t,t.nextSibling),Sb(a,t.previousSibling,t))}function Ob(t){return t.getLastMatchingPosition(t=>t.item.is(\"uiElement\"))}class Rb extends qh{static get requires(){return[Lm]}init(){const t=this.editor;t.model.schema.register(\"listItem\",{inheritAllFrom:\"$block\",allowAttributes:[\"listType\",\"listIndent\"]});const e=t.data,n=t.editing;t.model.document.registerPostFixer(e=>(function(t,e){const n=t.document.differ.getChanges(),i=new Map;let o=!1;for(const t of n)if(\"insert\"==t.type&&\"listItem\"==t.name)r(t.position);else if(\"insert\"==t.type&&\"listItem\"!=t.name){if(\"$text\"!=t.name){const n=t.position.nodeAfter;n.hasAttribute(\"listIndent\")&&(e.removeAttribute(\"listIndent\",n),o=!0),n.hasAttribute(\"listType\")&&(e.removeAttribute(\"listType\",n),o=!0)}r(t.position.getShiftedBy(t.length))}else\"remove\"==t.type&&\"listItem\"==t.name?r(t.position):\"attribute\"==t.type&&\"listIndent\"==t.attributeKey?r(t.range.start):\"attribute\"==t.type&&\"listType\"==t.attributeKey&&r(t.range.start);for(const t of i.values())s(t),a(t);return o;function r(t){const e=t.nodeBefore;if(e&&e.is(\"listItem\")){let n=e;if(i.has(n))return;for(;n.previousSibling&&n.previousSibling.is(\"listItem\");)if(n=n.previousSibling,i.has(n))return;i.set(t.nodeBefore,n)}else{const e=t.nodeAfter;e&&e.is(\"listItem\")&&i.set(e,e)}}function s(t){let n=0,i=null;for(;t&&t.is(\"listItem\");){const r=t.getAttribute(\"listIndent\");if(r>n){let s;null===i?(i=r-n,s=n):(i>r&&(i=r),s=r-i),e.setAttribute(\"listIndent\",s,t),o=!0}else i=null,n=t.getAttribute(\"listIndent\")+1;t=t.nextSibling}}function a(t){let n=[],i=null;for(;t&&t.is(\"listItem\");){const r=t.getAttribute(\"listIndent\");if(i&&i.getAttribute(\"listIndent\")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){const i=n[r];t.getAttribute(\"listType\")!=i&&(e.setAttribute(\"listType\",i,t),o=!0)}else n[r]=t.getAttribute(\"listType\");i=t,t=t.nextSibling}}})(t.model,e)),n.mapper.registerViewToModelLength(\"li\",Ib),e.mapper.registerViewToModelLength(\"li\",Ib),n.mapper.on(\"modelToViewPosition\",xb),n.mapper.on(\"viewToModelPosition\",Ab),e.mapper.on(\"modelToViewPosition\",xb),n.downcastDispatcher.on(\"insert\",wb,{priority:\"high\"}),n.downcastDispatcher.on(\"insert:listItem\",pb),e.downcastDispatcher.on(\"insert\",wb,{priority:\"high\"}),e.downcastDispatcher.on(\"insert:listItem\",pb),n.downcastDispatcher.on(\"attribute:listType:listItem\",gb),e.downcastDispatcher.on(\"attribute:listType:listItem\",gb),n.downcastDispatcher.on(\"attribute:listIndent:listItem\",bb),e.downcastDispatcher.on(\"attribute:listIndent:listItem\",bb),n.downcastDispatcher.on(\"remove:listItem\",mb),n.downcastDispatcher.on(\"remove\",vb,{priority:\"low\"}),e.downcastDispatcher.on(\"remove:listItem\",mb),e.downcastDispatcher.on(\"remove\",vb,{priority:\"low\"}),e.upcastDispatcher.on(\"element:ul\",kb,{priority:\"high\"}),e.upcastDispatcher.on(\"element:ol\",kb,{priority:\"high\"}),e.upcastDispatcher.on(\"element:li\",yb,{priority:\"high\"}),e.upcastDispatcher.on(\"element:li\",_b),t.model.on(\"insertContent\",Cb,{priority:\"high\"}),t.commands.add(\"numberedList\",new lb(t,\"numbered\")),t.commands.add(\"bulletedList\",new lb(t,\"bulleted\")),t.commands.add(\"indentList\",new hb(t,\"forward\")),t.commands.add(\"outdentList\",new hb(t,\"backward\"));const i=this.editor.editing.view.document;this.listenTo(i,\"enter\",(t,e)=>{const n=this.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&\"listItem\"==i.name&&i.isEmpty&&(this.editor.execute(\"outdentList\"),e.preventDefault(),t.stop())}),this.listenTo(i,\"delete\",(t,e)=>{if(\"backward\"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const i=n.getFirstPosition();if(!i.isAtStart)return;const o=i.parent;\"listItem\"===o.name&&(o.previousSibling&&\"listItem\"===o.previousSibling.name||(this.editor.execute(\"outdentList\"),e.preventDefault(),t.stop()))},{priority:\"high\"});const o=t=>(e,n)=>{this.editor.commands.get(t).isEnabled&&(this.editor.execute(t),n())};this.editor.keystrokes.set(\"Tab\",o(\"indentList\")),this.editor.keystrokes.set(\"Shift+Tab\",o(\"outdentList\"))}}function Ib(t){let e=1;for(const n of t.getChildren())if(\"ul\"==n.name||\"ol\"==n.name)for(const t of n.getChildren())e+=Ib(t);return e}var Vb=n(30),Mb=n.n(Vb),Fb=n(31),Nb=n.n(Fb);class Db extends qh{init(){const t=this.editor.t;this._addButton(\"numberedList\",t(\"ac\"),Mb.a),this._addButton(\"bulletedList\",t(\"ad\"),Nb.a)}_addButton(t,e,n){const i=this.editor;i.ui.componentFactory.add(t,o=>{const r=i.commands.get(t),s=new Sf(o);return s.set({label:e,icon:n,tooltip:!0}),s.bind(\"isOn\",\"isEnabled\").to(r,\"value\",\"isEnabled\"),this.listenTo(s,\"execute\",()=>i.execute(t)),s})}}const Bb=\"ckCsrfToken\",Lb=40,jb=\"abcdefghijklmnopqrstuvwxyz0123456789\";function zb(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(\";\");for(const n of e){const e=n.split(\"=\"),i=decodeURIComponent(e[0].trim().toLowerCase());if(i===t)return decodeURIComponent(e[1])}return null}(Bb);return t&&t.length==Lb||(t=function(t){let e=\"\";const n=new Uint8Array(t);window.crypto.getRandomValues(n);for(let t=0;t<n.length;t++){const i=jb.charAt(n[t]%jb.length);e+=Math.random()>.5?i.toUpperCase():i}return e}(Lb),function(t,e){document.cookie=encodeURIComponent(t)+\"=\"+encodeURIComponent(e)+\";path=/\"}(Bb,t)),t}class qb{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return new Promise((t,e)=>{this._initRequest(),this._initListeners(t,e),this._sendRequest()})}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open(\"POST\",this.url,!0),t.responseType=\"json\"}_initListeners(t,e){const n=this.xhr,i=this.loader,o=(0,this.t)(\"c\")+` ${i.file.name}.`;n.addEventListener(\"error\",()=>e(o)),n.addEventListener(\"abort\",()=>e()),n.addEventListener(\"load\",()=>{const i=n.response;if(!i||!i.uploaded)return e(i&&i.error&&i.error.message?i.error.message:o);t({default:i.url})}),n.upload&&n.upload.addEventListener(\"progress\",t=>{t.lengthComputable&&(i.uploadTotal=t.total,i.uploaded=t.loaded)})}_sendRequest(){const t=new FormData;t.append(\"upload\",this.loader.file),t.append(\"ckCsrfToken\",zb()),console.log(t),this.xhr.send(t)}}const Ub=[\"left\",\"right\",\"center\",\"justify\"];function Hb(t){return Ub.includes(t)}function Wb(t){return\"left\"===t}const $b=\"alignment\";class Kb extends Kh{refresh(){const t=Qf(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.value=this.isEnabled&&t.hasAttribute(\"alignment\")?t.getAttribute(\"alignment\"):\"left\"}execute(t={}){const e=this.editor.model,n=e.document,i=t.value;e.change(t=>{const e=Array.from(n.selection.getSelectedBlocks()).filter(t=>this._canBeAligned(t)),o=e[0].getAttribute(\"alignment\");Wb(i)||o===i||!i?function(t,e){for(const n of t)e.removeAttribute($b,n)}(e,t):function(t,e,n){for(const i of t)e.setAttribute($b,n,i)}(e,t,i)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,$b)}}class Gb extends qh{constructor(t){super(t),t.config.define(\"alignment\",{options:[...Ub]})}init(){const t=this.editor,e=t.model.schema,n=t.config.get(\"alignment.options\").filter(Hb);e.extend(\"$block\",{allowAttributes:\"alignment\"});const i=function(t){const e={model:{key:\"alignment\",values:t.slice()},view:{}};for(const n of t)e.view[n]={key:\"style\",value:{\"text-align\":n}};return e}(n.filter(t=>!Wb(t)));t.conversion.attributeToAttribute(i),t.commands.add(\"alignment\",new Kb(t))}}var Jb=n(12),Qb=n.n(Jb),Yb=n(32),Xb=n.n(Yb),Zb=n(33),tw=n.n(Zb),ew=n(34),nw=n.n(ew);const iw=new Map([[\"left\",Qb.a],[\"right\",Xb.a],[\"center\",tw.a],[\"justify\",nw.a]]);class ow extends qh{get localizedOptionTitles(){const t=this.editor.t;return{left:t(\"w\"),right:t(\"x\"),center:t(\"y\"),justify:t(\"z\")}}static get pluginName(){return\"AlignmentUI\"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t,i=t.config.get(\"alignment.options\");i.filter(Hb).forEach(t=>this._addButton(t)),e.add(\"alignment\",t=>{const o=ng(t),r=i.map(t=>e.create(`alignment:${t}`));!function(t,e){const n=t.toolbarView=new Bh;t.extendTemplate({attributes:{class:[\"ck-toolbar-dropdown\"]}}),e.map(t=>n.items.add(t)),t.panelView.children.add(n),n.items.delegate(\"execute\").to(t)}(o,r),o.buttonView.set({label:n(\"aa\"),tooltip:!0}),o.toolbarView.isVertical=!0,o.extendTemplate({attributes:{class:\"ck-alignment-dropdown\"}});const s=Qb.a;return o.buttonView.bind(\"icon\").toMany(r,\"isOn\",(...t)=>{const e=t.findIndex(t=>t);return e<0?s:r[e].icon}),o.bind(\"isEnabled\").toMany(r,\"isEnabled\",(...t)=>t.some(t=>t)),o})}_addButton(t){const e=this.editor;e.ui.componentFactory.add(`alignment:${t}`,n=>{const i=e.commands.get(\"alignment\"),o=new Sf(n);return o.set({label:this.localizedOptionTitles[t],icon:iw.get(t),tooltip:!0}),o.bind(\"isEnabled\").to(i),o.bind(\"isOn\").to(i,\"value\",e=>e===t),this.listenTo(o,\"execute\",()=>{e.execute(\"alignment\",{value:t}),e.editing.view.focus()}),o})}}n(96);const rw=Ih(\"px\");class sw extends Sf{constructor(t){super(t);const e=this.bindTemplate;this.isVisible=!1,this.set(\"top\",0),this.set(\"left\",0),this.extendTemplate({attributes:{class:\"ck-block-toolbar-button\",style:{top:e.to(\"top\",t=>rw(t)),left:e.to(\"left\",t=>rw(t))}}})}}var aw=n(35),cw=n.n(aw);var lw=n(36),dw=n.n(lw),uw=n(37),hw=n.n(uw),fw=n(38),pw=n.n(fw);const mw={heading1:dw.a,heading2:hw.a,heading3:pw.a};var gw=n(39),bw=n.n(gw);const ww=\"code\";class vw extends qh{init(){const t=this.editor;t.model.schema.extend(\"$text\",{allowAttributes:ww}),t.conversion.attributeToElement({model:ww,view:\"code\",upcastAlso:{styles:{\"word-wrap\":\"break-word\"}}}),t.commands.add(ww,new Df(t,ww))}}var _w=n(40),kw=n.n(_w);const yw=\"code\";class xw extends qh{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(yw,n=>{const i=t.commands.get(yw),o=new Sf(n);return o.set({label:e(\"a\"),icon:kw.a,tooltip:!0}),o.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\"),this.listenTo(o,\"execute\",()=>t.execute(yw)),o})}}const Aw=\"underline\";class Cw extends qh{init(){const t=this.editor;t.model.schema.extend(\"$text\",{allowAttributes:Aw}),t.conversion.attributeToElement({model:Aw,view:\"u\",upcastAlso:{styles:{\"text-decoration\":\"underline\"}}}),t.commands.add(Aw,new Df(t,Aw)),t.keystrokes.set(\"CTRL+U\",\"underline\")}}var Tw=n(41),Sw=n.n(Tw);const Ew=\"underline\";class Pw extends qh{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Ew,n=>{const i=t.commands.get(Ew),o=new Sf(n);return o.set({label:e(\"b\"),icon:Sw.a,keystroke:\"CTRL+U\",tooltip:!0}),o.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\"),this.listenTo(o,\"execute\",()=>t.execute(Ew)),o})}}n.d(e,\"default\",function(){return Ow});class Ow extends zh{}Ow.builtinPlugins=[class extends qh{static get requires(){return[$h,Xh,nf,_f,Vf]}static get pluginName(){return\"Essentials\"}},class extends qh{static get pluginName(){return\"Autoformat\"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get(\"bulletedList\")&&new Mf(this.editor,/^[*-]\\s$/,\"bulletedList\"),t.get(\"numberedList\")&&new Mf(this.editor,/^\\d+[.|)]\\s$/,\"numberedList\")}_addBasicStylesAutoformats(){const t=this.editor.commands;t.get(\"bold\")&&(new Ff(this.editor,/(\\*\\*)([^*]+)(\\*\\*)$/g,\"bold\"),new Ff(this.editor,/(__)([^_]+)(__)$/g,\"bold\")),t.get(\"italic\")&&(new Ff(this.editor,/(?:^|[^*])(\\*)([^*_]+)(\\*)$/g,\"italic\"),new Ff(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,\"italic\")),t.get(\"code\")&&new Ff(this.editor,/(`)([^`]+)(`)$/g,\"code\")}_addHeadingAutoformats(){const t=this.editor.commands.get(\"heading\");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const e=t[7],n=new RegExp(`^(#{${e}})\\\\s$`);new Mf(this.editor,n,()=>{this.editor.execute(\"heading\",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get(\"blockQuote\")&&new Mf(this.editor,/^>\\s$/,\"blockQuote\")}},class extends qh{static get pluginName(){return\"Autosave\"}static get requires(){return[rp]}constructor(t){super(t),this._throttledSave=function(t,e){let n=0,i=null;function o(){const t=Date.now();return!i&&(t>n+e?(r(),!0):(i=window.setTimeout(r,n+e-t),!0))}function r(){n=Date.now(),i=null,t()}return o.flush=function(){i&&(window.clearTimeout(i),r()),n=0},o}(this._save.bind(this),15e3),this._lastDocumentVersion=t.model.document.version,this._domEmitter=Object.create(Uo),this._saveActionCounter=0,this._config=t.config.get(\"autosave\")||{}}init(){const t=this.editor,e=t.model.document;this._pendingActions=t.plugins.get(rp),this.listenTo(e,\"change:data\",()=>{this._incrementCounter(),this._throttledSave()||this._decrementCounter()}),this.listenTo(t,\"destroy\",()=>this._flush(),{priority:\"highest\"}),this._domEmitter.listenTo(window,\"beforeunload\",(t,e)=>{this._pendingActions.hasAny&&(e.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}_flush(){this._throttledSave.flush()}_save(){const t=this.editor.model.document.version,e=[];if(this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),t<this._lastDocumentVersion||!e.length||\"initializing\"===this.editor.state)return this._throttledSave.flush(),void this._decrementCounter();this._lastDocumentVersion=t,Promise.resolve().then(()=>Promise.all(e.map(t=>t(this.editor)))).then(()=>{this._decrementCounter()})}_incrementCounter(){const t=this.editor.t;this._saveActionCounter++,this._action||(this._action=this._pendingActions.add(t(\"e\")))}_decrementCounter(){this._saveActionCounter--,0===this._saveActionCounter&&(this._pendingActions.remove(this._action),this._action=null)}},class extends qh{static get requires(){return[Lf,Uf]}static get pluginName(){return\"Bold\"}},class extends qh{static get requires(){return[Wf,Jf]}static get pluginName(){return\"Italic\"}},class extends qh{static get requires(){return[ep,op]}static get pluginName(){return\"BlockQuote\"}},class extends qh{static get requires(){return[gp,mm,Nm]}static get pluginName(){return\"EasyImage\"}},class extends qh{static get requires(){return[Wm,og]}static get pluginName(){return\"Heading\"}},mm,class extends qh{static get requires(){return[hg]}static get pluginName(){return\"ImageCaption\"}},class extends qh{static get requires(){return[Rg,Ig]}static get pluginName(){return\"ImageStyle\"}},class extends qh{static get requires(){return[cm]}static get pluginName(){return\"ImageToolbar\"}init(){const t=this.editor,e=t.plugins.get(\"BalloonToolbar\");e&&this.listenTo(e,\"show\",e=>{Fp(t.editing.view.document.selection)&&e.stop()},{priority:\"high\"})}afterInit(){const t=this.editor,e=t.config.get(\"image.toolbar\");e&&e.length&&(this._balloon=this.editor.plugins.get(\"ContextualBalloon\"),this._toolbar=new Bh,this._toolbar.fillFromConfig(e,t.ui.componentFactory),this.listenTo(t.ui,\"update\",()=>{this._checkIsVisible()}),this.listenTo(t.ui.focusTracker,\"change:isFocused\",()=>{this._checkIsVisible()},{priority:\"low\"}))}_checkIsVisible(){const t=this.editor;t.ui.focusTracker.isFocused&&Fp(t.editing.view.document.selection)?this._showToolbar():this._hideToolbar()}_showToolbar(){const t=this.editor;this._isVisible?um(t):this._balloon.hasView(this._toolbar)||this._balloon.add({view:this._toolbar,position:hm(t),balloonClassName:Vg})}_hideToolbar(){this._isVisible&&this._balloon.remove(this._toolbar)}get _isVisible(){return this._balloon.visibleView==this._toolbar}},Nm,class extends qh{static get requires(){return[Qg,ab]}static get pluginName(){return\"Link\"}},class extends qh{static get requires(){return[Rb,Db]}static get pluginName(){return\"List\"}},Lm,class extends qh{static get requires(){return[ap]}static get pluginName(){return\"CKFinderUploadAdapter\"}init(){const t=this.editor.config.get(\"ckfinder.uploadUrl\");t&&(this.editor.plugins.get(ap).createUploadAdapter=(e=>new qb(e,t,this.editor.t)))}},class extends qh{static get requires(){return[vw,xw]}static get pluginName(){return\"Code\"}},class extends qh{static get requires(){return[Cw,Pw]}static get pluginName(){return\"Underline\"}},class extends qh{static get requires(){return[Gb,ow]}static get pluginName(){return\"Alignment\"}},class extends qh{static get pluginName(){return\"BlockToolbar\"}constructor(t){super(t),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),Hp({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}init(){const t=this.editor;this.listenTo(t.model.document.selection,\"change:range\",(t,e)=>{e.directChange&&this._hidePanel()}),this.listenTo(t.ui,\"update\",()=>this._updateButton()),this.listenTo(t,\"change:isReadOnly\",()=>this._updateButton(),{priority:\"low\"}),this.listenTo(t.ui.focusTracker,\"change:isFocused\",()=>this._updateButton()),this.listenTo(this.buttonView,\"change:isVisible\",(t,e,n)=>{n?this.buttonView.listenTo(window,\"resize\",()=>this._updateButton()):(this.buttonView.stopListening(window,\"resize\"),this._hidePanel())})}afterInit(){const t=this.editor.ui.componentFactory,e=this.editor.config.get(\"blockToolbar\");this.toolbarView.fillFromConfig(e,t);for(const t of this.toolbarView.items)t.on(\"execute\",()=>this._hidePanel(!0),{priority:\"high\"})}_createToolbarView(){const t=new Bh(this.editor.locale);return t.extendTemplate({attributes:{class:[\"ck-toolbar_floating\"]}}),t.focusTracker.on(\"change:isFocused\",(t,e,n)=>{n||this._hidePanel()}),t}_createPanelView(){const t=this.editor,e=new om(t.locale);return e.content.add(this.toolbarView),e.className=\"ck-toolbar-container\",t.ui.view.body.add(e),t.ui.focusTracker.add(e.element),this.toolbarView.keystrokes.set(\"Esc\",(t,e)=>{this._hidePanel(!0),e()}),e}_createButtonView(){const t=this.editor,e=new sw(t.locale);return e.set({label:t.t(\"Edit block\"),icon:cw.a,withText:!1}),e.bind(\"isOn\").to(this.panelView,\"isVisible\"),e.bind(\"tooltip\").to(this.panelView,\"isVisible\",t=>!t),this.listenTo(e,\"execute\",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),t.ui.view.body.add(e),t.ui.focusTracker.add(e.element),e}_updateButton(){const t=this.editor,e=t.model,n=t.editing.view;if(!t.ui.focusTracker.isFocused)return void this._hideButton();if(t.isReadOnly)return void this._hideButton();const i=Array.from(e.document.selection.getSelectedBlocks())[0];if(!i||Array.from(this.toolbarView.items).every(t=>!t.isEnabled))return void this._hideButton();const o=n.domConverter.mapViewToDom(t.editing.mapper.toViewElement(i));this.buttonView.isVisible=!0,this._attachButtonToElement(o),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){const t=this.panelView.isVisible;this.panelView.pin({target:this.buttonView.element,limiter:this.editor.ui.view.editableElement}),t||this.toolbarView.items.get(0).focus()}_hidePanel(t){this.panelView.isVisible=!1,t&&this.editor.editing.view.focus()}_attachButtonToElement(t){const e=window.getComputedStyle(t),n=new Kr(this.editor.ui.view.editableElement),i=parseInt(e.paddingTop,10),o=parseInt(e.lineHeight,10)||1.2*parseInt(e.fontSize,10),r=Zp({element:this.buttonView.element,target:t,positions:[(t,e)=>({top:t.top+i+(o-e.height)/2,left:n.left-e.width})]});this.buttonView.top=r.top,this.buttonView.left=r.left}},class extends qh{init(){ig(this.editor).filter(t=>\"paragraph\"!==t.model).map(t=>this._createButton(t))}_createButton(t){const e=this.editor;e.ui.componentFactory.add(t.model,n=>{const i=new Sf(n),o=e.commands.get(\"heading\");return i.label=t.title,i.icon=t.icon||mw[t.model],i.tooltip=!0,i.bind(\"isEnabled\").to(o),i.bind(\"isOn\").to(o,\"value\",e=>e==t.model),i.on(\"execute\",()=>{e.execute(\"heading\",{value:t.model})}),i})}},class extends qh{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(\"paragraph\",n=>{const i=new Sf(n),o=t.commands.get(\"paragraph\");return i.label=e(\"d\"),i.icon=bw.a,i.tooltip=!0,i.bind(\"isEnabled\").to(o),i.bind(\"isOn\").to(o,\"value\"),i.on(\"execute\",()=>{t.execute(\"paragraph\")}),i})}},xw,Pw],Ow.defaultConfig={alignment:{options:[\"left\",\"center\",\"right\",\"justify\"]},toolbar:{items:[\"heading\",\"|\",\"bold\",\"italic\",\"underline\",\"alignment:left\",\"alignment:center\",\"alignment:right\",\"alignment:justify\",\"bulletedList\",\"numberedList\",\"blockQuote\",\"code\",\"link\",\"imageUpload\",\"undo\",\"redo\"]},blockToolbar:[\"paragraph\",\"heading2\",\"heading3\",\"|\",\"bold\",\"italic\",\"underline\",\"alignment:center\",\"alignment:right\",\"blockQuote\",\"code\",\"link\",\"imageUpload\",\"undo\"],image:{toolbar:[\"imageStyle:full\",\"imageStyle:side\",\"|\",\"imageTextAlternative\"]},language:\"en\"}}]).default});\n//# sourceMappingURL=ckeditor.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmVuZG9yanMvY2tlZGl0b3IuanM/ZGQ1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkJBQTJCLEVBQUUsc3ZCQUFzdkIsRUFBRSwrREFBK0QsaUJBQWlCLEtBQWlELG9CQUFvQixTQUF5SCxDQUFDLG1CQUFtQixtQkFBbUIsU0FBUyxjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELGtCQUFrQixrQkFBa0IsYUFBYSxxQkFBcUIsU0FBUyx1QkFBdUIsU0FBUyxFQUFFLCtGQUErRixzQkFBc0IsaUJBQWlCLG9GQUFvRiwwQkFBMEIsdUJBQXVCLGNBQWMsNkJBQTZCLDBCQUEwQixFQUFFLFNBQVMsS0FBSyxPQUFPLGlCQUFpQixRQUFRLGVBQWUsTUFBTSxrQkFBa0Isa0RBQWtELFlBQVksb0RBQW9ELGdCQUFnQixTQUFTLG1CQUFtQixtQ0FBbUMsa0JBQWtCLGtCQUFrQixpQ0FBaUMsY0FBYyx1RUFBdUUseUJBQXlCLFNBQVMsT0FBTyxPQUFPLGFBQWEsMkJBQTJCLGdCQUFnQixZQUFZLFdBQVcsS0FBSyxxQkFBcUIsTUFBTSxTQUFTLFlBQVksaUJBQWlCLDJCQUEyQixLQUFLLGlCQUFpQixrQ0FBa0MsS0FBSyxTQUFTLFFBQVEsaUJBQWlCLDRCQUE0QixTQUFTLDBCQUEwQixnQkFBZ0IsaUJBQWlCLEtBQUssV0FBVyxLQUFLLHdDQUF3QyxvQ0FBb0MscUNBQXFDLGVBQWUsRUFBRSxTQUFTLGdCQUFnQixzQkFBc0IscUlBQXFJLG9CQUFvQixnSUFB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QkFBaUIsb0JBQW9CLHNDQUFzQyw4Q0FBOEMsd0pBQXdKLHFCQUFxQixjQUFjLEVBQUUsSUFBSSxHQUFHLGtCQUFrQixPQUFPLDBCQUEwQiwwQ0FBMEMsZ0RBQWdELDBIQUEwSCx1QkFBdUIsSUFBSSxHQUFHLDBCQUEwQixXQUFXLDRDQUE0QyxVQUFVLGlOQUFpTiw4S0FBOEsseUVBQXlFLGdCQUFnQixXQUFXO0FBQ2hrd2MiLCJmaWxlIjoiLi9zcmMvdmVuZG9yanMvY2tlZGl0b3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE4LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQuXG4gKi9cbiFmdW5jdGlvbih0KXt0LmVuPU9iamVjdC5hc3NpZ24odC5lbnx8e30se2E6XCJDb2RlXCIsYjpcIlVuZGVybGluZVwiLGM6XCJDYW5ub3QgdXBsb2FkIGZpbGU6XCIsZDpcIlBhcmFncmFwaFwiLGU6XCJTYXZpbmcgY2hhbmdlc1wiLGY6XCJCb2xkXCIsZzpcIkl0YWxpY1wiLGg6XCJCbG9jayBxdW90ZVwiLGk6XCJDaG9vc2UgaGVhZGluZ1wiLGo6XCJIZWFkaW5nXCIsazpcIkhlYWRpbmcgMVwiLGw6XCJIZWFkaW5nIDJcIixtOlwiSGVhZGluZyAzXCIsbjpcImltYWdlIHdpZGdldFwiLG86XCJGdWxsIHNpemUgaW1hZ2VcIixwOlwiU2lkZSBpbWFnZVwiLHE6XCJMZWZ0IGFsaWduZWQgaW1hZ2VcIixyOlwiQ2VudGVyZWQgaW1hZ2VcIixzOlwiUmlnaHQgYWxpZ25lZCBpbWFnZVwiLHQ6XCJJbnNlcnQgaW1hZ2VcIix1OlwiVXBsb2FkIGZhaWxlZFwiLHY6XCJFbnRlciBpbWFnZSBjYXB0aW9uXCIsdzpcIkFsaWduIGxlZnRcIix4OlwiQWxpZ24gcmlnaHRcIix5OlwiQWxpZ24gY2VudGVyXCIsejpcIkp1c3RpZnlcIixhYTpcIlRleHQgYWxpZ25tZW50XCIsYWI6XCJMaW5rXCIsYWM6XCJOdW1iZXJlZCBMaXN0XCIsYWQ6XCJCdWxsZXRlZCBMaXN0XCIsYWU6XCJVcGxvYWQgaW4gcHJvZ3Jlc3NcIixhZjpcIkNoYW5nZSBpbWFnZSB0ZXh0IGFsdGVybmF0aXZlXCIsYWc6XCJTYXZlXCIsYWg6XCJDYW5jZWxcIixhaTpcIkxpbmsgVVJMXCIsYWo6XCJVbmxpbmtcIixhazpcIkVkaXQgbGlua1wiLGFsOlwiT3BlbiBsaW5rIGluIG5ldyB0YWJcIixhbTpcIlRoaXMgbGluayBoYXMgbm8gVVJMXCIsYW46XCJSaWNoIFRleHQgRWRpdG9yXCIsYW86XCJVbmRvXCIsYXA6XCJSZWRvXCIsYXE6XCJUZXh0IGFsdGVybmF0aXZlXCIsYXI6XCJSaWNoIFRleHQgRWRpdG9yLCAlMFwifSl9KHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlN8fCh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TPXt9KSksZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkNsYXNzaWNFZGl0b3I9ZSgpOnQuQ2xhc3NpY0VkaXRvcj1lKCl9KHdpbmRvdyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKGkpe2lmKGVbaV0pcmV0dXJuIGVbaV0uZXhwb3J0czt2YXIgbz1lW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmw9ITAsby5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLGkpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBvIGluIHQpbi5kKGksbyxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLG8pKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTk4KX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImJcIixmdW5jdGlvbigpe3JldHVybiBvfSksbi5kKGUsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gcn0pO2NvbnN0IGk9XCJodHRwczovL2RvY3MuY2tlZGl0b3IuY29tL2NrZWRpdG9yNS9sYXRlc3QvZnJhbWV3b3JrL2d1aWRlcy9zdXBwb3J0L2Vycm9yLWNvZGVzLmh0bWxcIjtjbGFzcyBvIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlKXt0PXIodCksZSYmKHQrPVwiIFwiK0pTT04uc3RyaW5naWZ5KGUpKSxzdXBlcih0KSx0aGlzLm5hbWU9XCJDS0VkaXRvckVycm9yXCIsdGhpcy5kYXRhPWV9c3RhdGljIGlzQ0tFZGl0b3JFcnJvcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIG99fWZ1bmN0aW9uIHIodCl7Y29uc3QgZT10Lm1hdGNoKC9eKFteOl0rKTovKTtyZXR1cm4gZT90K2AgUmVhZCBtb3JlOiAke2l9I2Vycm9yLSR7ZVsxXX1cXG5gOnR9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9e30sbz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGV9fShmdW5jdGlvbigpe3JldHVybiB3aW5kb3cmJmRvY3VtZW50JiZkb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYn0pLHI9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIHQoKTtpZih2b2lkIDA9PT1lW3RdKXt2YXIgbj1mdW5jdGlvbih0KXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KX0uY2FsbCh0aGlzLHQpO2lmKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCYmbiBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCl0cnl7bj1uLmNvbnRlbnREb2N1bWVudC5oZWFkfWNhdGNoKHQpe249bnVsbH1lW3RdPW59cmV0dXJuIGVbdF19fSgpLHM9bnVsbCxhPTAsYz1bXSxsPW4oNDUpO2Z1bmN0aW9uIGQodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXSxyPWlbby5pZF07aWYocil7ci5yZWZzKys7Zm9yKHZhciBzPTA7czxyLnBhcnRzLmxlbmd0aDtzKyspci5wYXJ0c1tzXShvLnBhcnRzW3NdKTtmb3IoO3M8by5wYXJ0cy5sZW5ndGg7cysrKXIucGFydHMucHVzaChnKG8ucGFydHNbc10sZSkpfWVsc2V7dmFyIGE9W107Zm9yKHM9MDtzPG8ucGFydHMubGVuZ3RoO3MrKylhLnB1c2goZyhvLnBhcnRzW3NdLGUpKTtpW28uaWRdPXtpZDpvLmlkLHJlZnM6MSxwYXJ0czphfX19fWZ1bmN0aW9uIHUodCxlKXtmb3IodmFyIG49W10saT17fSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciByPXRbb10scz1lLmJhc2U/clswXStlLmJhc2U6clswXSxhPXtjc3M6clsxXSxtZWRpYTpyWzJdLHNvdXJjZU1hcDpyWzNdfTtpW3NdP2lbc10ucGFydHMucHVzaChhKTpuLnB1c2goaVtzXT17aWQ6cyxwYXJ0czpbYV19KX1yZXR1cm4gbn1mdW5jdGlvbiBoKHQsZSl7dmFyIG49cih0Lmluc2VydEludG8pO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO3ZhciBpPWNbYy5sZW5ndGgtMV07aWYoXCJ0b3BcIj09PXQuaW5zZXJ0QXQpaT9pLm5leHRTaWJsaW5nP24uaW5zZXJ0QmVmb3JlKGUsaS5uZXh0U2libGluZyk6bi5hcHBlbmRDaGlsZChlKTpuLmluc2VydEJlZm9yZShlLG4uZmlyc3RDaGlsZCksYy5wdXNoKGUpO2Vsc2UgaWYoXCJib3R0b21cIj09PXQuaW5zZXJ0QXQpbi5hcHBlbmRDaGlsZChlKTtlbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0Lmluc2VydEF0fHwhdC5pbnNlcnRBdC5iZWZvcmUpdGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7dmFyIG89cih0Lmluc2VydEludG8rXCIgXCIrdC5pbnNlcnRBdC5iZWZvcmUpO24uaW5zZXJ0QmVmb3JlKGUsbyl9fWZ1bmN0aW9uIGYodCl7aWYobnVsbD09PXQucGFyZW50Tm9kZSlyZXR1cm4hMTt0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dmFyIGU9Yy5pbmRleE9mKHQpO2U+PTAmJmMuc3BsaWNlKGUsMSl9ZnVuY3Rpb24gcCh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHZvaWQgMD09PXQuYXR0cnMudHlwZSYmKHQuYXR0cnMudHlwZT1cInRleHQvY3NzXCIpLG0oZSx0LmF0dHJzKSxoKHQsZSksZX1mdW5jdGlvbiBtKHQsZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0LnNldEF0dHJpYnV0ZShuLGVbbl0pfSl9ZnVuY3Rpb24gZyh0LGUpe3ZhciBuLGksbyxyO2lmKGUudHJhbnNmb3JtJiZ0LmNzcyl7aWYoIShyPWUudHJhbnNmb3JtKHQuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0LmNzcz1yfWlmKGUuc2luZ2xldG9uKXt2YXIgYz1hKys7bj1zfHwocz1wKGUpKSxpPXcuYmluZChudWxsLG4sYywhMSksbz13LmJpbmQobnVsbCxuLGMsITApfWVsc2UgdC5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09dC5hdHRycy50eXBlJiYodC5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdC5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIsbShlLHQuYXR0cnMpLGgodCxlKSxlfShlKSxpPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmNzcyxvPW4uc291cmNlTWFwLHI9dm9pZCAwPT09ZS5jb252ZXJ0VG9BYnNvbHV0ZVVybHMmJm87KGUuY29udmVydFRvQWJzb2x1dGVVcmxzfHxyKSYmKGk9bChpKSk7byYmKGkrPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvKSkpKStcIiAqL1wiKTt2YXIgcz1uZXcgQmxvYihbaV0se3R5cGU6XCJ0ZXh0L2Nzc1wifSksYT10LmhyZWY7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwocyksYSYmVVJMLnJldm9rZU9iamVjdFVSTChhKX0uYmluZChudWxsLG4sZSksbz1mdW5jdGlvbigpe2Yobiksbi5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZil9KToobj1wKGUpLGk9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmNzcyxpPWUubWVkaWE7aSYmdC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLGkpO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7Zm9yKDsgdC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fS5iaW5kKG51bGwsbiksbz1mdW5jdGlvbigpe2Yobil9KTtyZXR1cm4gaSh0KSxmdW5jdGlvbihlKXtpZihlKXtpZihlLmNzcz09PXQuY3NzJiZlLm1lZGlhPT09dC5tZWRpYSYmZS5zb3VyY2VNYXA9PT10LnNvdXJjZU1hcClyZXR1cm47aSh0PWUpfWVsc2UgbygpfX10LmV4cG9ydHM9ZnVuY3Rpb24odCwgZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERFQlVHJiZERUJVRyYmXCJvYmplY3RcIiE9dHlwZW9mIGRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTsoZT1lfHx7fSkuYXR0cnM9XCJvYmplY3RcIj09dHlwZW9mIGUuYXR0cnM/ZS5hdHRyczp7fSxlLnNpbmdsZXRvbnx8XCJib29sZWFuXCI9PXR5cGVvZiBlLnNpbmdsZXRvbnx8KGUuc2luZ2xldG9uPW8oKSksZS5pbnNlcnRJbnRvfHwoZS5pbnNlcnRJbnRvPVwiaGVhZFwiKSxlLmluc2VydEF0fHwoZS5pbnNlcnRBdD1cImJvdHRvbVwiKTt2YXIgbj11KHQsZSk7cmV0dXJuIGQobixlKSxmdW5jdGlvbih0KXtmb3IodmFyIG89W10scj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgcz1uW3JdOyhhPWlbcy5pZF0pLnJlZnMtLSxvLnB1c2goYSl9dCYmZCh1KHQsZSksZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyl7dmFyIGE7aWYoMD09PShhPW9bcl0pLnJlZnMpe2Zvcih2YXIgYz0wO2M8YS5wYXJ0cy5sZW5ndGg7YysrKWEucGFydHNbY10oKTtkZWxldGUgaVthLmlkXX19fX07dmFyIGI9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gdFtlXT1uLHQuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJcXG5cIil9fSgpO2Z1bmN0aW9uIHcodCxlLG4saSl7dmFyIG89bj9cIlwiOmkuY3NzO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1iKGUsbyk7ZWxzZXt2YXIgcj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvKSxzPXQuY2hpbGROb2RlcztzW2VdJiZ0LnJlbW92ZUNoaWxkKHNbZV0pLHMubGVuZ3RoP3QuaW5zZXJ0QmVmb3JlKHIsc1tlXSk6dC5hcHBlbmRDaGlsZChyKX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtjb25zdCBvPXtlcnJvcih0LGUpe2NvbnNvbGUuZXJyb3IoT2JqZWN0KGkuYSkodCksZSl9LHdhcm4odCxlKXtjb25zb2xlLndhcm4oT2JqZWN0KGkuYSkodCksZSl9fTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0LGkpe3ZhciBvPW4oNCkscj17ZnVuY3Rpb246ITAsb2JqZWN0OiEwfSxzPXJbdHlwZW9mIGV4cG9ydHNdJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZT9leHBvcnRzOnZvaWQgMCxhPXJbdHlwZW9mIHRdJiZ0JiYhdC5ub2RlVHlwZT90OnZvaWQgMCxjPU9iamVjdChvLmEpKHMmJmEmJlwib2JqZWN0XCI9PXR5cGVvZiBpJiZpKSxsPU9iamVjdChvLmEpKHJbdHlwZW9mIHNlbGZdJiZzZWxmKSxkPU9iamVjdChvLmEpKHJbdHlwZW9mIHdpbmRvd10mJndpbmRvdyksdT1PYmplY3Qoby5hKShyW3ZvaWQgMF0mJnZvaWQgMCksaD1jfHxkIT09KHUmJnUud2luZG93KSYmZHx8bHx8dXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO2UuYT1ofSkuY2FsbCh0aGlzLG4oMTMpKHQpLG4oMTQpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuYT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5PYmplY3Q9PT1PYmplY3Q/dDpudWxsfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTYuOTcyIDE2LjYxNWEuOTk3Ljk5NyAwIDAgMS0uNzQ0LS4yOTJsLTQuNTk2LTQuNTk2YTEgMSAwIDEgMSAxLjQxNC0xLjQxNGwzLjkyNiAzLjkyNiA5LjkzNy05LjkzN2ExIDEgMCAwIDEgMS40MTQgMS40MTVMNy43MTcgMTYuMzIzYS45OTcuOTk3IDAgMCAxLS43NDUuMjkyelwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTEuNTkxIDEwLjE3N2w0LjI0MyA0LjI0MmExIDEgMCAwIDEtMS40MTUgMS40MTVsLTQuMjQyLTQuMjQzLTQuMjQzIDQuMjQzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNWw0LjI0My00LjI0Mkw0LjUyIDUuOTM0QTEgMSAwIDAgMSA1LjkzNCA0LjUybDQuMjQzIDQuMjQzIDQuMjQyLTQuMjQzYTEgMSAwIDEgMSAxLjQxNSAxLjQxNGwtNC4yNDMgNC4yNDN6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIj48cGF0aCBkPVwiTTIgNC41VjNoMTZ2MS41ek0yIDcuNVY2aDUuNjc0djEuNXpNMiAxMC41VjloNS42NzR2MS41ek0yIDEzLjVWMTJoNS42NzR2MS41ek0xMC41IDcuNVYxMmg2VjcuNWgtNnpNOS42ODIgNmg3LjYzNmMuMzc3IDAgLjY4Mi40MDcuNjgyLjkxdjUuNjhjMCAuNTAzLS4zMDUuOTEtLjY4Mi45MUg5LjY4MmMtLjM3NyAwLS42ODItLjQwNy0uNjgyLS45MVY2LjkxYzAtLjUwMy4zMDUtLjkxLjY4Mi0uOTF6TTIgMTYuNVYxNWgxNnYxLjV6XCIvPjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2E6XCIxMS4wLjFcIn19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIj48cGF0aCBkPVwiTTIgNC41VjNoMTZ2MS41ek00LjUgNy41VjEyaDExVjcuNWgtMTF6TTQuMDYxIDZIMTUuOTRjLjU4NiAwIDEuMDYxLjQwNyAxLjA2MS45MXY1LjY4YzAgLjUwMy0uNDc1LjkxLTEuMDYxLjkxSDQuMDZDMy40NzUgMTMuNSAzIDEzLjA5MyAzIDEyLjU5VjYuOTFDMyA2LjQwNiAzLjQ3NSA2IDQuMDYxIDZ6TTIgMTYuNVYxNWgxNnYxLjV6XCIvPjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEuNDE0XCI+PHBhdGggZD1cIk0xOCA0LjVWM0gydjEuNWgxNnptMCAzVjZoLTUuNjc0djEuNUgxOHptMCAzVjloLTUuNjc0djEuNUgxOHptMCAzVjEyaC01LjY3NHYxLjVIMTh6bS04LjUtNlYxMmgtNlY3LjVoNnptLjgxOC0xLjVIMi42ODJDMi4zMDUgNiAyIDYuNDA3IDIgNi45MXY1LjY4YzAgLjUwMy4zMDUuOTEuNjgyLjkxaDcuNjM2Yy4zNzcgMCAuNjgyLS40MDcuNjgyLS45MVY2LjkxYzAtLjUwMy0uMzA1LS45MS0uNjgyLS45MXpNMTggMTYuNVYxNUgydjEuNWgxNnpcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIj48cGF0aCBkPVwiTTIgNC41VjNoMTZ2MS41ek02LjUgNy41VjEyaDdWNy41aC03ek01Ljc1OCA2aDguNDg0Yy40MTkgMCAuNzU4LjQwNy43NTguOTF2NS42ODFjMCAuNTAyLS4zNC45MDktLjc1OC45MDlINS43NThjLS40MTkgMC0uNzU4LS40MDctLjc1OC0uOTFWNi45MWMwLS41MDMuMzQtLjkxLjc1OC0uOTF6TTIgMTYuNVYxNWgxNnYxLjV6XCIvPjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiAzLjc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoMTQuNWEuNzUuNzUgMCAxIDAgMC0xLjVIMi43NWEuNzUuNzUgMCAwIDAtLjc1Ljc1em0wIDhjMCAuNDE0LjMzNi43NS43NS43NWgxNC41YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6bTAgNGMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDkuOTI5YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6bTAtOGMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDkuOTI5YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6XCIgZmlsbD1cIiM0NTQ1NDVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCF0LndlYnBhY2tQb2x5ZmlsbCl7dmFyIGU9T2JqZWN0LmNyZWF0ZSh0KTtlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZXhwb3J0c1wiLHtlbnVtZXJhYmxlOiEwfSksZS53ZWJwYWNrUG9seWZpbGw9MX1yZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIGk9bigxNiksbz1uKDMpLHI9e2Z1bmN0aW9uOiEwLG9iamVjdDohMH0scz1yW3R5cGVvZiBleHBvcnRzXSYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGU/ZXhwb3J0czp2b2lkIDAsYT1yW3R5cGVvZiB0XSYmdCYmIXQubm9kZVR5cGU/dDp2b2lkIDAsYz0oYSYmYS5leHBvcnRzPT09cz9zOnZvaWQgMCk/by5hLkJ1ZmZlcjp2b2lkIDAsbD1jP2Z1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgY306T2JqZWN0KGkuYSkoITEpO2UuYT1sfSkuY2FsbCh0aGlzLG4oMTMpKHQpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNS4wNDIgOS4zNjdsMi4xODkgMS44MzdhLjc1Ljc1IDAgMCAxLS45NjUgMS4xNDlsLTMuNzg4LTMuMThhLjc0Ny43NDcgMCAwIDEtLjIxLS4yODQuNzUuNzUgMCAwIDEgLjE3LS45NDVMNi4yMyA0Ljc2MmEuNzUuNzUgMCAxIDEgLjk2NCAxLjE1TDQuODYzIDcuODY2aDguOTE3QS43NS43NSAwIDAgMSAxNCA3LjlhNCA0IDAgMSAxLTEuNDc3IDcuNzE4bC4zNDQtMS40ODlhMi41IDIuNSAwIDEgMCAxLjA5NC00LjczbC4wMDgtLjAzMkg1LjA0MnpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE0Ljk1OCA5LjM2N2wtMi4xODkgMS44MzdhLjc1Ljc1IDAgMCAwIC45NjUgMS4xNDlsMy43ODgtMy4xOGEuNzQ3Ljc0NyAwIDAgMCAuMjEtLjI4NC43NS43NSAwIDAgMC0uMTctLjk0NUwxMy43NyA0Ljc2MmEuNzUuNzUgMCAxIDAtLjk2NCAxLjE1bDIuMzMxIDEuOTU1SDYuMjJBLjc1Ljc1IDAgMCAwIDYgNy45YTQgNCAwIDEgMCAxLjQ3NyA3LjcxOGwtLjM0NC0xLjQ4OUEyLjUgMi41IDAgMSAxIDYuMDM5IDkuNGwtLjAwOC0uMDMyaDguOTI3elwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMC4xODcgMTdINS43NzNjLS42MzcgMC0xLjA5Mi0uMTM4LTEuMzY0LS40MTUtLjI3My0uMjc3LS40MDktLjcxOC0uNDA5LTEuMzIzVjQuNzM4YzAtLjYxNy4xNC0xLjA2Mi40MTktMS4zMzIuMjc5LS4yNy43My0uNDA2IDEuMzU0LS40MDZoNC42OGMuNjkgMCAxLjI4OC4wNDEgMS43OTMuMTI0LjUwNi4wODMuOTYuMjQyIDEuMzYuNDc4LjM0MS4xOTcuNjQ0LjQ0Ny45MDYuNzVhMy4yNjIgMy4yNjIgMCAwIDEgLjgwOCAyLjE2MmMwIDEuNDAxLS43MjIgMi40MjYtMi4xNjcgMy4wNzVDMTUuMDUgMTAuMTc1IDE2IDExLjMxNSAxNiAxMy4wMWEzLjc1NiAzLjc1NiAwIDAgMS0yLjI5NiAzLjUwNCA2LjEgNi4xIDAgMCAxLTEuNTE3LjM3N2MtLjU3MS4wNzMtMS4yMzguMTEtMiAuMTF6bS0uMjE3LTYuMjE3SDd2NC4wODdoMy4wNjljMS45NzcgMCAyLjk2NS0uNjkgMi45NjUtMi4wNzIgMC0uNzA3LS4yNTYtMS4yMi0uNzY4LTEuNTM3LS41MTItLjMxOS0xLjI3Ny0uNDc4LTIuMjk2LS40Nzh6TTcgNS4xM3YzLjYxOWgyLjYwNmMuNzI5IDAgMS4yOTItLjA2NyAxLjY5LS4yYTEuNiAxLjYgMCAwIDAgLjkxLS43NjVjLjE2NS0uMjY3LjI0Ny0uNTY2LjI0Ny0uODk3IDAtLjcwNy0uMjYtMS4xNzYtLjc3OC0xLjQwOS0uNTE5LS4yMzItMS4zMS0uMzQ4LTIuMzc1LS4zNDhIN3pcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+XFxuJ30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTkuNTg2IDE0LjYzM2wuMDIxLjAwNGMtLjAzNi4zMzUuMDk1LjY1NS4zOTMuOTYyLjA4Mi4wODMuMTczLjE1LjI3NC4yMDFoMS40NzRhLjYuNiAwIDEgMSAwIDEuMkg1LjMwNGEuNi42IDAgMCAxIDAtMS4yaDEuMTVjLjQ3NC0uMDcuODA5LS4xODIgMS4wMDUtLjMzNC4xNTctLjEyMi4yOTEtLjMyLjQwNC0uNTk3bDIuNDE2LTkuNTVhMS4wNTMgMS4wNTMgMCAwIDAtLjI4MS0uODIzIDEuMTIgMS4xMiAwIDAgMC0uNDQyLS4yOTZIOC4xNWEuNi42IDAgMCAxIDAtMS4yaDYuNDQzYS42LjYgMCAxIDEgMCAxLjJoLTEuMTk1Yy0uMzc2LjA1Ni0uNjUuMTU1LS44MjMuMjk2LS4yMTUuMTc1LS40MjMuNDM5LS42MjMuNzlsLTIuMzY2IDkuMzQ3elwiIGZpbGw9XCIjMzMzXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxwYXRoIGQ9XCJNMyAxMC40MjNhNi41IDYuNSAwIDAgMSA2LjA1Ni02LjQwOGwuMDM4LjY3QzYuNDQ4IDUuNDIzIDUuMzU0IDcuNjYzIDUuMjIgMTBIOWMuNTUyIDAgLjUuNDMyLjUuOTg2djQuNTExYzAgLjU1NC0uNDQ4LjUwMy0xIC41MDNoLTVjLS41NTIgMC0uNS0uNDQ5LS41LTEuMDAzdi00LjAxMS0uNTYzek0xMSAxMC40MjNhNi41IDYuNSAwIDAgMSA2LjA1Ni02LjQwOGwuMDM4LjY3Yy0yLjY0Ni43MzktMy43NCAyLjk3OS0zLjg3MyA1LjMxNUgxN2MuNTUyIDAgLjUuNDMyLjUuOTg2djQuNTExYzAgLjU1NC0uNDQ4LjUwMy0xIC41MDNoLTVjLS41NTIgMC0uNS0uNDQ5LS41LTEuMDAzdi00LjAxMS0uNTYzelwiLz48L2c+PC9zdmc+XFxuJ30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48Zz48cGF0aCBkPVwiTTQgMHYxSDF2M0gwVi41QS41LjUgMCAwIDEgLjUgMEg0em04IDBoMy41YS41LjUgMCAwIDEgLjUuNVY0aC0xVjFoLTNWMHpNNCAxNkguNWEuNS41IDAgMCAxLS41LS41VjEyaDF2M2gzdjF6bTggMHYtMWgzdi0zaDF2My41YS41LjUgMCAwIDEtLjUuNUgxMnpcIi8+PHBhdGggZmlsbC1vcGFjaXR5PVwiLjI1NlwiIGQ9XCJNMSAxaDE0djE0SDF6XCIvPjxnIGNsYXNzPVwiY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9yXCI+PHBhdGggZD1cIk03IDBoMnYxSDdWMHpNMCA3aDF2MkgwVjd6bTE1IDBoMXYyaC0xVjd6bS04IDhoMnYxSDd2LTF6XCIvPjxwYXRoIGZpbGwtb3BhY2l0eT1cIi4yNTRcIiBkPVwiTTEgMWgxNHYxNEgxelwiLz48L2c+PC9nPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk01LjA4NSA2LjIyTDIuOTQzIDQuMDc4YS43NS43NSAwIDEgMSAxLjA2LTEuMDZsMi41OTIgMi41OUExMS4wOTQgMTEuMDk0IDAgMCAxIDEwIDUuMDY4YzQuNzM4IDAgOC41NzggMy4xMDEgOC41NzggNS4wODMgMCAxLjE5Ny0xLjQwMSAyLjgwMy0zLjU1NSAzLjg4N2wxLjcxNCAxLjcxM2EuNzUuNzUgMCAwIDEtLjA5IDEuMTM4LjQ4OC40ODggMCAwIDEtLjE1LjA4NC43NS43NSAwIDAgMS0uODIxLS4xNkw2LjE3IDcuMzA0Yy0uMjU4LjExLS41MS4yMzMtLjc1Ny4zNjVsNi4yMzkgNi4yNC0uMDA2LjAwNS43OC43OGMtLjM4OC4wOTQtLjc4LjE2Ni0xLjE3NC4yMTVsLTEuMTEtMS4xMWguMDExTDQuNTUgOC4xOTdhNy4yIDcuMiAwIDAgMC0uNjY1LjUxNGwtLjExMi4wOTggNC44OTcgNC44OTctLjAwNS4wMDYgMS4yNzYgMS4yNzZhMTAuMTY0IDEwLjE2NCAwIDAgMS0xLjQ3Ny0uMTE3bC0uNDc5LS40NzktLjAwOS4wMDktNC44NjMtNC44NjMtLjAyMi4wMzFhMi41NjMgMi41NjMgMCAwIDAtLjEyNC4yYy0uMDQzLjA3Ny0uMDguMTU4LS4xMDguMjQxYS41MzQuNTM0IDAgMCAwLS4wMjguMTMzLjI5LjI5IDAgMCAwIC4wMDguMDcyLjkyNy45MjcgMCAwIDAgLjA4Mi4yMjZjLjA2Ny4xMzMuMTQ1LjI2LjIzNC4zNzlsMy4yNDIgMy4zNjUuMDI1LjAxLjU5LjYyM2MtMy4yNjUtLjkxOC01LjU5LTMuMTU1LTUuNTktNC42NjggMC0xLjE5NCAxLjQ0OC0yLjgzOCAzLjY2My0zLjkzem03LjA3LjUzMWE0LjYzMiA0LjYzMiAwIDAgMSAxLjEwOCA1Ljk5MmwuMzQ1LjM0NC4wNDYtLjAxOGE5LjMxMyA5LjMxMyAwIDAgMCAyLTEuMTEyYy4yNTYtLjE4Ny41LS4zOTIuNzI3LS42MTMuMTM3LS4xMzQuMjctLjI3Ny4zOTItLjQzMS4wNzItLjA5MS4xNDEtLjE4NS4yMDMtLjI4Ni4wNTctLjA5My4xMDctLjE5LjE0OC0uMjkyYS43Mi43MiAwIDAgMCAuMDM2LS4xMi4yOS4yOSAwIDAgMCAuMDA4LS4wNzIuNDkyLjQ5MiAwIDAgMC0uMDI4LS4xMzMuOTk5Ljk5OSAwIDAgMC0uMDM2LS4wOTYgMi4xNjUgMi4xNjUgMCAwIDAtLjA3MS0uMTQ1IDIuOTE3IDIuOTE3IDAgMCAwLS4xMjUtLjIgMy41OTIgMy41OTIgMCAwIDAtLjI2My0uMzM1IDUuNDQ0IDUuNDQ0IDAgMCAwLS41My0uNTIzIDcuOTU1IDcuOTU1IDAgMCAwLTEuMDU0LS43NjggOS43NjYgOS43NjYgMCAwIDAtMS44NzktLjg5MWMtLjMzNy0uMTE4LS42OC0uMjE5LTEuMDI3LS4zMDF6bS0yLjg1LjIxbC0uMDY5LjAwMmEuNTA4LjUwOCAwIDAgMC0uMjU0LjA5Ny40OTYuNDk2IDAgMCAwLS4xMDQuNjc5LjQ5OC40OTggMCAwIDAgLjMyNi4xOTlsLjA0NS4wMDVjLjA5MS4wMDMuMTgxLjAwMy4yNzIuMDEyLjkuMDkzIDEuNjc2LjY3NSAyLjAxNyAxLjUxMy4wMjQuMDYxLjA0My4xMjUuMDY5LjE4NWEuNDk0LjQ5NCAwIDAgMCAuNDUuMjg3aC4wMDhhLjQ5Ni40OTYgMCAwIDAgLjM1LS4xNTguNDgyLjQ4MiAwIDAgMCAuMTMtLjMzNS42MzguNjM4IDAgMCAwLS4wNDgtLjIxOSAzLjM3OSAzLjM3OSAwIDAgMC0uMzYtLjcyMyAzLjQzOCAzLjQzOCAwIDAgMC0yLjc5MS0xLjU0M2wtLjAyOC0uMDAxaC0uMDEzelwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk02LjkxIDEwLjU0Yy4yNi0uMjMuNjQtLjIxLjg4LjAzbDMuMzYgMy4xNCAyLjIzLTIuMDZhLjY0LjY0IDAgMCAxIC44NyAwbDIuNTIgMi45N1Y0LjVIMy4ydjEwLjEybDMuNzEtNC4wOHptMTAuMjctNy41MWMuNiAwIDEuMDkuNDcgMS4wOSAxLjA1djExLjg0YzAgLjU5LS40OSAxLjA2LTEuMDkgMS4wNkgyLjc5Yy0uNiAwLTEuMDktLjQ3LTEuMDktMS4wNlY0LjA4YzAtLjU4LjQ5LTEuMDUgMS4xLTEuMDVoMTQuMzh6bS01LjIyIDUuNTZhMS45NiAxLjk2IDAgMSAxIDMuNC0xLjk2IDEuOTYgMS45NiAwIDAgMS0zLjQgMS45NnpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+XFxuJ30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9JzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNzAwIDI1MFwiPjxnIGZpbGw9XCIjRkFGQUZBXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxyZWN0IHdpZHRoPVwiNzAwXCIgaGVpZ2h0PVwiMjUwXCIgcng9XCI0XCIvPjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIiB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNLjk0MSA0LjUyM2EuNzUuNzUgMCAxIDEgMS4wNi0xLjA2bDMuMDA2IDMuMDA1IDMuMDA1LTMuMDA1YS43NS43NSAwIDEgMSAxLjA2IDEuMDZsLTMuNTQ5IDMuNTVhLjc1Ljc1IDAgMCAxLTEuMTY4LS4xMzZMLjk0MSA0LjUyM3pcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48cGF0aCBkPVwiTTExLjA3NyAxNWwuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NWMuMDItLjA5NS4wNi0uMTg5LjEyLS4yNzRsMS4xNDctMS42MzlhLjc1Ljc1IDAgMSAxIDEuMjI4Ljg2TDQuOTMzIDEwLjdsLjAwNi4wMDNhMy43NSAzLjc1IDAgMCAwIDYuMTMyIDQuMjk0bC4wMDYuMDA0em01LjQ5NC01LjMzNWEuNzQ4Ljc0OCAwIDAgMS0uMTIuMjc0bC0xLjE0NyAxLjYzOWEuNzUuNzUgMCAxIDEtMS4yMjgtLjg2bC44Ni0xLjIzYTMuNzUgMy43NSAwIDAgMC02LjE0NC00LjMwMWwtLjg2IDEuMjI5YS43NS43NSAwIDAgMS0xLjIyOS0uODZsMS4xNDgtMS42NGEuNzQ4Ljc0OCAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTV6bS00LjU2My0yLjUzMmEuNzUuNzUgMCAwIDEgLjE4NCAxLjA0NWwtMy4xNTUgNC41MDVhLjc1Ljc1IDAgMSAxLTEuMjI5LS44NmwzLjE1NS00LjUwNmEuNzUuNzUgMCAwIDEgMS4wNDUtLjE4NHpNMTYuOTI3IDE3LjY5NWwtMS40MTQgMS40MTRhLjc1Ljc1IDAgMSAxLTEuMDYtMS4wNmwxLjQxNC0xLjQxNS0xLjQxNS0xLjQxNGEuNzUuNzUgMCAwIDEgMS4wNjEtMS4wNmwxLjQxNCAxLjQxNCAxLjQxNC0xLjQxNWEuNzUuNzUgMCAwIDEgMS4wNjEgMS4wNjFsLTEuNDE0IDEuNDE0IDEuNDE0IDEuNDE1YS43NS43NSAwIDAgMS0xLjA2IDEuMDZsLTEuNDE1LTEuNDE0elwiLz48L2c+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTcuMyAxNy4zN2wtLjA2MS4wODhhMS41MTggMS41MTggMCAwIDEtLjkzNC41MzVsLTQuMTc4LjY2My0uODA2LTQuMTUzYTEuNDk1IDEuNDk1IDAgMCAxIC4xODctMS4wNThsLjA1Ni0uMDg2TDguNzcgMi42MzljLjk1OC0xLjM1MSAyLjgwMy0xLjA3NiA0LjI5Ni0uMDMgMS40OTcgMS4wNDcgMi4zODcgMi42OTMgMS40MzMgNC4wNTVMNy4zIDE3LjM3ek05LjE0IDQuNzI4bC01LjU0NSA4LjM0NiAzLjI3NyAyLjI5NCA1LjU0NC04LjM0Nkw5LjE0IDQuNzI4ek02LjA3IDE2LjUxMmwtMy4yNzYtMi4yOTUuNTMgMi43MyAyLjc0Ni0uNDM1ek05Ljk5NCAzLjUwNkwxMy4yNzEgNS44Yy4zMTYtLjQ1Mi0uMTYtMS4zMzMtMS4wNjUtMS45NjYtLjkwNS0uNjM0LTEuODk1LS43OC0yLjIxMi0uMzI4ek04IDE4LjVMOS4zNzUgMTdIMTl2MS41SDh6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS4wNzcgMTVsLjk5MS0xLjQxNmEuNzUuNzUgMCAxIDEgMS4yMjkuODZsLTEuMTQ4IDEuNjRhLjc0OC43NDggMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTVjLjAyLS4wOTUuMDYtLjE4OS4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk03IDUuNzVjMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXpNMy41IDN2NUgyVjMuN0gxdi0xaDIuNVYzek0uMzQzIDE3Ljg1N2wyLjU5LTMuMjU3SDIuOTJhLjYuNiAwIDEgMC0xLjA0IDBILjMwMmEyIDIgMCAxIDEgMy45OTUgMGgtLjAwMWMtLjA0OC40MDUtLjE2LjczNC0uMzMzLjk4OC0uMTc1LjI1NC0uNTkuNjkyLTEuMjQ0IDEuMzEySDQuM3YxaC00bC4wNDMtLjA0M3pNNyAxNC43NWEuNzUuNzUgMCAwIDEgLjc1LS43NWg5LjVhLjc1Ljc1IDAgMSAxIDAgMS41aC05LjVhLjc1Ljc1IDAgMCAxLS43NS0uNzV6XCIgZmlsbD1cIiM0NTQ1NDVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk03IDUuNzVjMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXptLTYgMEMxIDQuNzg0IDEuNzc3IDQgMi43NSA0Yy45NjYgMCAxLjc1Ljc3NyAxLjc1IDEuNzUgMCAuOTY2LS43NzcgMS43NS0xLjc1IDEuNzVDMS43ODQgNy41IDEgNi43MjMgMSA1Ljc1em02IDljMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXptLTYgMGMwLS45NjYuNzc3LTEuNzUgMS43NS0xLjc1Ljk2NiAwIDEuNzUuNzc3IDEuNzUgMS43NSAwIC45NjYtLjc3NyAxLjc1LTEuNzUgMS43NS0uOTY2IDAtMS43NS0uNzc3LTEuNzUtMS43NXpcIiBmaWxsPVwiIzQ1NDU0NVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE4IDMuNzVhLjc1Ljc1IDAgMCAxLS43NS43NUgyLjc1YS43NS43NSAwIDEgMSAwLTEuNWgxNC41YS43NS43NSAwIDAgMSAuNzUuNzV6bTAgOGEuNzUuNzUgMCAwIDEtLjc1Ljc1SDIuNzVhLjc1Ljc1IDAgMSAxIDAtMS41aDE0LjVhLjc1Ljc1IDAgMCAxIC43NS43NXptMCA0YS43NS43NSAwIDAgMS0uNzUuNzVINy4zMjFhLjc1Ljc1IDAgMSAxIDAtMS41aDkuOTI5YS43NS43NSAwIDAgMSAuNzUuNzV6bTAtOGEuNzUuNzUgMCAwIDEtLjc1Ljc1SDcuMzIxYS43NS43NSAwIDEgMSAwLTEuNWg5LjkyOWEuNzUuNzUgMCAwIDEgLjc1Ljc1elwiIGZpbGw9XCIjNDU0NTQ1XCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiAzLjc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoMTQuNWEuNzUuNzUgMCAxIDAgMC0xLjVIMi43NWEuNzUuNzUgMCAwIDAtLjc1Ljc1em0wIDhjMCAuNDE0LjMzNi43NS43NS43NWgxNC41YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6bTIuMjg2IDRjMCAuNDE0LjMzNi43NS43NS43NWg5LjkyOGEuNzUuNzUgMCAxIDAgMC0xLjVINS4wMzZhLjc1Ljc1IDAgMCAwLS43NS43NXptMC04YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS45MjhhLjc1Ljc1IDAgMSAwIDAtMS41SDUuMDM2YS43NS43NSAwIDAgMC0uNzUuNzV6XCIgZmlsbD1cIiM0NTQ1NDVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0yIDMuNzVjMCAuNDE0LjMzNi43NS43NS43NWgxNC41YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6bTAgOGMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDE0LjVhLjc1Ljc1IDAgMSAwIDAtMS41SDIuNzVhLjc1Ljc1IDAgMCAwLS43NS43NXptMCA0YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS45MjlhLjc1Ljc1IDAgMSAwIDAtMS41SDIuNzVhLjc1Ljc1IDAgMCAwLS43NS43NXptMC04YzAgLjQxNC4zMzYuNzUuNzUuNzVoMTQuNWEuNzUuNzUgMCAxIDAgMC0xLjVIMi43NWEuNzUuNzUgMCAwIDAtLjc1Ljc1elwiIGZpbGw9XCIjNDU0NTQ1XCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk02Ljk5OSAySDE1YTEgMSAwIDAgMSAwIDJoLTEuMDA0djEzYTEgMSAwIDEgMS0yIDBWNEg4Ljk5OXYxM2ExIDEgMCAxIDEtMiAwdi03QTQgNCAwIDAgMSAzIDZhNCA0IDAgMCAxIDMuOTk5LTR6XCIgZmlsbD1cIiMyRTJFMkVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE5IDl2MTBoLTJ2LThoLTJWOWg0ek00IDguNWg1VjRhMSAxIDAgMCAxIDEtMWguNWExIDEgMCAwIDEgMSAxdjExLjVhMSAxIDAgMCAxLTEgMUgxMGExIDEgMCAwIDEtMS0xVjExSDR2NC41YTEgMSAwIDAgMS0xIDFoLS41YTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xSDNhMSAxIDAgMCAxIDEgMXY0LjV6XCIgZmlsbD1cIiMyRTJFMkVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTMgOC41aDVWNGExIDEgMCAwIDEgMS0xaC41YTEgMSAwIDAgMSAxIDF2MTEuNWExIDEgMCAwIDEtMSAxSDlhMSAxIDAgMCAxLTEtMVYxMUgzdjQuNWExIDEgMCAwIDEtMSAxaC0uNWExIDEgMCAwIDEtMS0xVjRhMSAxIDAgMCAxIDEtMUgyYTEgMSAwIDAgMSAxIDF2NC41em0xNi4wNzYgOC4zNDNWMTguNWgtNi4yNTJjLjA2Ny0uNjI2LjI3LTEuMjIuNjEtMS43OC4zMzgtLjU2MSAxLjAwNi0xLjMwNSAyLjAwNS0yLjIzMi44MDQtLjc0OSAxLjI5Ny0xLjI1NyAxLjQ3OS0xLjUyMy4yNDUtLjM2OC4zNjgtLjczMi4zNjgtMS4wOTIgMC0uMzk4LS4xMDctLjcwMy0uMzItLjkxNy0uMjE0LS4yMTQtLjUxLS4zMi0uODg2LS4zMi0uMzcyIDAtLjY2OS4xMTEtLjg4OS4zMzYtLjIyLjIyNC0uMzQ3LjU5Ni0uMzggMS4xMTdsLTEuNzc4LS4xNzhjLjEwNi0uOTgyLjQzOC0xLjY4Ni45OTctMi4xMTQuNTU4LS40MjcgMS4yNTctLjY0IDIuMDk1LS42NC45MTggMCAxLjY0LjI0NyAyLjE2NC43NDIuNTI1LjQ5NS43ODcgMS4xMS43ODcgMS44NDcgMCAuNDE5LS4wNzUuODE4LS4yMjUgMS4xOTctLjE1LjM3OC0uMzg4Ljc3NS0uNzE0IDEuMTktLjIxNi4yNzUtLjYwNS42Ny0xLjE2OCAxLjE4Ny0uNTYzLjUxNi0uOTIuODU5LTEuMDcgMS4wMjgtLjE1LjE3LS4yNzIuMzM0LS4zNjUuNDk1aDMuNTQyelwiIGZpbGw9XCIjMkUyRTJFXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0zIDguNWg1VjRhMSAxIDAgMCAxIDEtMWguNWExIDEgMCAwIDEgMSAxdjExLjVhMSAxIDAgMCAxLTEgMUg5YTEgMSAwIDAgMS0xLTFWMTFIM3Y0LjVhMSAxIDAgMCAxLTEgMWgtLjVhMSAxIDAgMCAxLTEtMVY0YTEgMSAwIDAgMSAxLTFIMmExIDEgMCAwIDEgMSAxdjQuNXptOS45ODkgNy41M2wxLjcyNi0uMjA5Yy4wNTUuNDQuMjAzLjc3Ny40NDUgMS4wMS4yNC4yMzIuNTMzLjM0OS44NzYuMzQ5LjM2OCAwIC42NzgtLjE0LjkzLS40Mi4yNTEtLjI3OS4zNzctLjY1NS4zNzctMS4xMyAwLS40NDgtLjEyLS44MDMtLjM2Mi0xLjA2NmExLjE1MyAxLjE1MyAwIDAgMC0uODgyLS4zOTNjLS4yMjggMC0uNTAxLjA0NC0uODE5LjEzM2wuMTk3LTEuNDUzYy40ODIuMDEyLjg1LS4wOTIgMS4xMDUtLjMxNS4yNTMtLjIyMi4zOC0uNTE3LjM4LS44ODUgMC0uMzEzLS4wOTMtLjU2My0uMjc5LS43NS0uMTg2LS4xODUtLjQzNC0uMjc4LS43NDMtLjI3OC0uMzA0IDAtLjU2NS4xMDUtLjc4LjMxNy0uMjE2LjIxMi0uMzQ3LjUyLS4zOTQuOTI3bC0xLjY0NC0uMjhjLjExNC0uNTYyLjI4Ny0xLjAxMi41MTctMS4zNDguMjMxLS4zMzcuNTUzLS42MDEuOTY1LS43OTRhMy4yNCAzLjI0IDAgMCAxIDEuMzg3LS4yODljLjg3NiAwIDEuNTc5LjI4IDIuMTA4LjgzOC40MzYuNDU3LjY1My45NzMuNjUzIDEuNTQ5IDAgLjgxNy0uNDQ2IDEuNDY4LTEuMzM5IDEuOTU1LjUzMy4xMTQuOTYuMzcgMS4yOC43NjguMzE5LjM5OC40NzguODc4LjQ3OCAxLjQ0MSAwIC44MTctLjI5OCAxLjUxMy0uODk1IDIuMDg4LS41OTYuNTc2LTEuMzM5Ljg2NC0yLjIyOC44NjQtLjg0MiAwLTEuNTQtLjI0My0yLjA5NC0uNzI3LS41NTUtLjQ4NS0uODc2LTEuMTE4LS45NjUtMS45MDF6XCIgZmlsbD1cIiMyRTJFMkVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjUgNS41SDd2NWgzLjVhMi41IDIuNSAwIDEgMCAwLTV6TTUgM2g2LjV2LjAyNWE1IDUgMCAwIDEgMCA5Ljk1VjEzSDd2NGExIDEgMCAwIDEtMSAxSDVhMSAxIDAgMCAxLTEtMVY0YTEgMSAwIDAgMSAxLTF6XCIgZmlsbD1cIiMyRTJFMkVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGcgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PGcgZmlsbD1cIiMzNTM1MzVcIj48ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMiA1LjYpXCI+PHBhdGggZD1cIk0xMC41LjFMMTUuNyA0djEuM2wtNS42IDRjLS4xLjItLjMuMi0uNS4yLS4zLS4xLS42LS43LS42LTFsLjMtLjRMMTQgNC42IDkuNSAxLjRsLS4yLS4yYy0uMS0uMy0uMS0uNiAwLS44LjItLjIuNS0uNC44LS40YS44LjggMCAwIDEgLjQuMXpNNS4zLjFMMCA0djEuM2w1LjYgNGMuMS4yLjMuMi41LjIuMy0uMS43LS43LjYtMSAwLS4xIDAtLjMtLjItLjRsLTUtMy41IDQuNy0zLjIuMi0uMmMuMS0uMy4xLS42IDAtLjgtLjItLjItLjUtLjQtLjgtLjRhLjguOCAwIDAgMC0uMy4xelwiLz48L2c+PC9nPjwvZz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxnIGZpbGw9XCIjMzMzXCI+PHBhdGggZmlsbC1ydWxlPVwibm9uemVyb1wiIGQ9XCJNMyAxOHYtMS41aDE0VjE4elwiLz48cGF0aCBkPVwiTTUuMiAxMFYzLjZjMC0uNC40LS42LjgtLjYuMyAwIC43LjIuNy42djYuMmMwIDIgMS4zIDIuOCAzLjIgMi44IDEuOSAwIDMuNC0uOSAzLjQtMi45VjMuNmMwLS4zLjQtLjUuOC0uNS4zIDAgLjcuMi43LjVWMTBjMCAyLjctMi4yIDQtNC45IDQtMi42IDAtNC43LTEuMi00LjctNHpcIi8+PC9nPjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpe3ZhciBlPW4oMiksaT1uKDgpO2NvbnN0IG89XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6dDtvLkNLRURJVE9SX1ZFUlNJT04/ZS5hLmVycm9yKFwiY2tlZGl0b3ItdmVyc2lvbi1jb2xsaXNpb246IFRoZSBnbG9iYWwgQ0tFRElUT1JfVkVSU0lPTiBjb25zdGFudCBoYXMgYWxyZWFkeSBiZWVuIHNldC5cIix7Y29sbGlkaW5nVmVyc2lvbjpvLkNLRURJVE9SX1ZFUlNJT04sdmVyc2lvbjppLmF9KTpvLkNLRURJVE9SX1ZFUlNJT049aS5hfSkuY2FsbCh0aGlzLG4oMTQpKX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDQpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2staGlkZGVue2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmNrLmNrLXJlc2V0LC5jay5jay1yZXNldF9hbGwsLmNrLmNrLXJlc2V0X2FsbCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDphdXRvO2hlaWdodDphdXRvO3Bvc2l0aW9uOnN0YXRpY306cm9vdHstLWNrLXotZGVmYXVsdDoxOy0tY2stei1tb2RhbDpjYWxjKHZhcigtLWNrLXotZGVmYXVsdCkgKyA5OTkpOy0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kOiNmYWZhZmE7LS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQ6I2ZmZjstLWNrLWNvbG9yLWJhc2UtYm9yZGVyOiNjNGM0YzQ7LS1jay1jb2xvci1iYXNlLWFjdGlvbjojNjFiMDQ1Oy0tY2stY29sb3ItYmFzZS1mb2N1czojNmNiNWY5Oy0tY2stY29sb3ItYmFzZS10ZXh0OiMzMzM7LS1jay1jb2xvci1iYXNlLWFjdGl2ZTojMTk4Y2YwOy0tY2stY29sb3ItYmFzZS1hY3RpdmUtZm9jdXM6IzBlN2ZlMTstLWNrLWNvbG9yLWZvY3VzLWJvcmRlcjojNDdhNGY1Oy0tY2stY29sb3ItZm9jdXMtc2hhZG93OnJnYmEoMTE5LDE4NiwyNDgsLjUpOy0tY2stY29sb3ItZm9jdXMtZGlzYWJsZWQtc2hhZG93OnJnYmEoMTE5LDE4NiwyNDgsLjMpOy0tY2stY29sb3ItdGV4dDp2YXIoLS1jay1jb2xvci1iYXNlLXRleHQpOy0tY2stY29sb3Itc2hhZG93LWRyb3A6cmdiYSgwLDAsMCwuMTUpOy0tY2stY29sb3Itc2hhZG93LWlubmVyOnJnYmEoMCwwLDAsLjEpOy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWhvdmVyLWJhY2tncm91bmQ6I2U2ZTZlNjstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1iYWNrZ3JvdW5kOiNkOWQ5ZDk7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1hY3RpdmUtc2hhZG93OiNiZmJmYmY7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1kaXNhYmxlZC1iYWNrZ3JvdW5kOnRyYW5zcGFyZW50Oy0tY2stY29sb3ItYnV0dG9uLW9uLWJhY2tncm91bmQ6I2RlZGVkZTstLWNrLWNvbG9yLWJ1dHRvbi1vbi1ob3Zlci1iYWNrZ3JvdW5kOiNjNGM0YzQ7LS1jay1jb2xvci1idXR0b24tb24tYWN0aXZlLWJhY2tncm91bmQ6I2JhYmFiYTstLWNrLWNvbG9yLWJ1dHRvbi1vbi1hY3RpdmUtc2hhZG93OiNhMWExYTE7LS1jay1jb2xvci1idXR0b24tb24tZGlzYWJsZWQtYmFja2dyb3VuZDojZGVkZWRlOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYWN0aW9uKTstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24taG92ZXItYmFja2dyb3VuZDojNTc5ZTNkOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1hY3RpdmUtYmFja2dyb3VuZDojNTM5NzNiOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1hY3RpdmUtc2hhZG93OiM0OTg0MzM7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLWRpc2FibGVkLWJhY2tncm91bmQ6IzdlYzM2NTstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tdGV4dDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItYnV0dG9uLXNhdmU6IzAwOGEwMDstLWNrLWNvbG9yLWJ1dHRvbi1jYW5jZWw6I2RiMzcwMDstLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb2ZmLWJhY2tncm91bmQ6I2IwYjBiMDstLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb24tYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWJhY2tncm91bmQpOy0tY2stY29sb3Itc3dpdGNoLWJ1dHRvbi1pbm5lci1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1ib3JkZXI6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpOy0tY2stY29sb3ItaW5wdXQtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItaW5wdXQtYm9yZGVyOiNjN2M3Yzc7LS1jay1jb2xvci1pbnB1dC10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtdGV4dCk7LS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1iYWNrZ3JvdW5kOiNmMmYyZjI7LS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1ib3JkZXI6I2M3YzdjNzstLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLXRleHQ6IzVjNWM1YzstLWNrLWNvbG9yLWxpc3QtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItbGlzdC1idXR0b24taG92ZXItYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWZvcmVncm91bmQpOy0tY2stY29sb3ItbGlzdC1idXR0b24tb24tYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGl2ZSk7LS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi1iYWNrZ3JvdW5kLWZvY3VzOnZhcigtLWNrLWNvbG9yLWJhc2UtYWN0aXZlLWZvY3VzKTstLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXBhbmVsLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXBhbmVsLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7LS1jay1jb2xvci10b29sYmFyLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKTstLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyOnZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKTstLWNrLWNvbG9yLXRvb2x0aXAtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLXRleHQpOy0tY2stY29sb3ItdG9vbHRpcC10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1lbmdpbmUtcGxhY2Vob2xkZXItdGV4dDojYzJjMmMyOy0tY2stY29sb3ItdXBsb2FkLWJhci1iYWNrZ3JvdW5kOiM2Y2I1Zjk7LS1jay1jb2xvci11cGxvYWQtaW5maW5pdGUtYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xKTstLWNrLWNvbG9yLWxpbmstZGVmYXVsdDojMDAwMGYwOy0tY2stY29sb3ItbGluay1zZWxlY3RlZC1iYWNrZ3JvdW5kOiNlYmY4ZmY7LS1jay1kaXNhYmxlZC1vcGFjaXR5Oi41Oy0tY2stZm9jdXMtb3V0ZXItc2hhZG93LWdlb21ldHJ5OjAgMCAwIDNweDstLWNrLWZvY3VzLW91dGVyLXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3ctZ2VvbWV0cnkpIHZhcigtLWNrLWNvbG9yLWZvY3VzLXNoYWRvdyk7LS1jay1mb2N1cy1kaXNhYmxlZC1vdXRlci1zaGFkb3c6dmFyKC0tY2stZm9jdXMtb3V0ZXItc2hhZG93LWdlb21ldHJ5KSB2YXIoLS1jay1jb2xvci1mb2N1cy1kaXNhYmxlZC1zaGFkb3cpOy0tY2stZm9jdXMtcmluZzoxcHggc29saWQgdmFyKC0tY2stY29sb3ItZm9jdXMtYm9yZGVyKTstLWNrLWZvbnQtc2l6ZS1iYXNlOjEzcHg7LS1jay1saW5lLWhlaWdodC1iYXNlOjEuODQ2MTU7LS1jay1mb250LWZhY2U6SGVsdmV0aWNhLEFyaWFsLFRhaG9tYSxWZXJkYW5hLFNhbnMtU2VyaWY7LS1jay1mb250LXNpemUtdGlueTowLjdlbTstLWNrLWZvbnQtc2l6ZS1zbWFsbDowLjc1ZW07LS1jay1mb250LXNpemUtbm9ybWFsOjFlbTstLWNrLWZvbnQtc2l6ZS1iaWc6MS40ZW07LS1jay1mb250LXNpemUtbGFyZ2U6MS44ZW07LS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodDoyLjNlbX0uY2suY2stcmVzZXQsLmNrLmNrLXJlc2V0X2FsbCwuY2suY2stcmVzZXRfYWxsICp7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dmVydGljYWwtYWxpZ246bWlkZGxlO3RyYW5zaXRpb246bm9uZTt3b3JkLXdyYXA6YnJlYWstd29yZH0uY2suY2stcmVzZXRfYWxsLC5jay5jay1yZXNldF9hbGwgKntib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Zm9udDpub3JtYWwgbm9ybWFsIG5vcm1hbCB2YXIoLS1jay1mb250LXNpemUtYmFzZSkvdmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkgdmFyKC0tY2stZm9udC1mYWNlKTtjb2xvcjp2YXIoLS1jay1jb2xvci10ZXh0KTt0ZXh0LWFsaWduOmxlZnQ7d2hpdGUtc3BhY2U6bm93cmFwO2N1cnNvcjphdXRvO2Zsb2F0Om5vbmV9LmNrLmNrLXJlc2V0X2FsbCAuY2stcnRsICp7dGV4dC1hbGlnbjpyaWdodH0uY2suY2stcmVzZXRfYWxsIGlmcmFtZXt2ZXJ0aWNhbC1hbGlnbjppbmhlcml0fS5jay5jay1yZXNldF9hbGwgdGV4dGFyZWF7d2hpdGUtc3BhY2U6cHJlLXdyYXB9LmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXBhc3N3b3JkXSwuY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9dGV4dF0sLmNrLmNrLXJlc2V0X2FsbCB0ZXh0YXJlYXtjdXJzb3I6dGV4dH0uY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9cGFzc3dvcmRdW2Rpc2FibGVkXSwuY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9dGV4dF1bZGlzYWJsZWRdLC5jay5jay1yZXNldF9hbGwgdGV4dGFyZWFbZGlzYWJsZWRde2N1cnNvcjpkZWZhdWx0fS5jay5jay1yZXNldF9hbGwgZmllbGRzZXR7cGFkZGluZzoxMHB4O2JvcmRlcjoycHggZ3Jvb3ZlICNkZmRlZTN9LmNrLmNrLXJlc2V0X2FsbCBidXR0b246Oi1tb3otZm9jdXMtaW5uZXJ7cGFkZGluZzowO2JvcmRlcjowfTpyb290ey0tY2stYm9yZGVyLXJhZGl1czoycHg7LS1jay1pbm5lci1zaGFkb3c6MnB4IDJweCAzcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWlubmVyKSBpbnNldDstLWNrLWRyb3Atc2hhZG93OjAgMXB4IDJweCAxcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWRyb3ApOy0tY2stc3BhY2luZy11bml0OjAuNmVtOy0tY2stc3BhY2luZy1sYXJnZTpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkgKiAxLjUpOy0tY2stc3BhY2luZy1zdGFuZGFyZDp2YXIoLS1jay1zcGFjaW5nLXVuaXQpOy0tY2stc3BhY2luZy1tZWRpdW06Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpICogMC44KTstLWNrLXNwYWNpbmctc21hbGw6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpICogMC41KTstLWNrLXNwYWNpbmctdGlueTpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkgKiAwLjMpOy0tY2stc3BhY2luZy1leHRyYS10aW55OmNhbGModmFyKC0tY2stc3BhY2luZy11bml0KSAqIDAuMTYpfVwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7aWYoIXR8fFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBuPWUucHJvdG9jb2wrXCIvL1wiK2UuaG9zdCxpPW4rZS5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCIvXCIpO3JldHVybiB0LnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLGZ1bmN0aW9uKHQsZSl7dmFyIG8scj1lLnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLyxmdW5jdGlvbih0LGUpe3JldHVybiBlfSkucmVwbGFjZSgvXicoLiopJyQvLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KTtyZXR1cm4vXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHIpP3Q6KG89MD09PXIuaW5kZXhPZihcIi8vXCIpP3I6MD09PXIuaW5kZXhPZihcIi9cIik/bityOmkrci5yZXBsYWNlKC9eXFwuXFwvLyxcIlwiKSxcInVybChcIitKU09OLnN0cmluZ2lmeShvKStcIilcIil9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQ3KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZSl7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZSksLmNrLmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZSkuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZSkuY2stZm9jdXNlZHtvdXRsaW5lOm5vbmU7Ym9yZGVyOnZhcigtLWNrLWZvY3VzLXJpbmcpO2JveC1zaGFkb3c6dmFyKC0tY2staW5uZXItc2hhZG93KSwwIDB9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5le292ZXJmbG93OmF1dG87cGFkZGluZzowIHZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO2JvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnR9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5lPjpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOnZhcigtLWNrLXNwYWNpbmctbGFyZ2UpfS5jay5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZT46bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOnZhcigtLWNrLXNwYWNpbmctbGFyZ2UpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLXRvb2xiYXItY29udGFpbmVyW2NsYXNzKj1hcnJvd19uXTphZnRlcntib3JkZXItYm90dG9tLWNvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZCl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stdG9vbGJhci1jb250YWluZXJbY2xhc3MqPWFycm93X3NdOmFmdGVye2JvcmRlci10b3AtY29sb3I6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDkpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stbGFiZWx7ZGlzcGxheTpibG9ja30uY2suY2stdm9pY2UtbGFiZWx7ZGlzcGxheTpub25lfS5jay5jay1sYWJlbHtmb250LXdlaWdodDo3MDB9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDUxKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLXN0aWNreS1wYW5lbCAuY2stc3RpY2t5LXBhbmVsX19jb250ZW50X3N0aWNreXt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpO3Bvc2l0aW9uOmZpeGVkO3RvcDowfS5jay5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3lfYm90dG9tLWxpbWl0e3RvcDphdXRvO3Bvc2l0aW9uOmFic29sdXRlfS5jay5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3l7Ym94LXNoYWRvdzp2YXIoLS1jay1kcm9wLXNoYWRvdyksMCAwO2JvcmRlci13aWR0aDowIDFweCAxcHg7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDUzKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLXRvb2xiYXJ7LW1vei11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6cm93IHdyYXA7YWxpZ24taXRlbXM6Y2VudGVyfS5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfdmVydGljYWx7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfZmxvYXRpbmd7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stdG9vbGJhcl9fc2VwYXJhdG9ye2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay10b29sYmFyX19uZXdsaW5le2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJX0uY2suY2stdG9vbGJhcntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stdG9vbGJhciwuY2suY2stdG9vbGJhci5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stdG9vbGJhcntiYWNrZ3JvdW5kOiNlY2YwZjE7cGFkZGluZzowIHZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jay5jay10b29sYmFyPip7bWFyZ2luLXJpZ2h0OnZhcigtLWNrLXNwYWNpbmctc21hbGwpO21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zbWFsbCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stdG9vbGJhci5jay10b29sYmFyX3ZlcnRpY2Fse3BhZGRpbmc6MH0uY2suY2stdG9vbGJhci5jay10b29sYmFyX3ZlcnRpY2FsPip7d2lkdGg6MTAwJTttYXJnaW46MDtib3JkZXItcmFkaXVzOjA7Ym9yZGVyOjB9LmNrLmNrLXRvb2xiYXI+Omxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LmNrLXRvb2xiYXItY29udGFpbmVyIC5jay5jay10b29sYmFye2JvcmRlcjowfS5jay5jay10b29sYmFyX19zZXBhcmF0b3J7YWxpZ24tc2VsZjpzdHJldGNoO3dpZHRoOjFweDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdG9vbGJhci1ib3JkZXIpfS5jay5jay10b29sYmFyX19uZXdsaW5le21hcmdpbjowfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big1NSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1lZGl0b3J7cG9zaXRpb246cmVsYXRpdmV9LmNrLmNrLWVkaXRvciAuY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhcnt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpfS5jay5jay1lZGl0b3JfX3RvcCAuY2stc3RpY2t5LXBhbmVsIC5jay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5IC5jay10b29sYmFye2JvcmRlci1ib3R0b20td2lkdGg6MXB4fS5jay5jay1lZGl0b3JfX21haW4+LmNrLWVkaXRvcl9fZWRpdGFibGV7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1lZGl0b3JfX21haW4+LmNrLWVkaXRvcl9fZWRpdGFibGUsLmNrLmNrLWVkaXRvcl9fbWFpbj4uY2stZWRpdG9yX19lZGl0YWJsZS5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0uY2suY2stZWRpdG9yX19tYWluPi5jay1lZGl0b3JfX2VkaXRhYmxlKC5jay1mb2N1c2VkKSwuY2suY2stZWRpdG9yX19tYWluPi5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZm9jdXNlZCl7Ym9yZGVyLWNvbG9yOm5vbmV9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDU3KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWljb257dmVydGljYWwtYWxpZ246bWlkZGxlfTpyb290ey0tY2staWNvbi1zaXplOmNhbGModmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkgKiB2YXIoLS1jay1mb250LXNpemUtbm9ybWFsKSl9LmNrLmNrLWljb257d2lkdGg6dmFyKC0tY2staWNvbi1zaXplKTtoZWlnaHQ6dmFyKC0tY2staWNvbi1zaXplKTtmb250LXNpemU6LjgzMzMzNTA2OTRlbTt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19LmNrLmNrLWljb24sLmNrLmNrLWljb24gKntjb2xvcjppbmhlcml0O2N1cnNvcjppbmhlcml0fS5jay5jay1pY29uICp7ZmlsbDpjdXJyZW50Q29sb3J9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDU5KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbnstbW96LXVzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmxlZnR9LmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2xhYmVsLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9fbGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWJ1dHRvbjpub3QoLmNrLWJ1dHRvbl93aXRoLXRleHQpLGEuY2suY2stYnV0dG9uOm5vdCguY2stYnV0dG9uX3dpdGgtdGV4dCl7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uY2suY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVsLGEuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcixhLmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1idXR0b246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1iYWNrZ3JvdW5kKTtib3gtc2hhZG93Omluc2V0IDAgMnB4IDJweCB2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1hY3RpdmUtc2hhZG93KX0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkLGEuY2suY2stYnV0dG9uLmNrLWRpc2FibGVke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stYnV0dG9uLC5jay1yb3VuZGVkLWNvcm5lcnMgYS5jay5jay1idXR0b24sLmNrLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnMsYS5jay5jay1idXR0b24uY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbnt3aGl0ZS1zcGFjZTpub3dyYXA7Y3Vyc29yOmRlZmF1bHQ7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy10aW55KTt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojMDcxZDM0O21pbi13aWR0aDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bGluZS1oZWlnaHQ6MTtmb250LXNpemU6aW5oZXJpdDtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zaXRpb246Ym94LXNoYWRvdyAuMnMgZWFzZS1pbi1vdXR9LmNrLmNrLWJ1dHRvbjphY3RpdmUsLmNrLmNrLWJ1dHRvbjpmb2N1cyxhLmNrLmNrLWJ1dHRvbjphY3RpdmUsYS5jay5jay1idXR0b246Zm9jdXN7b3V0bGluZTpub25lO2JvcmRlcjp2YXIoLS1jay1mb2N1cy1yaW5nKTtib3gtc2hhZG93OnZhcigtLWNrLWZvY3VzLW91dGVyLXNoYWRvdyksMCAwO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkOmFjdGl2ZSwuY2suY2stYnV0dG9uLmNrLWRpc2FibGVkOmZvY3VzLGEuY2suY2stYnV0dG9uLmNrLWRpc2FibGVkOmFjdGl2ZSxhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZDpmb2N1c3tib3gtc2hhZG93OnZhcigtLWNrLWZvY3VzLWRpc2FibGVkLW91dGVyLXNoYWRvdyksMCAwfS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9faWNvbixhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19pY29ue29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbCxhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbHtvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0e3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy10aW55KSB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9faWNvbixhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2ljb257bWFyZ2luLWxlZnQ6Y2FsYygtMSAqIHZhcigtLWNrLXNwYWNpbmctc21hbGwpKTttYXJnaW4tcmlnaHQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLWJ1dHRvbi5jay1vbixhLmNrLmNrLWJ1dHRvbi5jay1vbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVyLGEuY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1hY3RpdmUtYmFja2dyb3VuZCk7Ym94LXNoYWRvdzppbnNldCAwIDJweCAycHggdmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24uY2stb24uY2stZGlzYWJsZWQsYS5jay5jay1idXR0b24uY2stb24uY2stZGlzYWJsZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tb24tZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi5jay1idXR0b24tc2F2ZSxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b24tc2F2ZXtjb2xvcjp2YXIoLS1jay1jb2xvci1idXR0b24tc2F2ZSl9LmNrLmNrLWJ1dHRvbi5jay1idXR0b24tY2FuY2VsLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1jYW5jZWx7Y29sb3I6dmFyKC0tY2stY29sb3ItYnV0dG9uLWNhbmNlbCl9LmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19pY29uIHVzZSwuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2ljb24gdXNlICosYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UsYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UgKntjb2xvcjppbmhlcml0fS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdDtjb2xvcjppbmhlcml0O2N1cnNvcjppbmhlcml0O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uY2suY2stYnV0dG9uLWFjdGlvbixhLmNrLmNrLWJ1dHRvbi1hY3Rpb257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWJhY2tncm91bmQpfS5jay5jay1idXR0b24tYWN0aW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVyLGEuY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24taG92ZXItYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWFjdGl2ZS1iYWNrZ3JvdW5kKTtib3gtc2hhZG93Omluc2V0IDAgMnB4IDJweCB2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24tYWN0aW9uLmNrLWRpc2FibGVkLGEuY2suY2stYnV0dG9uLWFjdGlvbi5jay1kaXNhYmxlZHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb24sYS5jay5jay1idXR0b24tYWN0aW9ue2NvbG9yOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tdGV4dCl9LmNrLmNrLWJ1dHRvbi1ib2xkLGEuY2suY2stYnV0dG9uLWJvbGR7Zm9udC13ZWlnaHQ6NzAwfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big2MSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxle3Bvc2l0aW9uOnJlbGF0aXZlfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVye3Zpc2liaWxpdHk6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyIC5jay1pY29ue2Rpc3BsYXk6YmxvY2t9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUuY2std2lkZ2V0X3NlbGVjdGVkIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyLC5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlOmhvdmVyIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVye3Zpc2liaWxpdHk6dmlzaWJsZX06cm9vdHstLWNrLXdpZGdldC1vdXRsaW5lLXRoaWNrbmVzczozcHg7LS1jay13aWRnZXQtaGFuZGxlci1pY29uLXNpemU6MTZweDstLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1kdXJhdGlvbjoyMDBtczstLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZTplYXNlOy0tY2stY29sb3Itd2lkZ2V0LWJsdXJyZWQtYm9yZGVyOiNlMGUwZmY7LS1jay1jb2xvci13aWRnZXQtaG92ZXItYm9yZGVyOiMzNTRjNjQ7LS1jay1jb2xvci13aWRnZXQtZWRpdGFibGUtZm9jdXMtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3Itd2lkZ2V0LWRyYWctaGFuZGxlci1pY29uLWNvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCl9LmNrIC5jay13aWRnZXR7bWFyZ2luOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIDA7cGFkZGluZzowO291dGxpbmUtd2lkdGg6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKTtvdXRsaW5lLXN0eWxlOnNvbGlkO291dGxpbmUtY29sb3I6dHJhbnNwYXJlbnQ7dHJhbnNpdGlvbjpvdXRsaW5lLWNvbG9yIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1kdXJhdGlvbikgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWN1cnZlKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQsLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVye291dGxpbmU6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKSBzb2xpZCB2YXIoLS1jay1jb2xvci1mb2N1cy1ib3JkZXIpfS5jayAuY2std2lkZ2V0OmhvdmVye291dGxpbmUtY29sb3I6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWhvdmVyLWJvcmRlcil9LmNrIC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZXtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50fS5jayAuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCwuY2sgLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1pbm5lci1zaGFkb3cpLDAgMDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNrLWNvbG9yLXdpZGdldC1lZGl0YWJsZS1mb2N1cy1iYWNrZ3JvdW5kKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0YWJsZSAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlcntwYWRkaW5nOjRweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtvcGFjaXR5OjA7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1kdXJhdGlvbikgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWN1cnZlKSx2aXNpYmlsaXR5IHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1kdXJhdGlvbikgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWN1cnZlKSxvcGFjaXR5IHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1kdXJhdGlvbikgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWN1cnZlKTtib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpIHZhcigtLWNrLWJvcmRlci1yYWRpdXMpIDAgMDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSk7bGVmdDpjYWxjKDBweCAtIHZhcigtLWNrLXdpZGdldC1vdXRsaW5lLXRoaWNrbmVzcykpfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyOmhvdmVyIC5jay1pY29uIC5jay1pY29uX19zZWxlY3RlZC1pbmRpY2F0b3J7b3BhY2l0eToxfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyIC5jay1pY29ue3dpZHRoOnZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWljb24tc2l6ZSk7aGVpZ2h0OnZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWljb24tc2l6ZSk7Y29sb3I6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWRyYWctaGFuZGxlci1pY29uLWNvbG9yKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0YWJsZSAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciAuY2staWNvbiAuY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9ye29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZSl9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUuY2std2lkZ2V0X3NlbGVjdGVkIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyLC5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlLmNrLXdpZGdldF9zZWxlY3RlZDpob3ZlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlcntvcGFjaXR5OjE7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jay1jb2xvci1mb2N1cy1ib3JkZXIpfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlLmNrLXdpZGdldF9zZWxlY3RlZCAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciAuY2staWNvbiAuY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9yLC5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlLmNrLXdpZGdldF9zZWxlY3RlZDpob3ZlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciAuY2staWNvbiAuY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9ye29wYWNpdHk6MX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0YWJsZTpob3ZlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlcntvcGFjaXR5OjE7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jay1jb2xvci13aWRnZXQtaG92ZXItYm9yZGVyKX0uY2stZWRpdG9yX19lZGl0YWJsZS5jay1ibHVycmVkIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkLC5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXJ7b3V0bGluZS1jb2xvcjp2YXIoLS1jay1jb2xvci13aWRnZXQtYmx1cnJlZC1ib3JkZXIpfS5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIsLmNrLWVkaXRvcl9fZWRpdGFibGUuY2stYmx1cnJlZCAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZCAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlcjpob3ZlciwuY2stZWRpdG9yX19lZGl0YWJsZS5jay1ibHVycmVkIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVyIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyLC5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXI6aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci13aWRnZXQtYmx1cnJlZC1ib3JkZXIpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big2Myk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2staW5wdXQtdGV4dC13aWR0aDoxOGVtfS5jay5jay1pbnB1dC10ZXh0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1pbnB1dC10ZXh0LC5jay5jay1pbnB1dC10ZXh0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1pbnB1dC10ZXh0e2JveC1zaGFkb3c6dmFyKC0tY2staW5uZXItc2hhZG93KSwwIDA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1pbnB1dC1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWlucHV0LWJvcmRlcik7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLWV4dHJhLXRpbnkpIHZhcigtLWNrLXNwYWNpbmctbWVkaXVtKTttaW4td2lkdGg6dmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCk7bWluLWhlaWdodDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7dHJhbnNpdGlvbi1wcm9wZXJ0eTpib3gtc2hhZG93LGJvcmRlcjt0cmFuc2l0aW9uOi4ycyBlYXNlLWluLW91dH0uY2suY2staW5wdXQtdGV4dFtyZWFkb25seV17Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1ib3JkZXIpO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtYmFja2dyb3VuZCk7Y29sb3I6dmFyKC0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtdGV4dCl9LmNrLmNrLWlucHV0LXRleHRbcmVhZG9ubHldOmZvY3Vze2JveC1zaGFkb3c6dmFyKC0tY2stZm9jdXMtZGlzYWJsZWQtb3V0ZXItc2hhZG93KSx2YXIoLS1jay1pbm5lci1zaGFkb3cpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big2NSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stbGFiZWx7ZGlzcGxheTpub25lfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm17cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtOmZvY3Vze291dGxpbmU6bm9uZX0uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtPjpub3QoOmZpcnN0LWNoaWxkKXttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNjcpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzpyb290ey0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4OmNhbGModmFyKC0tY2stei1kZWZhdWx0KSAtIDMpfS5jay5jay1iYWxsb29uLXBhbmVse2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3Zpc2libGV7ZGlzcGxheTpibG9ja306cm9vdHstLWNrLWJhbGxvb24tYXJyb3ctb2Zmc2V0OjJweDstLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0OjEwcHg7LS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGg6OHB4fS5jay5jay1iYWxsb29uLXBhbmVse2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1iYWxsb29uLXBhbmVsLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1iYWxsb29uLXBhbmVse2JveC1zaGFkb3c6dmFyKC0tY2stZHJvcC1zaGFkb3cpLDAgMDttaW4taGVpZ2h0OjE1cHg7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzpiZWZvcmV7d2lkdGg6MDtoZWlnaHQ6MDtib3JkZXItc3R5bGU6c29saWR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7Ym9yZGVyLXdpZHRoOjAgdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmJlZm9yZXtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdmFyKC0tY2stY29sb3ItcGFuZWwtYm9yZGVyKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YWZ0ZXJ7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHZhcigtLWNrLWNvbG9yLXBhbmVsLWJhY2tncm91bmQpO21hcmdpbi10b3A6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1vZmZzZXQpfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YmVmb3Jle2JvcmRlci13aWR0aDp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkgdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSAwfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7Ym9yZGVyLWNvbG9yOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcikgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVye2JvcmRlci1jb2xvcjp2YXIoLS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kKSB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDttYXJnaW4tYm90dG9tOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctb2Zmc2V0KX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X246YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19uOmJlZm9yZXtsZWZ0OjUwJTttYXJnaW4tbGVmdDpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7dG9wOmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbnc6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19udzpiZWZvcmV7bGVmdDpjYWxjKDIgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTt0b3A6Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19uZTphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X25lOmJlZm9yZXtyaWdodDpjYWxjKDIgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTt0b3A6Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfczpiZWZvcmV7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO2JvdHRvbTpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3N3OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfc3c6YmVmb3Jle2xlZnQ6Y2FsYygyICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7Ym90dG9tOmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfc2U6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zZTpiZWZvcmV7cmlnaHQ6Y2FsYygyICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7Ym90dG9tOmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfSd9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDY5KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLWNvbnRlbnQgLmltYWdle2NsZWFyOmJvdGg7dGV4dC1hbGlnbjpjZW50ZXJ9LmNrLWNvbnRlbnQgLmltYWdlPmltZ3tkaXNwbGF5OmJsb2NrO21hcmdpbjowIGF1dG87bWF4LXdpZHRoOjEwMCV9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDcxKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLWNvbnRlbnQgLmltYWdle3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbn0uY2stY29udGVudCAuaW1hZ2UgLmNrLXByb2dyZXNzLWJhcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjB9OnJvb3R7LS1jay1pbWFnZS11cGxvYWQtcHJvZ3Jlc3MtbGluZS13aWR0aDozMHB4fS5jay1jb250ZW50IC5pbWFnZS5jay1hcHBlYXJ7YW5pbWF0aW9uOmZhZGVJbiAuN3N9LmNrLWNvbnRlbnQgLmltYWdlIC5jay1wcm9ncmVzcy1iYXJ7aGVpZ2h0OjJweDt3aWR0aDowO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdXBsb2FkLWJhci1iYWNrZ3JvdW5kKTt0cmFuc2l0aW9uOndpZHRoIC4xc31Aa2V5ZnJhbWVzIGZhZGVJbnswJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNzMpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jy5jay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvbntkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMHB4O3JpZ2h0OjEwcHg7Ym9yZGVyLXJhZGl1czo1MCV9LmNrLWltYWdlLXVwbG9hZC1jb21wbGV0ZS1pY29uOmFmdGVye2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZX06cm9vdHstLWNrLWNvbG9yLWltYWdlLXVwbG9hZC1pY29uOiNmZmY7LS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbi1iYWNrZ3JvdW5kOiMwMDhhMDA7LS1jay1pbWFnZS11cGxvYWQtaWNvbi1zaXplOjIwcHg7LS1jay1pbWFnZS11cGxvYWQtaWNvbi13aWR0aDoycHh9LmNrLWltYWdlLXVwbG9hZC1jb21wbGV0ZS1pY29ue3dpZHRoOnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXNpemUpO2hlaWdodDp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi1zaXplKTtvcGFjaXR5OjA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbi1iYWNrZ3JvdW5kKTthbmltYXRpb24tbmFtZTpjay11cGxvYWQtY29tcGxldGUtaWNvbi1zaG93LGNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLWhpZGU7YW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkcyxmb3J3YXJkczthbmltYXRpb24tZHVyYXRpb246LjVzLC41cztmb250LXNpemU6dmFyKC0tY2staW1hZ2UtdXBsb2FkLWljb24tc2l6ZSk7YW5pbWF0aW9uLWRlbGF5OjBtcywzc30uY2staW1hZ2UtdXBsb2FkLWNvbXBsZXRlLWljb246YWZ0ZXJ7bGVmdDoyNSU7dG9wOjUwJTtvcGFjaXR5OjA7aGVpZ2h0OjA7d2lkdGg6MDt0cmFuc2Zvcm06c2NhbGVYKC0xKSByb3RhdGUoMTM1ZGVnKTt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgdG9wO2JvcmRlci10b3A6dmFyKC0tY2staW1hZ2UtdXBsb2FkLWljb24td2lkdGgpIHNvbGlkIHZhcigtLWNrLWNvbG9yLWltYWdlLXVwbG9hZC1pY29uKTtib3JkZXItcmlnaHQ6dmFyKC0tY2staW1hZ2UtdXBsb2FkLWljb24td2lkdGgpIHNvbGlkIHZhcigtLWNrLWNvbG9yLWltYWdlLXVwbG9hZC1pY29uKTthbmltYXRpb24tbmFtZTpjay11cGxvYWQtY29tcGxldGUtaWNvbi1jaGVjazthbmltYXRpb24tZHVyYXRpb246LjVzO2FuaW1hdGlvbi1kZWxheTouNXM7YW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkcztib3gtc2l6aW5nOmJvcmRlci1ib3h9QGtleWZyYW1lcyBjay11cGxvYWQtY29tcGxldGUtaWNvbi1zaG93ezAle29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fUBrZXlmcmFtZXMgY2stdXBsb2FkLWNvbXBsZXRlLWljb24taGlkZXswJXtvcGFjaXR5OjF9dG97b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIGNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLWNoZWNrezAle29wYWNpdHk6MTt3aWR0aDowO2hlaWdodDowfTMzJXt3aWR0aDouM2VtO2hlaWdodDowfXRve29wYWNpdHk6MTt3aWR0aDouM2VtO2hlaWdodDouNDVlbX19J30sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNzUpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jy5jayAuY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcntwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7dG9wOjA7bGVmdDowfS5jayAuY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcjpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOnJlbGF0aXZlfTpyb290ey0tY2stY29sb3ItdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcjojYjNiM2IzOy0tY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlci1zaXplOjMycHh9LmNrIC5jay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXJ7d2lkdGg6MTAwJTttYXJnaW46MH0uY2sgLmNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXJ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uY2sgLmNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXI6YmVmb3Jle3dpZHRoOnZhcigtLWNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXItc2l6ZSk7aGVpZ2h0OnZhcigtLWNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXItc2l6ZSk7Ym9yZGVyLXJhZGl1czo1MCU7Ym9yZGVyLXRvcDozcHggc29saWQgdmFyKC0tY2stY29sb3ItdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcik7Ym9yZGVyLXJpZ2h0OjJweCBzb2xpZCB0cmFuc3BhcmVudDthbmltYXRpb246Y2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlciAxcyBsaW5lYXIgaW5maW5pdGV9QGtleWZyYW1lcyBjay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVye3Rve3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX0nfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big3Nyk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1kcm9wZG93bntkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19hcnJvd3twb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tY2stei1kZWZhdWx0KX0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9ue3dpZHRoOjEwMCV9LmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWx7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbjtkaXNwbGF5Om5vbmU7ei1pbmRleDp2YXIoLS1jay16LW1vZGFsKTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKX0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWwtdmlzaWJsZXtkaXNwbGF5OmlubGluZS1ibG9jazt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19OnJvb3R7LS1jay1kcm9wZG93bi1hcnJvdy1zaXplOmNhbGMoMC41ICogdmFyKC0tY2staWNvbi1zaXplKSl9LmNrLmNrLWRyb3Bkb3due2ZvbnQtc2l6ZTppbmhlcml0fS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX2Fycm93e3JpZ2h0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO3dpZHRoOnZhcigtLWNrLWRyb3Bkb3duLWFycm93LXNpemUpO21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jay5jay1kcm9wZG93bi5jay1kaXNhYmxlZCAuY2stZHJvcGRvd25fX2Fycm93e29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbjpub3QoLmNrLWJ1dHRvbl93aXRoLXRleHQpe3BhZGRpbmctbGVmdDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9uLmNrLWRpc2FibGVkIC5jay1idXR0b25fX2xhYmVse29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbi5jay1vbntib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9uIC5jay1idXR0b25fX2xhYmVse3dpZHRoOjdlbTtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uY2suY2stZHJvcGRvd25fX3BhbmVse2JvcmRlci1yYWRpdXM6MDtib3gtc2hhZG93OnZhcigtLWNrLWRyb3Atc2hhZG93KSwwIDB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZHJvcGRvd25fX3BhbmVsLC5jay5jay1kcm9wZG93bl9fcGFuZWwuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowfS5jay5jay1kcm9wZG93bl9fcGFuZWx7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWRyb3Bkb3duLXBhbmVsLWJvcmRlcik7Ym90dG9tOjA7bWluLXdpZHRoOjEwMCV9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDc5KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWxpc3R7LW1vei11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LmNrLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW0sLmNrLmNrLWxpc3QgLmNrLWxpc3RfX3NlcGFyYXRvcntkaXNwbGF5OmJsb2NrfS5jay5jay1saXN0IC5jay1saXN0X19pdGVtPjpmb2N1c3twb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OnZhcigtLWNrLXotZGVmYXVsdCl9LmNrLmNrLWxpc3R7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWxpc3QsLmNrLmNrLWxpc3QuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWxpc3R7bGlzdC1zdHlsZS10eXBlOm5vbmU7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJhY2tncm91bmQpfS5jay5jay1saXN0X19pdGVte2N1cnNvcjpkZWZhdWx0O21pbi13aWR0aDoxMmVtfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b257bWluLWhlaWdodDp1bnNldDt3aWR0aDoxMDAlO3RleHQtYWxpZ246bGVmdDtib3JkZXItcmFkaXVzOjA7Ym9yZGVyOjA7cGFkZGluZzpjYWxjKC4yKnZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpKnZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKSkgY2FsYyguNCp2YXIoLS1jay1saW5lLWhlaWdodC1iYXNlKSp2YXIoLS1jay1mb250LXNpemUtYmFzZSkpfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7bGluZS1oZWlnaHQ6Y2FsYygxLjIqdmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkqdmFyKC0tY2stZm9udC1zaXplLWJhc2UpKX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9uOmFjdGl2ZXtib3gtc2hhZG93Om5vbmV9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLWJ1dHRvbi5jay1vbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLWJhY2tncm91bmQpO2NvbG9yOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLXRleHQpfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24uY2stb246aG92ZXI6bm90KGNrLWRpc2FibGVkKXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLWJhY2tncm91bmQtZm9jdXMpfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24uY2stb246YWN0aXZle2JveC1zaGFkb3c6bm9uZX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9uOmhvdmVyOm5vdCguY2stZGlzYWJsZWQpe2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGlzdC1idXR0b24taG92ZXItYmFja2dyb3VuZCl9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLXN3aXRjaGJ1dHRvbi5jay1vbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYmFja2dyb3VuZCk7Y29sb3I6aW5oZXJpdH0uY2suY2stbGlzdF9faXRlbSAuY2stc3dpdGNoYnV0dG9uLmNrLW9uOmhvdmVyOm5vdChjay1kaXNhYmxlZCl7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJ1dHRvbi1ob3Zlci1iYWNrZ3JvdW5kKTtjb2xvcjppbmhlcml0fS5jay5jay1saXN0X19zZXBhcmF0b3J7aGVpZ2h0OjFweDt3aWR0aDoxMDAlO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big4MSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSwuY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGUgLmNrLWJ1dHRvbl9fdG9nZ2xlX19pbm5lcntkaXNwbGF5OmJsb2NrfTpyb290ey0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtd2lkdGg6Mi42MTUzODQ2MTU0ZW07LS1jay1zd2l0Y2gtYnV0dG9uLXRvZ2dsZS1pbm5lci1zaXplOjEuMDc2OTIzMDc2OWVtOy0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtc3BhY2luZzoxcHh9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7bWFyZ2luLXJpZ2h0OmNhbGMoMip2YXIoLS1jay1zcGFjaW5nLWxhcmdlKSl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fdG9nZ2xle29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xle2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSwuY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGUuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xle21hcmdpbi1sZWZ0OmF1dG87dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC40cyBlYXNlO3dpZHRoOnZhcigtLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLXdpZHRoKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb2ZmLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVyLC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVyLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci1yYWRpdXM6Y2FsYyguNSp2YXIoLS1jay1ib3JkZXItcmFkaXVzKSl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xlIC5jay1idXR0b25fX3RvZ2dsZV9faW5uZXJ7bWFyZ2luOnZhcigtLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLXNwYWNpbmcpO3dpZHRoOnZhcigtLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLWlubmVyLXNpemUpO2hlaWdodDp2YXIoLS1jay1zd2l0Y2gtYnV0dG9uLXRvZ2dsZS1pbm5lci1zaXplKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24taW5uZXItYmFja2dyb3VuZCk7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjNzIGVhc2V9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24uY2stb24gLmNrLWJ1dHRvbl9fdG9nZ2xle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3Itc3dpdGNoLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbi5jay1vbiAuY2stYnV0dG9uX190b2dnbGUgLmNrLWJ1dHRvbl9fdG9nZ2xlX19pbm5lcnt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxLjM4NDYxNTM4NDdlbSl9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDgzKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLXRvb2xiYXItZHJvcGRvd24gLmNrLXRvb2xiYXJ7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1idXR0b246Zm9jdXN7ei1pbmRleDpjYWxjKHZhcigtLWNrLXotZGVmYXVsdCkgKyAxKX0uY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stdG9vbGJhcntib3JkZXI6MH1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oODUpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdHtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCwuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdC5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW06Zmlyc3QtY2hpbGQgLmNrLWJ1dHRvbntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCAuY2stbGlzdF9faXRlbTpmaXJzdC1jaGlsZCAuY2stYnV0dG9uLC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0IC5jay1saXN0X19pdGVtOmZpcnN0LWNoaWxkIC5jay1idXR0b24uY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0IC5jay1saXN0X19pdGVtOmxhc3QtY2hpbGQgLmNrLWJ1dHRvbntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCAuY2stbGlzdF9faXRlbTpsYXN0LWNoaWxkIC5jay1idXR0b24sLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW06bGFzdC1jaGlsZCAuY2stYnV0dG9uLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big4Nyk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1wbGFjZWhvbGRlcjpiZWZvcmUsLmNrIC5jay1wbGFjZWhvbGRlcjpiZWZvcmV7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpO3BvaW50ZXItZXZlbnRzOm5vbmU7Y3Vyc29yOnRleHQ7Y29sb3I6dmFyKC0tY2stY29sb3ItZW5naW5lLXBsYWNlaG9sZGVyLXRleHQpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big4OSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2staW1hZ2Utc3R5bGUtc3BhY2luZzoxLjVlbX0uY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tY2VudGVyLC5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1sZWZ0LC5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1yaWdodCwuY2stY29udGVudCAuaW1hZ2Utc3R5bGUtc2lkZXttYXgtd2lkdGg6NTAlfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1zaWRle2Zsb2F0OnJpZ2h0O21hcmdpbi1sZWZ0OnZhcigtLWNrLWltYWdlLXN0eWxlLXNwYWNpbmcpfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1sZWZ0e2Zsb2F0OmxlZnQ7bWFyZ2luLXJpZ2h0OnZhcigtLWNrLWltYWdlLXN0eWxlLXNwYWNpbmcpfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1jZW50ZXJ7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0b30uY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tcmlnaHR7ZmxvYXQ6cmlnaHQ7bWFyZ2luLWxlZnQ6dmFyKC0tY2staW1hZ2Utc3R5bGUtc3BhY2luZyl9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDkxKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrIC5jay1saW5rX3NlbGVjdGVke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGluay1zZWxlY3RlZC1iYWNrZ3JvdW5kKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oOTMpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stbGluay1mb3JtIC5jay1sYWJlbGVkLWlucHV0e2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay1saW5rLWZvcm0gLmNrLWxhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stbGluay1mb3Jte3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLWxpbmstZm9ybTpmb2N1c3tvdXRsaW5lOm5vbmV9LmNrLmNrLWxpbmstZm9ybT46bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDk1KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMSkoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stbGluay1hY3Rpb25zX19wcmV2aWV3e2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyAuY2stYnV0dG9uX19sYWJlbHtvdmVyZmxvdzpoaWRkZW59LmNrLmNrLWxpbmstYWN0aW9uc3twYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcsLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzphY3RpdmUsLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzpmb2N1cywuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmhvdmVye2JhY2tncm91bmQ6I2ZmZn0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmFjdGl2ZXtib3gtc2hhZG93Om5vbmV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzpmb2N1cyAuY2stYnV0dG9uX19sYWJlbHt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcgLmNrLWJ1dHRvbl9fbGFiZWx7cGFkZGluZzowIHZhcigtLWNrLXNwYWNpbmctbWVkaXVtKTtjb2xvcjojMDM5YmU1O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7Y3Vyc29yOnBvaW50ZXI7bWF4LXdpZHRoOnZhcigtLWNrLWlucHV0LXRleHQtd2lkdGgpO21pbi13aWR0aDozZW07dGV4dC1hbGlnbjpjZW50ZXJ9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyAuY2stYnV0dG9uX19sYWJlbDpob3Zlcnt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jay5jay1saW5rLWFjdGlvbnM6Zm9jdXN7b3V0bGluZTpub25lfS5jay5jay1saW5rLWFjdGlvbnM+Om5vdCg6Zmlyc3QtY2hpbGQpe21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big5Nyk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDEpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1ibG9jay10b29sYmFyLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OnZhcigtLWNrLXotZGVmYXVsdCl9OnJvb3R7LS1jay1jb2xvci1ibG9jay10b29sYmFyLWJ1dHRvbjp2YXIoLS1jay1jb2xvci10ZXh0KTstLWNrLWJsb2NrLXRvb2xiYXItYnV0dG9uLXNpemU6dmFyKC0tY2stZm9udC1zaXplLW5vcm1hbCl9LmNrLmNrLWJsb2NrLXRvb2xiYXItYnV0dG9ue2NvbG9yOiMwNzFkMzQ7Zm9udC1zaXplOnZhcigtLWNrLWJsb2NrLXRvb2xiYXItc2l6ZSl9XCJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSk7dmFyIGk9T2JqZWN0LmdldFByb3RvdHlwZU9mO3ZhciBvPWZ1bmN0aW9uKHQpe3JldHVybiBpKE9iamVjdCh0KSl9O3ZhciByPWZ1bmN0aW9uKHQpe3ZhciBlPSExO2lmKG51bGwhPXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQudG9TdHJpbmcpdHJ5e2U9ISEodCtcIlwiKX1jYXRjaCh0KXt9cmV0dXJuIGV9O3ZhciBzPWZ1bmN0aW9uKHQpe3JldHVybiEhdCYmXCJvYmplY3RcIj09dHlwZW9mIHR9LGE9XCJbb2JqZWN0IE9iamVjdF1cIixjPU9iamVjdC5wcm90b3R5cGUsbD1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsZD1jLmhhc093blByb3BlcnR5LHU9bC5jYWxsKE9iamVjdCksaD1jLnRvU3RyaW5nO3ZhciBmPWZ1bmN0aW9uKHQpe2lmKCFzKHQpfHxoLmNhbGwodCkhPWF8fHIodCkpcmV0dXJuITE7dmFyIGU9byh0KTtpZihudWxsPT09ZSlyZXR1cm4hMDt2YXIgbj1kLmNhbGwoZSxcImNvbnN0cnVjdG9yXCIpJiZlLmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZsLmNhbGwobik9PXV9O2NsYXNzIHB7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9jb25maWc9e30sZSYmdGhpcy5kZWZpbmUoZSksdCYmdGhpcy5fc2V0T2JqZWN0VG9UYXJnZXQodGhpcy5fY29uZmlnLHQpfXNldCh0LGUpe3RoaXMuX3NldFRvVGFyZ2V0KHRoaXMuX2NvbmZpZyx0LGUpfWRlZmluZSh0LGUpe3RoaXMuX3NldFRvVGFyZ2V0KHRoaXMuX2NvbmZpZyx0LGUsITApfWdldCh0KXtyZXR1cm4gdGhpcy5fZ2V0RnJvbVNvdXJjZSh0aGlzLl9jb25maWcsdCl9X3NldFRvVGFyZ2V0KHQsZSxuLGk9ITEpe2lmKGYoZSkpcmV0dXJuIHZvaWQgdGhpcy5fc2V0T2JqZWN0VG9UYXJnZXQodCxlLGkpO2NvbnN0IG89ZS5zcGxpdChcIi5cIik7ZT1vLnBvcCgpO2Zvcihjb25zdCBlIG9mIG8pZih0W2VdKXx8KHRbZV09e30pLHQ9dFtlXTtpZihmKG4pKXJldHVybiBmKHRbZV0pfHwodFtlXT17fSksdD10W2VdLHZvaWQgdGhpcy5fc2V0T2JqZWN0VG9UYXJnZXQodCxuLGkpO2kmJnZvaWQgMCE9PXRbZV18fCh0W2VdPW4pfV9nZXRGcm9tU291cmNlKHQsZSl7Y29uc3Qgbj1lLnNwbGl0KFwiLlwiKTtlPW4ucG9wKCk7Zm9yKGNvbnN0IGUgb2Ygbil7aWYoIWYodFtlXSkpe3Q9bnVsbDticmVha310PXRbZV19cmV0dXJuIHQ/dFtlXTp2b2lkIDB9X3NldE9iamVjdFRvVGFyZ2V0KHQsZSxuKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGk9Pnt0aGlzLl9zZXRUb1RhcmdldCh0LGksZVtpXSxuKX0pfX12YXIgbT1uKDApO3ZhciBnPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIHQoKXt0LmNhbGxlZD0hMH19O2NsYXNzIGJ7Y29uc3RydWN0b3IodCxlKXt0aGlzLnNvdXJjZT10LHRoaXMubmFtZT1lLHRoaXMucGF0aD1bXSx0aGlzLnN0b3A9ZygpLHRoaXMub2ZmPWcoKX19ZnVuY3Rpb24gdygpe2xldCB0PVwiZVwiO2ZvcihsZXQgZT0wO2U8ODtlKyspdCs9TWF0aC5mbG9vcig2NTUzNiooMStNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtyZXR1cm4gdH12YXIgdj17Z2V0KHQpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0P3RoaXNbdF18fHRoaXMubm9ybWFsOnR9LGhpZ2hlc3Q6MWU1LGhpZ2g6MWUzLG5vcm1hbDowLGxvdzotMWUzLGxvd2VzdDotMWU1fTtjb25zdCBfPVN5bWJvbChcImxpc3RlbmluZ1RvXCIpLGs9U3ltYm9sKFwiZW1pdHRlcklkXCIpO3ZhciB5PXtvbih0LGUsbj17fSl7dGhpcy5saXN0ZW5Ubyh0aGlzLHQsZSxuKX0sb25jZSh0LGUsbil7dGhpcy5saXN0ZW5Ubyh0aGlzLHQsZnVuY3Rpb24odCwuLi5uKXt0Lm9mZigpLGUuY2FsbCh0aGlzLHQsLi4ubil9LG4pfSxvZmYodCxlKXt0aGlzLnN0b3BMaXN0ZW5pbmcodGhpcyx0LGUpfSxsaXN0ZW5Ubyh0LGUsbixpPXt9KXtsZXQgbyxyO3RoaXNbX118fCh0aGlzW19dPXt9KTtjb25zdCBzPXRoaXNbX107QSh0KXx8eCh0KTtjb25zdCBhPUEodCk7KG89c1thXSl8fChvPXNbYV09e2VtaXR0ZXI6dCxjYWxsYmFja3M6e319KSwocj1vLmNhbGxiYWNrc1tlXSl8fChyPW8uY2FsbGJhY2tzW2VdPVtdKSxyLnB1c2gobiksZnVuY3Rpb24odCxlKXtjb25zdCBuPUModCk7aWYobltlXSlyZXR1cm47bGV0IGk9ZSxvPW51bGw7Y29uc3Qgcj1bXTtmb3IoO1wiXCIhPT1pJiYhbltpXTspbltpXT17Y2FsbGJhY2tzOltdLGNoaWxkRXZlbnRzOltdfSxyLnB1c2gobltpXSksbyYmbltpXS5jaGlsZEV2ZW50cy5wdXNoKG8pLG89aSxpPWkuc3Vic3RyKDAsaS5sYXN0SW5kZXhPZihcIjpcIikpO2lmKFwiXCIhPT1pKXtmb3IoY29uc3QgdCBvZiByKXQuY2FsbGJhY2tzPW5baV0uY2FsbGJhY2tzLnNsaWNlKCk7bltpXS5jaGlsZEV2ZW50cy5wdXNoKG8pfX0odCxlKTtjb25zdCBjPVQodCxlKSxsPXYuZ2V0KGkucHJpb3JpdHkpLGQ9e2NhbGxiYWNrOm4scHJpb3JpdHk6bH07Zm9yKGNvbnN0IHQgb2YgYyl7bGV0IGU9ITE7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXS5wcmlvcml0eTxsKXt0LnNwbGljZShuLDAsZCksZT0hMDticmVha31lfHx0LnB1c2goZCl9fSxzdG9wTGlzdGVuaW5nKHQsZSxuKXtjb25zdCBpPXRoaXNbX107bGV0IG89dCYmQSh0KTtjb25zdCByPWkmJm8mJmlbb10scz1yJiZlJiZyLmNhbGxiYWNrc1tlXTtpZighKCFpfHx0JiYhcnx8ZSYmIXMpKWlmKG4pRSh0LGUsbik7ZWxzZSBpZihzKXtmb3IoO249cy5wb3AoKTspRSh0LGUsbik7ZGVsZXRlIHIuY2FsbGJhY2tzW2VdfWVsc2UgaWYocil7Zm9yKGUgaW4gci5jYWxsYmFja3MpdGhpcy5zdG9wTGlzdGVuaW5nKHQsZSk7ZGVsZXRlIGlbb119ZWxzZXtmb3IobyBpbiBpKXRoaXMuc3RvcExpc3RlbmluZyhpW29dLmVtaXR0ZXIpO2RlbGV0ZSB0aGlzW19dfX0sZmlyZSh0LC4uLmUpe2NvbnN0IG49dCBpbnN0YW5jZW9mIGI/dDpuZXcgYih0aGlzLHQpLGk9bi5uYW1lO2xldCBvPWZ1bmN0aW9uIHQoZSxuKXtsZXQgaTtpZighZS5fZXZlbnRzfHwhKGk9ZS5fZXZlbnRzW25dKXx8IWkuY2FsbGJhY2tzLmxlbmd0aClyZXR1cm4gbi5pbmRleE9mKFwiOlwiKT4tMT90KGUsbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKFwiOlwiKSkpOm51bGw7cmV0dXJuIGkuY2FsbGJhY2tzfSh0aGlzLGkpO2lmKG4ucGF0aC5wdXNoKHRoaXMpLG8pe2NvbnN0IHQ9W24sLi4uZV07bz1BcnJheS5mcm9tKG8pO2ZvcihsZXQgZT0wO2U8by5sZW5ndGgmJihvW2VdLmNhbGxiYWNrLmFwcGx5KHRoaXMsdCksbi5vZmYuY2FsbGVkJiYoZGVsZXRlIG4ub2ZmLmNhbGxlZCxFKHRoaXMsaSxvW2VdLmNhbGxiYWNrKSksIW4uc3RvcC5jYWxsZWQpO2UrKyk7fWlmKHRoaXMuX2RlbGVnYXRpb25zKXtjb25zdCB0PXRoaXMuX2RlbGVnYXRpb25zLmdldChpKSxvPXRoaXMuX2RlbGVnYXRpb25zLmdldChcIipcIik7dCYmUyh0LG4sZSksbyYmUyhvLG4sZSl9cmV0dXJuIG4ucmV0dXJufSxkZWxlZ2F0ZSguLi50KXtyZXR1cm57dG86KGUsbik9Pnt0aGlzLl9kZWxlZ2F0aW9uc3x8KHRoaXMuX2RlbGVnYXRpb25zPW5ldyBNYXApO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9dGhpcy5fZGVsZWdhdGlvbnMuZ2V0KGkpO3Q/dC5zZXQoZSxuKTp0aGlzLl9kZWxlZ2F0aW9ucy5zZXQoaSxuZXcgTWFwKFtbZSxuXV0pKX19fX0sc3RvcERlbGVnYXRpbmcodCxlKXtpZih0aGlzLl9kZWxlZ2F0aW9ucylpZih0KWlmKGUpe2NvbnN0IG49dGhpcy5fZGVsZWdhdGlvbnMuZ2V0KHQpO24mJm4uZGVsZXRlKGUpfWVsc2UgdGhpcy5fZGVsZWdhdGlvbnMuZGVsZXRlKHQpO2Vsc2UgdGhpcy5fZGVsZWdhdGlvbnMuY2xlYXIoKX19O2Z1bmN0aW9uIHgodCxlKXt0W2tdfHwodFtrXT1lfHx3KCkpfWZ1bmN0aW9uIEEodCl7cmV0dXJuIHRba119ZnVuY3Rpb24gQyh0KXtyZXR1cm4gdC5fZXZlbnRzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9ldmVudHNcIix7dmFsdWU6e319KSx0Ll9ldmVudHN9ZnVuY3Rpb24gVCh0LGUpe2NvbnN0IG49Qyh0KVtlXTtpZighbilyZXR1cm5bXTtsZXQgaT1bbi5jYWxsYmFja3NdO2ZvcihsZXQgZT0wO2U8bi5jaGlsZEV2ZW50cy5sZW5ndGg7ZSsrKXtjb25zdCBvPVQodCxuLmNoaWxkRXZlbnRzW2VdKTtpPWkuY29uY2F0KG8pfXJldHVybiBpfWZ1bmN0aW9uIFModCxlLG4pe2ZvcihsZXRbaSxvXW9mIHQpe28/XCJmdW5jdGlvblwiPT10eXBlb2YgbyYmKG89byhlLm5hbWUpKTpvPWUubmFtZTtjb25zdCB0PW5ldyBiKGUuc291cmNlLG8pO3QucGF0aD1bLi4uZS5wYXRoXSxpLmZpcmUodCwuLi5uKX19ZnVuY3Rpb24gRSh0LGUsbil7Y29uc3QgaT1UKHQsZSk7Zm9yKGNvbnN0IHQgb2YgaSlmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmNhbGxiYWNrPT1uJiYodC5zcGxpY2UoZSwxKSxlLS0pfWZ1bmN0aW9uIFAodCwuLi5lKXtlLmZvckVhY2goZT0+e09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKS5mb3JFYWNoKG49PntpZihuIGluIHQucHJvdG90eXBlKXJldHVybjtjb25zdCBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTtpLmVudW1lcmFibGU9ITEsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLG4saSl9KX0pfXZhciBPPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXX07dmFyIFI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fHQhPXQmJmUhPWV9O3ZhciBJPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspaWYoUih0W25dWzBdLGUpKXJldHVybiBuO3JldHVybi0xfSxWPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7dmFyIE09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPUkoZSx0KTtyZXR1cm4hKG48MHx8KG49PWUubGVuZ3RoLTE/ZS5wb3AoKTpWLmNhbGwoZSxuLDEpLDApKX07dmFyIEY9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPUkoZSx0KTtyZXR1cm4gbjwwP3ZvaWQgMDplW25dWzFdfTt2YXIgTj1mdW5jdGlvbih0KXtyZXR1cm4gSSh0aGlzLl9fZGF0YV9fLHQpPi0xfTt2YXIgRD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX18saT1JKG4sdCk7cmV0dXJuIGk8MD9uLnB1c2goW3QsZV0pOm5baV1bMV09ZSx0aGlzfTtmdW5jdGlvbiBCKHQpe3ZhciBlPS0xLG49dD90Lmxlbmd0aDowO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgaT10W2VdO3RoaXMuc2V0KGlbMF0saVsxXSl9fUIucHJvdG90eXBlLmNsZWFyPU8sQi5wcm90b3R5cGUuZGVsZXRlPU0sQi5wcm90b3R5cGUuZ2V0PUYsQi5wcm90b3R5cGUuaGFzPU4sQi5wcm90b3R5cGUuc2V0PUQ7dmFyIEw9Qjt2YXIgaj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189bmV3IEx9O3ZhciB6PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmRlbGV0ZSh0KX07dmFyIHE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KHQpfTt2YXIgVT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModCl9O3ZhciBIPWZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiEhdCYmKFwib2JqZWN0XCI9PWV8fFwiZnVuY3Rpb25cIj09ZSl9LFc9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLCQ9XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLEs9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt2YXIgRz1mdW5jdGlvbih0KXt2YXIgZT1IKHQpP0suY2FsbCh0KTpcIlwiO3JldHVybiBlPT1XfHxlPT0kfSxKPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZzt2YXIgUT1mdW5jdGlvbih0KXtpZihudWxsIT10KXt0cnl7cmV0dXJuIEouY2FsbCh0KX1jYXRjaCh0KXt9dHJ5e3JldHVybiB0K1wiXCJ9Y2F0Y2godCl7fX1yZXR1cm5cIlwifSxZPS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sWD1PYmplY3QucHJvdG90eXBlLFo9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLHR0PVguaGFzT3duUHJvcGVydHksZXQ9UmVnRXhwKFwiXlwiK1ouY2FsbCh0dCkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKTt2YXIgbnQ9ZnVuY3Rpb24odCl7cmV0dXJuISFIKHQpJiYoRyh0KXx8cih0KT9ldDpZKS50ZXN0KFEodCkpfTt2YXIgaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10W2VdO3JldHVybiBudChuKT9uOnZvaWQgMH0sb3Q9aXQoT2JqZWN0LFwiY3JlYXRlXCIpO3ZhciBydD1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189b3Q/b3QobnVsbCk6e319O3ZhciBzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW3RdfSxhdD1cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIixjdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBsdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO2lmKG90KXt2YXIgbj1lW3RdO3JldHVybiBuPT09YXQ/dm9pZCAwOm59cmV0dXJuIGN0LmNhbGwoZSx0KT9lW3RdOnZvaWQgMH0sZHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXztyZXR1cm4gb3Q/dm9pZCAwIT09ZVt0XTpkdC5jYWxsKGUsdCl9LGh0PVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiO3ZhciBmdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9fZGF0YV9fW3RdPW90JiZ2b2lkIDA9PT1lP2h0OmUsdGhpc307ZnVuY3Rpb24gcHQodCl7dmFyIGU9LTEsbj10P3QubGVuZ3RoOjA7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciBpPXRbZV07dGhpcy5zZXQoaVswXSxpWzFdKX19cHQucHJvdG90eXBlLmNsZWFyPXJ0LHB0LnByb3RvdHlwZS5kZWxldGU9c3QscHQucHJvdG90eXBlLmdldD1sdCxwdC5wcm90b3R5cGUuaGFzPXV0LHB0LnByb3RvdHlwZS5zZXQ9ZnQ7dmFyIG10PXB0LGd0PW4oMyksYnQ9aXQoZ3QuYSxcIk1hcFwiKTt2YXIgd3Q9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBtdCxtYXA6bmV3KGJ0fHxMKSxzdHJpbmc6bmV3IG10fX07dmFyIHZ0PWZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVyblwic3RyaW5nXCI9PWV8fFwibnVtYmVyXCI9PWV8fFwic3ltYm9sXCI9PWV8fFwiYm9vbGVhblwiPT1lP1wiX19wcm90b19fXCIhPT10Om51bGw9PT10fTt2YXIgX3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9fZGF0YV9fO3JldHVybiB2dChlKT9uW1wic3RyaW5nXCI9PXR5cGVvZiBlP1wic3RyaW5nXCI6XCJoYXNoXCJdOm4ubWFwfTt2YXIga3Q9ZnVuY3Rpb24odCl7cmV0dXJuIF90KHRoaXMsdCkuZGVsZXRlKHQpfTt2YXIgeXQ9ZnVuY3Rpb24odCl7cmV0dXJuIF90KHRoaXMsdCkuZ2V0KHQpfTt2YXIgeHQ9ZnVuY3Rpb24odCl7cmV0dXJuIF90KHRoaXMsdCkuaGFzKHQpfTt2YXIgQXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gX3QodGhpcyx0KS5zZXQodCxlKSx0aGlzfTtmdW5jdGlvbiBDdCh0KXt2YXIgZT0tMSxuPXQ/dC5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrZTxuOyl7dmFyIGk9dFtlXTt0aGlzLnNldChpWzBdLGlbMV0pfX1DdC5wcm90b3R5cGUuY2xlYXI9d3QsQ3QucHJvdG90eXBlLmRlbGV0ZT1rdCxDdC5wcm90b3R5cGUuZ2V0PXl0LEN0LnByb3RvdHlwZS5oYXM9eHQsQ3QucHJvdG90eXBlLnNldD1BdDt2YXIgVHQ9Q3QsU3Q9MjAwO3ZhciBFdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIG4gaW5zdGFuY2VvZiBMJiZuLl9fZGF0YV9fLmxlbmd0aD09U3QmJihuPXRoaXMuX19kYXRhX189bmV3IFR0KG4uX19kYXRhX18pKSxuLnNldCh0LGUpLHRoaXN9O2Z1bmN0aW9uIFB0KHQpe3RoaXMuX19kYXRhX189bmV3IEwodCl9UHQucHJvdG90eXBlLmNsZWFyPWosUHQucHJvdG90eXBlLmRlbGV0ZT16LFB0LnByb3RvdHlwZS5nZXQ9cSxQdC5wcm90b3R5cGUuaGFzPVUsUHQucHJvdG90eXBlLnNldD1FdDt2YXIgT3Q9UHQ7dmFyIFJ0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLGk9dC5sZW5ndGg7KytuPGkmJiExIT09ZSh0W25dLG4sdCk7KTtyZXR1cm4gdH0sSXQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgVnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRbZV07SXQuY2FsbCh0LGUpJiZSKGksbikmJih2b2lkIDAhPT1ufHxlIGluIHQpfHwodFtlXT1uKX07dmFyIE10PWZ1bmN0aW9uKHQsZSxuLGkpe258fChuPXt9KTtmb3IodmFyIG89LTEscj1lLmxlbmd0aDsrK288cjspe3ZhciBzPWVbb10sYT1pP2kobltzXSx0W3NdLHMsbix0KTp0W3NdO1Z0KG4scyxhKX1yZXR1cm4gbn0sRnQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgTnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRnQuY2FsbCh0LGUpfHxcIm9iamVjdFwiPT10eXBlb2YgdCYmZSBpbiB0JiZudWxsPT09byh0KX0sRHQ9T2JqZWN0LmtleXM7dmFyIEJ0PWZ1bmN0aW9uKHQpe3JldHVybiBEdChPYmplY3QodCkpfTt2YXIgTHQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49LTEsaT1BcnJheSh0KTsrK248dDspaVtuXT1lKG4pO3JldHVybiBpfTt2YXIganQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3ZvaWQgMDplW3RdfX0senQ9anQoXCJsZW5ndGhcIikscXQ9OTAwNzE5OTI1NDc0MDk5MTt2YXIgVXQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+LTEmJnQlMT09MCYmdDw9cXR9O3ZhciBIdD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmVXQoenQodCkpJiYhRyh0KX07dmFyIFd0PWZ1bmN0aW9uKHQpe3JldHVybiBzKHQpJiZIdCh0KX0sJHQ9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixLdD1PYmplY3QucHJvdG90eXBlLEd0PUt0Lmhhc093blByb3BlcnR5LEp0PUt0LnRvU3RyaW5nLFF0PUt0LnByb3BlcnR5SXNFbnVtZXJhYmxlO3ZhciBZdD1mdW5jdGlvbih0KXtyZXR1cm4gV3QodCkmJkd0LmNhbGwodCxcImNhbGxlZVwiKSYmKCFRdC5jYWxsKHQsXCJjYWxsZWVcIil8fEp0LmNhbGwodCk9PSR0KX0sWHQ9QXJyYXkuaXNBcnJheSxadD1cIltvYmplY3QgU3RyaW5nXVwiLHRlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7dmFyIGVlPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fHwhWHQodCkmJnModCkmJnRlLmNhbGwodCk9PVp0fTt2YXIgbmU9ZnVuY3Rpb24odCl7dmFyIGU9dD90Lmxlbmd0aDp2b2lkIDA7cmV0dXJuIFV0KGUpJiYoWHQodCl8fGVlKHQpfHxZdCh0KSk/THQoZSxTdHJpbmcpOm51bGx9LGllPTkwMDcxOTkyNTQ3NDA5OTEsb2U9L14oPzowfFsxLTldXFxkKikkLzt2YXIgcmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4hIShlPW51bGw9PWU/aWU6ZSkmJihcIm51bWJlclwiPT10eXBlb2YgdHx8b2UudGVzdCh0KSkmJnQ+LTEmJnQlMT09MCYmdDxlfSxzZT1PYmplY3QucHJvdG90eXBlO3ZhciBhZT1mdW5jdGlvbih0KXt2YXIgZT10JiZ0LmNvbnN0cnVjdG9yO3JldHVybiB0PT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUucHJvdG90eXBlfHxzZSl9O3ZhciBjZT1mdW5jdGlvbih0KXt2YXIgZT1hZSh0KTtpZighZSYmIUh0KHQpKXJldHVybiBCdCh0KTt2YXIgbj1uZSh0KSxpPSEhbixvPW58fFtdLHI9by5sZW5ndGg7Zm9yKHZhciBzIGluIHQpIU50KHQscyl8fGkmJihcImxlbmd0aFwiPT1zfHxyZShzLHIpKXx8ZSYmXCJjb25zdHJ1Y3RvclwiPT1zfHxvLnB1c2gocyk7cmV0dXJuIG99O3ZhciBsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZNdChlLGNlKGUpLHQpfTt2YXIgZGU9ZnVuY3Rpb24odCxlKXtpZihlKXJldHVybiB0LnNsaWNlKCk7dmFyIG49bmV3IHQuY29uc3RydWN0b3IodC5sZW5ndGgpO3JldHVybiB0LmNvcHkobiksbn07dmFyIHVlPWZ1bmN0aW9uKHQsZSl7dmFyIG49LTEsaT10Lmxlbmd0aDtmb3IoZXx8KGU9QXJyYXkoaSkpOysrbjxpOyllW25dPXRbbl07cmV0dXJuIGV9LGhlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7ZnVuY3Rpb24gZmUodCl7cmV0dXJuIGhlKE9iamVjdCh0KSl9aGV8fChmZT1mdW5jdGlvbigpe3JldHVybltdfSk7dmFyIHBlPWZlO3ZhciBtZT1mdW5jdGlvbih0LGUpe3JldHVybiBNdCh0LHBlKHQpLGUpfTt2YXIgZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49LTEsaT1lLmxlbmd0aCxvPXQubGVuZ3RoOysrbjxpOyl0W28rbl09ZVtuXTtyZXR1cm4gdH07dmFyIGJlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lKHQpO3JldHVybiBYdCh0KT9pOmdlKGksbih0KSl9O3ZhciB3ZT1mdW5jdGlvbih0KXtyZXR1cm4gYmUodCxjZSxwZSl9LHZlPWl0KGd0LmEsXCJEYXRhVmlld1wiKSxfZT1pdChndC5hLFwiUHJvbWlzZVwiKSxrZT1pdChndC5hLFwiU2V0XCIpLHllPWl0KGd0LmEsXCJXZWFrTWFwXCIpLHhlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsQWU9USh2ZSksQ2U9UShidCksVGU9UShfZSksU2U9UShrZSksRWU9USh5ZSk7ZnVuY3Rpb24gUGUodCl7cmV0dXJuIHhlLmNhbGwodCl9KHZlJiZcIltvYmplY3QgRGF0YVZpZXddXCIhPVBlKG5ldyB2ZShuZXcgQXJyYXlCdWZmZXIoMSkpKXx8YnQmJlwiW29iamVjdCBNYXBdXCIhPVBlKG5ldyBidCl8fF9lJiZcIltvYmplY3QgUHJvbWlzZV1cIiE9UGUoX2UucmVzb2x2ZSgpKXx8a2UmJlwiW29iamVjdCBTZXRdXCIhPVBlKG5ldyBrZSl8fHllJiZcIltvYmplY3QgV2Vha01hcF1cIiE9UGUobmV3IHllKSkmJihQZT1mdW5jdGlvbih0KXt2YXIgZT14ZS5jYWxsKHQpLG49XCJbb2JqZWN0IE9iamVjdF1cIj09ZT90LmNvbnN0cnVjdG9yOnZvaWQgMCxpPW4/UShuKTp2b2lkIDA7aWYoaSlzd2l0Y2goaSl7Y2FzZSBBZTpyZXR1cm5cIltvYmplY3QgRGF0YVZpZXddXCI7Y2FzZSBDZTpyZXR1cm5cIltvYmplY3QgTWFwXVwiO2Nhc2UgVGU6cmV0dXJuXCJbb2JqZWN0IFByb21pc2VdXCI7Y2FzZSBTZTpyZXR1cm5cIltvYmplY3QgU2V0XVwiO2Nhc2UgRWU6cmV0dXJuXCJbb2JqZWN0IFdlYWtNYXBdXCJ9cmV0dXJuIGV9KTt2YXIgT2U9UGUsUmU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgSWU9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsbj10LmNvbnN0cnVjdG9yKGUpO3JldHVybiBlJiZcInN0cmluZ1wiPT10eXBlb2YgdFswXSYmUmUuY2FsbCh0LFwiaW5kZXhcIikmJihuLmluZGV4PXQuaW5kZXgsbi5pbnB1dD10LmlucHV0KSxufSxWZT1ndC5hLlVpbnQ4QXJyYXk7dmFyIE1lPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0LmNvbnN0cnVjdG9yKHQuYnl0ZUxlbmd0aCk7cmV0dXJuIG5ldyBWZShlKS5zZXQobmV3IFZlKHQpKSxlfTt2YXIgRmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1lP01lKHQuYnVmZmVyKTp0LmJ1ZmZlcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3Iobix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX07dmFyIE5lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2V0KGVbMF0sZVsxXSksdH07dmFyIERlPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciBvPS0xLHI9dC5sZW5ndGg7Zm9yKGkmJnImJihuPXRbKytvXSk7KytvPHI7KW49ZShuLHRbb10sbyx0KTtyZXR1cm4gbn07dmFyIEJlPWZ1bmN0aW9uKHQpe3ZhciBlPS0xLG49QXJyYXkodC5zaXplKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsaSl7blsrK2VdPVtpLHRdfSksbn07dmFyIExlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lP24oQmUodCksITApOkJlKHQpO3JldHVybiBEZShpLE5lLG5ldyB0LmNvbnN0cnVjdG9yKX0samU9L1xcdyokLzt2YXIgemU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHQuY29uc3RydWN0b3IodC5zb3VyY2UsamUuZXhlYyh0KSk7cmV0dXJuIGUubGFzdEluZGV4PXQubGFzdEluZGV4LGV9O3ZhciBxZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmFkZChlKSx0fTt2YXIgVWU9ZnVuY3Rpb24odCl7dmFyIGU9LTEsbj1BcnJheSh0LnNpemUpO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7blsrK2VdPXR9KSxufTt2YXIgSGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWU/bihVZSh0KSwhMCk6VWUodCk7cmV0dXJuIERlKGkscWUsbmV3IHQuY29uc3RydWN0b3IpfSxXZT1ndC5hLlN5bWJvbCwkZT1XZT9XZS5wcm90b3R5cGU6dm9pZCAwLEtlPSRlPyRlLnZhbHVlT2Y6dm9pZCAwO3ZhciBHZT1mdW5jdGlvbih0KXtyZXR1cm4gS2U/T2JqZWN0KEtlLmNhbGwodCkpOnt9fTt2YXIgSmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1lP01lKHQuYnVmZmVyKTp0LmJ1ZmZlcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3Iobix0LmJ5dGVPZmZzZXQsdC5sZW5ndGgpfSxRZT1cIltvYmplY3QgQm9vbGVhbl1cIixZZT1cIltvYmplY3QgRGF0ZV1cIixYZT1cIltvYmplY3QgTWFwXVwiLFplPVwiW29iamVjdCBOdW1iZXJdXCIsdG49XCJbb2JqZWN0IFJlZ0V4cF1cIixlbj1cIltvYmplY3QgU2V0XVwiLG5uPVwiW29iamVjdCBTdHJpbmddXCIsb249XCJbb2JqZWN0IFN5bWJvbF1cIixybj1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsc249XCJbb2JqZWN0IERhdGFWaWV3XVwiLGFuPVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIsY249XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIixsbj1cIltvYmplY3QgSW50OEFycmF5XVwiLGRuPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLHVuPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLGhuPVwiW29iamVjdCBVaW50OEFycmF5XVwiLGZuPVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixwbj1cIltvYmplY3QgVWludDE2QXJyYXldXCIsbW49XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiO3ZhciBnbj1mdW5jdGlvbih0LGUsbixpKXt2YXIgbz10LmNvbnN0cnVjdG9yO3N3aXRjaChlKXtjYXNlIHJuOnJldHVybiBNZSh0KTtjYXNlIFFlOmNhc2UgWWU6cmV0dXJuIG5ldyBvKCt0KTtjYXNlIHNuOnJldHVybiBGZSh0LGkpO2Nhc2UgYW46Y2FzZSBjbjpjYXNlIGxuOmNhc2UgZG46Y2FzZSB1bjpjYXNlIGhuOmNhc2UgZm46Y2FzZSBwbjpjYXNlIG1uOnJldHVybiBKZSh0LGkpO2Nhc2UgWGU6cmV0dXJuIExlKHQsaSxuKTtjYXNlIFplOmNhc2Ugbm46cmV0dXJuIG5ldyBvKHQpO2Nhc2UgdG46cmV0dXJuIHplKHQpO2Nhc2UgZW46cmV0dXJuIEhlKHQsaSxuKTtjYXNlIG9uOnJldHVybiBHZSh0KX19LGJuPU9iamVjdC5jcmVhdGU7dmFyIHduPWZ1bmN0aW9uKHQpe3JldHVybiBIKHQpP2JuKHQpOnt9fTt2YXIgdm49ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgdC5jb25zdHJ1Y3Rvcnx8YWUodCk/e306d24obyh0KSl9LF9uPW4oMTUpLGtuPVwiW29iamVjdCBBcmd1bWVudHNdXCIseW49XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLHhuPVwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIixBbj1cIltvYmplY3QgT2JqZWN0XVwiLENuPXt9O0NuW2tuXT1DbltcIltvYmplY3QgQXJyYXldXCJdPUNuW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09Q25bXCJbb2JqZWN0IERhdGFWaWV3XVwiXT1DbltcIltvYmplY3QgQm9vbGVhbl1cIl09Q25bXCJbb2JqZWN0IERhdGVdXCJdPUNuW1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPUNuW1wiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdPUNuW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPUNuW1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT1DbltcIltvYmplY3QgSW50MzJBcnJheV1cIl09Q25bXCJbb2JqZWN0IE1hcF1cIl09Q25bXCJbb2JqZWN0IE51bWJlcl1cIl09Q25bQW5dPUNuW1wiW29iamVjdCBSZWdFeHBdXCJdPUNuW1wiW29iamVjdCBTZXRdXCJdPUNuW1wiW29iamVjdCBTdHJpbmddXCJdPUNuW1wiW29iamVjdCBTeW1ib2xdXCJdPUNuW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT1DbltcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCJdPUNuW1wiW29iamVjdCBVaW50MTZBcnJheV1cIl09Q25bXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCxDbltcIltvYmplY3QgRXJyb3JdXCJdPUNuW3luXT1DbltcIltvYmplY3QgV2Vha01hcF1cIl09ITE7dmFyIFRuPWZ1bmN0aW9uIHQoZSxuLGksbyxzLGEsYyl7dmFyIGw7aWYobyYmKGw9YT9vKGUscyxhLGMpOm8oZSkpLHZvaWQgMCE9PWwpcmV0dXJuIGw7aWYoIUgoZSkpcmV0dXJuIGU7dmFyIGQ9WHQoZSk7aWYoZCl7aWYobD1JZShlKSwhbilyZXR1cm4gdWUoZSxsKX1lbHNle3ZhciB1PU9lKGUpLGg9dT09eW58fHU9PXhuO2lmKE9iamVjdChfbi5hKShlKSlyZXR1cm4gZGUoZSxuKTtpZih1PT1Bbnx8dT09a258fGgmJiFhKXtpZihyKGUpKXJldHVybiBhP2U6e307aWYobD12bihoP3t9OmUpLCFuKXJldHVybiBtZShlLGxlKGwsZSkpfWVsc2V7aWYoIUNuW3VdKXJldHVybiBhP2U6e307bD1nbihlLHUsdCxuKX19Y3x8KGM9bmV3IE90KTt2YXIgZj1jLmdldChlKTtpZihmKXJldHVybiBmO2lmKGMuc2V0KGUsbCksIWQpdmFyIHA9aT93ZShlKTpjZShlKTtyZXR1cm4gUnQocHx8ZSxmdW5jdGlvbihyLHMpe3AmJihyPWVbcz1yXSksVnQobCxzLHQocixuLGksbyxzLGUsYykpfSksbH07dmFyIFNuPWZ1bmN0aW9uKHQpe3JldHVybiBUbih0LCExLCEwKX07ZnVuY3Rpb24gRW4odCxlKXtjb25zdCBuPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKTtmb3IobGV0IGk9MDtpPG47aSsrKWlmKHRbaV0hPWVbaV0pcmV0dXJuIGk7cmV0dXJuIHQubGVuZ3RoPT1lLmxlbmd0aD9cInNhbWVcIjp0Lmxlbmd0aDxlLmxlbmd0aD9cInByZWZpeFwiOlwiZXh0ZW5zaW9uXCJ9Y2xhc3MgUG57Y29uc3RydWN0b3IoKXt0aGlzLnBhcmVudD1udWxsfWdldCBpbmRleCgpe2xldCB0O2lmKCF0aGlzLnBhcmVudClyZXR1cm4gbnVsbDtpZigtMT09KHQ9dGhpcy5wYXJlbnQuZ2V0Q2hpbGRJbmRleCh0aGlzKSkpdGhyb3cgbmV3IG0uYihcInZpZXctbm9kZS1ub3QtZm91bmQtaW4tcGFyZW50OiBUaGUgbm9kZSdzIHBhcmVudCBkb2VzIG5vdCBjb250YWluIHRoaXMgbm9kZS5cIik7cmV0dXJuIHR9Z2V0IG5leHRTaWJsaW5nKCl7Y29uc3QgdD10aGlzLmluZGV4O3JldHVybiBudWxsIT09dCYmdGhpcy5wYXJlbnQuZ2V0Q2hpbGQodCsxKXx8bnVsbH1nZXQgcHJldmlvdXNTaWJsaW5nKCl7Y29uc3QgdD10aGlzLmluZGV4O3JldHVybiBudWxsIT09dCYmdGhpcy5wYXJlbnQuZ2V0Q2hpbGQodC0xKXx8bnVsbH1nZXQgcm9vdCgpe2xldCB0PXRoaXM7Zm9yKDt0LnBhcmVudDspdD10LnBhcmVudDtyZXR1cm4gdH1nZXQgZG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBQbj90aGlzLnBhcmVudC5kb2N1bWVudDpudWxsfWdldFBhdGgoKXtjb25zdCB0PVtdO2xldCBlPXRoaXM7Zm9yKDtlLnBhcmVudDspdC51bnNoaWZ0KGUuaW5kZXgpLGU9ZS5wYXJlbnQ7cmV0dXJuIHR9Z2V0QW5jZXN0b3JzKHQ9e2luY2x1ZGVTZWxmOiExLHBhcmVudEZpcnN0OiExfSl7Y29uc3QgZT1bXTtsZXQgbj10LmluY2x1ZGVTZWxmP3RoaXM6dGhpcy5wYXJlbnQ7Zm9yKDtuOyllW3QucGFyZW50Rmlyc3Q/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKG4pLG49bi5wYXJlbnQ7cmV0dXJuIGV9Z2V0Q29tbW9uQW5jZXN0b3IodCxlPXt9KXtjb25zdCBuPXRoaXMuZ2V0QW5jZXN0b3JzKGUpLGk9dC5nZXRBbmNlc3RvcnMoZSk7bGV0IG89MDtmb3IoO25bb109PWlbb10mJm5bb107KW8rKztyZXR1cm4gMD09PW8/bnVsbDpuW28tMV19aXNCZWZvcmUodCl7aWYodGhpcz09dClyZXR1cm4hMTtpZih0aGlzLnJvb3QhPT10LnJvb3QpcmV0dXJuITE7Y29uc3QgZT10aGlzLmdldFBhdGgoKSxuPXQuZ2V0UGF0aCgpLGk9RW4oZSxuKTtzd2l0Y2goaSl7Y2FzZVwicHJlZml4XCI6cmV0dXJuITA7Y2FzZVwiZXh0ZW5zaW9uXCI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gZVtpXTxuW2ldfX1pc0FmdGVyKHQpe3JldHVybiB0aGlzIT10JiYodGhpcy5yb290PT09dC5yb290JiYhdGhpcy5pc0JlZm9yZSh0KSl9X3JlbW92ZSgpe3RoaXMucGFyZW50Ll9yZW1vdmVDaGlsZHJlbih0aGlzLmluZGV4KX1fZmlyZUNoYW5nZSh0LGUpe3RoaXMuZmlyZShcImNoYW5nZTpcIit0LGUpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fZmlyZUNoYW5nZSh0LGUpfXRvSlNPTigpe2NvbnN0IHQ9U24odGhpcyk7cmV0dXJuIGRlbGV0ZSB0LnBhcmVudCx0fWlzKHQpe3JldHVyblwibm9kZVwiPT10fX1QKFBuLHkpO2NsYXNzIE9uIGV4dGVuZHMgUG57Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl90ZXh0RGF0YT10fWlzKHQpe3JldHVyblwidGV4dFwiPT10fHxzdXBlci5pcyh0KX1nZXQgZGF0YSgpe3JldHVybiB0aGlzLl90ZXh0RGF0YX1nZXQgX2RhdGEoKXtyZXR1cm4gdGhpcy5kYXRhfXNldCBfZGF0YSh0KXt0aGlzLl9maXJlQ2hhbmdlKFwidGV4dFwiLHRoaXMpLHRoaXMuX3RleHREYXRhPXR9aXNTaW1pbGFyKHQpe3JldHVybiB0IGluc3RhbmNlb2YgT24mJih0aGlzPT09dHx8dGhpcy5kYXRhPT09dC5kYXRhKX1fY2xvbmUoKXtyZXR1cm4gbmV3IE9uKHRoaXMuZGF0YSl9fWNsYXNzIFJue2NvbnN0cnVjdG9yKHQsZSxuKXtpZih0aGlzLnRleHROb2RlPXQsZTwwfHxlPnQuZGF0YS5sZW5ndGgpdGhyb3cgbmV3IG0uYihcInZpZXctdGV4dHByb3h5LXdyb25nLW9mZnNldGludGV4dDogR2l2ZW4gb2Zmc2V0SW5UZXh0IHZhbHVlIGlzIGluY29ycmVjdC5cIik7aWYobjwwfHxlK24+dC5kYXRhLmxlbmd0aCl0aHJvdyBuZXcgbS5iKFwidmlldy10ZXh0cHJveHktd3JvbmctbGVuZ3RoOiBHaXZlbiBsZW5ndGggdmFsdWUgaXMgaW5jb3JyZWN0LlwiKTt0aGlzLmRhdGE9dC5kYXRhLnN1YnN0cmluZyhlLGUrbiksdGhpcy5vZmZzZXRJblRleHQ9ZX1nZXQgb2Zmc2V0U2l6ZSgpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RofWdldCBpc1BhcnRpYWwoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aCE9PXRoaXMudGV4dE5vZGUuZGF0YS5sZW5ndGh9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLnBhcmVudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnRleHROb2RlLnJvb3R9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZG9jdW1lbnR9aXModCl7cmV0dXJuXCJ0ZXh0UHJveHlcIj09dH1nZXRBbmNlc3RvcnModD17aW5jbHVkZVNlbGY6ITEscGFyZW50Rmlyc3Q6ITF9KXtjb25zdCBlPVtdO2xldCBuPXQuaW5jbHVkZVNlbGY/dGhpcy50ZXh0Tm9kZTp0aGlzLnBhcmVudDtmb3IoO251bGwhPT1uOyllW3QucGFyZW50Rmlyc3Q/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKG4pLG49bi5wYXJlbnQ7cmV0dXJuIGV9fWZ1bmN0aW9uIEluKHQpe2NvbnN0IGU9bmV3IE1hcDtmb3IoY29uc3QgbiBpbiB0KWUuc2V0KG4sdFtuXSk7cmV0dXJuIGV9ZnVuY3Rpb24gVm4odCl7cmV0dXJuISghdHx8IXRbU3ltYm9sLml0ZXJhdG9yXSl9Y2xhc3MgTW57Y29uc3RydWN0b3IoLi4udCl7dGhpcy5fcGF0dGVybnM9W10sdGhpcy5hZGQoLi4udCl9YWRkKC4uLnQpe2ZvcihsZXQgZSBvZiB0KShcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cCkmJihlPXtuYW1lOmV9KSxlLmNsYXNzZXMmJihcInN0cmluZ1wiPT10eXBlb2YgZS5jbGFzc2VzfHxlLmNsYXNzZXMgaW5zdGFuY2VvZiBSZWdFeHApJiYoZS5jbGFzc2VzPVtlLmNsYXNzZXNdKSx0aGlzLl9wYXR0ZXJucy5wdXNoKGUpfW1hdGNoKC4uLnQpe2Zvcihjb25zdCBlIG9mIHQpZm9yKGNvbnN0IHQgb2YgdGhpcy5fcGF0dGVybnMpe2NvbnN0IG49Rm4oZSx0KTtpZihuKXJldHVybntlbGVtZW50OmUscGF0dGVybjp0LG1hdGNoOm59fXJldHVybiBudWxsfW1hdGNoQWxsKC4uLnQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gb2YgdClmb3IoY29uc3QgdCBvZiB0aGlzLl9wYXR0ZXJucyl7Y29uc3QgaT1GbihuLHQpO2kmJmUucHVzaCh7ZWxlbWVudDpuLHBhdHRlcm46dCxtYXRjaDppfSl9cmV0dXJuIGUubGVuZ3RoPjA/ZTpudWxsfWdldEVsZW1lbnROYW1lKCl7aWYoMSE9PXRoaXMuX3BhdHRlcm5zLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuX3BhdHRlcm5zWzBdLGU9dC5uYW1lO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fCFlfHxlIGluc3RhbmNlb2YgUmVnRXhwP251bGw6ZX19ZnVuY3Rpb24gRm4odCxlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlKHQpO2NvbnN0IG49e307cmV0dXJuIGUubmFtZSYmKG4ubmFtZT1mdW5jdGlvbih0LGUpe2lmKHQgaW5zdGFuY2VvZiBSZWdFeHApcmV0dXJuIHQudGVzdChlKTtyZXR1cm4gdD09PWV9KGUubmFtZSx0Lm5hbWUpLCFuLm5hbWUpP251bGw6ZS5hdHRyaWJ1dGVzJiYobi5hdHRyaWJ1dGVzPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07aWYoIWUuaGFzQXR0cmlidXRlKGkpKXJldHVybiBudWxsO3tjb25zdCB0PWUuZ2V0QXR0cmlidXRlKGkpO2lmKCEwPT09byluLnB1c2goaSk7ZWxzZSBpZihvIGluc3RhbmNlb2YgUmVnRXhwKXtpZighby50ZXN0KHQpKXJldHVybiBudWxsO24ucHVzaChpKX1lbHNle2lmKHQhPT1vKXJldHVybiBudWxsO24ucHVzaChpKX19fXJldHVybiBufShlLmF0dHJpYnV0ZXMsdCksIW4uYXR0cmlidXRlcyk/bnVsbDohKGUuY2xhc3NlcyYmKG4uY2xhc3Nlcz1mdW5jdGlvbih0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IGkgb2YgdClpZihpIGluc3RhbmNlb2YgUmVnRXhwKXtjb25zdCB0PWUuZ2V0Q2xhc3NOYW1lcygpO2Zvcihjb25zdCBlIG9mIHQpaS50ZXN0KGUpJiZuLnB1c2goZSk7aWYoMD09PW4ubGVuZ3RoKXJldHVybiBudWxsfWVsc2V7aWYoIWUuaGFzQ2xhc3MoaSkpcmV0dXJuIG51bGw7bi5wdXNoKGkpfXJldHVybiBufShlLmNsYXNzZXMsdCksIW4uY2xhc3NlcykpJiYoIShlLnN0eWxlcyYmKG4uc3R5bGVzPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07aWYoIWUuaGFzU3R5bGUoaSkpcmV0dXJuIG51bGw7e2NvbnN0IHQ9ZS5nZXRTdHlsZShpKTtpZihvIGluc3RhbmNlb2YgUmVnRXhwKXtpZighby50ZXN0KHQpKXJldHVybiBudWxsO24ucHVzaChpKX1lbHNle2lmKHQhPT1vKXJldHVybiBudWxsO24ucHVzaChpKX19fXJldHVybiBufShlLnN0eWxlcyx0KSwhbi5zdHlsZXMpKSYmbil9Y2xhc3MgTm4gZXh0ZW5kcyBQbntjb25zdHJ1Y3Rvcih0LGUsbil7aWYoc3VwZXIoKSx0aGlzLm5hbWU9dCx0aGlzLl9hdHRycz1mdW5jdGlvbih0KXt0PWYodCk/SW4odCk6bmV3IE1hcCh0KTtmb3IoY29uc3RbZSxuXW9mIHQpbnVsbD09PW4/dC5kZWxldGUoZSk6XCJzdHJpbmdcIiE9dHlwZW9mIG4mJnQuc2V0KGUsU3RyaW5nKG4pKTtyZXR1cm4gdH0oZSksdGhpcy5fY2hpbGRyZW49W10sbiYmdGhpcy5faW5zZXJ0Q2hpbGQoMCxuKSx0aGlzLl9jbGFzc2VzPW5ldyBTZXQsdGhpcy5fYXR0cnMuaGFzKFwiY2xhc3NcIikpe2NvbnN0IHQ9dGhpcy5fYXR0cnMuZ2V0KFwiY2xhc3NcIik7Qm4odGhpcy5fY2xhc3Nlcyx0KSx0aGlzLl9hdHRycy5kZWxldGUoXCJjbGFzc1wiKX10aGlzLl9zdHlsZXM9bmV3IE1hcCx0aGlzLl9hdHRycy5oYXMoXCJzdHlsZVwiKSYmKERuKHRoaXMuX3N0eWxlcyx0aGlzLl9hdHRycy5nZXQoXCJzdHlsZVwiKSksdGhpcy5fYXR0cnMuZGVsZXRlKFwic3R5bGVcIikpLHRoaXMuX2N1c3RvbVByb3BlcnRpZXM9bmV3IE1hcH1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuX2NoaWxkcmVuLmxlbmd0aH1pcyh0LGU9bnVsbCl7cmV0dXJuIGU/XCJlbGVtZW50XCI9PXQmJmU9PXRoaXMubmFtZTpcImVsZW1lbnRcIj09dHx8dD09dGhpcy5uYW1lfHxzdXBlci5pcyh0KX1nZXRDaGlsZCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bdF19Z2V0Q2hpbGRJbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uaW5kZXhPZih0KX1nZXRDaGlsZHJlbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9KmdldEF0dHJpYnV0ZUtleXMoKXt0aGlzLl9jbGFzc2VzLnNpemU+MCYmKHlpZWxkXCJjbGFzc1wiKSx0aGlzLl9zdHlsZXMuc2l6ZT4wJiYoeWllbGRcInN0eWxlXCIpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2F0dHJzLmtleXMoKSl5aWVsZCB0fSpnZXRBdHRyaWJ1dGVzKCl7eWllbGQqdGhpcy5fYXR0cnMuZW50cmllcygpLHRoaXMuX2NsYXNzZXMuc2l6ZT4wJiYoeWllbGRbXCJjbGFzc1wiLHRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIildKSx0aGlzLl9zdHlsZXMuc2l6ZT4wJiYoeWllbGRbXCJzdHlsZVwiLHRoaXMuZ2V0QXR0cmlidXRlKFwic3R5bGVcIildKX1nZXRBdHRyaWJ1dGUodCl7aWYoXCJjbGFzc1wiPT10KXJldHVybiB0aGlzLl9jbGFzc2VzLnNpemU+MD9bLi4udGhpcy5fY2xhc3Nlc10uam9pbihcIiBcIik6dm9pZCAwO2lmKFwic3R5bGVcIiE9dClyZXR1cm4gdGhpcy5fYXR0cnMuZ2V0KHQpO2lmKHRoaXMuX3N0eWxlcy5zaXplPjApe2xldCB0PVwiXCI7Zm9yKGNvbnN0W2Usbl1vZiB0aGlzLl9zdHlsZXMpdCs9YCR7ZX06JHtufTtgO3JldHVybiB0fX1oYXNBdHRyaWJ1dGUodCl7cmV0dXJuXCJjbGFzc1wiPT10P3RoaXMuX2NsYXNzZXMuc2l6ZT4wOlwic3R5bGVcIj09dD90aGlzLl9zdHlsZXMuc2l6ZT4wOnRoaXMuX2F0dHJzLmhhcyh0KX1pc1NpbWlsYXIodCl7aWYoISh0IGluc3RhbmNlb2YgTm4pKXJldHVybiExO2lmKHRoaXM9PT10KXJldHVybiEwO2lmKHRoaXMubmFtZSE9dC5uYW1lKXJldHVybiExO2lmKHRoaXMuX2F0dHJzLnNpemUhPT10Ll9hdHRycy5zaXplfHx0aGlzLl9jbGFzc2VzLnNpemUhPT10Ll9jbGFzc2VzLnNpemV8fHRoaXMuX3N0eWxlcy5zaXplIT09dC5fc3R5bGVzLnNpemUpcmV0dXJuITE7Zm9yKGNvbnN0W2Usbl1vZiB0aGlzLl9hdHRycylpZighdC5fYXR0cnMuaGFzKGUpfHx0Ll9hdHRycy5nZXQoZSkhPT1uKXJldHVybiExO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NsYXNzZXMpaWYoIXQuX2NsYXNzZXMuaGFzKGUpKXJldHVybiExO2Zvcihjb25zdFtlLG5db2YgdGhpcy5fc3R5bGVzKWlmKCF0Ll9zdHlsZXMuaGFzKGUpfHx0Ll9zdHlsZXMuZ2V0KGUpIT09bilyZXR1cm4hMTtyZXR1cm4hMH1oYXNDbGFzcyguLi50KXtmb3IoY29uc3QgZSBvZiB0KWlmKCF0aGlzLl9jbGFzc2VzLmhhcyhlKSlyZXR1cm4hMTtyZXR1cm4hMH1nZXRDbGFzc05hbWVzKCl7cmV0dXJuIHRoaXMuX2NsYXNzZXMua2V5cygpfWdldFN0eWxlKHQpe3JldHVybiB0aGlzLl9zdHlsZXMuZ2V0KHQpfWdldFN0eWxlTmFtZXMoKXtyZXR1cm4gdGhpcy5fc3R5bGVzLmtleXMoKX1oYXNTdHlsZSguLi50KXtmb3IoY29uc3QgZSBvZiB0KWlmKCF0aGlzLl9zdHlsZXMuaGFzKGUpKXJldHVybiExO3JldHVybiEwfWZpbmRBbmNlc3RvciguLi50KXtjb25zdCBlPW5ldyBNbiguLi50KTtsZXQgbj10aGlzLnBhcmVudDtmb3IoO247KXtpZihlLm1hdGNoKG4pKXJldHVybiBuO249bi5wYXJlbnR9cmV0dXJuIG51bGx9Z2V0Q3VzdG9tUHJvcGVydHkodCl7cmV0dXJuIHRoaXMuX2N1c3RvbVByb3BlcnRpZXMuZ2V0KHQpfSpnZXRDdXN0b21Qcm9wZXJ0aWVzKCl7eWllbGQqdGhpcy5fY3VzdG9tUHJvcGVydGllcy5lbnRyaWVzKCl9Z2V0SWRlbnRpdHkoKXtjb25zdCB0PUFycmF5LmZyb20odGhpcy5fY2xhc3Nlcykuc29ydCgpLmpvaW4oXCIsXCIpLGU9QXJyYXkuZnJvbSh0aGlzLl9zdHlsZXMpLm1hcCh0PT5gJHt0WzBdfToke3RbMV19YCkuc29ydCgpLmpvaW4oXCI7XCIpLG49QXJyYXkuZnJvbSh0aGlzLl9hdHRycykubWFwKHQ9PmAke3RbMF19PVwiJHt0WzFdfVwiYCkuc29ydCgpLmpvaW4oXCIgXCIpO3JldHVybiB0aGlzLm5hbWUrKFwiXCI9PXQ/XCJcIjpgIGNsYXNzPVwiJHt0fVwiYCkrKFwiXCI9PWU/XCJcIjpgIHN0eWxlPVwiJHtlfVwiYCkrKFwiXCI9PW4/XCJcIjpgICR7bn1gKX1fY2xvbmUodD0hMSl7Y29uc3QgZT1bXTtpZih0KWZvcihjb25zdCBuIG9mIHRoaXMuZ2V0Q2hpbGRyZW4oKSllLnB1c2gobi5fY2xvbmUodCkpO2NvbnN0IG49bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5uYW1lLHRoaXMuX2F0dHJzLGUpO3JldHVybiBuLl9jbGFzc2VzPW5ldyBTZXQodGhpcy5fY2xhc3Nlcyksbi5fc3R5bGVzPW5ldyBNYXAodGhpcy5fc3R5bGVzKSxuLl9jdXN0b21Qcm9wZXJ0aWVzPW5ldyBNYXAodGhpcy5fY3VzdG9tUHJvcGVydGllcyksbi5nZXRGaWxsZXJPZmZzZXQ9dGhpcy5nZXRGaWxsZXJPZmZzZXQsbn1fYXBwZW5kQ2hpbGQodCl7cmV0dXJuIHRoaXMuX2luc2VydENoaWxkKHRoaXMuY2hpbGRDb3VudCx0KX1faW5zZXJ0Q2hpbGQodCxlKXt0aGlzLl9maXJlQ2hhbmdlKFwiY2hpbGRyZW5cIix0aGlzKTtsZXQgbj0wO2NvbnN0IGk9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuW25ldyBPbih0KV07Vm4odCl8fCh0PVt0XSk7cmV0dXJuIEFycmF5LmZyb20odCkubWFwKHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P25ldyBPbih0KTp0IGluc3RhbmNlb2YgUm4/bmV3IE9uKHQuZGF0YSk6dCl9KGUpO2Zvcihjb25zdCBlIG9mIGkpbnVsbCE9PWUucGFyZW50JiZlLl9yZW1vdmUoKSxlLnBhcmVudD10aGlzLHRoaXMuX2NoaWxkcmVuLnNwbGljZSh0LDAsZSksdCsrLG4rKztyZXR1cm4gbn1fcmVtb3ZlQ2hpbGRyZW4odCxlPTEpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJjaGlsZHJlblwiLHRoaXMpO2ZvcihsZXQgbj10O248dCtlO24rKyl0aGlzLl9jaGlsZHJlbltuXS5wYXJlbnQ9bnVsbDtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uc3BsaWNlKHQsZSl9X3NldEF0dHJpYnV0ZSh0LGUpe2U9U3RyaW5nKGUpLHRoaXMuX2ZpcmVDaGFuZ2UoXCJhdHRyaWJ1dGVzXCIsdGhpcyksXCJjbGFzc1wiPT10P0JuKHRoaXMuX2NsYXNzZXMsZSk6XCJzdHlsZVwiPT10P0RuKHRoaXMuX3N0eWxlcyxlKTp0aGlzLl9hdHRycy5zZXQodCxlKX1fcmVtb3ZlQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9maXJlQ2hhbmdlKFwiYXR0cmlidXRlc1wiLHRoaXMpLFwiY2xhc3NcIj09dD90aGlzLl9jbGFzc2VzLnNpemU+MCYmKHRoaXMuX2NsYXNzZXMuY2xlYXIoKSwhMCk6XCJzdHlsZVwiPT10P3RoaXMuX3N0eWxlcy5zaXplPjAmJih0aGlzLl9zdHlsZXMuY2xlYXIoKSwhMCk6dGhpcy5fYXR0cnMuZGVsZXRlKHQpfV9hZGRDbGFzcyh0KXt0aGlzLl9maXJlQ2hhbmdlKFwiYXR0cmlidXRlc1wiLHRoaXMpLCh0PUFycmF5LmlzQXJyYXkodCk/dDpbdF0pLmZvckVhY2godD0+dGhpcy5fY2xhc3Nlcy5hZGQodCkpfV9yZW1vdmVDbGFzcyh0KXt0aGlzLl9maXJlQ2hhbmdlKFwiYXR0cmlidXRlc1wiLHRoaXMpLCh0PUFycmF5LmlzQXJyYXkodCk/dDpbdF0pLmZvckVhY2godD0+dGhpcy5fY2xhc3Nlcy5kZWxldGUodCkpfV9zZXRTdHlsZSh0LGUpe2lmKHRoaXMuX2ZpcmVDaGFuZ2UoXCJhdHRyaWJ1dGVzXCIsdGhpcyksZih0KSl7Y29uc3QgZT1PYmplY3Qua2V5cyh0KTtmb3IoY29uc3QgbiBvZiBlKXRoaXMuX3N0eWxlcy5zZXQobix0W25dKX1lbHNlIHRoaXMuX3N0eWxlcy5zZXQodCxlKX1fcmVtb3ZlU3R5bGUodCl7dGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKSwodD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdKS5mb3JFYWNoKHQ9PnRoaXMuX3N0eWxlcy5kZWxldGUodCkpfV9zZXRDdXN0b21Qcm9wZXJ0eSh0LGUpe3RoaXMuX2N1c3RvbVByb3BlcnRpZXMuc2V0KHQsZSl9X3JlbW92ZUN1c3RvbVByb3BlcnR5KHQpe3JldHVybiB0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLmRlbGV0ZSh0KX19ZnVuY3Rpb24gRG4odCxlKXtsZXQgbj1udWxsLGk9MCxvPTAscj1udWxsO2lmKHQuY2xlYXIoKSxcIlwiIT09ZSl7XCI7XCIhPWUuY2hhckF0KGUubGVuZ3RoLTEpJiYoZSs9XCI7XCIpO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCBhPWUuY2hhckF0KHMpO2lmKG51bGw9PT1uKXN3aXRjaChhKXtjYXNlXCI6XCI6cnx8KHI9ZS5zdWJzdHIoaSxzLWkpLG89cysxKTticmVhaztjYXNlJ1wiJzpjYXNlXCInXCI6bj1hO2JyZWFrO2Nhc2VcIjtcIjpjb25zdCBjPWUuc3Vic3RyKG8scy1vKTtyJiZ0LnNldChyLnRyaW0oKSxjLnRyaW0oKSkscj1udWxsLGk9cysxfWVsc2UgYT09PW4mJihuPW51bGwpfX19ZnVuY3Rpb24gQm4odCxlKXtjb25zdCBuPWUuc3BsaXQoL1xccysvKTt0LmNsZWFyKCksbi5mb3JFYWNoKGU9PnQuYWRkKGUpKX1jbGFzcyBMbiBleHRlbmRzIE5ue2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5nZXRGaWxsZXJPZmZzZXQ9am59aXModCxlPW51bGwpe3JldHVybiBlP1wiY29udGFpbmVyRWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSk6XCJjb250YWluZXJFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfX1mdW5jdGlvbiBqbigpe2NvbnN0IHQ9Wy4uLnRoaXMuZ2V0Q2hpbGRyZW4oKV0sZT10W3RoaXMuY2hpbGRDb3VudC0xXTtpZihlJiZlLmlzKFwiZWxlbWVudFwiLFwiYnJcIikpcmV0dXJuIHRoaXMuY2hpbGRDb3VudDtmb3IoY29uc3QgZSBvZiB0KWlmKCFlLmlzKFwidWlFbGVtZW50XCIpKXJldHVybiBudWxsO3JldHVybiB0aGlzLmNoaWxkQ291bnR9dmFyIHpuPWZ1bmN0aW9uKHQsZSxuKXtpZighSChuKSlyZXR1cm4hMTt2YXIgaT10eXBlb2YgZTtyZXR1cm4hIShcIm51bWJlclwiPT1pP0h0KG4pJiZyZShlLG4ubGVuZ3RoKTpcInN0cmluZ1wiPT1pJiZlIGluIG4pJiZSKG5bZV0sdCl9O3ZhciBxbj1mdW5jdGlvbih0LGUsbil7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHQuY2FsbChlKTtjYXNlIDE6cmV0dXJuIHQuY2FsbChlLG5bMF0pO2Nhc2UgMjpyZXR1cm4gdC5jYWxsKGUsblswXSxuWzFdKTtjYXNlIDM6cmV0dXJuIHQuY2FsbChlLG5bMF0sblsxXSxuWzJdKX1yZXR1cm4gdC5hcHBseShlLG4pfSxVbj1cIltvYmplY3QgU3ltYm9sXVwiLEhuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7dmFyIFduPWZ1bmN0aW9uKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fHxzKHQpJiZIbi5jYWxsKHQpPT1Vbn0sJG49TmFOLEtuPS9eXFxzK3xcXHMrJC9nLEduPS9eWy0rXTB4WzAtOWEtZl0rJC9pLEpuPS9eMGJbMDFdKyQvaSxRbj0vXjBvWzAtN10rJC9pLFluPXBhcnNlSW50O3ZhciBYbj1mdW5jdGlvbih0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdDtpZihXbih0KSlyZXR1cm4gJG47aWYoSCh0KSl7dmFyIGU9Ryh0LnZhbHVlT2YpP3QudmFsdWVPZigpOnQ7dD1IKGUpP2UrXCJcIjplfWlmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiAwPT09dD90Oit0O3Q9dC5yZXBsYWNlKEtuLFwiXCIpO3ZhciBuPUpuLnRlc3QodCk7cmV0dXJuIG58fFFuLnRlc3QodCk/WW4odC5zbGljZSgyKSxuPzI6OCk6R24udGVzdCh0KT8kbjordH0sWm49MS8wLHRpPTEuNzk3NjkzMTM0ODYyMzE1N2UzMDg7dmFyIGVpPWZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0PVhuKHQpKT09PVpufHx0PT09LVpuPyh0PDA/LTE6MSkqdGk6dD09dD90OjA6MD09PXQ/dDowfTt2YXIgbmk9ZnVuY3Rpb24odCl7dmFyIGU9ZWkodCksbj1lJTE7cmV0dXJuIGU9PWU/bj9lLW46ZTowfSxpaT1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIixvaT1NYXRoLm1heDt2YXIgcmk9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoaWkpO3JldHVybiBlPW9pKHZvaWQgMD09PWU/dC5sZW5ndGgtMTpuaShlKSwwKSxmdW5jdGlvbigpe2Zvcih2YXIgbj1hcmd1bWVudHMsaT0tMSxvPW9pKG4ubGVuZ3RoLWUsMCkscj1BcnJheShvKTsrK2k8bzspcltpXT1uW2UraV07c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdC5jYWxsKHRoaXMscik7Y2FzZSAxOnJldHVybiB0LmNhbGwodGhpcyxuWzBdLHIpO2Nhc2UgMjpyZXR1cm4gdC5jYWxsKHRoaXMsblswXSxuWzFdLHIpfXZhciBzPUFycmF5KGUrMSk7Zm9yKGk9LTE7KytpPGU7KXNbaV09bltpXTtyZXR1cm4gc1tlXT1yLHFuKHQsdGhpcyxzKX19O3ZhciBzaT1mdW5jdGlvbih0KXtyZXR1cm4gcmkoZnVuY3Rpb24oZSxuKXt2YXIgaT0tMSxvPW4ubGVuZ3RoLHI9bz4xP25bby0xXTp2b2lkIDAscz1vPjI/blsyXTp2b2lkIDA7Zm9yKHI9dC5sZW5ndGg+MyYmXCJmdW5jdGlvblwiPT10eXBlb2Ygcj8oby0tLHIpOnZvaWQgMCxzJiZ6bihuWzBdLG5bMV0scykmJihyPW88Mz92b2lkIDA6cixvPTEpLGU9T2JqZWN0KGUpOysraTxvOyl7dmFyIGE9bltpXTthJiZ0KGUsYSxpLHIpfXJldHVybiBlfSl9LGFpPWd0LmEuUmVmbGVjdDt2YXIgY2k9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W107IShlPXQubmV4dCgpKS5kb25lOyluLnB1c2goZS52YWx1ZSk7cmV0dXJuIG59LGxpPU9iamVjdC5wcm90b3R5cGUsZGk9YWk/YWkuZW51bWVyYXRlOnZvaWQgMCx1aT1saS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtmdW5jdGlvbiBoaSh0KXt0PW51bGw9PXQ/dDpPYmplY3QodCk7dmFyIGU9W107Zm9yKHZhciBuIGluIHQpZS5wdXNoKG4pO3JldHVybiBlfWRpJiYhdWkuY2FsbCh7dmFsdWVPZjoxfSxcInZhbHVlT2ZcIikmJihoaT1mdW5jdGlvbih0KXtyZXR1cm4gY2koZGkodCkpfSk7dmFyIGZpPWhpLHBpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIG1pPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMSxuPWFlKHQpLGk9ZmkodCksbz1pLmxlbmd0aCxyPW5lKHQpLHM9ISFyLGE9cnx8W10sYz1hLmxlbmd0aDsrK2U8bzspe3ZhciBsPWlbZV07cyYmKFwibGVuZ3RoXCI9PWx8fHJlKGwsYykpfHxcImNvbnN0cnVjdG9yXCI9PWwmJihufHwhcGkuY2FsbCh0LGwpKXx8YS5wdXNoKGwpfXJldHVybiBhfSxnaT0hT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHt2YWx1ZU9mOjF9LFwidmFsdWVPZlwiKSxiaT1zaShmdW5jdGlvbih0LGUpe2lmKGdpfHxhZShlKXx8SHQoZSkpTXQoZSxtaShlKSx0KTtlbHNlIGZvcih2YXIgbiBpbiBlKVZ0KHQsbixlW25dKX0pO2NvbnN0IHdpPVN5bWJvbChcIm9ic2VydmFibGVQcm9wZXJ0aWVzXCIpLHZpPVN5bWJvbChcImJvdW5kT2JzZXJ2YWJsZXNcIiksX2k9U3ltYm9sKFwiYm91bmRQcm9wZXJ0aWVzXCIpLGtpPXtzZXQodCxlKXtpZihIKHQpKXJldHVybiB2b2lkIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+e3RoaXMuc2V0KGUsdFtlXSl9LHRoaXMpO3hpKHRoaXMpO2NvbnN0IG49dGhpc1t3aV07aWYodCBpbiB0aGlzJiYhbi5oYXModCkpdGhyb3cgbmV3IG0uYihcIm9ic2VydmFibGUtc2V0LWNhbm5vdC1vdmVycmlkZTogQ2Fubm90IG92ZXJyaWRlIGFuIGV4aXN0aW5nIHByb3BlcnR5LlwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6KCk9Pm4uZ2V0KHQpLHNldChlKXtjb25zdCBpPW4uZ2V0KHQpO2xldCBvPXRoaXMuZmlyZShcInNldDpcIit0LHQsZSxpKTt2b2lkIDA9PT1vJiYobz1lKSxpPT09byYmbi5oYXModCl8fChuLnNldCh0LG8pLHRoaXMuZmlyZShcImNoYW5nZTpcIit0LHQsbyxpKSl9fSksdGhpc1t0XT1lfSxiaW5kKC4uLnQpe2lmKCF0Lmxlbmd0aHx8IVRpKHQpKXRocm93IG5ldyBtLmIoXCJvYnNlcnZhYmxlLWJpbmQtd3JvbmctcHJvcGVydGllczogQWxsIHByb3BlcnRpZXMgbXVzdCBiZSBzdHJpbmdzLlwiKTtpZihuZXcgU2V0KHQpLnNpemUhPT10Lmxlbmd0aCl0aHJvdyBuZXcgbS5iKFwib2JzZXJ2YWJsZS1iaW5kLWR1cGxpY2F0ZS1wcm9wZXJ0aWVzOiBQcm9wZXJ0aWVzIG11c3QgYmUgdW5pcXVlLlwiKTt4aSh0aGlzKTtjb25zdCBlPXRoaXNbX2ldO3QuZm9yRWFjaCh0PT57aWYoZS5oYXModCkpdGhyb3cgbmV3IG0uYihcIm9ic2VydmFibGUtYmluZC1yZWJpbmQ6IENhbm5vdCBiaW5kIHRoZSBzYW1lIHByb3BlcnR5IG1vcmUgdGhhdCBvbmNlLlwiKX0pO2NvbnN0IG49bmV3IE1hcDtyZXR1cm4gdC5mb3JFYWNoKHQ9Pntjb25zdCBpPXtwcm9wZXJ0eTp0LHRvOltdfTtlLnNldCh0LGkpLG4uc2V0KHQsaSl9KSx7dG86QWksdG9NYW55OkNpLF9vYnNlcnZhYmxlOnRoaXMsX2JpbmRQcm9wZXJ0aWVzOnQsX3RvOltdLF9iaW5kaW5nczpufX0sdW5iaW5kKC4uLnQpe2lmKCEod2kgaW4gdGhpcykpcmV0dXJuO2NvbnN0IGU9dGhpc1tfaV0sbj10aGlzW3ZpXTtpZih0Lmxlbmd0aCl7aWYoIVRpKHQpKXRocm93IG5ldyBtLmIoXCJvYnNlcnZhYmxlLXVuYmluZC13cm9uZy1wcm9wZXJ0aWVzOiBQcm9wZXJ0aWVzIG11c3QgYmUgc3RyaW5ncy5cIik7dC5mb3JFYWNoKHQ9Pntjb25zdCBpPWUuZ2V0KHQpO2lmKCFpKXJldHVybjtsZXQgbyxyLHMsYTtpLnRvLmZvckVhY2godD0+e289dFswXSxyPXRbMV0scz1uLmdldChvKSwoYT1zW3JdKS5kZWxldGUoaSksYS5zaXplfHxkZWxldGUgc1tyXSxPYmplY3Qua2V5cyhzKS5sZW5ndGh8fChuLmRlbGV0ZShvKSx0aGlzLnN0b3BMaXN0ZW5pbmcobyxcImNoYW5nZVwiKSl9KSxlLmRlbGV0ZSh0KX0pfWVsc2Ugbi5mb3JFYWNoKCh0LGUpPT57dGhpcy5zdG9wTGlzdGVuaW5nKGUsXCJjaGFuZ2VcIil9KSxuLmNsZWFyKCksZS5jbGVhcigpfSxkZWNvcmF0ZSh0KXtjb25zdCBlPXRoaXNbdF07aWYoIWUpdGhyb3cgbmV3IG0uYihcIm9ic2VydmFibGVtaXhpbi1jYW5ub3QtZGVjb3JhdGUtdW5kZWZpbmVkOiBDYW5ub3QgZGVjb3JhdGUgYW4gdW5kZWZpbmVkIG1ldGhvZC5cIix7b2JqZWN0OnRoaXMsbWV0aG9kTmFtZTp0fSk7dGhpcy5vbih0LCh0LG4pPT57dC5yZXR1cm49ZS5hcHBseSh0aGlzLG4pfSksdGhpc1t0XT1mdW5jdGlvbiguLi5lKXtyZXR1cm4gdGhpcy5maXJlKHQsZSl9fX07Ymkoa2kseSk7dmFyIHlpPWtpO2Z1bmN0aW9uIHhpKHQpe3dpIGluIHR8fChPYmplY3QuZGVmaW5lUHJvcGVydHkodCx3aSx7dmFsdWU6bmV3IE1hcH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHZpLHt2YWx1ZTpuZXcgTWFwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsX2kse3ZhbHVlOm5ldyBNYXB9KSl9ZnVuY3Rpb24gQWkoLi4udCl7Y29uc3QgZT1mdW5jdGlvbiguLi50KXtpZighdC5sZW5ndGgpdGhyb3cgbmV3IG0uYihcIm9ic2VydmFibGUtYmluZC10by1wYXJzZS1lcnJvcjogSW52YWxpZCBhcmd1bWVudCBzeW50YXggaW4gYHRvKClgLlwiKTtjb25zdCBlPXt0bzpbXX07bGV0IG47XCJmdW5jdGlvblwiPT10eXBlb2YgdFt0Lmxlbmd0aC0xXSYmKGUuY2FsbGJhY2s9dC5wb3AoKSk7cmV0dXJuIHQuZm9yRWFjaCh0PT57aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpbi5wcm9wZXJ0aWVzLnB1c2godCk7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgbS5iKFwib2JzZXJ2YWJsZS1iaW5kLXRvLXBhcnNlLWVycm9yOiBJbnZhbGlkIGFyZ3VtZW50IHN5bnRheCBpbiBgdG8oKWAuXCIpO249e29ic2VydmFibGU6dCxwcm9wZXJ0aWVzOltdfSxlLnRvLnB1c2gobil9fSksZX0oLi4udCksbj1BcnJheS5mcm9tKHRoaXMuX2JpbmRpbmdzLmtleXMoKSksaT1uLmxlbmd0aDtpZighZS5jYWxsYmFjayYmZS50by5sZW5ndGg+MSl0aHJvdyBuZXcgbS5iKFwib2JzZXJ2YWJsZS1iaW5kLXRvLW5vLWNhbGxiYWNrOiBCaW5kaW5nIG11bHRpcGxlIG9ic2VydmFibGVzIG9ubHkgcG9zc2libGUgd2l0aCBjYWxsYmFjay5cIik7aWYoaT4xJiZlLmNhbGxiYWNrKXRocm93IG5ldyBtLmIoXCJvYnNlcnZhYmxlLWJpbmQtdG8tZXh0cmEtY2FsbGJhY2s6IENhbm5vdCBiaW5kIG11bHRpcGxlIHByb3BlcnRpZXMgYW5kIHVzZSBhIGNhbGxiYWNrIGluIG9uZSBiaW5kaW5nLlwiKTtlLnRvLmZvckVhY2godD0+e2lmKHQucHJvcGVydGllcy5sZW5ndGgmJnQucHJvcGVydGllcy5sZW5ndGghPT1pKXRocm93IG5ldyBtLmIoXCJvYnNlcnZhYmxlLWJpbmQtdG8tcHJvcGVydGllcy1sZW5ndGg6IFRoZSBudW1iZXIgb2YgcHJvcGVydGllcyBtdXN0IG1hdGNoLlwiKTt0LnByb3BlcnRpZXMubGVuZ3RofHwodC5wcm9wZXJ0aWVzPXRoaXMuX2JpbmRQcm9wZXJ0aWVzKX0pLHRoaXMuX3RvPWUudG8sZS5jYWxsYmFjayYmKHRoaXMuX2JpbmRpbmdzLmdldChuWzBdKS5jYWxsYmFjaz1lLmNhbGxiYWNrKSxmdW5jdGlvbih0LGUpe2UuZm9yRWFjaChlPT57Y29uc3Qgbj10W3ZpXTtsZXQgaTtuLmdldChlLm9ic2VydmFibGUpfHx0Lmxpc3RlblRvKGUub2JzZXJ2YWJsZSxcImNoYW5nZVwiLChvLHIpPT57KGk9bi5nZXQoZS5vYnNlcnZhYmxlKVtyXSkmJmkuZm9yRWFjaChlPT57U2kodCxlLnByb3BlcnR5KX0pfSl9KX0odGhpcy5fb2JzZXJ2YWJsZSx0aGlzLl90byksZnVuY3Rpb24odCl7bGV0IGU7dC5fYmluZGluZ3MuZm9yRWFjaCgobixpKT0+e3QuX3RvLmZvckVhY2gobz0+e2U9by5wcm9wZXJ0aWVzW24uY2FsbGJhY2s/MDp0Ll9iaW5kUHJvcGVydGllcy5pbmRleE9mKGkpXSxuLnRvLnB1c2goW28ub2JzZXJ2YWJsZSxlXSksZnVuY3Rpb24odCxlLG4saSl7Y29uc3Qgbz10W3ZpXSxyPW8uZ2V0KG4pLHM9cnx8e307c1tpXXx8KHNbaV09bmV3IFNldCk7c1tpXS5hZGQoZSkscnx8by5zZXQobixzKX0odC5fb2JzZXJ2YWJsZSxuLG8ub2JzZXJ2YWJsZSxlKX0pfSl9KHRoaXMpLHRoaXMuX2JpbmRQcm9wZXJ0aWVzLmZvckVhY2godD0+e1NpKHRoaXMuX29ic2VydmFibGUsdCl9KX1mdW5jdGlvbiBDaSh0LGUsbil7aWYodGhpcy5fYmluZGluZ3Muc2l6ZT4xKXRocm93IG5ldyBtLmIoXCJvYnNlcnZhYmxlLWJpbmQtdG8tbWFueS1ub3Qtb25lLWJpbmRpbmc6IENhbm5vdCBiaW5kIG11bHRpcGxlIHByb3BlcnRpZXMgd2l0aCB0b01hbnkoKS5cIik7dGhpcy50byguLi5mdW5jdGlvbih0LGUpe2NvbnN0IG49dC5tYXAodD0+W3QsZV0pO3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLG4pfSh0LGUpLG4pfWZ1bmN0aW9uIFRpKHQpe3JldHVybiB0LmV2ZXJ5KHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0KX1mdW5jdGlvbiBTaSh0LGUpe2NvbnN0IG49dFtfaV0uZ2V0KGUpO2xldCBpO2k9bi5jYWxsYmFjaz9uLmNhbGxiYWNrLmFwcGx5KHQsbi50by5tYXAodD0+dFswXVt0WzFdXSkpOihpPW4udG9bMF0pWzBdW2lbMV1dLHQuaGFzT3duUHJvcGVydHkoZSk/dFtlXT1pOnQuc2V0KGUsaSl9Y29uc3QgRWk9U3ltYm9sKFwiZG9jdW1lbnRcIik7Y2xhc3MgUGkgZXh0ZW5kcyBMbntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlLG4pLHRoaXMuc2V0KFwiaXNSZWFkT25seVwiLCExKSx0aGlzLnNldChcImlzRm9jdXNlZFwiLCExKX1nZXQgZG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5nZXRDdXN0b21Qcm9wZXJ0eShFaSl9c2V0IF9kb2N1bWVudCh0KXtpZih0aGlzLmdldEN1c3RvbVByb3BlcnR5KEVpKSl0aHJvdyBuZXcgbS5iKFwidmlldy1lZGl0YWJsZWVsZW1lbnQtZG9jdW1lbnQtYWxyZWFkeS1zZXQ6IFZpZXcgZG9jdW1lbnQgaXMgYWxyZWFkeSBzZXQuXCIpO3RoaXMuX3NldEN1c3RvbVByb3BlcnR5KEVpLHQpLHRoaXMuYmluZChcImlzUmVhZE9ubHlcIikudG8odCksdGhpcy5iaW5kKFwiaXNGb2N1c2VkXCIpLnRvKHQsXCJpc0ZvY3VzZWRcIixlPT5lJiZ0LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ9PXRoaXMpLHRoaXMubGlzdGVuVG8odC5zZWxlY3Rpb24sXCJjaGFuZ2VcIiwoKT0+e3RoaXMuaXNGb2N1c2VkPXQuaXNGb2N1c2VkJiZ0LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ9PXRoaXN9KX19UChQaSx5aSk7Y29uc3QgT2k9U3ltYm9sKFwicm9vdE5hbWVcIik7Y2xhc3MgUmkgZXh0ZW5kcyBQaXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnJvb3ROYW1lPVwibWFpblwifWlzKHQsZT1udWxsKXtyZXR1cm4gZT9cInJvb3RFbGVtZW50XCI9PXQmJmU9PXRoaXMubmFtZXx8c3VwZXIuaXModCxlKTpcInJvb3RFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfWdldCByb290TmFtZSgpe3JldHVybiB0aGlzLmdldEN1c3RvbVByb3BlcnR5KE9pKX1zZXQgcm9vdE5hbWUodCl7dGhpcy5fc2V0Q3VzdG9tUHJvcGVydHkoT2ksdCl9c2V0IF9uYW1lKHQpe3RoaXMubmFtZT10fX1jbGFzcyBJaXtjb25zdHJ1Y3Rvcih0PXt9KXtpZighdC5ib3VuZGFyaWVzJiYhdC5zdGFydFBvc2l0aW9uKXRocm93IG5ldyBtLmIoXCJ2aWV3LXRyZWUtd2Fsa2VyLW5vLXN0YXJ0LXBvc2l0aW9uOiBOZWl0aGVyIGJvdW5kYXJpZXMgbm9yIHN0YXJ0aW5nIHBvc2l0aW9uIGhhdmUgYmVlbiBkZWZpbmVkLlwiKTtpZih0LmRpcmVjdGlvbiYmXCJmb3J3YXJkXCIhPXQuZGlyZWN0aW9uJiZcImJhY2t3YXJkXCIhPXQuZGlyZWN0aW9uKXRocm93IG5ldyBtLmIoXCJ2aWV3LXRyZWUtd2Fsa2VyLXVua25vd24tZGlyZWN0aW9uOiBPbmx5IGBiYWNrd2FyZGAgYW5kIGBmb3J3YXJkYCBkaXJlY3Rpb24gYWxsb3dlZC5cIix7ZGlyZWN0aW9uOnQuZGlyZWN0aW9ufSk7dGhpcy5ib3VuZGFyaWVzPXQuYm91bmRhcmllc3x8bnVsbCx0LnN0YXJ0UG9zaXRpb24/dGhpcy5wb3NpdGlvbj1WaS5jcmVhdGVGcm9tUG9zaXRpb24odC5zdGFydFBvc2l0aW9uKTp0aGlzLnBvc2l0aW9uPVZpLmNyZWF0ZUZyb21Qb3NpdGlvbih0LmJvdW5kYXJpZXNbXCJiYWNrd2FyZFwiPT10LmRpcmVjdGlvbj9cImVuZFwiOlwic3RhcnRcIl0pLHRoaXMuZGlyZWN0aW9uPXQuZGlyZWN0aW9ufHxcImZvcndhcmRcIix0aGlzLnNpbmdsZUNoYXJhY3RlcnM9ISF0LnNpbmdsZUNoYXJhY3RlcnMsdGhpcy5zaGFsbG93PSEhdC5zaGFsbG93LHRoaXMuaWdub3JlRWxlbWVudEVuZD0hIXQuaWdub3JlRWxlbWVudEVuZCx0aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50PXRoaXMuYm91bmRhcmllcz90aGlzLmJvdW5kYXJpZXMuc3RhcnQucGFyZW50Om51bGwsdGhpcy5fYm91bmRhcnlFbmRQYXJlbnQ9dGhpcy5ib3VuZGFyaWVzP3RoaXMuYm91bmRhcmllcy5lbmQucGFyZW50Om51bGx9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpc31za2lwKHQpe2xldCBlLG4saTtkb3tpPXRoaXMucG9zaXRpb24sKHtkb25lOmUsdmFsdWU6bn09dGhpcy5uZXh0KCkpfXdoaWxlKCFlJiZ0KG4pKTtlfHwodGhpcy5wb3NpdGlvbj1pKX1uZXh0KCl7cmV0dXJuXCJmb3J3YXJkXCI9PXRoaXMuZGlyZWN0aW9uP3RoaXMuX25leHQoKTp0aGlzLl9wcmV2aW91cygpfV9uZXh0KCl7bGV0IHQ9VmkuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pO2NvbnN0IGU9dGhpcy5wb3NpdGlvbixuPXQucGFyZW50O2lmKG51bGw9PT1uLnBhcmVudCYmdC5vZmZzZXQ9PT1uLmNoaWxkQ291bnQpcmV0dXJue2RvbmU6ITB9O2lmKG49PT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudCYmdC5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0KXJldHVybntkb25lOiEwfTtsZXQgaTtpZihuIGluc3RhbmNlb2YgT24pe2lmKHQuaXNBdEVuZClyZXR1cm4gdGhpcy5wb3NpdGlvbj1WaS5jcmVhdGVBZnRlcihuKSx0aGlzLl9uZXh0KCk7aT1uLmRhdGFbdC5vZmZzZXRdfWVsc2UgaT1uLmdldENoaWxkKHQub2Zmc2V0KTtpZihpIGluc3RhbmNlb2YgTm4pcmV0dXJuIHRoaXMuc2hhbGxvdz90Lm9mZnNldCsrOnQ9bmV3IFZpKGksMCksdGhpcy5wb3NpdGlvbj10LHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwiZWxlbWVudFN0YXJ0XCIsaSxlLHQsMSk7aWYoaSBpbnN0YW5jZW9mIE9uKXtpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpcmV0dXJuIHQ9bmV3IFZpKGksMCksdGhpcy5wb3NpdGlvbj10LHRoaXMuX25leHQoKTt7bGV0IG4sbz1pLmRhdGEubGVuZ3RoO3JldHVybiBpPT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudD8obz10aGlzLmJvdW5kYXJpZXMuZW5kLm9mZnNldCxuPW5ldyBSbihpLDAsbyksdD1WaS5jcmVhdGVBZnRlcihuKSk6KG49bmV3IFJuKGksMCxpLmRhdGEubGVuZ3RoKSx0Lm9mZnNldCsrKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJ0ZXh0XCIsbixlLHQsbyl9fWlmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXtsZXQgaTtpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpaT0xO2Vsc2V7aT0obj09PXRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50P3RoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0Om4uZGF0YS5sZW5ndGgpLXQub2Zmc2V0fWNvbnN0IG89bmV3IFJuKG4sdC5vZmZzZXQsaSk7cmV0dXJuIHQub2Zmc2V0Kz1pLHRoaXMucG9zaXRpb249dCx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcInRleHRcIixvLGUsdCxpKX1yZXR1cm4gdD1WaS5jcmVhdGVBZnRlcihuKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5pZ25vcmVFbGVtZW50RW5kP3RoaXMuX25leHQoKTp0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcImVsZW1lbnRFbmRcIixuLGUsdCl9X3ByZXZpb3VzKCl7bGV0IHQ9VmkuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pO2NvbnN0IGU9dGhpcy5wb3NpdGlvbixuPXQucGFyZW50O2lmKG51bGw9PT1uLnBhcmVudCYmMD09PXQub2Zmc2V0KXJldHVybntkb25lOiEwfTtpZihuPT10aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50JiZ0Lm9mZnNldD09dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldClyZXR1cm57ZG9uZTohMH07bGV0IGk7aWYobiBpbnN0YW5jZW9mIE9uKXtpZih0LmlzQXRTdGFydClyZXR1cm4gdGhpcy5wb3NpdGlvbj1WaS5jcmVhdGVCZWZvcmUobiksdGhpcy5fcHJldmlvdXMoKTtpPW4uZGF0YVt0Lm9mZnNldC0xXX1lbHNlIGk9bi5nZXRDaGlsZCh0Lm9mZnNldC0xKTtpZihpIGluc3RhbmNlb2YgTm4pcmV0dXJuIHRoaXMuc2hhbGxvdz8odC5vZmZzZXQtLSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50U3RhcnRcIixpLGUsdCwxKSk6KHQ9bmV3IFZpKGksaS5jaGlsZENvdW50KSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5pZ25vcmVFbGVtZW50RW5kP3RoaXMuX3ByZXZpb3VzKCk6dGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50RW5kXCIsaSxlLHQpKTtpZihpIGluc3RhbmNlb2YgT24pe2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylyZXR1cm4gdD1uZXcgVmkoaSxpLmRhdGEubGVuZ3RoKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fcHJldmlvdXMoKTt7bGV0IG4sbz1pLmRhdGEubGVuZ3RoO2lmKGk9PXRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQpe2NvbnN0IGU9dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldDtvPShuPW5ldyBSbihpLGUsaS5kYXRhLmxlbmd0aC1lKSkuZGF0YS5sZW5ndGgsdD1WaS5jcmVhdGVCZWZvcmUobil9ZWxzZSBuPW5ldyBSbihpLDAsaS5kYXRhLmxlbmd0aCksdC5vZmZzZXQtLTtyZXR1cm4gdGhpcy5wb3NpdGlvbj10LHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwidGV4dFwiLG4sZSx0LG8pfX1pZihcInN0cmluZ1wiPT10eXBlb2YgaSl7bGV0IGk7aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKWk9MTtlbHNle2NvbnN0IGU9bj09PXRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ/dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldDowO2k9dC5vZmZzZXQtZX10Lm9mZnNldC09aTtjb25zdCBvPW5ldyBSbihuLHQub2Zmc2V0LGkpO3JldHVybiB0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJ0ZXh0XCIsbyxlLHQsaSl9cmV0dXJuIHQ9VmkuY3JlYXRlQmVmb3JlKG4pLHRoaXMucG9zaXRpb249dCx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcImVsZW1lbnRTdGFydFwiLG4sZSx0LDEpfV9mb3JtYXRSZXR1cm5WYWx1ZSh0LGUsbixpLG8pe3JldHVybiBlIGluc3RhbmNlb2YgUm4mJihlLm9mZnNldEluVGV4dCtlLmRhdGEubGVuZ3RoPT1lLnRleHROb2RlLmRhdGEubGVuZ3RoJiYoXCJmb3J3YXJkXCIhPXRoaXMuZGlyZWN0aW9ufHx0aGlzLmJvdW5kYXJpZXMmJnRoaXMuYm91bmRhcmllcy5lbmQuaXNFcXVhbCh0aGlzLnBvc2l0aW9uKT9uPVZpLmNyZWF0ZUFmdGVyKGUudGV4dE5vZGUpOihpPVZpLmNyZWF0ZUFmdGVyKGUudGV4dE5vZGUpLHRoaXMucG9zaXRpb249aSkpLDA9PT1lLm9mZnNldEluVGV4dCYmKFwiYmFja3dhcmRcIiE9dGhpcy5kaXJlY3Rpb258fHRoaXMuYm91bmRhcmllcyYmdGhpcy5ib3VuZGFyaWVzLnN0YXJ0LmlzRXF1YWwodGhpcy5wb3NpdGlvbik/bj1WaS5jcmVhdGVCZWZvcmUoZS50ZXh0Tm9kZSk6KGk9VmkuY3JlYXRlQmVmb3JlKGUudGV4dE5vZGUpLHRoaXMucG9zaXRpb249aSkpKSx7ZG9uZTohMSx2YWx1ZTp7dHlwZTp0LGl0ZW06ZSxwcmV2aW91c1Bvc2l0aW9uOm4sbmV4dFBvc2l0aW9uOmksbGVuZ3RoOm99fX19Y2xhc3MgVml7Y29uc3RydWN0b3IodCxlKXt0aGlzLnBhcmVudD10LHRoaXMub2Zmc2V0PWV9Z2V0IG5vZGVBZnRlcigpe3JldHVybiB0aGlzLnBhcmVudC5pcyhcInRleHRcIik/bnVsbDp0aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLm9mZnNldCl8fG51bGx9Z2V0IG5vZGVCZWZvcmUoKXtyZXR1cm4gdGhpcy5wYXJlbnQuaXMoXCJ0ZXh0XCIpP251bGw6dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5vZmZzZXQtMSl8fG51bGx9Z2V0IGlzQXRTdGFydCgpe3JldHVybiAwPT09dGhpcy5vZmZzZXR9Z2V0IGlzQXRFbmQoKXtjb25zdCB0PXRoaXMucGFyZW50LmlzKFwidGV4dFwiKT90aGlzLnBhcmVudC5kYXRhLmxlbmd0aDp0aGlzLnBhcmVudC5jaGlsZENvdW50O3JldHVybiB0aGlzLm9mZnNldD09PXR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5wYXJlbnQucm9vdH1nZXQgZWRpdGFibGVFbGVtZW50KCl7bGV0IHQ9dGhpcy5wYXJlbnQ7Zm9yKDshKHQgaW5zdGFuY2VvZiBQaSk7KXtpZighdC5wYXJlbnQpcmV0dXJuIG51bGw7dD10LnBhcmVudH1yZXR1cm4gdH1nZXRTaGlmdGVkQnkodCl7Y29uc3QgZT1WaS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyksbj1lLm9mZnNldCt0O3JldHVybiBlLm9mZnNldD1uPDA/MDpuLGV9Z2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odCxlPXt9KXtlLnN0YXJ0UG9zaXRpb249dGhpcztjb25zdCBuPW5ldyBJaShlKTtyZXR1cm4gbi5za2lwKHQpLG4ucG9zaXRpb259Z2V0QW5jZXN0b3JzKCl7cmV0dXJuIHRoaXMucGFyZW50LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT9bdGhpcy5wYXJlbnRdOnRoaXMucGFyZW50LmdldEFuY2VzdG9ycyh7aW5jbHVkZVNlbGY6ITB9KX1nZXRDb21tb25BbmNlc3Rvcih0KXtjb25zdCBlPXRoaXMuZ2V0QW5jZXN0b3JzKCksbj10LmdldEFuY2VzdG9ycygpO2xldCBpPTA7Zm9yKDtlW2ldPT1uW2ldJiZlW2ldOylpKys7cmV0dXJuIDA9PT1pP251bGw6ZVtpLTFdfWlzRXF1YWwodCl7cmV0dXJuIHRoaXMucGFyZW50PT10LnBhcmVudCYmdGhpcy5vZmZzZXQ9PXQub2Zmc2V0fWlzQmVmb3JlKHQpe3JldHVyblwiYmVmb3JlXCI9PXRoaXMuY29tcGFyZVdpdGgodCl9aXNBZnRlcih0KXtyZXR1cm5cImFmdGVyXCI9PXRoaXMuY29tcGFyZVdpdGgodCl9Y29tcGFyZVdpdGgodCl7aWYodGhpcy5yb290IT09dC5yb290KXJldHVyblwiZGlmZmVyZW50XCI7aWYodGhpcy5pc0VxdWFsKHQpKXJldHVyblwic2FtZVwiO2NvbnN0IGU9dGhpcy5wYXJlbnQuaXMoXCJub2RlXCIpP3RoaXMucGFyZW50LmdldFBhdGgoKTpbXSxuPXQucGFyZW50LmlzKFwibm9kZVwiKT90LnBhcmVudC5nZXRQYXRoKCk6W107ZS5wdXNoKHRoaXMub2Zmc2V0KSxuLnB1c2godC5vZmZzZXQpO2NvbnN0IGk9RW4oZSxuKTtzd2l0Y2goaSl7Y2FzZVwicHJlZml4XCI6cmV0dXJuXCJiZWZvcmVcIjtjYXNlXCJleHRlbnNpb25cIjpyZXR1cm5cImFmdGVyXCI7ZGVmYXVsdDpyZXR1cm4gZVtpXTxuW2ldP1wiYmVmb3JlXCI6XCJhZnRlclwifX1zdGF0aWMgY3JlYXRlQXQodCxlKXtpZih0IGluc3RhbmNlb2YgVmkpcmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpO3tjb25zdCBuPXQ7aWYoXCJlbmRcIj09ZSllPW4uaXMoXCJ0ZXh0XCIpP24uZGF0YS5sZW5ndGg6bi5jaGlsZENvdW50O2Vsc2V7aWYoXCJiZWZvcmVcIj09ZSlyZXR1cm4gdGhpcy5jcmVhdGVCZWZvcmUobik7aWYoXCJhZnRlclwiPT1lKXJldHVybiB0aGlzLmNyZWF0ZUFmdGVyKG4pO2V8fChlPTApfXJldHVybiBuZXcgVmkobixlKX19c3RhdGljIGNyZWF0ZUFmdGVyKHQpe2lmKHQuaXMoXCJ0ZXh0UHJveHlcIikpcmV0dXJuIG5ldyBWaSh0LnRleHROb2RlLHQub2Zmc2V0SW5UZXh0K3QuZGF0YS5sZW5ndGgpO2lmKCF0LnBhcmVudCl0aHJvdyBuZXcgbS5iKFwidmlldy1wb3NpdGlvbi1hZnRlci1yb290OiBZb3UgY2FuIG5vdCBtYWtlIHBvc2l0aW9uIGFmdGVyIHJvb3QuXCIse3Jvb3Q6dH0pO3JldHVybiBuZXcgVmkodC5wYXJlbnQsdC5pbmRleCsxKX1zdGF0aWMgY3JlYXRlQmVmb3JlKHQpe2lmKHQuaXMoXCJ0ZXh0UHJveHlcIikpcmV0dXJuIG5ldyBWaSh0LnRleHROb2RlLHQub2Zmc2V0SW5UZXh0KTtpZighdC5wYXJlbnQpdGhyb3cgbmV3IG0uYihcInZpZXctcG9zaXRpb24tYmVmb3JlLXJvb3Q6IFlvdSBjYW4gbm90IG1ha2UgcG9zaXRpb24gYmVmb3JlIHJvb3QuXCIse3Jvb3Q6dH0pO3JldHVybiBuZXcgVmkodC5wYXJlbnQsdC5pbmRleCl9c3RhdGljIGNyZWF0ZUZyb21Qb3NpdGlvbih0KXtyZXR1cm4gbmV3IHRoaXModC5wYXJlbnQsdC5vZmZzZXQpfX1jbGFzcyBNaXtjb25zdHJ1Y3Rvcih0LGU9bnVsbCl7dGhpcy5zdGFydD1WaS5jcmVhdGVGcm9tUG9zaXRpb24odCksdGhpcy5lbmQ9ZT9WaS5jcmVhdGVGcm9tUG9zaXRpb24oZSk6VmkuY3JlYXRlRnJvbVBvc2l0aW9uKHQpfSpbU3ltYm9sLml0ZXJhdG9yXSgpe3lpZWxkKm5ldyBJaSh7Ym91bmRhcmllczp0aGlzLGlnbm9yZUVsZW1lbnRFbmQ6ITB9KX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5zdGFydC5pc0VxdWFsKHRoaXMuZW5kKX1nZXQgaXNGbGF0KCl7cmV0dXJuIHRoaXMuc3RhcnQucGFyZW50PT09dGhpcy5lbmQucGFyZW50fWdldCByb290KCl7cmV0dXJuIHRoaXMuc3RhcnQucm9vdH1nZXRFbmxhcmdlZCgpe2xldCB0PXRoaXMuc3RhcnQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oRmkse2RpcmVjdGlvbjpcImJhY2t3YXJkXCJ9KSxlPXRoaXMuZW5kLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKEZpKTtyZXR1cm4gdC5wYXJlbnQuaXMoXCJ0ZXh0XCIpJiZ0LmlzQXRTdGFydCYmKHQ9VmkuY3JlYXRlQmVmb3JlKHQucGFyZW50KSksZS5wYXJlbnQuaXMoXCJ0ZXh0XCIpJiZlLmlzQXRFbmQmJihlPVZpLmNyZWF0ZUFmdGVyKGUucGFyZW50KSksbmV3IE1pKHQsZSl9Z2V0VHJpbW1lZCgpe2xldCB0PXRoaXMuc3RhcnQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oRmkpO2lmKHQuaXNBZnRlcih0aGlzLmVuZCl8fHQuaXNFcXVhbCh0aGlzLmVuZCkpcmV0dXJuIG5ldyBNaSh0LHQpO2xldCBlPXRoaXMuZW5kLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKEZpLHtkaXJlY3Rpb246XCJiYWNrd2FyZFwifSk7Y29uc3Qgbj10Lm5vZGVBZnRlcixpPWUubm9kZUJlZm9yZTtyZXR1cm4gbiYmbi5pcyhcInRleHRcIikmJih0PW5ldyBWaShuLDApKSxpJiZpLmlzKFwidGV4dFwiKSYmKGU9bmV3IFZpKGksaS5kYXRhLmxlbmd0aCkpLG5ldyBNaSh0LGUpfWlzRXF1YWwodCl7cmV0dXJuIHRoaXM9PXR8fHRoaXMuc3RhcnQuaXNFcXVhbCh0LnN0YXJ0KSYmdGhpcy5lbmQuaXNFcXVhbCh0LmVuZCl9Y29udGFpbnNQb3NpdGlvbih0KXtyZXR1cm4gdC5pc0FmdGVyKHRoaXMuc3RhcnQpJiZ0LmlzQmVmb3JlKHRoaXMuZW5kKX1jb250YWluc1JhbmdlKHQsZT0hMSl7dC5pc0NvbGxhcHNlZCYmKGU9ITEpO2NvbnN0IG49dGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpfHxlJiZ0aGlzLnN0YXJ0LmlzRXF1YWwodC5zdGFydCksaT10aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpfHxlJiZ0aGlzLmVuZC5pc0VxdWFsKHQuZW5kKTtyZXR1cm4gbiYmaX1nZXREaWZmZXJlbmNlKHQpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMuaXNJbnRlcnNlY3RpbmcodCk/KHRoaXMuY29udGFpbnNQb3NpdGlvbih0LnN0YXJ0KSYmZS5wdXNoKG5ldyBNaSh0aGlzLnN0YXJ0LHQuc3RhcnQpKSx0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpJiZlLnB1c2gobmV3IE1pKHQuZW5kLHRoaXMuZW5kKSkpOmUucHVzaChNaS5jcmVhdGVGcm9tUmFuZ2UodGhpcykpLGV9Z2V0SW50ZXJzZWN0aW9uKHQpe2lmKHRoaXMuaXNJbnRlcnNlY3RpbmcodCkpe2xldCBlPXRoaXMuc3RhcnQsbj10aGlzLmVuZDtyZXR1cm4gdGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpJiYoZT10LnN0YXJ0KSx0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpJiYobj10LmVuZCksbmV3IE1pKGUsbil9cmV0dXJuIG51bGx9Z2V0V2Fsa2VyKHQ9e30pe3JldHVybiB0LmJvdW5kYXJpZXM9dGhpcyxuZXcgSWkodCl9Z2V0Q29tbW9uQW5jZXN0b3IoKXtyZXR1cm4gdGhpcy5zdGFydC5nZXRDb21tb25BbmNlc3Rvcih0aGlzLmVuZCl9KmdldEl0ZW1zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzLHQuaWdub3JlRWxlbWVudEVuZD0hMDtjb25zdCBlPW5ldyBJaSh0KTtmb3IoY29uc3QgdCBvZiBlKXlpZWxkIHQuaXRlbX0qZ2V0UG9zaXRpb25zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzO2NvbnN0IGU9bmV3IElpKHQpO3lpZWxkIGUucG9zaXRpb247Zm9yKGNvbnN0IHQgb2YgZSl5aWVsZCB0Lm5leHRQb3NpdGlvbn1pc0ludGVyc2VjdGluZyh0KXtyZXR1cm4gdGhpcy5zdGFydC5pc0JlZm9yZSh0LmVuZCkmJnRoaXMuZW5kLmlzQWZ0ZXIodC5zdGFydCl9c3RhdGljIGNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LGUsbixpKXtyZXR1cm4gbmV3IHRoaXMobmV3IFZpKHQsZSksbmV3IFZpKG4saSkpfXN0YXRpYyBjcmVhdGVGcm9tUmFuZ2UodCl7cmV0dXJuIG5ldyB0aGlzKHQuc3RhcnQsdC5lbmQpfXN0YXRpYyBjcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LGUpe2NvbnN0IG49dCxpPXQuZ2V0U2hpZnRlZEJ5KGUpO3JldHVybiBlPjA/bmV3IHRoaXMobixpKTpuZXcgdGhpcyhpLG4pfXN0YXRpYyBjcmVhdGVJbih0KXtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCwwLHQsdC5jaGlsZENvdW50KX1zdGF0aWMgY3JlYXRlT24odCl7Y29uc3QgZT10LmlzKFwidGV4dFByb3h5XCIpP3Qub2Zmc2V0U2l6ZToxO3JldHVybiB0aGlzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KFZpLmNyZWF0ZUJlZm9yZSh0KSxlKX1zdGF0aWMgY3JlYXRlQ29sbGFwc2VkQXQodCxlKXtjb25zdCBuPVZpLmNyZWF0ZUF0KHQsZSksaT1WaS5jcmVhdGVGcm9tUG9zaXRpb24obik7cmV0dXJuIG5ldyBNaShuLGkpfX1mdW5jdGlvbiBGaSh0KXtyZXR1cm4hKCF0Lml0ZW0uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiYhdC5pdGVtLmlzKFwidWlFbGVtZW50XCIpKX1mdW5jdGlvbiBOaSh0KXtsZXQgZT0wO2Zvcihjb25zdCBuIG9mIHQpZSsrO3JldHVybiBlfWNsYXNzIERpe2NvbnN0cnVjdG9yKHQ9bnVsbCxlLG4pe3RoaXMuX3Jhbmdlcz1bXSx0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hMSx0aGlzLl9pc0Zha2U9ITEsdGhpcy5fZmFrZVNlbGVjdGlvbkxhYmVsPVwiXCIsdGhpcy5zZXRUbyh0LGUsbil9Z2V0IGlzRmFrZSgpe3JldHVybiB0aGlzLl9pc0Zha2V9Z2V0IGZha2VTZWxlY3Rpb25MYWJlbCgpe3JldHVybiB0aGlzLl9mYWtlU2VsZWN0aW9uTGFiZWx9Z2V0IGFuY2hvcigpe2lmKCF0aGlzLl9yYW5nZXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV0sZT10aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LmVuZDp0LnN0YXJ0O3JldHVybiBWaS5jcmVhdGVGcm9tUG9zaXRpb24oZSl9Z2V0IGZvY3VzKCl7aWYoIXRoaXMuX3Jhbmdlcy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl9yYW5nZXNbdGhpcy5fcmFuZ2VzLmxlbmd0aC0xXSxlPXRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkP3Quc3RhcnQ6dC5lbmQ7cmV0dXJuIFZpLmNyZWF0ZUZyb21Qb3NpdGlvbihlKX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gMT09PXRoaXMucmFuZ2VDb3VudCYmdGhpcy5fcmFuZ2VzWzBdLmlzQ29sbGFwc2VkfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3Jhbmdlcy5sZW5ndGh9Z2V0IGlzQmFja3dhcmQoKXtyZXR1cm4hdGhpcy5pc0NvbGxhcHNlZCYmdGhpcy5fbGFzdFJhbmdlQmFja3dhcmR9Z2V0IGVkaXRhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLmFuY2hvcj90aGlzLmFuY2hvci5lZGl0YWJsZUVsZW1lbnQ6bnVsbH0qZ2V0UmFuZ2VzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmFuZ2VzKXlpZWxkIE1pLmNyZWF0ZUZyb21SYW5nZSh0KX1nZXRGaXJzdFJhbmdlKCl7bGV0IHQ9bnVsbDtmb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpdCYmIWUuc3RhcnQuaXNCZWZvcmUodC5zdGFydCl8fCh0PWUpO3JldHVybiB0P01pLmNyZWF0ZUZyb21SYW5nZSh0KTpudWxsfWdldExhc3RSYW5nZSgpe2xldCB0PW51bGw7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXQmJiFlLmVuZC5pc0FmdGVyKHQuZW5kKXx8KHQ9ZSk7cmV0dXJuIHQ/TWkuY3JlYXRlRnJvbVJhbmdlKHQpOm51bGx9Z2V0Rmlyc3RQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFJhbmdlKCk7cmV0dXJuIHQ/VmkuY3JlYXRlRnJvbVBvc2l0aW9uKHQuc3RhcnQpOm51bGx9Z2V0TGFzdFBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLmdldExhc3RSYW5nZSgpO3JldHVybiB0P1ZpLmNyZWF0ZUZyb21Qb3NpdGlvbih0LmVuZCk6bnVsbH1pc0VxdWFsKHQpe2lmKHRoaXMuaXNGYWtlIT10LmlzRmFrZSlyZXR1cm4hMTtpZih0aGlzLmlzRmFrZSYmdGhpcy5mYWtlU2VsZWN0aW9uTGFiZWwhPXQuZmFrZVNlbGVjdGlvbkxhYmVsKXJldHVybiExO2lmKHRoaXMucmFuZ2VDb3VudCE9dC5yYW5nZUNvdW50KXJldHVybiExO2lmKDA9PT10aGlzLnJhbmdlQ291bnQpcmV0dXJuITA7aWYoIXRoaXMuYW5jaG9yLmlzRXF1YWwodC5hbmNob3IpfHwhdGhpcy5mb2N1cy5pc0VxdWFsKHQuZm9jdXMpKXJldHVybiExO2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl7bGV0IG49ITE7Zm9yKGNvbnN0IGkgb2YgdC5fcmFuZ2VzKWlmKGUuaXNFcXVhbChpKSl7bj0hMDticmVha31pZighbilyZXR1cm4hMX1yZXR1cm4hMH1pc1NpbWlsYXIodCl7aWYodGhpcy5pc0JhY2t3YXJkIT10LmlzQmFja3dhcmQpcmV0dXJuITE7Y29uc3QgZT1OaSh0aGlzLmdldFJhbmdlcygpKTtpZihlIT1OaSh0LmdldFJhbmdlcygpKSlyZXR1cm4hMTtpZigwPT1lKXJldHVybiEwO2ZvcihsZXQgZSBvZiB0aGlzLmdldFJhbmdlcygpKXtlPWUuZ2V0VHJpbW1lZCgpO2xldCBuPSExO2ZvcihsZXQgaSBvZiB0LmdldFJhbmdlcygpKWlmKGk9aS5nZXRUcmltbWVkKCksZS5zdGFydC5pc0VxdWFsKGkuc3RhcnQpJiZlLmVuZC5pc0VxdWFsKGkuZW5kKSl7bj0hMDticmVha31pZighbilyZXR1cm4hMX1yZXR1cm4hMH1nZXRTZWxlY3RlZEVsZW1lbnQoKXtpZigxIT09dGhpcy5yYW5nZUNvdW50KXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFJhbmdlKCksZT10LnN0YXJ0Lm5vZGVBZnRlcixuPXQuZW5kLm5vZGVCZWZvcmU7cmV0dXJuIGUgaW5zdGFuY2VvZiBObiYmZT09bj9lOm51bGx9c2V0VG8odCxlLG4pe2lmKG51bGw9PT10KXRoaXMuX3NldFJhbmdlcyhbXSksdGhpcy5fc2V0RmFrZU9wdGlvbnMoZSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgRGl8fHQgaW5zdGFuY2VvZiBCaSl0aGlzLl9zZXRSYW5nZXModC5nZXRSYW5nZXMoKSx0LmlzQmFja3dhcmQpLHRoaXMuX3NldEZha2VPcHRpb25zKHtmYWtlOnQuaXNGYWtlLGxhYmVsOnQuZmFrZVNlbGVjdGlvbkxhYmVsfSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgTWkpdGhpcy5fc2V0UmFuZ2VzKFt0XSxlJiZlLmJhY2t3YXJkKSx0aGlzLl9zZXRGYWtlT3B0aW9ucyhlKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBWaSl0aGlzLl9zZXRSYW5nZXMoW25ldyBNaSh0KV0pLHRoaXMuX3NldEZha2VPcHRpb25zKGUpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIFBuKXtjb25zdCBpPSEhbiYmISFuLmJhY2t3YXJkO2xldCBvO2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IG0uYihcInZpZXctc2VsZWN0aW9uLXNldFRvLXJlcXVpcmVkLXNlY29uZC1wYXJhbWV0ZXI6IHNlbGVjdGlvbi5zZXRUbyByZXF1aXJlcyB0aGUgc2Vjb25kIHBhcmFtZXRlciB3aGVuIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBub2RlLlwiKTtvPVwiaW5cIj09ZT9NaS5jcmVhdGVJbih0KTpcIm9uXCI9PWU/TWkuY3JlYXRlT24odCk6TWkuY3JlYXRlQ29sbGFwc2VkQXQodCxlKSx0aGlzLl9zZXRSYW5nZXMoW29dLGkpLHRoaXMuX3NldEZha2VPcHRpb25zKG4pfWVsc2V7aWYoIVZuKHQpKXRocm93IG5ldyBtLmIoXCJ2aWV3LXNlbGVjdGlvbi1zZXRUby1ub3Qtc2VsZWN0YWJsZTogQ2Fubm90IHNldCBzZWxlY3Rpb24gdG8gZ2l2ZW4gcGxhY2UuXCIpO3RoaXMuX3NldFJhbmdlcyh0LGUmJmUuYmFja3dhcmQpLHRoaXMuX3NldEZha2VPcHRpb25zKGUpfXRoaXMuZmlyZShcImNoYW5nZVwiKX1zZXRGb2N1cyh0LGUpe2lmKG51bGw9PT10aGlzLmFuY2hvcil0aHJvdyBuZXcgbS5iKFwidmlldy1zZWxlY3Rpb24tc2V0Rm9jdXMtbm8tcmFuZ2VzOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiBmb2N1cyBpZiB0aGVyZSBhcmUgbm8gcmFuZ2VzIGluIHNlbGVjdGlvbi5cIik7Y29uc3Qgbj1WaS5jcmVhdGVBdCh0LGUpO2lmKFwic2FtZVwiPT1uLmNvbXBhcmVXaXRoKHRoaXMuZm9jdXMpKXJldHVybjtjb25zdCBpPXRoaXMuYW5jaG9yO3RoaXMuX3Jhbmdlcy5wb3AoKSxcImJlZm9yZVwiPT1uLmNvbXBhcmVXaXRoKGkpP3RoaXMuX2FkZFJhbmdlKG5ldyBNaShuLGkpLCEwKTp0aGlzLl9hZGRSYW5nZShuZXcgTWkoaSxuKSksdGhpcy5maXJlKFwiY2hhbmdlXCIpfV9zZXRSYW5nZXModCxlPSExKXt0PUFycmF5LmZyb20odCksdGhpcy5fcmFuZ2VzPVtdO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fYWRkUmFuZ2UoZSk7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISFlfV9zZXRGYWtlT3B0aW9ucyh0PXt9KXt0aGlzLl9pc0Zha2U9ISF0LmZha2UsdGhpcy5fZmFrZVNlbGVjdGlvbkxhYmVsPXQuZmFrZSYmdC5sYWJlbHx8XCJcIn1fYWRkUmFuZ2UodCxlPSExKXtpZighKHQgaW5zdGFuY2VvZiBNaSkpdGhyb3cgbmV3IG0uYihcInZpZXctc2VsZWN0aW9uLWludmFsaWQtcmFuZ2U6IEludmFsaWQgUmFuZ2UuXCIpO3RoaXMuX3B1c2hSYW5nZSh0KSx0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hIWV9X3B1c2hSYW5nZSh0KXtmb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpaWYodC5pc0ludGVyc2VjdGluZyhlKSl0aHJvdyBuZXcgbS5iKFwidmlldy1zZWxlY3Rpb24tcmFuZ2UtaW50ZXJzZWN0czogVHJ5aW5nIHRvIGFkZCBhIHJhbmdlIHRoYXQgaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgcmFuZ2UgZnJvbSBzZWxlY3Rpb24uXCIse2FkZGVkUmFuZ2U6dCxpbnRlcnNlY3RpbmdSYW5nZTplfSk7dGhpcy5fcmFuZ2VzLnB1c2goTWkuY3JlYXRlRnJvbVJhbmdlKHQpKX19UChEaSx5KTtjbGFzcyBCaXtjb25zdHJ1Y3Rvcih0PW51bGwsZSxuKXt0aGlzLl9zZWxlY3Rpb249bmV3IERpLHRoaXMuX3NlbGVjdGlvbi5kZWxlZ2F0ZShcImNoYW5nZVwiKS50byh0aGlzKSx0aGlzLl9zZWxlY3Rpb24uc2V0VG8odCxlLG4pfWdldCBpc0Zha2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzRmFrZX1nZXQgZmFrZVNlbGVjdGlvbkxhYmVsKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mYWtlU2VsZWN0aW9uTGFiZWx9Z2V0IGFuY2hvcigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uYW5jaG9yfWdldCBmb2N1cygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZm9jdXN9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0NvbGxhcHNlZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ucmFuZ2VDb3VudH1nZXQgaXNCYWNrd2FyZCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNCYWNrd2FyZH1nZXQgZWRpdGFibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnR9Z2V0IF9yYW5nZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLl9yYW5nZXN9KmdldFJhbmdlcygpe3lpZWxkKnRoaXMuX3NlbGVjdGlvbi5nZXRSYW5nZXMoKX1nZXRGaXJzdFJhbmdlKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCl9Z2V0TGFzdFJhbmdlKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRMYXN0UmFuZ2UoKX1nZXRGaXJzdFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCl9Z2V0TGFzdFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKX1nZXRTZWxlY3RlZEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpfWlzRXF1YWwodCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0VxdWFsKHQpfWlzU2ltaWxhcih0KXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzU2ltaWxhcih0KX1fc2V0VG8odCxlLG4pe3RoaXMuX3NlbGVjdGlvbi5zZXRUbyh0LGUsbil9X3NldEZvY3VzKHQsZSl7dGhpcy5fc2VsZWN0aW9uLnNldEZvY3VzKHQsZSl9fVAoQmkseSk7Y2xhc3MgTGl7Y29uc3RydWN0b3IodD17fSl7dGhpcy5faXRlbXM9W10sdGhpcy5faXRlbU1hcD1uZXcgTWFwLHRoaXMuX2lkUHJvcGVydHk9dC5pZFByb3BlcnR5fHxcImlkXCIsdGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwPW5ldyBXZWFrTWFwLHRoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcD1uZXcgV2Vha01hcCx0aGlzLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbD1bXX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aH1nZXQgZmlyc3QoKXtyZXR1cm4gdGhpcy5faXRlbXNbMF18fG51bGx9Z2V0IGxhc3QoKXtyZXR1cm4gdGhpcy5faXRlbXNbdGhpcy5sZW5ndGgtMV18fG51bGx9YWRkKHQsZSl7bGV0IG47Y29uc3QgaT10aGlzLl9pZFByb3BlcnR5O2lmKGkgaW4gdCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mKG49dFtpXSkpdGhyb3cgbmV3IG0uYihcImNvbGxlY3Rpb24tYWRkLWludmFsaWQtaWRcIik7aWYodGhpcy5nZXQobikpdGhyb3cgbmV3IG0uYihcImNvbGxlY3Rpb24tYWRkLWl0ZW0tYWxyZWFkeS1leGlzdHNcIil9ZWxzZSB0W2ldPW49dygpO2lmKHZvaWQgMD09PWUpZT10aGlzLl9pdGVtcy5sZW5ndGg7ZWxzZSBpZihlPnRoaXMuX2l0ZW1zLmxlbmd0aHx8ZTwwKXRocm93IG5ldyBtLmIoXCJjb2xsZWN0aW9uLWFkZC1pdGVtLWludmFsaWQtaW5kZXhcIik7cmV0dXJuIHRoaXMuX2l0ZW1zLnNwbGljZShlLDAsdCksdGhpcy5faXRlbU1hcC5zZXQobix0KSx0aGlzLmZpcmUoXCJhZGRcIix0LGUpLHRoaXN9Z2V0KHQpe2xldCBlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KWU9dGhpcy5faXRlbU1hcC5nZXQodCk7ZWxzZXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgbS5iKFwiY29sbGVjdGlvbi1nZXQtaW52YWxpZC1hcmc6IEluZGV4IG9yIGlkIG11c3QgYmUgZ2l2ZW4uXCIpO2U9dGhpcy5faXRlbXNbdF19cmV0dXJuIGV8fG51bGx9Z2V0SW5kZXgodCl7bGV0IGU7cmV0dXJuIGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy5faXRlbU1hcC5nZXQodCk6dCx0aGlzLl9pdGVtcy5pbmRleE9mKGUpfXJlbW92ZSh0KXtsZXQgZSxuLGksbz0hMTtjb25zdCByPXRoaXMuX2lkUHJvcGVydHk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/KG49dCxvPSEoaT10aGlzLl9pdGVtTWFwLmdldChuKSksaSYmKGU9dGhpcy5faXRlbXMuaW5kZXhPZihpKSkpOlwibnVtYmVyXCI9PXR5cGVvZiB0PyhlPXQsbz0hKGk9dGhpcy5faXRlbXNbZV0pLGkmJihuPWlbcl0pKToobj0oaT10KVtyXSxvPS0xPT0oZT10aGlzLl9pdGVtcy5pbmRleE9mKGkpKXx8IXRoaXMuX2l0ZW1NYXAuZ2V0KG4pKSxvKXRocm93IG5ldyBtLmIoXCJjb2xsZWN0aW9uLXJlbW92ZS00MDQ6IEl0ZW0gbm90IGZvdW5kLlwiKTt0aGlzLl9pdGVtcy5zcGxpY2UoZSwxKSx0aGlzLl9pdGVtTWFwLmRlbGV0ZShuKTtjb25zdCBzPXRoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcC5nZXQoaSk7cmV0dXJuIHRoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcC5kZWxldGUoaSksdGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwLmRlbGV0ZShzKSx0aGlzLmZpcmUoXCJyZW1vdmVcIixpLGUpLGl9bWFwKHQsZSl7cmV0dXJuIHRoaXMuX2l0ZW1zLm1hcCh0LGUpfWZpbmQodCxlKXtyZXR1cm4gdGhpcy5faXRlbXMuZmluZCh0LGUpfWZpbHRlcih0LGUpe3JldHVybiB0aGlzLl9pdGVtcy5maWx0ZXIodCxlKX1jbGVhcigpe2Zvcih0aGlzLl9iaW5kVG9Db2xsZWN0aW9uJiYodGhpcy5zdG9wTGlzdGVuaW5nKHRoaXMuX2JpbmRUb0NvbGxlY3Rpb24pLHRoaXMuX2JpbmRUb0NvbGxlY3Rpb249bnVsbCk7dGhpcy5sZW5ndGg7KXRoaXMucmVtb3ZlKDApfWJpbmRUbyh0KXtpZih0aGlzLl9iaW5kVG9Db2xsZWN0aW9uKXRocm93IG5ldyBtLmIoXCJjb2xsZWN0aW9uLWJpbmQtdG8tcmViaW5kOiBUaGUgY29sbGVjdGlvbiBjYW5ub3QgYmUgYm91bmQgbW9yZSB0aGFuIG9uY2UuXCIpO3JldHVybiB0aGlzLl9iaW5kVG9Db2xsZWN0aW9uPXQse2FzOnQ9Pnt0aGlzLl9zZXRVcEJpbmRUb0JpbmRpbmcoZT0+bmV3IHQoZSkpfSx1c2luZzp0PT57XCJmdW5jdGlvblwiPT10eXBlb2YgdD90aGlzLl9zZXRVcEJpbmRUb0JpbmRpbmcoZT0+dChlKSk6dGhpcy5fc2V0VXBCaW5kVG9CaW5kaW5nKGU9PmVbdF0pfX19X3NldFVwQmluZFRvQmluZGluZyh0KXtjb25zdCBlPXRoaXMuX2JpbmRUb0NvbGxlY3Rpb24sbj0obixpLG8pPT57Y29uc3Qgcj1lLl9iaW5kVG9Db2xsZWN0aW9uPT10aGlzLHM9ZS5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLmdldChpKTtpZihyJiZzKXRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5zZXQoaSxzKSx0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuc2V0KHMsaSk7ZWxzZXtjb25zdCBuPXQoaSk7aWYoIW4pcmV0dXJuIHZvaWQgdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwucHVzaChvKTtsZXQgcj1vO2Zvcihjb25zdCB0IG9mIHRoaXMuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsKW8+dCYmci0tO2Zvcihjb25zdCB0IG9mIGUuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsKXI+PXQmJnIrKzt0aGlzLl9iaW5kVG9FeHRlcm5hbFRvSW50ZXJuYWxNYXAuc2V0KGksbiksdGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLnNldChuLGkpLHRoaXMuYWRkKG4scik7Zm9yKGxldCB0PTA7dDxlLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbC5sZW5ndGg7dCsrKXI8PWUuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsW3RdJiZlLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbFt0XSsrfX07Zm9yKGNvbnN0IHQgb2YgZSluKDAsdCxlLmdldEluZGV4KHQpKTt0aGlzLmxpc3RlblRvKGUsXCJhZGRcIixuKSx0aGlzLmxpc3RlblRvKGUsXCJyZW1vdmVcIiwodCxlLG4pPT57Y29uc3QgaT10aGlzLl9iaW5kVG9FeHRlcm5hbFRvSW50ZXJuYWxNYXAuZ2V0KGUpO2kmJnRoaXMucmVtb3ZlKGkpLHRoaXMuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsPXRoaXMuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsLnJlZHVjZSgodCxlKT0+KG48ZSYmdC5wdXNoKGUtMSksbj5lJiZ0LnB1c2goZSksdCksW10pfSl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5faXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpfX1QKExpLHkpO2NsYXNzIGppe2NvbnN0cnVjdG9yKCl7dGhpcy5zZWxlY3Rpb249bmV3IEJpLHRoaXMucm9vdHM9bmV3IExpKHtpZFByb3BlcnR5Olwicm9vdE5hbWVcIn0pLHRoaXMuc2V0KFwiaXNSZWFkT25seVwiLCExKSx0aGlzLnNldChcImlzRm9jdXNlZFwiLCExKSx0aGlzLnNldChcImlzQ29tcG9zaW5nXCIsITEpLHRoaXMuX3Bvc3RGaXhlcnM9bmV3IFNldH1nZXRSb290KHQ9XCJtYWluXCIpe3JldHVybiB0aGlzLnJvb3RzLmdldCh0KX1yZWdpc3RlclBvc3RGaXhlcih0KXt0aGlzLl9wb3N0Rml4ZXJzLmFkZCh0KX1fY2FsbFBvc3RGaXhlcnModCl7bGV0IGU9ITE7ZG97Zm9yKGNvbnN0IG4gb2YgdGhpcy5fcG9zdEZpeGVycylpZihlPW4odCkpYnJlYWt9d2hpbGUoZSl9fVAoamkseWkpO2NvbnN0IHppPTEwO2NsYXNzIHFpIGV4dGVuZHMgTm57Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSxuKSx0aGlzLmdldEZpbGxlck9mZnNldD1VaSx0aGlzLl9wcmlvcml0eT16aSx0aGlzLl9pZD1udWxsLHRoaXMuX2Nsb25lc0dyb3VwPW51bGx9Z2V0IHByaW9yaXR5KCl7cmV0dXJuIHRoaXMuX3ByaW9yaXR5fWdldCBpZCgpe3JldHVybiB0aGlzLl9pZH1nZXRFbGVtZW50c1dpdGhTYW1lSWQoKXtpZihudWxsPT09dGhpcy5pZCl0aHJvdyBuZXcgbS5iKFwiYXR0cmlidXRlLWVsZW1lbnQtZ2V0LWVsZW1lbnRzLXdpdGgtc2FtZS1pZC1uby1pZDogQ2Fubm90IGdldCBlbGVtZW50cyB3aXRoIHRoZSBzYW1lIGlkIGZvciBhbiBhdHRyaWJ1dGUgZWxlbWVudCB3aXRob3V0IGlkLlwiKTtyZXR1cm4gbmV3IFNldCh0aGlzLl9jbG9uZXNHcm91cCl9aXModCxlPW51bGwpe3JldHVybiBlP1wiYXR0cmlidXRlRWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSk6XCJhdHRyaWJ1dGVFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfWlzU2ltaWxhcih0KXtyZXR1cm4gbnVsbCE9PXRoaXMuaWR8fG51bGwhPT10LmlkP3RoaXMuaWQ9PT10LmlkOnN1cGVyLmlzU2ltaWxhcih0KSYmdGhpcy5wcmlvcml0eT09dC5wcmlvcml0eX1fY2xvbmUodCl7Y29uc3QgZT1zdXBlci5fY2xvbmUodCk7cmV0dXJuIGUuX3ByaW9yaXR5PXRoaXMuX3ByaW9yaXR5LGUuX2lkPXRoaXMuX2lkLGV9fWZ1bmN0aW9uIFVpKCl7aWYoSGkodGhpcykpcmV0dXJuIG51bGw7bGV0IHQ9dGhpcy5wYXJlbnQ7Zm9yKDt0JiZ0LmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKTspe2lmKEhpKHQpPjEpcmV0dXJuIG51bGw7dD10LnBhcmVudH1yZXR1cm4hdHx8SGkodCk+MT9udWxsOnRoaXMuY2hpbGRDb3VudH1mdW5jdGlvbiBIaSh0KXtyZXR1cm4gQXJyYXkuZnJvbSh0LmdldENoaWxkcmVuKCkpLmZpbHRlcih0PT4hdC5pcyhcInVpRWxlbWVudFwiKSkubGVuZ3RofXFpLkRFRkFVTFRfUFJJT1JJVFk9emk7Y2xhc3MgV2kgZXh0ZW5kcyBObntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlLG4pLHRoaXMuZ2V0RmlsbGVyT2Zmc2V0PSRpfWlzKHQsZT1udWxsKXtyZXR1cm4gZT9cImVtcHR5RWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSk6XCJlbXB0eUVsZW1lbnRcIj09dHx8c3VwZXIuaXModCl9X2luc2VydENoaWxkKHQsZSl7aWYoZSYmKGUgaW5zdGFuY2VvZiBQbnx8QXJyYXkuZnJvbShlKS5sZW5ndGg+MCkpdGhyb3cgbmV3IG0uYihcInZpZXctZW1wdHllbGVtZW50LWNhbm5vdC1hZGQ6IENhbm5vdCBhZGQgY2hpbGQgbm9kZXMgdG8gRW1wdHlFbGVtZW50IGluc3RhbmNlLlwiKX19ZnVuY3Rpb24gJGkoKXtyZXR1cm4gbnVsbH1jb25zdCBLaT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7dmFyIEdpPXtpc01hYzpmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmRleE9mKFwibWFjaW50b3NoXCIpPi0xfShLaSksaXNFZGdlOmZ1bmN0aW9uKHQpe3JldHVybiEhdC5tYXRjaCgvZWRnZVxcLyhcXGQrLj9cXGQqKS8pfShLaSl9O2NvbnN0IEppPWZ1bmN0aW9uKCl7Y29uc3QgdD17YXJyb3dsZWZ0OjM3LGFycm93dXA6MzgsYXJyb3dyaWdodDozOSxhcnJvd2Rvd246NDAsYmFja3NwYWNlOjgsZGVsZXRlOjQ2LGVudGVyOjEzLHNwYWNlOjMyLGVzYzoyNyx0YWI6OSxjdHJsOjExMTQxMTIsY21kOjExMTQxMTIsc2hpZnQ6MjIyODIyNCxhbHQ6NDQ1NjQ0OH07Zm9yKGxldCBlPTY1O2U8PTkwO2UrKyl7Y29uc3Qgbj1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpO3Rbbi50b0xvd2VyQ2FzZSgpXT1lfWZvcihsZXQgZT00ODtlPD01NztlKyspdFtlLTQ4XT1lO2ZvcihsZXQgZT0xMTI7ZTw9MTIzO2UrKyl0W1wiZlwiKyhlLTExMSldPWU7cmV0dXJuIHR9KCk7ZnVuY3Rpb24gUWkodCl7bGV0IGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKCEoZT1KaVt0LnRvTG93ZXJDYXNlKCldKSl0aHJvdyBuZXcgbS5iKFwia2V5Ym9hcmQtdW5rbm93bi1rZXk6IFVua25vd24ga2V5IG5hbWUuXCIse2tleTp0fSl9ZWxzZSBlPXQua2V5Q29kZSsodC5hbHRLZXk/SmkuYWx0OjApKyh0LmN0cmxLZXk/SmkuY3RybDowKSsodC5zaGlmdEtleT9KaS5zaGlmdDowKTtyZXR1cm4gZX1mdW5jdGlvbiBZaSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9WGkodCkpLHQubWFwKHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P1FpKHQpOnQpLnJlZHVjZSgodCxlKT0+ZSt0LDApfWZ1bmN0aW9uIFhpKHQpe3JldHVybiB0LnNwbGl0KC9cXHMqXFwrXFxzKi8pfWNsYXNzIFppIGV4dGVuZHMgTm57Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSxuKSx0aGlzLmdldEZpbGxlck9mZnNldD1lb31pcyh0LGU9bnVsbCl7cmV0dXJuIGU/XCJ1aUVsZW1lbnRcIj09dCYmZT09dGhpcy5uYW1lfHxzdXBlci5pcyh0LGUpOlwidWlFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfV9pbnNlcnRDaGlsZCh0LGUpe2lmKGUmJihlIGluc3RhbmNlb2YgUG58fEFycmF5LmZyb20oZSkubGVuZ3RoPjApKXRocm93IG5ldyBtLmIoXCJ2aWV3LXVpZWxlbWVudC1jYW5ub3QtYWRkOiBDYW5ub3QgYWRkIGNoaWxkIG5vZGVzIHRvIFVJRWxlbWVudCBpbnN0YW5jZS5cIil9cmVuZGVyKHQpe3JldHVybiB0aGlzLnRvRG9tRWxlbWVudCh0KX10b0RvbUVsZW1lbnQodCl7Y29uc3QgZT10LmNyZWF0ZUVsZW1lbnQodGhpcy5uYW1lKTtmb3IoY29uc3QgdCBvZiB0aGlzLmdldEF0dHJpYnV0ZUtleXMoKSllLnNldEF0dHJpYnV0ZSh0LHRoaXMuZ2V0QXR0cmlidXRlKHQpKTtyZXR1cm4gZX19ZnVuY3Rpb24gdG8odCl7dC5kb2N1bWVudC5vbihcImtleWRvd25cIiwoZSxuKT0+KGZ1bmN0aW9uKHQsZSxuKXtpZihlLmtleUNvZGU9PUppLmFycm93cmlnaHQpe2NvbnN0IHQ9ZS5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKSxpPTE9PXQucmFuZ2VDb3VudCYmdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZDtpZihpfHxlLnNoaWZ0S2V5KXtjb25zdCBlPXQuZm9jdXNOb2RlLG89dC5mb2N1c09mZnNldCxyPW4uZG9tUG9zaXRpb25Ub1ZpZXcoZSxvKTtpZihudWxsPT09cilyZXR1cm47bGV0IHM9ITE7Y29uc3QgYT1yLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQ9Pih0Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikmJihzPSEwKSwhKCF0Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikmJiF0Lml0ZW0uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpKSkpO2lmKHMpe2NvbnN0IGU9bi52aWV3UG9zaXRpb25Ub0RvbShhKTtpP3QuY29sbGFwc2UoZS5wYXJlbnQsZS5vZmZzZXQpOnQuZXh0ZW5kKGUucGFyZW50LGUub2Zmc2V0KX19fX0pKDAsbix0LmRvbUNvbnZlcnRlcikpfWZ1bmN0aW9uIGVvKCl7cmV0dXJuIG51bGx9Y2xhc3Mgbm97Y29uc3RydWN0b3IodCl7dGhpcy5fY2hpbGRyZW49W10sdCYmdGhpcy5faW5zZXJ0Q2hpbGQoMCx0KX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmNoaWxkQ291bnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpc31nZXQgcGFyZW50KCl7cmV0dXJuIG51bGx9aXModCl7cmV0dXJuXCJkb2N1bWVudEZyYWdtZW50XCI9PXR9X2FwcGVuZENoaWxkKHQpe3JldHVybiB0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW3RdfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmluZGV4T2YodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfV9pbnNlcnRDaGlsZCh0LGUpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJjaGlsZHJlblwiLHRoaXMpO2xldCBuPTA7Y29uc3QgaT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm5bbmV3IE9uKHQpXTtWbih0KXx8KHQ9W3RdKTtyZXR1cm4gQXJyYXkuZnJvbSh0KS5tYXAodD0+XCJzdHJpbmdcIj09dHlwZW9mIHQ/bmV3IE9uKHQpOnQgaW5zdGFuY2VvZiBSbj9uZXcgT24odC5kYXRhKTp0KX0oZSk7Zm9yKGNvbnN0IGUgb2YgaSludWxsIT09ZS5wYXJlbnQmJmUuX3JlbW92ZSgpLGUucGFyZW50PXRoaXMsdGhpcy5fY2hpbGRyZW4uc3BsaWNlKHQsMCxlKSx0KyssbisrO3JldHVybiBufV9yZW1vdmVDaGlsZHJlbih0LGU9MSl7dGhpcy5fZmlyZUNoYW5nZShcImNoaWxkcmVuXCIsdGhpcyk7Zm9yKGxldCBuPXQ7bjx0K2U7bisrKXRoaXMuX2NoaWxkcmVuW25dLnBhcmVudD1udWxsO3JldHVybiB0aGlzLl9jaGlsZHJlbi5zcGxpY2UodCxlKX1fZmlyZUNoYW5nZSh0LGUpe3RoaXMuZmlyZShcImNoYW5nZTpcIit0LGUpfX1QKG5vLHkpO2NsYXNzIGlve2NvbnN0cnVjdG9yKHQpe3RoaXMuZG9jdW1lbnQ9dCx0aGlzLl9jbG9uZUdyb3Vwcz1uZXcgTWFwfXNldFNlbGVjdGlvbih0LGUsbil7dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uX3NldFRvKHQsZSxuKX1zZXRTZWxlY3Rpb25Gb2N1cyh0LGUpe3RoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLl9zZXRGb2N1cyh0LGUpfWNyZWF0ZVRleHQodCl7cmV0dXJuIG5ldyBPbih0KX1jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KHQsZSxuPXt9KXtjb25zdCBpPW5ldyBxaSh0LGUpO3JldHVybiBuLnByaW9yaXR5JiYoaS5fcHJpb3JpdHk9bi5wcmlvcml0eSksbi5pZCYmKGkuX2lkPW4uaWQpLGl9Y3JlYXRlQ29udGFpbmVyRWxlbWVudCh0LGUpe3JldHVybiBuZXcgTG4odCxlKX1jcmVhdGVFZGl0YWJsZUVsZW1lbnQodCxlKXtjb25zdCBuPW5ldyBQaSh0LGUpO3JldHVybiBuLl9kb2N1bWVudD10aGlzLmRvY3VtZW50LG59Y3JlYXRlRW1wdHlFbGVtZW50KHQsZSl7cmV0dXJuIG5ldyBXaSh0LGUpfWNyZWF0ZVVJRWxlbWVudCh0LGUsbil7Y29uc3QgaT1uZXcgWmkodCxlKTtyZXR1cm4gbiYmKGkucmVuZGVyPW4pLGl9c2V0QXR0cmlidXRlKHQsZSxuKXtuLl9zZXRBdHRyaWJ1dGUodCxlKX1yZW1vdmVBdHRyaWJ1dGUodCxlKXtlLl9yZW1vdmVBdHRyaWJ1dGUodCl9YWRkQ2xhc3ModCxlKXtlLl9hZGRDbGFzcyh0KX1yZW1vdmVDbGFzcyh0LGUpe2UuX3JlbW92ZUNsYXNzKHQpfXNldFN0eWxlKHQsZSxuKXtmKHQpJiZ2b2lkIDA9PT1uJiYobj1lKSxuLl9zZXRTdHlsZSh0LGUpfXJlbW92ZVN0eWxlKHQsZSl7ZS5fcmVtb3ZlU3R5bGUodCl9c2V0Q3VzdG9tUHJvcGVydHkodCxlLG4pe24uX3NldEN1c3RvbVByb3BlcnR5KHQsZSl9cmVtb3ZlQ3VzdG9tUHJvcGVydHkodCxlKXtyZXR1cm4gZS5fcmVtb3ZlQ3VzdG9tUHJvcGVydHkodCl9YnJlYWtBdHRyaWJ1dGVzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVmk/dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKHQpOnRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQpfWJyZWFrQ29udGFpbmVyKHQpe2NvbnN0IGU9dC5wYXJlbnQ7aWYoIWUuaXMoXCJjb250YWluZXJFbGVtZW50XCIpKXRocm93IG5ldyBtLmIoXCJ2aWV3LXdyaXRlci1icmVhay1ub24tY29udGFpbmVyLWVsZW1lbnQ6IFRyeWluZyB0byBicmVhayBhbiBlbGVtZW50IHdoaWNoIGlzIG5vdCBhIGNvbnRhaW5lciBlbGVtZW50LlwiKTtpZighZS5wYXJlbnQpdGhyb3cgbmV3IG0uYihcInZpZXctd3JpdGVyLWJyZWFrLXJvb3Q6IFRyeWluZyB0byBicmVhayByb290IGVsZW1lbnQuXCIpO2lmKHQuaXNBdFN0YXJ0KXJldHVybiBWaS5jcmVhdGVCZWZvcmUoZSk7aWYoIXQuaXNBdEVuZCl7Y29uc3Qgbj1lLl9jbG9uZSghMSk7dGhpcy5pbnNlcnQoVmkuY3JlYXRlQWZ0ZXIoZSksbik7Y29uc3QgaT1uZXcgTWkodCxWaS5jcmVhdGVBdChlLFwiZW5kXCIpKSxvPW5ldyBWaShuLDApO3RoaXMubW92ZShpLG8pfXJldHVybiBWaS5jcmVhdGVBZnRlcihlKX1tZXJnZUF0dHJpYnV0ZXModCl7Y29uc3QgZT10Lm9mZnNldCxuPXQucGFyZW50O2lmKG4uaXMoXCJ0ZXh0XCIpKXJldHVybiB0O2lmKG4uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiYwPT09bi5jaGlsZENvdW50KXtjb25zdCB0PW4ucGFyZW50LGU9bi5pbmRleDtyZXR1cm4gbi5fcmVtb3ZlKCksdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAobiksdGhpcy5tZXJnZUF0dHJpYnV0ZXMobmV3IFZpKHQsZSkpfWNvbnN0IGk9bi5nZXRDaGlsZChlLTEpLG89bi5nZXRDaGlsZChlKTtpZighaXx8IW8pcmV0dXJuIHQ7aWYoaS5pcyhcInRleHRcIikmJm8uaXMoXCJ0ZXh0XCIpKXJldHVybiBjbyhpLG8pO2lmKGkuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiZvLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSYmaS5pc1NpbWlsYXIobykpe2NvbnN0IHQ9aS5jaGlsZENvdW50O3JldHVybiBpLl9hcHBlbmRDaGlsZChvLmdldENoaWxkcmVuKCkpLG8uX3JlbW92ZSgpLHRoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKG8pLHRoaXMubWVyZ2VBdHRyaWJ1dGVzKG5ldyBWaShpLHQpKX1yZXR1cm4gdH1tZXJnZUNvbnRhaW5lcnModCl7Y29uc3QgZT10Lm5vZGVCZWZvcmUsbj10Lm5vZGVBZnRlcjtpZighKGUmJm4mJmUuaXMoXCJjb250YWluZXJFbGVtZW50XCIpJiZuLmlzKFwiY29udGFpbmVyRWxlbWVudFwiKSkpdGhyb3cgbmV3IG0uYihcInZpZXctd3JpdGVyLW1lcmdlLWNvbnRhaW5lcnMtaW52YWxpZC1wb3NpdGlvbjogRWxlbWVudCBiZWZvcmUgYW5kIGFmdGVyIGdpdmVuIHBvc2l0aW9uIGNhbm5vdCBiZSBtZXJnZWQuXCIpO2NvbnN0IGk9ZS5nZXRDaGlsZChlLmNoaWxkQ291bnQtMSksbz1pIGluc3RhbmNlb2YgT24/VmkuY3JlYXRlQXQoaSxcImVuZFwiKTpWaS5jcmVhdGVBdChlLFwiZW5kXCIpO3JldHVybiB0aGlzLm1vdmUoTWkuY3JlYXRlSW4obiksVmkuY3JlYXRlQXQoZSxcImVuZFwiKSksdGhpcy5yZW1vdmUoTWkuY3JlYXRlT24obikpLG99aW5zZXJ0KHQsZSl7KGZ1bmN0aW9uIHQoZSl7Zm9yKGNvbnN0IG4gb2YgZSl7aWYoIWxvLnNvbWUodD0+biBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBtLmIoXCJ2aWV3LXdyaXRlci1pbnNlcnQtaW52YWxpZC1ub2RlXCIpO24uaXMoXCJ0ZXh0XCIpfHx0KG4uZ2V0Q2hpbGRyZW4oKSl9fSkoZT1WbihlKT9bLi4uZV06W2VdKTtjb25zdCBuPW9vKHQpO2lmKCFuKXRocm93IG5ldyBtLmIoXCJ2aWV3LXdyaXRlci1pbnZhbGlkLXBvc2l0aW9uLWNvbnRhaW5lclwiKTtjb25zdCBpPXRoaXMuX2JyZWFrQXR0cmlidXRlcyh0LCEwKSxvPW4uX2luc2VydENoaWxkKGkub2Zmc2V0LGUpO2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKHQpO2NvbnN0IHI9aS5nZXRTaGlmdGVkQnkobykscz10aGlzLm1lcmdlQXR0cmlidXRlcyhpKTtpZigwPT09bylyZXR1cm4gbmV3IE1pKHMscyk7e3MuaXNFcXVhbChpKXx8ci5vZmZzZXQtLTtjb25zdCB0PXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIpO3JldHVybiBuZXcgTWkocyx0KX19cmVtb3ZlKHQpe2lmKGhvKHQpLHQuaXNDb2xsYXBzZWQpcmV0dXJuIG5ldyBubztjb25zdHtzdGFydDplLGVuZDpufT10aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZSh0LCEwKSxpPWUucGFyZW50LG89bi5vZmZzZXQtZS5vZmZzZXQscj1pLl9yZW1vdmVDaGlsZHJlbihlLm9mZnNldCxvKTtmb3IoY29uc3QgdCBvZiByKXRoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKHQpO2NvbnN0IHM9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoZSk7cmV0dXJuIHQuc3RhcnQ9cyx0LmVuZD1WaS5jcmVhdGVGcm9tUG9zaXRpb24ocyksbmV3IG5vKHIpfWNsZWFyKHQsZSl7aG8odCk7Y29uc3Qgbj10LmdldFdhbGtlcih7ZGlyZWN0aW9uOlwiYmFja3dhcmRcIixpZ25vcmVFbGVtZW50RW5kOiEwfSk7Zm9yKGNvbnN0IGkgb2Ygbil7Y29uc3Qgbj1pLml0ZW07bGV0IG87aWYobi5pcyhcImVsZW1lbnRcIikmJmUuaXNTaW1pbGFyKG4pKW89TWkuY3JlYXRlT24obik7ZWxzZSBpZighaS5uZXh0UG9zaXRpb24uaXNBZnRlcih0LnN0YXJ0KSYmbi5pcyhcInRleHRQcm94eVwiKSl7Y29uc3QgdD1uLmdldEFuY2VzdG9ycygpLmZpbmQodD0+dC5pcyhcImVsZW1lbnRcIikmJmUuaXNTaW1pbGFyKHQpKTt0JiYobz1NaS5jcmVhdGVJbih0KSl9byYmKG8uZW5kLmlzQWZ0ZXIodC5lbmQpJiYoby5lbmQ9dC5lbmQpLG8uc3RhcnQuaXNCZWZvcmUodC5zdGFydCkmJihvLnN0YXJ0PXQuc3RhcnQpLHRoaXMucmVtb3ZlKG8pKX19bW92ZSh0LGUpe2xldCBuO2lmKGUuaXNBZnRlcih0LmVuZCkpe2NvbnN0IGk9KGU9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKGUsITApKS5wYXJlbnQsbz1pLmNoaWxkQ291bnQ7dD10aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZSh0LCEwKSxuPXRoaXMucmVtb3ZlKHQpLGUub2Zmc2V0Kz1pLmNoaWxkQ291bnQtb31lbHNlIG49dGhpcy5yZW1vdmUodCk7cmV0dXJuIHRoaXMuaW5zZXJ0KGUsbil9d3JhcCh0LGUpe2lmKCEoZSBpbnN0YW5jZW9mIHFpKSl0aHJvdyBuZXcgbS5iKFwidmlldy13cml0ZXItd3JhcC1pbnZhbGlkLWF0dHJpYnV0ZVwiKTtpZihobyh0KSx0LmlzQ29sbGFwc2VkKXtsZXQgbj10LnN0YXJ0O24ucGFyZW50LmlzKFwiZWxlbWVudFwiKSYmIWZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuc29tZSh0PT4hdC5pcyhcInVpRWxlbWVudFwiKSl9KG4ucGFyZW50KSYmKG49bi5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0PT50Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikpKSxuPXRoaXMuX3dyYXBQb3NpdGlvbihuLGUpO2NvbnN0IGk9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb247cmV0dXJuIGkuaXNDb2xsYXBzZWQmJmkuZ2V0Rmlyc3RQb3NpdGlvbigpLmlzRXF1YWwodC5zdGFydCkmJnRoaXMuc2V0U2VsZWN0aW9uKG4pLG5ldyBNaShuKX1yZXR1cm4gdGhpcy5fd3JhcFJhbmdlKHQsZSl9dW53cmFwKHQsZSl7aWYoIShlIGluc3RhbmNlb2YgcWkpKXRocm93IG5ldyBtLmIoXCJ2aWV3LXdyaXRlci11bndyYXAtaW52YWxpZC1hdHRyaWJ1dGVcIik7aWYoaG8odCksdC5pc0NvbGxhcHNlZClyZXR1cm4gdDtjb25zdHtzdGFydDpuLGVuZDppfT10aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZSh0LCEwKTtpZihpLmlzRXF1YWwobi5nZXRTaGlmdGVkQnkoMSkpKXtjb25zdCB0PW4ubm9kZUFmdGVyO2lmKCFlLmlzU2ltaWxhcih0KSYmdCBpbnN0YW5jZW9mIHFpJiZ0aGlzLl91bndyYXBBdHRyaWJ1dGVFbGVtZW50KGUsdCkpe2NvbnN0IHQ9dGhpcy5tZXJnZUF0dHJpYnV0ZXMobik7dC5pc0VxdWFsKG4pfHxpLm9mZnNldC0tO2NvbnN0IGU9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoaSk7cmV0dXJuIG5ldyBNaSh0LGUpfX1jb25zdCBvPW4ucGFyZW50LHI9dGhpcy5fdW53cmFwQ2hpbGRyZW4obyxuLm9mZnNldCxpLm9mZnNldCxlKSxzPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIuc3RhcnQpO3MuaXNFcXVhbChyLnN0YXJ0KXx8ci5lbmQub2Zmc2V0LS07Y29uc3QgYT10aGlzLm1lcmdlQXR0cmlidXRlcyhyLmVuZCk7cmV0dXJuIG5ldyBNaShzLGEpfXJlbmFtZSh0LGUpe2NvbnN0IG49bmV3IExuKGUsdC5nZXRBdHRyaWJ1dGVzKCkpO3JldHVybiB0aGlzLmluc2VydChWaS5jcmVhdGVBZnRlcih0KSxuKSx0aGlzLm1vdmUoTWkuY3JlYXRlSW4odCksVmkuY3JlYXRlQXQobikpLHRoaXMucmVtb3ZlKE1pLmNyZWF0ZU9uKHQpKSxufV93cmFwQ2hpbGRyZW4odCxlLG4saSl7bGV0IG89ZTtjb25zdCByPVtdO2Zvcig7bzxuOyl7Y29uc3QgZT10LmdldENoaWxkKG8pLG49ZS5pcyhcInRleHRcIikscz1lLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSxhPWUuaXMoXCJlbXB0eUVsZW1lbnRcIiksYz1lLmlzKFwidWlFbGVtZW50XCIpO2lmKG58fGF8fGN8fHMmJnJvKGksZSkpe2NvbnN0IG49aS5fY2xvbmUoKTtlLl9yZW1vdmUoKSxuLl9hcHBlbmRDaGlsZChlKSx0Ll9pbnNlcnRDaGlsZChvLG4pLHRoaXMuX2FkZFRvQ2xvbmVkRWxlbWVudHNHcm91cChuKSxyLnB1c2gobmV3IFZpKHQsbykpfWVsc2UgcyYmdGhpcy5fd3JhcENoaWxkcmVuKGUsMCxlLmNoaWxkQ291bnQsaSk7bysrfWxldCBzPTA7Zm9yKGNvbnN0IHQgb2Ygcil7aWYodC5vZmZzZXQtPXMsdC5vZmZzZXQ9PWUpY29udGludWU7dGhpcy5tZXJnZUF0dHJpYnV0ZXModCkuaXNFcXVhbCh0KXx8KHMrKyxuLS0pfXJldHVybiBNaS5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCxlLHQsbil9X3Vud3JhcENoaWxkcmVuKHQsZSxuLGkpe2xldCBvPWU7Y29uc3Qgcj1bXTtmb3IoO288bjspe2NvbnN0IGU9dC5nZXRDaGlsZChvKTtpZihlLmlzU2ltaWxhcihpKSl7Y29uc3QgaT1lLmdldENoaWxkcmVuKCkscz1lLmNoaWxkQ291bnQ7ZS5fcmVtb3ZlKCksdC5faW5zZXJ0Q2hpbGQobyxpKSx0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cChlKSxyLnB1c2gobmV3IFZpKHQsbyksbmV3IFZpKHQsbytzKSksbys9cyxuKz1zLTF9ZWxzZSBlLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSYmdGhpcy5fdW53cmFwQ2hpbGRyZW4oZSwwLGUuY2hpbGRDb3VudCxpKSxvKyt9bGV0IHM9MDtmb3IoY29uc3QgdCBvZiByKXtpZih0Lm9mZnNldC09cyx0Lm9mZnNldD09ZXx8dC5vZmZzZXQ9PW4pY29udGludWU7dGhpcy5tZXJnZUF0dHJpYnV0ZXModCkuaXNFcXVhbCh0KXx8KHMrKyxuLS0pfXJldHVybiBNaS5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCxlLHQsbil9X3dyYXBSYW5nZSh0LGUpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0LnBhcmVudD09dC5lbmQucGFyZW50JiZ0LnN0YXJ0LnBhcmVudC5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikmJjA9PT10LnN0YXJ0Lm9mZnNldCYmdC5lbmQub2Zmc2V0PT09dC5zdGFydC5wYXJlbnQuY2hpbGRDb3VudH0odCkmJnRoaXMuX3dyYXBBdHRyaWJ1dGVFbGVtZW50KGUsdC5zdGFydC5wYXJlbnQpKXtjb25zdCBlPXQuc3RhcnQucGFyZW50LG49dGhpcy5tZXJnZUF0dHJpYnV0ZXMoVmkuY3JlYXRlQWZ0ZXIoZSkpLGk9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoVmkuY3JlYXRlQmVmb3JlKGUpKTtyZXR1cm4gbmV3IE1pKGksbil9Y29uc3R7c3RhcnQ6bixlbmQ6aX09dGhpcy5fYnJlYWtBdHRyaWJ1dGVzUmFuZ2UodCwhMCk7aWYoaS5pc0VxdWFsKG4uZ2V0U2hpZnRlZEJ5KDEpKSl7Y29uc3QgdD1uLm5vZGVBZnRlcjtpZih0IGluc3RhbmNlb2YgcWkmJnRoaXMuX3dyYXBBdHRyaWJ1dGVFbGVtZW50KGUsdCkpe2NvbnN0IHQ9dGhpcy5tZXJnZUF0dHJpYnV0ZXMobik7dC5pc0VxdWFsKG4pfHxpLm9mZnNldC0tO2NvbnN0IGU9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoaSk7cmV0dXJuIG5ldyBNaSh0LGUpfX1jb25zdCBvPW4ucGFyZW50LHI9dGhpcy5fdW53cmFwQ2hpbGRyZW4obyxuLm9mZnNldCxpLm9mZnNldCxlKSxzPXRoaXMuX3dyYXBDaGlsZHJlbihvLHIuc3RhcnQub2Zmc2V0LHIuZW5kLm9mZnNldCxlKSxhPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHMuc3RhcnQpO2EuaXNFcXVhbChzLnN0YXJ0KXx8cy5lbmQub2Zmc2V0LS07Y29uc3QgYz10aGlzLm1lcmdlQXR0cmlidXRlcyhzLmVuZCk7cmV0dXJuIG5ldyBNaShhLGMpfV93cmFwUG9zaXRpb24odCxlKXtpZihlLmlzU2ltaWxhcih0LnBhcmVudCkpcmV0dXJuIHNvKFZpLmNyZWF0ZUZyb21Qb3NpdGlvbih0KSk7dC5wYXJlbnQuaXMoXCJ0ZXh0XCIpJiYodD1hbyh0KSk7Y29uc3Qgbj10aGlzLmNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQoKTtuLl9wcmlvcml0eT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbi5pc1NpbWlsYXI9KCgpPT4hMSksdC5wYXJlbnQuX2luc2VydENoaWxkKHQub2Zmc2V0LG4pO2NvbnN0IGk9bmV3IE1pKHQsdC5nZXRTaGlmdGVkQnkoMSkpO3RoaXMud3JhcChpLGUpO2NvbnN0IG89bmV3IFZpKG4ucGFyZW50LG4uaW5kZXgpO24uX3JlbW92ZSgpO2NvbnN0IHI9by5ub2RlQmVmb3JlLHM9by5ub2RlQWZ0ZXI7cmV0dXJuIHIgaW5zdGFuY2VvZiBPbiYmcyBpbnN0YW5jZW9mIE9uP2NvKHIscyk6c28obyl9X3dyYXBBdHRyaWJ1dGVFbGVtZW50KHQsZSl7aWYoIWZvKHQsZSkpcmV0dXJuITE7aWYodC5uYW1lIT09ZS5uYW1lfHx0LnByaW9yaXR5IT09ZS5wcmlvcml0eSlyZXR1cm4hMTtmb3IoY29uc3QgbiBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSlpZihcImNsYXNzXCIhPT1uJiZcInN0eWxlXCIhPT1uJiZlLmhhc0F0dHJpYnV0ZShuKSYmZS5nZXRBdHRyaWJ1dGUobikhPT10LmdldEF0dHJpYnV0ZShuKSlyZXR1cm4hMTtmb3IoY29uc3QgbiBvZiB0LmdldFN0eWxlTmFtZXMoKSlpZihlLmhhc1N0eWxlKG4pJiZlLmdldFN0eWxlKG4pIT09dC5nZXRTdHlsZShuKSlyZXR1cm4hMTtmb3IoY29uc3QgbiBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSlcImNsYXNzXCIhPT1uJiZcInN0eWxlXCIhPT1uJiYoZS5oYXNBdHRyaWJ1dGUobil8fHRoaXMuc2V0QXR0cmlidXRlKG4sdC5nZXRBdHRyaWJ1dGUobiksZSkpO2Zvcihjb25zdCBuIG9mIHQuZ2V0U3R5bGVOYW1lcygpKWUuaGFzU3R5bGUobil8fHRoaXMuc2V0U3R5bGUobix0LmdldFN0eWxlKG4pLGUpO2Zvcihjb25zdCBuIG9mIHQuZ2V0Q2xhc3NOYW1lcygpKWUuaGFzQ2xhc3Mobil8fHRoaXMuYWRkQ2xhc3MobixlKTtyZXR1cm4hMH1fdW53cmFwQXR0cmlidXRlRWxlbWVudCh0LGUpe2lmKCFmbyh0LGUpKXJldHVybiExO2lmKHQubmFtZSE9PWUubmFtZXx8dC5wcmlvcml0eSE9PWUucHJpb3JpdHkpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpaWYoXCJjbGFzc1wiIT09biYmXCJzdHlsZVwiIT09biYmKCFlLmhhc0F0dHJpYnV0ZShuKXx8ZS5nZXRBdHRyaWJ1dGUobikhPT10LmdldEF0dHJpYnV0ZShuKSkpcmV0dXJuITE7aWYoIWUuaGFzQ2xhc3MoLi4udC5nZXRDbGFzc05hbWVzKCkpKXJldHVybiExO2Zvcihjb25zdCBuIG9mIHQuZ2V0U3R5bGVOYW1lcygpKWlmKCFlLmhhc1N0eWxlKG4pfHxlLmdldFN0eWxlKG4pIT09dC5nZXRTdHlsZShuKSlyZXR1cm4hMTtmb3IoY29uc3QgbiBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSlcImNsYXNzXCIhPT1uJiZcInN0eWxlXCIhPT1uJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShuLGUpO3JldHVybiB0aGlzLnJlbW92ZUNsYXNzKEFycmF5LmZyb20odC5nZXRDbGFzc05hbWVzKCkpLGUpLHRoaXMucmVtb3ZlU3R5bGUoQXJyYXkuZnJvbSh0LmdldFN0eWxlTmFtZXMoKSksZSksITB9X2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsZT0hMSl7Y29uc3Qgbj10LnN0YXJ0LGk9dC5lbmQ7aWYoaG8odCksdC5pc0NvbGxhcHNlZCl7Y29uc3Qgbj10aGlzLl9icmVha0F0dHJpYnV0ZXModC5zdGFydCxlKTtyZXR1cm4gbmV3IE1pKG4sbil9Y29uc3Qgbz10aGlzLl9icmVha0F0dHJpYnV0ZXMoaSxlKSxyPW8ucGFyZW50LmNoaWxkQ291bnQscz10aGlzLl9icmVha0F0dHJpYnV0ZXMobixlKTtyZXR1cm4gby5vZmZzZXQrPW8ucGFyZW50LmNoaWxkQ291bnQtcixuZXcgTWkocyxvKX1fYnJlYWtBdHRyaWJ1dGVzKHQsZT0hMSl7Y29uc3Qgbj10Lm9mZnNldCxpPXQucGFyZW50O2lmKHQucGFyZW50LmlzKFwiZW1wdHlFbGVtZW50XCIpKXRocm93IG5ldyBtLmIoXCJ2aWV3LXdyaXRlci1jYW5ub3QtYnJlYWstZW1wdHktZWxlbWVudFwiKTtpZih0LnBhcmVudC5pcyhcInVpRWxlbWVudFwiKSl0aHJvdyBuZXcgbS5iKFwidmlldy13cml0ZXItY2Fubm90LWJyZWFrLXVpLWVsZW1lbnRcIik7aWYoIWUmJmkuaXMoXCJ0ZXh0XCIpJiZ1byhpLnBhcmVudCkpcmV0dXJuIFZpLmNyZWF0ZUZyb21Qb3NpdGlvbih0KTtpZih1byhpKSlyZXR1cm4gVmkuY3JlYXRlRnJvbVBvc2l0aW9uKHQpO2lmKGkuaXMoXCJ0ZXh0XCIpKXJldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXMoYW8odCksZSk7aWYobj09aS5jaGlsZENvdW50KXtjb25zdCB0PW5ldyBWaShpLnBhcmVudCxpLmluZGV4KzEpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXModCxlKX1pZigwPT09bil7Y29uc3QgdD1uZXcgVmkoaS5wYXJlbnQsaS5pbmRleCk7cmV0dXJuIHRoaXMuX2JyZWFrQXR0cmlidXRlcyh0LGUpfXtjb25zdCB0PWkuaW5kZXgrMSxvPWkuX2Nsb25lKCk7aS5wYXJlbnQuX2luc2VydENoaWxkKHQsbyksdGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKG8pO2NvbnN0IHI9aS5jaGlsZENvdW50LW4scz1pLl9yZW1vdmVDaGlsZHJlbihuLHIpO28uX2FwcGVuZENoaWxkKHMpO2NvbnN0IGE9bmV3IFZpKGkucGFyZW50LHQpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXMoYSxlKX19X2FkZFRvQ2xvbmVkRWxlbWVudHNHcm91cCh0KXtpZighdC5yb290LmlzKFwicm9vdEVsZW1lbnRcIikpcmV0dXJuO2lmKHQuaXMoXCJlbGVtZW50XCIpKWZvcihjb25zdCBlIG9mIHQuZ2V0Q2hpbGRyZW4oKSl0aGlzLl9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAoZSk7Y29uc3QgZT10LmlkO2lmKCFlKXJldHVybjtsZXQgbj10aGlzLl9jbG9uZUdyb3Vwcy5nZXQoZSk7bnx8KG49bmV3IFNldCx0aGlzLl9jbG9uZUdyb3Vwcy5zZXQoZSxuKSksbi5hZGQodCksdC5fY2xvbmVzR3JvdXA9bn1fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAodCl7aWYodC5pcyhcImVsZW1lbnRcIikpZm9yKGNvbnN0IGUgb2YgdC5nZXRDaGlsZHJlbigpKXRoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKGUpO2NvbnN0IGU9dC5pZDtpZighZSlyZXR1cm47Y29uc3Qgbj10aGlzLl9jbG9uZUdyb3Vwcy5nZXQoZSk7biYmKG4uZGVsZXRlKHQpLDA9PT1uLnNpemUmJnRoaXMuX2Nsb25lR3JvdXBzLmRlbGV0ZShlKSl9fWZ1bmN0aW9uIG9vKHQpe2xldCBlPXQucGFyZW50O2Zvcig7IXVvKGUpOyl7aWYoIWUpcmV0dXJuO2U9ZS5wYXJlbnR9cmV0dXJuIGV9ZnVuY3Rpb24gcm8odCxlKXtyZXR1cm4gdC5wcmlvcml0eTxlLnByaW9yaXR5fHwhKHQucHJpb3JpdHk+ZS5wcmlvcml0eSkmJnQuZ2V0SWRlbnRpdHkoKTxlLmdldElkZW50aXR5KCl9ZnVuY3Rpb24gc28odCl7Y29uc3QgZT10Lm5vZGVCZWZvcmU7aWYoZSYmZS5pcyhcInRleHRcIikpcmV0dXJuIG5ldyBWaShlLGUuZGF0YS5sZW5ndGgpO2NvbnN0IG49dC5ub2RlQWZ0ZXI7cmV0dXJuIG4mJm4uaXMoXCJ0ZXh0XCIpP25ldyBWaShuLDApOnR9ZnVuY3Rpb24gYW8odCl7aWYodC5vZmZzZXQ9PXQucGFyZW50LmRhdGEubGVuZ3RoKXJldHVybiBuZXcgVmkodC5wYXJlbnQucGFyZW50LHQucGFyZW50LmluZGV4KzEpO2lmKDA9PT10Lm9mZnNldClyZXR1cm4gbmV3IFZpKHQucGFyZW50LnBhcmVudCx0LnBhcmVudC5pbmRleCk7Y29uc3QgZT10LnBhcmVudC5kYXRhLnNsaWNlKHQub2Zmc2V0KTtyZXR1cm4gdC5wYXJlbnQuX2RhdGE9dC5wYXJlbnQuZGF0YS5zbGljZSgwLHQub2Zmc2V0KSx0LnBhcmVudC5wYXJlbnQuX2luc2VydENoaWxkKHQucGFyZW50LmluZGV4KzEsbmV3IE9uKGUpKSxuZXcgVmkodC5wYXJlbnQucGFyZW50LHQucGFyZW50LmluZGV4KzEpfWZ1bmN0aW9uIGNvKHQsZSl7Y29uc3Qgbj10LmRhdGEubGVuZ3RoO3JldHVybiB0Ll9kYXRhKz1lLmRhdGEsZS5fcmVtb3ZlKCksbmV3IFZpKHQsbil9Y29uc3QgbG89W09uLHFpLExuLFdpLFppXTtmdW5jdGlvbiB1byh0KXtyZXR1cm4gdCYmKHQuaXMoXCJjb250YWluZXJFbGVtZW50XCIpfHx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl9ZnVuY3Rpb24gaG8odCl7Y29uc3QgZT1vbyh0LnN0YXJ0KSxuPW9vKHQuZW5kKTtpZighZXx8IW58fGUhPT1uKXRocm93IG5ldyBtLmIoXCJ2aWV3LXdyaXRlci1pbnZhbGlkLXJhbmdlLWNvbnRhaW5lclwiKX1mdW5jdGlvbiBmbyh0LGUpe3JldHVybiBudWxsPT09dC5pZCYmbnVsbD09PWUuaWR9Y29uc3QgcG89dD0+e2NvbnN0IGU9dC5jcmVhdGVFbGVtZW50KFwiYnJcIik7cmV0dXJuIGUuZGF0YXNldC5ja2VGaWxsZXI9ITAsZX0sbW89dD0+dC5jcmVhdGVUZXh0Tm9kZShcIsKgXCIpLGdvPTc7bGV0IGJvPVwiXCI7Zm9yKGxldCB0PTA7dDxnbzt0KyspYm8rPVwi4oCLXCI7ZnVuY3Rpb24gd28odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBUZXh0JiZ0LmRhdGEuc3Vic3RyKDAsZ28pPT09Ym99ZnVuY3Rpb24gdm8odCl7cmV0dXJuIHQuZGF0YS5sZW5ndGg9PWdvJiZ3byh0KX1mdW5jdGlvbiBfbyh0KXtyZXR1cm4gd28odCk/dC5kYXRhLnNsaWNlKGdvKTp0LmRhdGF9Y29uc3Qga289bmV3IFdlYWtNYXA7ZnVuY3Rpb24geW8odCxlKXtsZXQgbj1rby5nZXQoZSk7cmV0dXJuIG58fChuPWUod2luZG93LmRvY3VtZW50KSxrby5zZXQoZSxuKSksdC5pc0VxdWFsTm9kZShuKX1mdW5jdGlvbiB4byh0LGUpe2lmKGUua2V5Q29kZT09SmkuYXJyb3dsZWZ0KXtjb25zdCB0PWUuZG9tVGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCk7aWYoMT09dC5yYW5nZUNvdW50JiZ0LmdldFJhbmdlQXQoMCkuY29sbGFwc2VkKXtjb25zdCBlPXQuZ2V0UmFuZ2VBdCgwKS5zdGFydENvbnRhaW5lcixuPXQuZ2V0UmFuZ2VBdCgwKS5zdGFydE9mZnNldDt3byhlKSYmbjw9Z28mJnQuY29sbGFwc2UoZSwwKX19fWZ1bmN0aW9uIEFvKHQsZSxuKXtsZXQgaSxvO2lmKG49bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9LGUubGVuZ3RoPHQubGVuZ3RoKXtjb25zdCBuPXQ7dD1lLGU9bixpPVwiZGVsZXRlXCIsbz1cImluc2VydFwifWVsc2UgaT1cImluc2VydFwiLG89XCJkZWxldGVcIjtjb25zdCByPXQubGVuZ3RoLHM9ZS5sZW5ndGgsYT1zLXIsYz17fSxsPXt9O2Z1bmN0aW9uIGQoYSl7Y29uc3QgZD0odm9pZCAwIT09bFthLTFdP2xbYS0xXTotMSkrMSx1PXZvaWQgMCE9PWxbYSsxXT9sW2ErMV06LTEsaD1kPnU/LTE6MTtjW2EraF0mJihjW2FdPWNbYStoXS5zbGljZSgwKSksY1thXXx8KGNbYV09W10pLGNbYV0ucHVzaChkPnU/aTpvKTtsZXQgZj1NYXRoLm1heChkLHUpLHA9Zi1hO2Zvcig7cDxyJiZmPHMmJm4odFtwXSxlW2ZdKTspcCsrLGYrKyxjW2FdLnB1c2goXCJlcXVhbFwiKTtyZXR1cm4gZn1sZXQgdSxoPTA7ZG97Zm9yKHU9LWg7dTxhO3UrKylsW3VdPWQodSk7Zm9yKHU9YStoO3U+YTt1LS0pbFt1XT1kKHUpO2xbYV09ZChhKSxoKyt9d2hpbGUobFthXSE9PXMpO3JldHVybiBjW2FdLnNsaWNlKDEpfWZ1bmN0aW9uIENvKHQsZSxuKXt0Lmluc2VydEJlZm9yZShuLHQuY2hpbGROb2Rlc1tlXXx8bnVsbCl9ZnVuY3Rpb24gVG8odCl7Y29uc3QgZT10LnBhcmVudE5vZGU7ZSYmZS5yZW1vdmVDaGlsZCh0KX1mdW5jdGlvbiBTbyh0KXtyZXR1cm5cIltvYmplY3QgVGV4dF1cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWZ1bmN0aW9uIEVvKHQpe2lmKHQpe2lmKHQuZGVmYXVsdFZpZXcpcmV0dXJuIHQgaW5zdGFuY2VvZiB0LmRlZmF1bHRWaWV3LkRvY3VtZW50O2lmKHQub3duZXJEb2N1bWVudCYmdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KXJldHVybiB0IGluc3RhbmNlb2YgdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lk5vZGV9cmV0dXJuITF9ZnVuY3Rpb24gUG8odCxlKXtpZih0PT09ZSlyZXR1cm5bXTtyZXR1cm4gZnVuY3Rpb24odCxlKXtjb25zdCBuPVtdLHtmaXJzdEluZGV4OmksbGFzdEluZGV4T2xkOm8sbGFzdEluZGV4TmV3OnJ9PWU7ci1pPjAmJm4ucHVzaCh7aW5kZXg6aSx0eXBlOlwiaW5zZXJ0XCIsdmFsdWVzOnQuc3Vic3RyaW5nKGkscikuc3BsaXQoXCJcIil9KTtvLWk+MCYmbi5wdXNoKHtpbmRleDppKyhyLWkpLHR5cGU6XCJkZWxldGVcIixob3dNYW55Om8taX0pO3JldHVybiBufShlLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1Pbyh0LGUpLGk9Um8odCxuKSxvPVJvKGUsbikscj1PbyhpLG8pLHM9dC5sZW5ndGgtcixhPWUubGVuZ3RoLXI7cmV0dXJue2ZpcnN0SW5kZXg6bixsYXN0SW5kZXhPbGQ6cyxsYXN0SW5kZXhOZXc6YX19KHQsZSkpfWZ1bmN0aW9uIE9vKHQsZSl7Zm9yKGxldCBuPTA7bjxNYXRoLm1heCh0Lmxlbmd0aCxlLmxlbmd0aCk7bisrKWlmKHRbbl0hPT1lW25dKXJldHVybiBufWZ1bmN0aW9uIFJvKHQsZSl7cmV0dXJuIHQuc3Vic3RyaW5nKGUpLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpfWNsYXNzIElve2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5kb21Eb2N1bWVudHM9bmV3IFNldCx0aGlzLmRvbUNvbnZlcnRlcj10LHRoaXMubWFya2VkQXR0cmlidXRlcz1uZXcgU2V0LHRoaXMubWFya2VkQ2hpbGRyZW49bmV3IFNldCx0aGlzLm1hcmtlZFRleHRzPW5ldyBTZXQsdGhpcy5zZWxlY3Rpb249ZSx0aGlzLmlzRm9jdXNlZD0hMSx0aGlzLl9pbmxpbmVGaWxsZXI9bnVsbCx0aGlzLl9mYWtlU2VsZWN0aW9uQ29udGFpbmVyPW51bGx9bWFya1RvU3luYyh0LGUpe2lmKFwidGV4dFwiPT09dCl0aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZS5wYXJlbnQpJiZ0aGlzLm1hcmtlZFRleHRzLmFkZChlKTtlbHNle2lmKCF0aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZSkpcmV0dXJuO2lmKFwiYXR0cmlidXRlc1wiPT09dCl0aGlzLm1hcmtlZEF0dHJpYnV0ZXMuYWRkKGUpO2Vsc2V7aWYoXCJjaGlsZHJlblwiIT09dCl0aHJvdyBuZXcgbS5iKFwidmlldy1yZW5kZXJlci11bmtub3duLXR5cGU6IFVua25vd24gdHlwZSBwYXNzZWQgdG8gUmVuZGVyZXIubWFya1RvU3luYy5cIik7dGhpcy5tYXJrZWRDaGlsZHJlbi5hZGQoZSl9fX1yZW5kZXIoKXtsZXQgdDtmb3IoY29uc3QgdCBvZiB0aGlzLm1hcmtlZENoaWxkcmVuKXRoaXMuX3VwZGF0ZUNoaWxkcmVuTWFwcGluZ3ModCk7dGhpcy5faW5saW5lRmlsbGVyJiYhdGhpcy5faXNTZWxlY3Rpb25JbklubGluZUZpbGxlcigpJiZ0aGlzLl9yZW1vdmVJbmxpbmVGaWxsZXIoKSx0aGlzLl9pbmxpbmVGaWxsZXI/dD10aGlzLl9nZXRJbmxpbmVGaWxsZXJQb3NpdGlvbigpOnRoaXMuX25lZWRzSW5saW5lRmlsbGVyQXRTZWxlY3Rpb24oKSYmKHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLHRoaXMubWFya2VkQ2hpbGRyZW4uYWRkKHQucGFyZW50KSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tYXJrZWRBdHRyaWJ1dGVzKXRoaXMuX3VwZGF0ZUF0dHJzKHQpO2Zvcihjb25zdCBlIG9mIHRoaXMubWFya2VkQ2hpbGRyZW4pdGhpcy5fdXBkYXRlQ2hpbGRyZW4oZSx7aW5saW5lRmlsbGVyUG9zaXRpb246dH0pO2Zvcihjb25zdCBlIG9mIHRoaXMubWFya2VkVGV4dHMpIXRoaXMubWFya2VkQ2hpbGRyZW4uaGFzKGUucGFyZW50KSYmdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUucGFyZW50KSYmdGhpcy5fdXBkYXRlVGV4dChlLHtpbmxpbmVGaWxsZXJQb3NpdGlvbjp0fSk7aWYodCl7Y29uc3QgZT10aGlzLmRvbUNvbnZlcnRlci52aWV3UG9zaXRpb25Ub0RvbSh0KSxuPWUucGFyZW50Lm93bmVyRG9jdW1lbnQ7d28oZS5wYXJlbnQpP3RoaXMuX2lubGluZUZpbGxlcj1lLnBhcmVudDp0aGlzLl9pbmxpbmVGaWxsZXI9Vm8obixlLnBhcmVudCxlLm9mZnNldCl9ZWxzZSB0aGlzLl9pbmxpbmVGaWxsZXI9bnVsbDt0aGlzLl91cGRhdGVTZWxlY3Rpb24oKSx0aGlzLl91cGRhdGVGb2N1cygpLHRoaXMubWFya2VkVGV4dHMuY2xlYXIoKSx0aGlzLm1hcmtlZEF0dHJpYnV0ZXMuY2xlYXIoKSx0aGlzLm1hcmtlZENoaWxkcmVuLmNsZWFyKCl9X3VwZGF0ZUNoaWxkcmVuTWFwcGluZ3ModCl7Y29uc3QgZT10aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20odCk7aWYoIWUpcmV0dXJuO2NvbnN0IG49dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpLmNoaWxkTm9kZXMsaT1BcnJheS5mcm9tKHRoaXMuZG9tQ29udmVydGVyLnZpZXdDaGlsZHJlblRvRG9tKHQsZS5vd25lckRvY3VtZW50LHt3aXRoQ2hpbGRyZW46ITF9KSksbz10aGlzLl9kaWZmTm9kZUxpc3RzKG4saSkscj10aGlzLl9maW5kUmVwbGFjZUFjdGlvbnMobyxuLGkpO2lmKC0xIT09ci5pbmRleE9mKFwicmVwbGFjZVwiKSl7Y29uc3QgZT17ZXF1YWw6MCxpbnNlcnQ6MCxkZWxldGU6MH07Zm9yKGNvbnN0IG8gb2YgcilpZihcInJlcGxhY2VcIj09PW8pe2NvbnN0IG89ZS5lcXVhbCtlLmluc2VydCxyPWUuZXF1YWwrZS5kZWxldGUscz10LmdldENoaWxkKG8pO3MmJiFzLmlzKFwidWlFbGVtZW50XCIpJiZ0aGlzLl91cGRhdGVFbGVtZW50TWFwcGluZ3MocyxuW3JdKSxUbyhpW29dKSxlLmVxdWFsKyt9ZWxzZSBlW29dKyt9fV91cGRhdGVFbGVtZW50TWFwcGluZ3ModCxlKXtjb25zdCBuPXRoaXMuZG9tQ29udmVydGVyLm1hcERvbVRvVmlldyhlKTsoIW58fG4mJiFuLmlzU2ltaWxhcih0KSkmJnRoaXMubWFya2VkQXR0cmlidXRlcy5hZGQodCksdGhpcy5kb21Db252ZXJ0ZXIudW5iaW5kRG9tRWxlbWVudChlKSx0aGlzLmRvbUNvbnZlcnRlci5iaW5kRWxlbWVudHMoZSx0KSx0aGlzLm1hcmtlZENoaWxkcmVuLmFkZCh0KX1fZ2V0SW5saW5lRmlsbGVyUG9zaXRpb24oKXtjb25zdCB0PXRoaXMuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKTtyZXR1cm4gdC5wYXJlbnQuaXMoXCJ0ZXh0XCIpP1ZpLmNyZWF0ZUJlZm9yZSh0aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkucGFyZW50KTp0fV9pc1NlbGVjdGlvbkluSW5saW5lRmlsbGVyKCl7aWYoMSE9dGhpcy5zZWxlY3Rpb24ucmFuZ2VDb3VudHx8IXRoaXMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKXJldHVybiExO2NvbnN0IHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLGU9dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20odCk7cmV0dXJuISEoZSYmU28oZS5wYXJlbnQpJiZ3byhlLnBhcmVudCkpfV9yZW1vdmVJbmxpbmVGaWxsZXIoKXtjb25zdCB0PXRoaXMuX2lubGluZUZpbGxlcjtpZighd28odCkpdGhyb3cgbmV3IG0uYihcInZpZXctcmVuZGVyZXItZmlsbGVyLXdhcy1sb3N0OiBUaGUgaW5saW5lIGZpbGxlciBub2RlIHdhcyBsb3N0LlwiKTt2byh0KT90LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk6dC5kYXRhPXQuZGF0YS5zdWJzdHIoZ28pLHRoaXMuX2lubGluZUZpbGxlcj1udWxsfV9uZWVkc0lubGluZUZpbGxlckF0U2VsZWN0aW9uKCl7aWYoMSE9dGhpcy5zZWxlY3Rpb24ucmFuZ2VDb3VudHx8IXRoaXMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKXJldHVybiExO2NvbnN0IHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLGU9dC5wYXJlbnQsbj10Lm9mZnNldDtpZighdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUucm9vdCkpcmV0dXJuITE7aWYoIWUuaXMoXCJlbGVtZW50XCIpKXJldHVybiExO2lmKCFmdW5jdGlvbih0KXtpZihcImZhbHNlXCI9PXQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiExO2NvbnN0IGU9dC5maW5kQW5jZXN0b3IodD0+dC5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpO3JldHVybiFlfHxcInRydWVcIj09ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil9KGUpKXJldHVybiExO2lmKG49PT1lLmdldEZpbGxlck9mZnNldCgpKXJldHVybiExO2NvbnN0IGk9dC5ub2RlQmVmb3JlLG89dC5ub2RlQWZ0ZXI7cmV0dXJuIShpIGluc3RhbmNlb2YgT258fG8gaW5zdGFuY2VvZiBPbil9X3VwZGF0ZVRleHQodCxlKXtjb25zdCBuPXRoaXMuZG9tQ29udmVydGVyLmZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dCh0KSxpPXRoaXMuZG9tQ29udmVydGVyLnZpZXdUb0RvbSh0LG4ub3duZXJEb2N1bWVudCksbz1uLmRhdGE7bGV0IHI9aS5kYXRhO2NvbnN0IHM9ZS5pbmxpbmVGaWxsZXJQb3NpdGlvbjtpZihzJiZzLnBhcmVudD09dC5wYXJlbnQmJnMub2Zmc2V0PT10LmluZGV4JiYocj1ibytyKSxvIT1yKXtjb25zdCB0PVBvKG8scik7Zm9yKGNvbnN0IGUgb2YgdClcImluc2VydFwiPT09ZS50eXBlP24uaW5zZXJ0RGF0YShlLmluZGV4LGUudmFsdWVzLmpvaW4oXCJcIikpOm4uZGVsZXRlRGF0YShlLmluZGV4LGUuaG93TWFueSl9fV91cGRhdGVBdHRycyh0KXtjb25zdCBlPXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0KTtpZighZSlyZXR1cm47Y29uc3Qgbj1BcnJheS5mcm9tKGUuYXR0cmlidXRlcykubWFwKHQ9PnQubmFtZSksaT10LmdldEF0dHJpYnV0ZUtleXMoKTtmb3IoY29uc3QgbiBvZiBpKWUuc2V0QXR0cmlidXRlKG4sdC5nZXRBdHRyaWJ1dGUobikpO2Zvcihjb25zdCBpIG9mIG4pdC5oYXNBdHRyaWJ1dGUoaSl8fGUucmVtb3ZlQXR0cmlidXRlKGkpfV91cGRhdGVDaGlsZHJlbih0LGUpe2NvbnN0IG49dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpO2lmKCFuKXJldHVybjtjb25zdCBpPWUuaW5saW5lRmlsbGVyUG9zaXRpb24sbz10aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20odCkuY2hpbGROb2RlcyxyPUFycmF5LmZyb20odGhpcy5kb21Db252ZXJ0ZXIudmlld0NoaWxkcmVuVG9Eb20odCxuLm93bmVyRG9jdW1lbnQse2JpbmQ6ITAsaW5saW5lRmlsbGVyUG9zaXRpb246aX0pKTtpJiZpLnBhcmVudD09PXQmJlZvKG4ub3duZXJEb2N1bWVudCxyLGkub2Zmc2V0KTtjb25zdCBzPXRoaXMuX2RpZmZOb2RlTGlzdHMobyxyKTtsZXQgYT0wO2NvbnN0IGM9bmV3IFNldDtmb3IoY29uc3QgdCBvZiBzKVwiaW5zZXJ0XCI9PT10PyhDbyhuLGEsclthXSksYSsrKTpcImRlbGV0ZVwiPT09dD8oYy5hZGQob1thXSksVG8ob1thXSkpOih0aGlzLl9tYXJrRGVzY2VuZGFudFRleHRUb1N5bmModGhpcy5kb21Db252ZXJ0ZXIuZG9tVG9WaWV3KHJbYV0pKSxhKyspO2Zvcihjb25zdCB0IG9mIGMpdC5wYXJlbnROb2RlfHx0aGlzLmRvbUNvbnZlcnRlci51bmJpbmREb21FbGVtZW50KHQpfV9kaWZmTm9kZUxpc3RzKHQsZSl7cmV0dXJuIEFvKHQsZSxmdW5jdGlvbih0LGUsbil7aWYoZT09PW4pcmV0dXJuITA7aWYoU28oZSkmJlNvKG4pKXJldHVybiBlLmRhdGE9PT1uLmRhdGE7aWYoeW8oZSx0KSYmeW8obix0KSlyZXR1cm4hMDtyZXR1cm4hMX0uYmluZChudWxsLHRoaXMuZG9tQ29udmVydGVyLmJsb2NrRmlsbGVyKSl9X2ZpbmRSZXBsYWNlQWN0aW9ucyh0LGUsbil7aWYoLTE9PT10LmluZGV4T2YoXCJpbnNlcnRcIil8fC0xPT09dC5pbmRleE9mKFwiZGVsZXRlXCIpKXJldHVybiB0O2xldCBpPVtdLG89W10scj1bXTtjb25zdCBzPXtlcXVhbDowLGluc2VydDowLGRlbGV0ZTowfTtmb3IoY29uc3QgYSBvZiB0KVwiaW5zZXJ0XCI9PT1hP3IucHVzaChuW3MuZXF1YWwrcy5pbnNlcnRdKTpcImRlbGV0ZVwiPT09YT9vLnB1c2goZVtzLmVxdWFsK3MuZGVsZXRlXSk6KChpPWkuY29uY2F0KEFvKG8scixNbykubWFwKHQ9PlwiZXF1YWxcIj09PXQ/XCJyZXBsYWNlXCI6dCkpKS5wdXNoKFwiZXF1YWxcIiksbz1bXSxyPVtdKSxzW2FdKys7cmV0dXJuIGkuY29uY2F0KEFvKG8scixNbykubWFwKHQ9PlwiZXF1YWxcIj09PXQ/XCJyZXBsYWNlXCI6dCkpfV9tYXJrRGVzY2VuZGFudFRleHRUb1N5bmModCl7aWYodClpZih0LmlzKFwidGV4dFwiKSl0aGlzLm1hcmtlZFRleHRzLmFkZCh0KTtlbHNlIGlmKHQuaXMoXCJlbGVtZW50XCIpKWZvcihjb25zdCBlIG9mIHQuZ2V0Q2hpbGRyZW4oKSl0aGlzLl9tYXJrRGVzY2VuZGFudFRleHRUb1N5bmMoZSl9X3VwZGF0ZVNlbGVjdGlvbigpe2lmKDA9PT10aGlzLnNlbGVjdGlvbi5yYW5nZUNvdW50KXJldHVybiB0aGlzLl9yZW1vdmVEb21TZWxlY3Rpb24oKSx2b2lkIHRoaXMuX3JlbW92ZUZha2VTZWxlY3Rpb24oKTtjb25zdCB0PXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0aGlzLnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQpO3RoaXMuaXNGb2N1c2VkJiZ0JiYodGhpcy5zZWxlY3Rpb24uaXNGYWtlP3RoaXMuX3VwZGF0ZUZha2VTZWxlY3Rpb24odCk6KHRoaXMuX3JlbW92ZUZha2VTZWxlY3Rpb24oKSx0aGlzLl91cGRhdGVEb21TZWxlY3Rpb24odCkpKX1fdXBkYXRlRmFrZVNlbGVjdGlvbih0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudDtsZXQgbj10aGlzLl9mYWtlU2VsZWN0aW9uQ29udGFpbmVyO258fCh0aGlzLl9mYWtlU2VsZWN0aW9uQ29udGFpbmVyPW49ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLE9iamVjdC5hc3NpZ24obi5zdHlsZSx7cG9zaXRpb246XCJmaXhlZFwiLHRvcDowLGxlZnQ6XCItOTk5OXB4XCIsd2lkdGg6XCI0MnB4XCJ9KSxuLmFwcGVuZENoaWxkKGUuY3JlYXRlVGV4dE5vZGUoXCLCoFwiKSkpLG4ucGFyZW50RWxlbWVudHx8dC5hcHBlbmRDaGlsZChuKSxuLmZpcnN0Q2hpbGQuZGF0YT10aGlzLnNlbGVjdGlvbi5mYWtlU2VsZWN0aW9uTGFiZWx8fFwiwqBcIjtjb25zdCBpPWUuZ2V0U2VsZWN0aW9uKCksbz1lLmNyZWF0ZVJhbmdlKCk7aS5yZW1vdmVBbGxSYW5nZXMoKSxvLnNlbGVjdE5vZGVDb250ZW50cyhuKSxpLmFkZFJhbmdlKG8pLHRoaXMuZG9tQ29udmVydGVyLmJpbmRGYWtlU2VsZWN0aW9uKG4sdGhpcy5zZWxlY3Rpb24pfV91cGRhdGVEb21TZWxlY3Rpb24odCl7Y29uc3QgZT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCk7aWYoIXRoaXMuX2RvbVNlbGVjdGlvbk5lZWRzVXBkYXRlKGUpKXJldHVybjtjb25zdCBuPXRoaXMuZG9tQ29udmVydGVyLnZpZXdQb3NpdGlvblRvRG9tKHRoaXMuc2VsZWN0aW9uLmFuY2hvciksaT10aGlzLmRvbUNvbnZlcnRlci52aWV3UG9zaXRpb25Ub0RvbSh0aGlzLnNlbGVjdGlvbi5mb2N1cyk7dC5mb2N1cygpLGUuY29sbGFwc2Uobi5wYXJlbnQsbi5vZmZzZXQpLGUuZXh0ZW5kKGkucGFyZW50LGkub2Zmc2V0KX1fZG9tU2VsZWN0aW9uTmVlZHNVcGRhdGUodCl7aWYoIXRoaXMuZG9tQ29udmVydGVyLmlzRG9tU2VsZWN0aW9uQ29ycmVjdCh0KSlyZXR1cm4hMDtjb25zdCBlPXQmJnRoaXMuZG9tQ29udmVydGVyLmRvbVNlbGVjdGlvblRvVmlldyh0KTtyZXR1cm4oIWV8fCF0aGlzLnNlbGVjdGlvbi5pc0VxdWFsKGUpKSYmISghdGhpcy5zZWxlY3Rpb24uaXNDb2xsYXBzZWQmJnRoaXMuc2VsZWN0aW9uLmlzU2ltaWxhcihlKSl9X3JlbW92ZURvbVNlbGVjdGlvbigpe2Zvcihjb25zdCB0IG9mIHRoaXMuZG9tRG9jdW1lbnRzKXtpZih0LmdldFNlbGVjdGlvbigpLnJhbmdlQ291bnQpe2NvbnN0IGU9dC5hY3RpdmVFbGVtZW50LG49dGhpcy5kb21Db252ZXJ0ZXIubWFwRG9tVG9WaWV3KGUpO2UmJm4mJnQuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fX1fcmVtb3ZlRmFrZVNlbGVjdGlvbigpe2NvbnN0IHQ9dGhpcy5fZmFrZVNlbGVjdGlvbkNvbnRhaW5lcjt0JiZ0LnJlbW92ZSgpfV91cGRhdGVGb2N1cygpe2lmKHRoaXMuaXNGb2N1c2VkKXtjb25zdCB0PXRoaXMuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudDt0JiZ0aGlzLmRvbUNvbnZlcnRlci5mb2N1cyh0KX19fWZ1bmN0aW9uIFZvKHQsZSxuKXtjb25zdCBpPWUgaW5zdGFuY2VvZiBBcnJheT9lOmUuY2hpbGROb2RlcyxvPWlbbl07aWYoU28obykpcmV0dXJuIG8uZGF0YT1ibytvLmRhdGEsbzt7Y29uc3Qgbz10LmNyZWF0ZVRleHROb2RlKGJvKTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9pLnNwbGljZShuLDAsbyk6Q28oZSxuLG8pLG99fWZ1bmN0aW9uIE1vKHQsZSl7cmV0dXJuIEVvKHQpJiZFbyhlKSYmIVNvKHQpJiYhU28oZSkmJnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCl9UChJbyx5aSk7dmFyIEZvPXt3aW5kb3c6d2luZG93LGRvY3VtZW50OmRvY3VtZW50fTtmdW5jdGlvbiBObyh0KXtsZXQgZT0wO2Zvcig7dC5wcmV2aW91c1NpYmxpbmc7KXQ9dC5wcmV2aW91c1NpYmxpbmcsZSsrO3JldHVybiBlfWZ1bmN0aW9uIERvKHQpe2NvbnN0IGU9W107Zm9yKDt0JiZ0Lm5vZGVUeXBlIT1Ob2RlLkRPQ1VNRU5UX05PREU7KWUudW5zaGlmdCh0KSx0PXQucGFyZW50Tm9kZTtyZXR1cm4gZX12YXIgQm89ZnVuY3Rpb24odCl7cmV0dXJuISF0JiYxPT09dC5ub2RlVHlwZSYmcyh0KSYmIWYodCl9O2NsYXNzIExve2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMuYmxvY2tGaWxsZXI9dC5ibG9ja0ZpbGxlcnx8cG8sdGhpcy5wcmVFbGVtZW50cz1bXCJwcmVcIl0sdGhpcy5ibG9ja0VsZW1lbnRzPVtcInBcIixcImRpdlwiLFwiaDFcIixcImgyXCIsXCJoM1wiLFwiaDRcIixcImg1XCIsXCJoNlwiXSx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nPW5ldyBXZWFrTWFwLHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fZmFrZVNlbGVjdGlvbk1hcHBpbmc9bmV3IFdlYWtNYXB9YmluZEZha2VTZWxlY3Rpb24odCxlKXt0aGlzLl9mYWtlU2VsZWN0aW9uTWFwcGluZy5zZXQodCxuZXcgRGkoZSkpfWZha2VTZWxlY3Rpb25Ub1ZpZXcodCl7cmV0dXJuIHRoaXMuX2Zha2VTZWxlY3Rpb25NYXBwaW5nLmdldCh0KX1iaW5kRWxlbWVudHModCxlKXt0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLnNldCh0LGUpLHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmcuc2V0KGUsdCl9dW5iaW5kRG9tRWxlbWVudCh0KXtjb25zdCBlPXRoaXMuX2RvbVRvVmlld01hcHBpbmcuZ2V0KHQpO2lmKGUpe3RoaXMuX2RvbVRvVmlld01hcHBpbmcuZGVsZXRlKHQpLHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmcuZGVsZXRlKGUpO2Zvcihjb25zdCBlIG9mIEFycmF5LmZyb20odC5jaGlsZE5vZGVzKSl0aGlzLnVuYmluZERvbUVsZW1lbnQoZSl9fWJpbmREb2N1bWVudEZyYWdtZW50cyh0LGUpe3RoaXMuX2RvbVRvVmlld01hcHBpbmcuc2V0KHQsZSksdGhpcy5fdmlld1RvRG9tTWFwcGluZy5zZXQoZSx0KX12aWV3VG9Eb20odCxlLG49e30pe2lmKHQuaXMoXCJ0ZXh0XCIpKXtjb25zdCBuPXRoaXMuX3Byb2Nlc3NEYXRhRnJvbVZpZXdUZXh0KHQpO3JldHVybiBlLmNyZWF0ZVRleHROb2RlKG4pfXtpZih0aGlzLm1hcFZpZXdUb0RvbSh0KSlyZXR1cm4gdGhpcy5tYXBWaWV3VG9Eb20odCk7bGV0IGk7aWYodC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpaT1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuLmJpbmQmJnRoaXMuYmluZERvY3VtZW50RnJhZ21lbnRzKGksdCk7ZWxzZXtpZih0LmlzKFwidWlFbGVtZW50XCIpKXJldHVybiBpPXQucmVuZGVyKGUpLG4uYmluZCYmdGhpcy5iaW5kRWxlbWVudHMoaSx0KSxpO2k9ZS5jcmVhdGVFbGVtZW50KHQubmFtZSksbi5iaW5kJiZ0aGlzLmJpbmRFbGVtZW50cyhpLHQpO2Zvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKWkuc2V0QXR0cmlidXRlKGUsdC5nZXRBdHRyaWJ1dGUoZSkpfWlmKG4ud2l0aENoaWxkcmVufHx2b2lkIDA9PT1uLndpdGhDaGlsZHJlbilmb3IoY29uc3QgbyBvZiB0aGlzLnZpZXdDaGlsZHJlblRvRG9tKHQsZSxuKSlpLmFwcGVuZENoaWxkKG8pO3JldHVybiBpfX0qdmlld0NoaWxkcmVuVG9Eb20odCxlLG49e30pe2NvbnN0IGk9dC5nZXRGaWxsZXJPZmZzZXQmJnQuZ2V0RmlsbGVyT2Zmc2V0KCk7bGV0IG89MDtmb3IoY29uc3QgciBvZiB0LmdldENoaWxkcmVuKCkpaT09PW8mJih5aWVsZCB0aGlzLmJsb2NrRmlsbGVyKGUpKSx5aWVsZCB0aGlzLnZpZXdUb0RvbShyLGUsbiksbysrO2k9PT1vJiYoeWllbGQgdGhpcy5ibG9ja0ZpbGxlcihlKSl9dmlld1JhbmdlVG9Eb20odCl7Y29uc3QgZT10aGlzLnZpZXdQb3NpdGlvblRvRG9tKHQuc3RhcnQpLG49dGhpcy52aWV3UG9zaXRpb25Ub0RvbSh0LmVuZCksaT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBpLnNldFN0YXJ0KGUucGFyZW50LGUub2Zmc2V0KSxpLnNldEVuZChuLnBhcmVudCxuLm9mZnNldCksaX12aWV3UG9zaXRpb25Ub0RvbSh0KXtjb25zdCBlPXQucGFyZW50O2lmKGUuaXMoXCJ0ZXh0XCIpKXtjb25zdCBuPXRoaXMuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KGUpO2lmKCFuKXJldHVybiBudWxsO2xldCBpPXQub2Zmc2V0O3JldHVybiB3byhuKSYmKGkrPWdvKSx7cGFyZW50Om4sb2Zmc2V0Oml9fXtsZXQgbixpLG87aWYoMD09PXQub2Zmc2V0KXtpZighKG49dGhpcy5tYXBWaWV3VG9Eb20oZSkpKXJldHVybiBudWxsO289bi5jaGlsZE5vZGVzWzBdfWVsc2V7Y29uc3QgZT10Lm5vZGVCZWZvcmU7aWYoIShpPWUuaXMoXCJ0ZXh0XCIpP3RoaXMuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KGUpOnRoaXMubWFwVmlld1RvRG9tKHQubm9kZUJlZm9yZSkpKXJldHVybiBudWxsO249aS5wYXJlbnROb2RlLG89aS5uZXh0U2libGluZ31pZihTbyhvKSYmd28obykpcmV0dXJue3BhcmVudDpvLG9mZnNldDpnb307cmV0dXJue3BhcmVudDpuLG9mZnNldDppP05vKGkpKzE6MH19fWRvbVRvVmlldyh0LGU9e30pe2lmKHlvKHQsdGhpcy5ibG9ja0ZpbGxlcikpcmV0dXJuIG51bGw7Y29uc3Qgbj10aGlzLmdldFBhcmVudFVJRWxlbWVudCh0LHRoaXMuX2RvbVRvVmlld01hcHBpbmcpO2lmKG4pcmV0dXJuIG47aWYoU28odCkpe2lmKHZvKHQpKXJldHVybiBudWxsO3tjb25zdCBlPXRoaXMuX3Byb2Nlc3NEYXRhRnJvbURvbVRleHQodCk7cmV0dXJuXCJcIj09PWU/bnVsbDpuZXcgT24oZSl9fWlmKHRoaXMuaXNDb21tZW50KHQpKXJldHVybiBudWxsO3tpZih0aGlzLm1hcERvbVRvVmlldyh0KSlyZXR1cm4gdGhpcy5tYXBEb21Ub1ZpZXcodCk7bGV0IG47aWYodGhpcy5pc0RvY3VtZW50RnJhZ21lbnQodCkpbj1uZXcgbm8sZS5iaW5kJiZ0aGlzLmJpbmREb2N1bWVudEZyYWdtZW50cyh0LG4pO2Vsc2V7Y29uc3QgaT1lLmtlZXBPcmlnaW5hbENhc2U/dC50YWdOYW1lOnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO249bmV3IE5uKGkpLGUuYmluZCYmdGhpcy5iaW5kRWxlbWVudHModCxuKTtjb25zdCBvPXQuYXR0cmlidXRlcztmb3IobGV0IHQ9by5sZW5ndGgtMTt0Pj0wO3QtLSluLl9zZXRBdHRyaWJ1dGUob1t0XS5uYW1lLG9bdF0udmFsdWUpfWlmKGUud2l0aENoaWxkcmVufHx2b2lkIDA9PT1lLndpdGhDaGlsZHJlbilmb3IoY29uc3QgaSBvZiB0aGlzLmRvbUNoaWxkcmVuVG9WaWV3KHQsZSkpbi5fYXBwZW5kQ2hpbGQoaSk7cmV0dXJuIG59fSpkb21DaGlsZHJlblRvVmlldyh0LGU9e30pe2ZvcihsZXQgbj0wO248dC5jaGlsZE5vZGVzLmxlbmd0aDtuKyspe2NvbnN0IGk9dC5jaGlsZE5vZGVzW25dLG89dGhpcy5kb21Ub1ZpZXcoaSxlKTtudWxsIT09byYmKHlpZWxkIG8pfX1kb21TZWxlY3Rpb25Ub1ZpZXcodCl7aWYoMT09PXQucmFuZ2VDb3VudCl7bGV0IGU9dC5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyO1NvKGUpJiYoZT1lLnBhcmVudE5vZGUpO2NvbnN0IG49dGhpcy5mYWtlU2VsZWN0aW9uVG9WaWV3KGUpO2lmKG4pcmV0dXJuIG59Y29uc3QgZT10aGlzLmlzRG9tU2VsZWN0aW9uQmFja3dhcmQodCksbj1bXTtmb3IobGV0IGU9MDtlPHQucmFuZ2VDb3VudDtlKyspe2NvbnN0IGk9dC5nZXRSYW5nZUF0KGUpLG89dGhpcy5kb21SYW5nZVRvVmlldyhpKTtvJiZuLnB1c2gobyl9cmV0dXJuIG5ldyBEaShuLHtiYWNrd2FyZDplfSl9ZG9tUmFuZ2VUb1ZpZXcodCl7Y29uc3QgZT10aGlzLmRvbVBvc2l0aW9uVG9WaWV3KHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCksbj10aGlzLmRvbVBvc2l0aW9uVG9WaWV3KHQuZW5kQ29udGFpbmVyLHQuZW5kT2Zmc2V0KTtyZXR1cm4gZSYmbj9uZXcgTWkoZSxuKTpudWxsfWRvbVBvc2l0aW9uVG9WaWV3KHQsZSl7aWYoeW8odCx0aGlzLmJsb2NrRmlsbGVyKSlyZXR1cm4gdGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LnBhcmVudE5vZGUsTm8odCkpO2NvbnN0IG49dGhpcy5tYXBEb21Ub1ZpZXcodCk7aWYobiYmbi5pcyhcInVpRWxlbWVudFwiKSlyZXR1cm4gVmkuY3JlYXRlQmVmb3JlKG4pO2lmKFNvKHQpKXtpZih2byh0KSlyZXR1cm4gdGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LnBhcmVudE5vZGUsTm8odCkpO2NvbnN0IG49dGhpcy5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KHQpO2xldCBpPWU7cmV0dXJuIG4/KHdvKHQpJiYoaT0oaS09Z28pPDA/MDppKSxuZXcgVmkobixpKSk6bnVsbH1pZigwPT09ZSl7Y29uc3QgZT10aGlzLm1hcERvbVRvVmlldyh0KTtpZihlKXJldHVybiBuZXcgVmkoZSwwKX1lbHNle2NvbnN0IG49dC5jaGlsZE5vZGVzW2UtMV0saT1TbyhuKT90aGlzLmZpbmRDb3JyZXNwb25kaW5nVmlld1RleHQobik6dGhpcy5tYXBEb21Ub1ZpZXcobik7aWYoaSYmaS5wYXJlbnQpcmV0dXJuIG5ldyBWaShpLnBhcmVudCxpLmluZGV4KzEpfXJldHVybiBudWxsfW1hcERvbVRvVmlldyh0KXtyZXR1cm4gdGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQodCl8fHRoaXMuX2RvbVRvVmlld01hcHBpbmcuZ2V0KHQpfWZpbmRDb3JyZXNwb25kaW5nVmlld1RleHQodCl7aWYodm8odCkpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLmdldFBhcmVudFVJRWxlbWVudCh0KTtpZihlKXJldHVybiBlO2NvbnN0IG49dC5wcmV2aW91c1NpYmxpbmc7aWYobil7aWYoIXRoaXMuaXNFbGVtZW50KG4pKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5tYXBEb21Ub1ZpZXcobik7aWYodCl7cmV0dXJuIHQubmV4dFNpYmxpbmcgaW5zdGFuY2VvZiBPbj90Lm5leHRTaWJsaW5nOm51bGx9fWVsc2V7Y29uc3QgZT10aGlzLm1hcERvbVRvVmlldyh0LnBhcmVudE5vZGUpO2lmKGUpe2NvbnN0IHQ9ZS5nZXRDaGlsZCgwKTtyZXR1cm4gdCBpbnN0YW5jZW9mIE9uP3Q6bnVsbH19cmV0dXJuIG51bGx9bWFwVmlld1RvRG9tKHQpe3JldHVybiB0aGlzLl92aWV3VG9Eb21NYXBwaW5nLmdldCh0KX1maW5kQ29ycmVzcG9uZGluZ0RvbVRleHQodCl7Y29uc3QgZT10LnByZXZpb3VzU2libGluZztyZXR1cm4gZSYmdGhpcy5tYXBWaWV3VG9Eb20oZSk/dGhpcy5tYXBWaWV3VG9Eb20oZSkubmV4dFNpYmxpbmc6IWUmJnQucGFyZW50JiZ0aGlzLm1hcFZpZXdUb0RvbSh0LnBhcmVudCk/dGhpcy5tYXBWaWV3VG9Eb20odC5wYXJlbnQpLmNoaWxkTm9kZXNbMF06bnVsbH1mb2N1cyh0KXtjb25zdCBlPXRoaXMubWFwVmlld1RvRG9tKHQpO2lmKGUmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50IT09ZSl7Y29uc3R7c2Nyb2xsWDp0LHNjcm9sbFk6bn09Rm8ud2luZG93LGk9W107em8oZSx0PT57Y29uc3R7c2Nyb2xsTGVmdDplLHNjcm9sbFRvcDpufT10O2kucHVzaChbZSxuXSl9KSxlLmZvY3VzKCksem8oZSx0PT57Y29uc3RbZSxuXT1pLnNoaWZ0KCk7dC5zY3JvbGxMZWZ0PWUsdC5zY3JvbGxUb3A9bn0pLEZvLndpbmRvdy5zY3JvbGxUbyh0LG4pfX1pc0VsZW1lbnQodCl7cmV0dXJuIHQmJnQubm9kZVR5cGU9PU5vZGUuRUxFTUVOVF9OT0RFfWlzRG9jdW1lbnRGcmFnbWVudCh0KXtyZXR1cm4gdCYmdC5ub2RlVHlwZT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFfWlzQ29tbWVudCh0KXtyZXR1cm4gdCYmdC5ub2RlVHlwZT09Tm9kZS5DT01NRU5UX05PREV9aXNEb21TZWxlY3Rpb25CYWNrd2FyZCh0KXtpZih0LmlzQ29sbGFwc2VkKXJldHVybiExO2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtlLnNldFN0YXJ0KHQuYW5jaG9yTm9kZSx0LmFuY2hvck9mZnNldCksZS5zZXRFbmQodC5mb2N1c05vZGUsdC5mb2N1c09mZnNldCk7Y29uc3Qgbj1lLmNvbGxhcHNlZDtyZXR1cm4gZS5kZXRhY2goKSxufWdldFBhcmVudFVJRWxlbWVudCh0KXtjb25zdCBlPURvKHQpO2ZvcihlLnBvcCgpO2UubGVuZ3RoOyl7Y29uc3QgdD1lLnBvcCgpLG49dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5nZXQodCk7aWYobiYmbi5pcyhcInVpRWxlbWVudFwiKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH1pc0RvbVNlbGVjdGlvbkNvcnJlY3QodCl7cmV0dXJuIHRoaXMuX2lzRG9tU2VsZWN0aW9uUG9zaXRpb25Db3JyZWN0KHQuYW5jaG9yTm9kZSx0LmFuY2hvck9mZnNldCkmJnRoaXMuX2lzRG9tU2VsZWN0aW9uUG9zaXRpb25Db3JyZWN0KHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQpfV9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdCh0LGUpe2lmKFNvKHQpJiZ3byh0KSYmZTxnbylyZXR1cm4hMTtpZih0aGlzLmlzRWxlbWVudCh0KSYmd28odC5jaGlsZE5vZGVzW2VdKSlyZXR1cm4hMTtjb25zdCBuPXRoaXMubWFwRG9tVG9WaWV3KHQpO3JldHVybiFufHwhbi5pcyhcInVpRWxlbWVudFwiKX1fcHJvY2Vzc0RhdGFGcm9tVmlld1RleHQodCl7bGV0IGU9dC5kYXRhO2lmKHQuZ2V0QW5jZXN0b3JzKCkuc29tZSh0PT50aGlzLnByZUVsZW1lbnRzLmluY2x1ZGVzKHQubmFtZSkpKXJldHVybiBlO2lmKFwiIFwiPT1lLmNoYXJBdCgwKSl7Y29uc3Qgbj10aGlzLl9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZSh0LCExKTshKG4mJnRoaXMuX25vZGVFbmRzV2l0aFNwYWNlKG4pKSYmbnx8KGU9XCLCoFwiK2Uuc3Vic3RyKDEpKX1pZihcIiBcIj09ZS5jaGFyQXQoZS5sZW5ndGgtMSkpe3RoaXMuX2dldFRvdWNoaW5nVmlld1RleHROb2RlKHQsITApfHwoZT1lLnN1YnN0cigwLGUubGVuZ3RoLTEpK1wiwqBcIil9cmV0dXJuIGUucmVwbGFjZSgvIHsyfS9nLFwiIMKgXCIpfV9ub2RlRW5kc1dpdGhTcGFjZSh0KXtpZih0LmdldEFuY2VzdG9ycygpLnNvbWUodD0+dGhpcy5wcmVFbGVtZW50cy5pbmNsdWRlcyh0Lm5hbWUpKSlyZXR1cm4hMTtjb25zdCBlPXRoaXMuX3Byb2Nlc3NEYXRhRnJvbVZpZXdUZXh0KHQpO3JldHVyblwiIFwiPT1lLmNoYXJBdChlLmxlbmd0aC0xKX1fcHJvY2Vzc0RhdGFGcm9tRG9tVGV4dCh0KXtsZXQgZT10LmRhdGE7aWYoam8odCx0aGlzLnByZUVsZW1lbnRzKSlyZXR1cm4gX28odCk7ZT1lLnJlcGxhY2UoL1sgXFxuXFx0XFxyXXsxLH0vZyxcIiBcIik7Y29uc3Qgbj10aGlzLl9nZXRUb3VjaGluZ0lubGluZURvbU5vZGUodCwhMSksaT10aGlzLl9nZXRUb3VjaGluZ0lubGluZURvbU5vZGUodCwhMCksbz10aGlzLl9jaGVja1Nob3VsZExlZnRUcmltRG9tVGV4dChuKSxyPXRoaXMuX2NoZWNrU2hvdWxkUmlnaHRUcmltRG9tVGV4dCh0LGkpO3JldHVybiBvJiYoZT1lLnJlcGxhY2UoL14gLyxcIlwiKSksciYmKGU9ZS5yZXBsYWNlKC8gJC8sXCJcIikpLGU9KGU9X28obmV3IFRleHQoZSkpKS5yZXBsYWNlKC8gXFx1MDBBMC9nLFwiICBcIiksbyYmKGU9ZS5yZXBsYWNlKC9eXFx1MDBBMC8sXCIgXCIpKSxTbyhpKSYmXCLCoFwiIT1pLmRhdGEuY2hhckF0KDApfHwoZT1lLnJlcGxhY2UoL1xcdTAwQTAoICopJC8sXCIgJDFcIikpLGV9X2NoZWNrU2hvdWxkTGVmdFRyaW1Eb21UZXh0KHQpe3JldHVybiF0fHwoISFCbyh0KXx8L1teXFxTXFx1MDBBMF0vLnRlc3QodC5kYXRhLmNoYXJBdCh0LmRhdGEubGVuZ3RoLTEpKSl9X2NoZWNrU2hvdWxkUmlnaHRUcmltRG9tVGV4dCh0LGUpe3JldHVybiFlJiYhd28odCl9X2dldFRvdWNoaW5nVmlld1RleHROb2RlKHQsZSl7Y29uc3Qgbj1uZXcgSWkoe3N0YXJ0UG9zaXRpb246ZT9WaS5jcmVhdGVBZnRlcih0KTpWaS5jcmVhdGVCZWZvcmUodCksZGlyZWN0aW9uOmU/XCJmb3J3YXJkXCI6XCJiYWNrd2FyZFwifSk7Zm9yKGNvbnN0IHQgb2Ygbil7aWYodC5pdGVtLmlzKFwiY29udGFpbmVyRWxlbWVudFwiKSlyZXR1cm4gbnVsbDtpZih0Lml0ZW0uaXMoXCJiclwiKSlyZXR1cm4gbnVsbDtpZih0Lml0ZW0uaXMoXCJ0ZXh0UHJveHlcIikpcmV0dXJuIHQuaXRlbX1yZXR1cm4gbnVsbH1fZ2V0VG91Y2hpbmdJbmxpbmVEb21Ob2RlKHQsZSl7aWYoIXQucGFyZW50Tm9kZSlyZXR1cm4gbnVsbDtjb25zdCBuPWU/XCJuZXh0Tm9kZVwiOlwicHJldmlvdXNOb2RlXCIsaT10Lm93bmVyRG9jdW1lbnQsbz1Ebyh0KVswXSxyPWkuY3JlYXRlVHJlZVdhbGtlcihvLE5vZGVGaWx0ZXIuU0hPV19URVhUfE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULHthY2NlcHROb2RlOnQ9PlNvKHQpP05vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDpcIkJSXCI9PXQudGFnTmFtZT9Ob2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ6Tm9kZUZpbHRlci5GSUxURVJfU0tJUH0pO3IuY3VycmVudE5vZGU9dDtjb25zdCBzPXJbbl0oKTtpZihudWxsIT09cyl7Y29uc3QgZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49RG8odCksaT1EbyhlKTtsZXQgbz0wO2Zvcig7bltvXT09aVtvXSYmbltvXTspbysrO3JldHVybiAwPT09bz9udWxsOm5bby0xXX0odCxzKTtpZihlJiYham8odCx0aGlzLmJsb2NrRWxlbWVudHMsZSkmJiFqbyhzLHRoaXMuYmxvY2tFbGVtZW50cyxlKSlyZXR1cm4gc31yZXR1cm4gbnVsbH19ZnVuY3Rpb24gam8odCxlLG4pe2xldCBpPURvKHQpO3JldHVybiBuJiYoaT1pLnNsaWNlKGkuaW5kZXhPZihuKSsxKSksaS5zb21lKHQ9PnQudGFnTmFtZSYmZS5pbmNsdWRlcyh0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpfWZ1bmN0aW9uIHpvKHQsZSl7Zm9yKDt0JiZ0IT1Gby5kb2N1bWVudDspZSh0KSx0PXQucGFyZW50Tm9kZX1mdW5jdGlvbiBxbyh0KXtjb25zdCBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodCk7cmV0dXJuXCJbb2JqZWN0IFdpbmRvd11cIj09ZXx8XCJbb2JqZWN0IGdsb2JhbF1cIj09ZX12YXIgVW89Ymkoe30seSx7bGlzdGVuVG8odCwuLi5lKXtpZihFbyh0KXx8cW8odCkpe2NvbnN0IG49dGhpcy5fZ2V0UHJveHlFbWl0dGVyKHQpfHxuZXcgSG8odCk7bi5hdHRhY2goLi4uZSksdD1ufXkubGlzdGVuVG8uY2FsbCh0aGlzLHQsLi4uZSl9LHN0b3BMaXN0ZW5pbmcodCxlLG4pe2lmKEVvKHQpfHxxbyh0KSl7Y29uc3QgZT10aGlzLl9nZXRQcm94eUVtaXR0ZXIodCk7aWYoIWUpcmV0dXJuO3Q9ZX15LnN0b3BMaXN0ZW5pbmcuY2FsbCh0aGlzLHQsZSxuKSx0IGluc3RhbmNlb2YgSG8mJnQuZGV0YWNoKGUpfSxfZ2V0UHJveHlFbWl0dGVyKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiB0W19dJiZ0W19dW2VdP3RbX11bZV0uZW1pdHRlcjpudWxsfSh0aGlzLFdvKHQpKX19KTtjbGFzcyBIb3tjb25zdHJ1Y3Rvcih0KXt4KHRoaXMsV28odCkpLHRoaXMuX2RvbU5vZGU9dH19ZnVuY3Rpb24gV28odCl7cmV0dXJuIHRbXCJkYXRhLWNrLWV4cGFuZG9cIl18fCh0W1wiZGF0YS1jay1leHBhbmRvXCJdPXcoKSl9YmkoSG8ucHJvdG90eXBlLHkse2F0dGFjaCh0LGUsbj17fSl7aWYodGhpcy5fZG9tTGlzdGVuZXJzJiZ0aGlzLl9kb21MaXN0ZW5lcnNbdF0pcmV0dXJuO2NvbnN0IGk9dGhpcy5fY3JlYXRlRG9tTGlzdGVuZXIodCwhIW4udXNlQ2FwdHVyZSk7dGhpcy5fZG9tTm9kZS5hZGRFdmVudExpc3RlbmVyKHQsaSwhIW4udXNlQ2FwdHVyZSksdGhpcy5fZG9tTGlzdGVuZXJzfHwodGhpcy5fZG9tTGlzdGVuZXJzPXt9KSx0aGlzLl9kb21MaXN0ZW5lcnNbdF09aX0sZGV0YWNoKHQpe2xldCBlOyF0aGlzLl9kb21MaXN0ZW5lcnNbdF18fChlPXRoaXMuX2V2ZW50c1t0XSkmJmUuY2FsbGJhY2tzLmxlbmd0aHx8dGhpcy5fZG9tTGlzdGVuZXJzW3RdLnJlbW92ZUxpc3RlbmVyKCl9LF9jcmVhdGVEb21MaXN0ZW5lcih0LGUpe2NvbnN0IG49ZT0+e3RoaXMuZmlyZSh0LGUpfTtyZXR1cm4gbi5yZW1vdmVMaXN0ZW5lcj0oKCk9Pnt0aGlzLl9kb21Ob2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLGUpLGRlbGV0ZSB0aGlzLl9kb21MaXN0ZW5lcnNbdF19KSxufX0pO2NsYXNzICRve2NvbnN0cnVjdG9yKHQpe3RoaXMudmlldz10LHRoaXMuZG9jdW1lbnQ9dC5kb2N1bWVudCx0aGlzLmlzRW5hYmxlZD0hMX1lbmFibGUoKXt0aGlzLmlzRW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQ9ITF9ZGVzdHJveSgpe3RoaXMuZGlzYWJsZSgpLHRoaXMuc3RvcExpc3RlbmluZygpfX1QKCRvLFVvKTt2YXIgS289XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI7dmFyIEdvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLnNldCh0LEtvKSx0aGlzfTt2YXIgSm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfTtmdW5jdGlvbiBRbyh0KXt2YXIgZT0tMSxuPXQ/dC5sZW5ndGg6MDtmb3IodGhpcy5fX2RhdGFfXz1uZXcgVHQ7KytlPG47KXRoaXMuYWRkKHRbZV0pfVFvLnByb3RvdHlwZS5hZGQ9UW8ucHJvdG90eXBlLnB1c2g9R28sUW8ucHJvdG90eXBlLmhhcz1Kbzt2YXIgWW89UW87dmFyIFhvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLGk9dC5sZW5ndGg7KytuPGk7KWlmKGUodFtuXSxuLHQpKXJldHVybiEwO3JldHVybiExfSxabz0xLHRyPTI7dmFyIGVyPWZ1bmN0aW9uKHQsZSxuLGksbyxyKXt2YXIgcz1vJnRyLGE9dC5sZW5ndGgsYz1lLmxlbmd0aDtpZihhIT1jJiYhKHMmJmM+YSkpcmV0dXJuITE7dmFyIGw9ci5nZXQodCk7aWYobClyZXR1cm4gbD09ZTt2YXIgZD0tMSx1PSEwLGg9byZabz9uZXcgWW86dm9pZCAwO2ZvcihyLnNldCh0LGUpOysrZDxhOyl7dmFyIGY9dFtkXSxwPWVbZF07aWYoaSl2YXIgbT1zP2kocCxmLGQsZSx0LHIpOmkoZixwLGQsdCxlLHIpO2lmKHZvaWQgMCE9PW0pe2lmKG0pY29udGludWU7dT0hMTticmVha31pZihoKXtpZighWG8oZSxmdW5jdGlvbih0LGUpe2lmKCFoLmhhcyhlKSYmKGY9PT10fHxuKGYsdCxpLG8scikpKXJldHVybiBoLmFkZChlKX0pKXt1PSExO2JyZWFrfX1lbHNlIGlmKGYhPT1wJiYhbihmLHAsaSxvLHIpKXt1PSExO2JyZWFrfX1yZXR1cm4gci5kZWxldGUodCksdX0sbnI9MSxpcj0yLG9yPVwiW29iamVjdCBCb29sZWFuXVwiLHJyPVwiW29iamVjdCBEYXRlXVwiLHNyPVwiW29iamVjdCBFcnJvcl1cIixhcj1cIltvYmplY3QgTWFwXVwiLGNyPVwiW29iamVjdCBOdW1iZXJdXCIsbHI9XCJbb2JqZWN0IFJlZ0V4cF1cIixkcj1cIltvYmplY3QgU2V0XVwiLHVyPVwiW29iamVjdCBTdHJpbmddXCIsaHI9XCJbb2JqZWN0IFN5bWJvbF1cIixmcj1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIscHI9XCJbb2JqZWN0IERhdGFWaWV3XVwiLG1yPVdlP1dlLnByb3RvdHlwZTp2b2lkIDAsZ3I9bXI/bXIudmFsdWVPZjp2b2lkIDA7dmFyIGJyPWZ1bmN0aW9uKHQsZSxuLGksbyxyLHMpe3N3aXRjaChuKXtjYXNlIHByOmlmKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHx0LmJ5dGVPZmZzZXQhPWUuYnl0ZU9mZnNldClyZXR1cm4hMTt0PXQuYnVmZmVyLGU9ZS5idWZmZXI7Y2FzZSBmcjpyZXR1cm4hKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHwhaShuZXcgVmUodCksbmV3IFZlKGUpKSk7Y2FzZSBvcjpjYXNlIHJyOnJldHVybit0PT0rZTtjYXNlIHNyOnJldHVybiB0Lm5hbWU9PWUubmFtZSYmdC5tZXNzYWdlPT1lLm1lc3NhZ2U7Y2FzZSBjcjpyZXR1cm4gdCE9K3Q/ZSE9K2U6dD09K2U7Y2FzZSBscjpjYXNlIHVyOnJldHVybiB0PT1lK1wiXCI7Y2FzZSBhcjp2YXIgYT1CZTtjYXNlIGRyOnZhciBjPXImaXI7aWYoYXx8KGE9VWUpLHQuc2l6ZSE9ZS5zaXplJiYhYylyZXR1cm4hMTt2YXIgbD1zLmdldCh0KTtyZXR1cm4gbD9sPT1lOihyfD1ucixzLnNldCh0LGUpLGVyKGEodCksYShlKSxpLG8scixzKSk7Y2FzZSBocjppZihncilyZXR1cm4gZ3IuY2FsbCh0KT09Z3IuY2FsbChlKX1yZXR1cm4hMX0sd3I9Mjt2YXIgdnI9ZnVuY3Rpb24odCxlLG4saSxvLHIpe3ZhciBzPW8md3IsYT1jZSh0KSxjPWEubGVuZ3RoO2lmKGMhPWNlKGUpLmxlbmd0aCYmIXMpcmV0dXJuITE7Zm9yKHZhciBsPWM7bC0tOyl7dmFyIGQ9YVtsXTtpZighKHM/ZCBpbiBlOk50KGUsZCkpKXJldHVybiExfXZhciB1PXIuZ2V0KHQpO2lmKHUpcmV0dXJuIHU9PWU7dmFyIGg9ITA7ci5zZXQodCxlKTtmb3IodmFyIGY9czsrK2w8Yzspe3ZhciBwPXRbZD1hW2xdXSxtPWVbZF07aWYoaSl2YXIgZz1zP2kobSxwLGQsZSx0LHIpOmkocCxtLGQsdCxlLHIpO2lmKCEodm9pZCAwPT09Zz9wPT09bXx8bihwLG0saSxvLHIpOmcpKXtoPSExO2JyZWFrfWZ8fChmPVwiY29uc3RydWN0b3JcIj09ZCl9aWYoaCYmIWYpe3ZhciBiPXQuY29uc3RydWN0b3Isdz1lLmNvbnN0cnVjdG9yO2IhPXcmJlwiY29uc3RydWN0b3JcImluIHQmJlwiY29uc3RydWN0b3JcImluIGUmJiEoXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmYiBpbnN0YW5jZW9mIGImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHcmJncgaW5zdGFuY2VvZiB3KSYmKGg9ITEpfXJldHVybiByLmRlbGV0ZSh0KSxofSxfcj17fTtfcltcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiXT1fcltcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1fcltcIltvYmplY3QgSW50OEFycmF5XVwiXT1fcltcIltvYmplY3QgSW50MTZBcnJheV1cIl09X3JbXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPV9yW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT1fcltcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCJdPV9yW1wiW29iamVjdCBVaW50MTZBcnJheV1cIl09X3JbXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCxfcltcIltvYmplY3QgQXJndW1lbnRzXVwiXT1fcltcIltvYmplY3QgQXJyYXldXCJdPV9yW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09X3JbXCJbb2JqZWN0IEJvb2xlYW5dXCJdPV9yW1wiW29iamVjdCBEYXRhVmlld11cIl09X3JbXCJbb2JqZWN0IERhdGVdXCJdPV9yW1wiW29iamVjdCBFcnJvcl1cIl09X3JbXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXT1fcltcIltvYmplY3QgTWFwXVwiXT1fcltcIltvYmplY3QgTnVtYmVyXVwiXT1fcltcIltvYmplY3QgT2JqZWN0XVwiXT1fcltcIltvYmplY3QgUmVnRXhwXVwiXT1fcltcIltvYmplY3QgU2V0XVwiXT1fcltcIltvYmplY3QgU3RyaW5nXVwiXT1fcltcIltvYmplY3QgV2Vha01hcF1cIl09ITE7dmFyIGtyPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7dmFyIHlyPWZ1bmN0aW9uKHQpe3JldHVybiBzKHQpJiZVdCh0Lmxlbmd0aCkmJiEhX3Jba3IuY2FsbCh0KV19LHhyPTIsQXI9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixDcj1cIltvYmplY3QgQXJyYXldXCIsVHI9XCJbb2JqZWN0IE9iamVjdF1cIixTcj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBFcj1mdW5jdGlvbih0LGUsbixpLG8scyl7dmFyIGE9WHQodCksYz1YdChlKSxsPUNyLGQ9Q3I7YXx8KGw9KGw9T2UodCkpPT1Bcj9UcjpsKSxjfHwoZD0oZD1PZShlKSk9PUFyP1RyOmQpO3ZhciB1PWw9PVRyJiYhcih0KSxoPWQ9PVRyJiYhcihlKSxmPWw9PWQ7aWYoZiYmIXUpcmV0dXJuIHN8fChzPW5ldyBPdCksYXx8eXIodCk/ZXIodCxlLG4saSxvLHMpOmJyKHQsZSxsLG4saSxvLHMpO2lmKCEobyZ4cikpe3ZhciBwPXUmJlNyLmNhbGwodCxcIl9fd3JhcHBlZF9fXCIpLG09aCYmU3IuY2FsbChlLFwiX193cmFwcGVkX19cIik7aWYocHx8bSl7dmFyIGc9cD90LnZhbHVlKCk6dCxiPW0/ZS52YWx1ZSgpOmU7cmV0dXJuIHN8fChzPW5ldyBPdCksbihnLGIsaSxvLHMpfX1yZXR1cm4hIWYmJihzfHwocz1uZXcgT3QpLHZyKHQsZSxuLGksbyxzKSl9O3ZhciBQcj1mdW5jdGlvbiB0KGUsbixpLG8scil7cmV0dXJuIGU9PT1ufHwobnVsbD09ZXx8bnVsbD09bnx8IUgoZSkmJiFzKG4pP2UhPWUmJm4hPW46RXIoZSxuLHQsaSxvLHIpKX07dmFyIE9yPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0obj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246dm9pZCAwKT9uKHQsZSk6dm9pZCAwO3JldHVybiB2b2lkIDA9PT1pP1ByKHQsZSxuKTohIWl9O2NsYXNzIFJyIGV4dGVuZHMgJG97Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fY29uZmlnPXtjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMCxjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6ITAsc3VidHJlZTohMH0sdGhpcy5kb21Db252ZXJ0ZXI9dC5kb21Db252ZXJ0ZXIsdGhpcy5yZW5kZXJlcj10Ll9yZW5kZXJlcix0aGlzLl9kb21FbGVtZW50cz1bXSx0aGlzLl9tdXRhdGlvbk9ic2VydmVyPW5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcih0aGlzLl9vbk11dGF0aW9ucy5iaW5kKHRoaXMpKX1mbHVzaCgpe3RoaXMuX29uTXV0YXRpb25zKHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSl9b2JzZXJ2ZSh0KXt0aGlzLl9kb21FbGVtZW50cy5wdXNoKHQpLHRoaXMuaXNFbmFibGVkJiZ0aGlzLl9tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodCx0aGlzLl9jb25maWcpfWVuYWJsZSgpe3N1cGVyLmVuYWJsZSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2RvbUVsZW1lbnRzKXRoaXMuX211dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0LHRoaXMuX2NvbmZpZyl9ZGlzYWJsZSgpe3N1cGVyLmRpc2FibGUoKSx0aGlzLl9tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpfV9vbk11dGF0aW9ucyh0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIsbj1uZXcgTWFwLGk9bmV3IFNldDtmb3IoY29uc3QgbiBvZiB0KWlmKFwiY2hpbGRMaXN0XCI9PT1uLnR5cGUpe2NvbnN0IHQ9ZS5tYXBEb21Ub1ZpZXcobi50YXJnZXQpO2lmKHQmJnQuaXMoXCJ1aUVsZW1lbnRcIikpY29udGludWU7dCYmIXRoaXMuX2lzQm9ndXNCck11dGF0aW9uKG4pJiZpLmFkZCh0KX1mb3IoY29uc3QgbyBvZiB0KXtjb25zdCB0PWUubWFwRG9tVG9WaWV3KG8udGFyZ2V0KTtpZigoIXR8fCF0LmlzKFwidWlFbGVtZW50XCIpKSYmXCJjaGFyYWN0ZXJEYXRhXCI9PT1vLnR5cGUpe2NvbnN0IHQ9ZS5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KG8udGFyZ2V0KTt0JiYhaS5oYXModC5wYXJlbnQpP24uc2V0KHQse3R5cGU6XCJ0ZXh0XCIsb2xkVGV4dDp0LmRhdGEsbmV3VGV4dDpfbyhvLnRhcmdldCksbm9kZTp0fSk6IXQmJndvKG8udGFyZ2V0KSYmaS5hZGQoZS5tYXBEb21Ub1ZpZXcoby50YXJnZXQucGFyZW50Tm9kZSkpfX1jb25zdCBvPVtdO2Zvcihjb25zdCB0IG9mIG4udmFsdWVzKCkpdGhpcy5yZW5kZXJlci5tYXJrVG9TeW5jKFwidGV4dFwiLHQubm9kZSksby5wdXNoKHQpO2Zvcihjb25zdCB0IG9mIGkpe2NvbnN0IG49ZS5tYXBWaWV3VG9Eb20odCksaT1BcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkscj1BcnJheS5mcm9tKGUuZG9tQ2hpbGRyZW5Ub1ZpZXcobix7d2l0aENoaWxkcmVuOiExfSkpO09yKGkscixhKXx8KHRoaXMucmVuZGVyZXIubWFya1RvU3luYyhcImNoaWxkcmVuXCIsdCksby5wdXNoKHt0eXBlOlwiY2hpbGRyZW5cIixvbGRDaGlsZHJlbjppLG5ld0NoaWxkcmVuOnIsbm9kZTp0fSkpfWNvbnN0IHI9dFswXS50YXJnZXQub3duZXJEb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtsZXQgcz1udWxsO2lmKHImJnIuYW5jaG9yTm9kZSl7Y29uc3QgdD1lLmRvbVBvc2l0aW9uVG9WaWV3KHIuYW5jaG9yTm9kZSxyLmFuY2hvck9mZnNldCksbj1lLmRvbVBvc2l0aW9uVG9WaWV3KHIuZm9jdXNOb2RlLHIuZm9jdXNPZmZzZXQpO3QmJm4mJihzPW5ldyBEaSh0KSkuc2V0Rm9jdXMobil9ZnVuY3Rpb24gYSh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiB0PT09ZXx8ISghdC5pcyhcInRleHRcIil8fCFlLmlzKFwidGV4dFwiKSkmJnQuZGF0YT09PWUuZGF0YX10aGlzLmRvY3VtZW50LmZpcmUoXCJtdXRhdGlvbnNcIixvLHMpLHRoaXMudmlldy5yZW5kZXIoKX1faXNCb2d1c0JyTXV0YXRpb24odCl7bGV0IGU9bnVsbDtyZXR1cm4gbnVsbD09PXQubmV4dFNpYmxpbmcmJjA9PT10LnJlbW92ZWROb2Rlcy5sZW5ndGgmJjE9PXQuYWRkZWROb2Rlcy5sZW5ndGgmJihlPXRoaXMuZG9tQ29udmVydGVyLmRvbVRvVmlldyh0LmFkZGVkTm9kZXNbMF0se3dpdGhDaGlsZHJlbjohMX0pKSxlJiZlLmlzKFwiZWxlbWVudFwiLFwiYnJcIil9fWNsYXNzIElye2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnZpZXc9dCx0aGlzLmRvY3VtZW50PXQuZG9jdW1lbnQsdGhpcy5kb21FdmVudD1lLHRoaXMuZG9tVGFyZ2V0PWUudGFyZ2V0LGJpKHRoaXMsbil9Z2V0IHRhcmdldCgpe3JldHVybiB0aGlzLnZpZXcuZG9tQ29udmVydGVyLm1hcERvbVRvVmlldyh0aGlzLmRvbVRhcmdldCl9cHJldmVudERlZmF1bHQoKXt0aGlzLmRvbUV2ZW50LnByZXZlbnREZWZhdWx0KCl9c3RvcFByb3BhZ2F0aW9uKCl7dGhpcy5kb21FdmVudC5zdG9wUHJvcGFnYXRpb24oKX19Y2xhc3MgVnIgZXh0ZW5kcyAkb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnVzZUNhcHR1cmU9ITF9b2JzZXJ2ZSh0KXsoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuZG9tRXZlbnRUeXBlP1t0aGlzLmRvbUV2ZW50VHlwZV06dGhpcy5kb21FdmVudFR5cGUpLmZvckVhY2goZT0+e3RoaXMubGlzdGVuVG8odCxlLCh0LGUpPT57dGhpcy5pc0VuYWJsZWQmJnRoaXMub25Eb21FdmVudChlKX0se3VzZUNhcHR1cmU6dGhpcy51c2VDYXB0dXJlfSl9KX1maXJlKHQsZSxuKXt0aGlzLmlzRW5hYmxlZCYmdGhpcy5kb2N1bWVudC5maXJlKHQsbmV3IElyKHRoaXMudmlldyxlLG4pKX19Y2xhc3MgTXIgZXh0ZW5kcyBWcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmRvbUV2ZW50VHlwZT1bXCJrZXlkb3duXCIsXCJrZXl1cFwiXX1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCx7a2V5Q29kZTp0LmtleUNvZGUsYWx0S2V5OnQuYWx0S2V5LGN0cmxLZXk6dC5jdHJsS2V5fHx0Lm1ldGFLZXksc2hpZnRLZXk6dC5zaGlmdEtleSxnZXQga2V5c3Ryb2tlKCl7cmV0dXJuIFFpKHRoaXMpfX0pfX12YXIgRnI9RGF0ZS5ub3csTnI9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIsRHI9TWF0aC5tYXgsQnI9TWF0aC5taW47dmFyIExyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxvLHIscyxhLGM9MCxsPTAsZD0hMSx1PSExLGg9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKE5yKTtmdW5jdGlvbiBmKGUpe3ZhciBuPWkscj1vO3JldHVybiBpPW89dm9pZCAwLGw9ZSxzPXQuYXBwbHkocixuKX1mdW5jdGlvbiBwKHQpe3ZhciBuPXQtYztyZXR1cm4hY3x8bj49ZXx8bjwwfHx1JiZ0LWw+PXJ9ZnVuY3Rpb24gbSgpe3ZhciB0PUZyKCk7aWYocCh0KSlyZXR1cm4gZyh0KTthPXNldFRpbWVvdXQobSxmdW5jdGlvbih0KXt2YXIgbj1lLSh0LWMpO3JldHVybiB1P0JyKG4sci0odC1sKSk6bn0odCkpfWZ1bmN0aW9uIGcodCl7cmV0dXJuIGNsZWFyVGltZW91dChhKSxhPXZvaWQgMCxoJiZpP2YodCk6KGk9bz12b2lkIDAscyl9ZnVuY3Rpb24gYigpe3ZhciB0PUZyKCksbj1wKHQpO2lmKGk9YXJndW1lbnRzLG89dGhpcyxjPXQsbil7aWYodm9pZCAwPT09YSlyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGw9dCxhPXNldFRpbWVvdXQobSxlKSxkP2YodCk6c30oYyk7aWYodSlyZXR1cm4gY2xlYXJUaW1lb3V0KGEpLGE9c2V0VGltZW91dChtLGUpLGYoYyl9cmV0dXJuIHZvaWQgMD09PWEmJihhPXNldFRpbWVvdXQobSxlKSksc31yZXR1cm4gZT1YbihlKXx8MCxIKG4pJiYoZD0hIW4ubGVhZGluZyxyPSh1PVwibWF4V2FpdFwiaW4gbik/RHIoWG4obi5tYXhXYWl0KXx8MCxlKTpyLGg9XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6aCksYi5jYW5jZWw9ZnVuY3Rpb24oKXt2b2lkIDAhPT1hJiZjbGVhclRpbWVvdXQoYSksYz1sPTAsaT1vPWE9dm9pZCAwfSxiLmZsdXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWE/czpnKEZyKCkpfSxifTtjbGFzcyBqciBleHRlbmRzICRve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkPUxyKHQ9PnRoaXMuZG9jdW1lbnQuZmlyZShcInNlbGVjdGlvbkNoYW5nZURvbmVcIix0KSwyMDApfW9ic2VydmUoKXtjb25zdCB0PXRoaXMuZG9jdW1lbnQ7dC5vbihcImtleWRvd25cIiwoZSxuKT0+e3Quc2VsZWN0aW9uLmlzRmFrZSYmZnVuY3Rpb24odCl7cmV0dXJuIHQ9PUppLmFycm93cmlnaHR8fHQ9PUppLmFycm93bGVmdHx8dD09SmkuYXJyb3d1cHx8dD09SmkuYXJyb3dkb3dufShuLmtleUNvZGUpJiZ0aGlzLmlzRW5hYmxlZCYmKG4ucHJldmVudERlZmF1bHQoKSx0aGlzLl9oYW5kbGVTZWxlY3Rpb25Nb3ZlKG4ua2V5Q29kZSkpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQuY2FuY2VsKCl9X2hhbmRsZVNlbGVjdGlvbk1vdmUodCl7Y29uc3QgZT10aGlzLmRvY3VtZW50LnNlbGVjdGlvbixuPW5ldyBEaShlLmdldFJhbmdlcygpLHtiYWNrd2FyZDplLmlzQmFja3dhcmQsZmFrZTohMX0pO3QhPUppLmFycm93bGVmdCYmdCE9SmkuYXJyb3d1cHx8bi5zZXRUbyhuLmdldEZpcnN0UG9zaXRpb24oKSksdCE9SmkuYXJyb3dyaWdodCYmdCE9SmkuYXJyb3dkb3dufHxuLnNldFRvKG4uZ2V0TGFzdFBvc2l0aW9uKCkpO2NvbnN0IGk9e29sZFNlbGVjdGlvbjplLG5ld1NlbGVjdGlvbjpuLGRvbVNlbGVjdGlvbjpudWxsfTt0aGlzLmRvY3VtZW50LmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VcIixpKSx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZChpKX19dmFyIHpyPW4oMik7Y2xhc3MgcXIgZXh0ZW5kcyAkb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLm11dGF0aW9uT2JzZXJ2ZXI9dC5nZXRPYnNlcnZlcihSciksdGhpcy5zZWxlY3Rpb249dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24sdGhpcy5kb21Db252ZXJ0ZXI9dC5kb21Db252ZXJ0ZXIsdGhpcy5fZG9jdW1lbnRzPW5ldyBXZWFrU2V0LHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkPUxyKHQ9PnRoaXMuZG9jdW1lbnQuZmlyZShcInNlbGVjdGlvbkNoYW5nZURvbmVcIix0KSwyMDApLHRoaXMuX2NsZWFySW5maW5pdGVMb29wSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKCk9PnRoaXMuX2NsZWFySW5maW5pdGVMb29wKCksMWUzKSx0aGlzLl9sb29wYmFja0NvdW50ZXI9MH1vYnNlcnZlKHQpe2NvbnN0IGU9dC5vd25lckRvY3VtZW50O3RoaXMuX2RvY3VtZW50cy5oYXMoZSl8fCh0aGlzLmxpc3RlblRvKGUsXCJzZWxlY3Rpb25jaGFuZ2VcIiwoKT0+e3RoaXMuX2hhbmRsZVNlbGVjdGlvbkNoYW5nZShlKX0pLHRoaXMuX2RvY3VtZW50cy5hZGQoZSkpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksY2xlYXJJbnRlcnZhbCh0aGlzLl9jbGVhckluZmluaXRlTG9vcEludGVydmFsKSx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZC5jYW5jZWwoKX1faGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHQpe2lmKCF0aGlzLmlzRW5hYmxlZHx8IXRoaXMuZG9jdW1lbnQuaXNGb2N1c2VkJiYhdGhpcy5kb2N1bWVudC5pc1JlYWRPbmx5KXJldHVybjt0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZmx1c2goKTtjb25zdCBlPXQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCksbj10aGlzLmRvbUNvbnZlcnRlci5kb21TZWxlY3Rpb25Ub1ZpZXcoZSk7aWYoIXRoaXMuc2VsZWN0aW9uLmlzRXF1YWwobil8fCF0aGlzLmRvbUNvbnZlcnRlci5pc0RvbVNlbGVjdGlvbkNvcnJlY3QoZSkpaWYoKyt0aGlzLl9sb29wYmFja0NvdW50ZXI+NjApenIuYS53YXJuKFwic2VsZWN0aW9uY2hhbmdlLWluZmluaXRlLWxvb3A6IFNlbGVjdGlvbiBjaGFuZ2Ugb2JzZXJ2ZXIgZGV0ZWN0ZWQgYW4gaW5maW5pdGUgcmVuZGVyaW5nIGxvb3AuXCIpO2Vsc2UgaWYodGhpcy5zZWxlY3Rpb24uaXNTaW1pbGFyKG4pKXRoaXMudmlldy5yZW5kZXIoKTtlbHNle2NvbnN0IHQ9e29sZFNlbGVjdGlvbjp0aGlzLnNlbGVjdGlvbixuZXdTZWxlY3Rpb246bixkb21TZWxlY3Rpb246ZX07dGhpcy5kb2N1bWVudC5maXJlKFwic2VsZWN0aW9uQ2hhbmdlXCIsdCksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQodCl9fV9jbGVhckluZmluaXRlTG9vcCgpe3RoaXMuX2xvb3BiYWNrQ291bnRlcj0wfX1jbGFzcyBVciBleHRlbmRzIFZye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZG9tRXZlbnRUeXBlPVtcImZvY3VzXCIsXCJibHVyXCJdLHRoaXMudXNlQ2FwdHVyZT0hMDtjb25zdCBlPXRoaXMuZG9jdW1lbnQ7ZS5vbihcImZvY3VzXCIsKCk9PntlLmlzRm9jdXNlZD0hMCx0aGlzLl9yZW5kZXJUaW1lb3V0SWQ9c2V0VGltZW91dCgoKT0+dC5yZW5kZXIoKSw1MCl9KSxlLm9uKFwiYmx1clwiLChuLGkpPT57Y29uc3Qgbz1lLnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7bnVsbCE9PW8mJm8hPT1pLnRhcmdldHx8KGUuaXNGb2N1c2VkPSExLHQucmVuZGVyKCkpfSl9b25Eb21FdmVudCh0KXt0aGlzLmZpcmUodC50eXBlLHQpfWRlc3Ryb3koKXt0aGlzLl9yZW5kZXJUaW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl9yZW5kZXJUaW1lb3V0SWQpLHN1cGVyLmRlc3Ryb3koKX19Y2xhc3MgSHIgZXh0ZW5kcyBWcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmRvbUV2ZW50VHlwZT1bXCJjb21wb3NpdGlvbnN0YXJ0XCIsXCJjb21wb3NpdGlvbnVwZGF0ZVwiLFwiY29tcG9zaXRpb25lbmRcIl07Y29uc3QgZT10aGlzLmRvY3VtZW50O2Uub24oXCJjb21wb3NpdGlvbnN0YXJ0XCIsKCk9PntlLmlzQ29tcG9zaW5nPSEwfSksZS5vbihcImNvbXBvc2l0aW9uZW5kXCIsKCk9PntlLmlzQ29tcG9zaW5nPSExfSl9b25Eb21FdmVudCh0KXt0aGlzLmZpcmUodC50eXBlLHQpfX1mdW5jdGlvbiBXcih0KXtyZXR1cm5cIltvYmplY3QgUmFuZ2VdXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodCl9ZnVuY3Rpb24gJHIodCl7Y29uc3QgZT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0KTtyZXR1cm57dG9wOnBhcnNlSW50KGUuYm9yZGVyVG9wV2lkdGgsMTApLHJpZ2h0OnBhcnNlSW50KGUuYm9yZGVyUmlnaHRXaWR0aCwxMCksYm90dG9tOnBhcnNlSW50KGUuYm9yZGVyQm90dG9tV2lkdGgsMTApLGxlZnQ6cGFyc2VJbnQoZS5ib3JkZXJMZWZ0V2lkdGgsMTApfX1jbGFzcyBLcntjb25zdHJ1Y3Rvcih0KXtjb25zdCBlPVdyKHQpO2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX3NvdXJjZVwiLHt2YWx1ZTp0Ll9zb3VyY2V8fHQsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMX0pLEJvKHQpfHxlKXtjb25zdCBuPWU/dC5zdGFydENvbnRhaW5lcjp0O24ub3duZXJEb2N1bWVudCYmbi5vd25lckRvY3VtZW50LmJvZHkuY29udGFpbnMobil8fHpyLmEud2FybihcInJlY3Qtc291cmNlLW5vdC1pbi1kb206IFRoZSBzb3VyY2Ugb2YgdGhpcyByZWN0IGRvZXMgbm90IGJlbG9uZyB0byBhbnkgcmVuZGVyZWQgRE9NIHRyZWUuXCIse3NvdXJjZTp0fSksSnIodGhpcyxlP0tyLmdldERvbVJhbmdlUmVjdHModClbMF06dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9ZWxzZSBpZihxbyh0KSl7Y29uc3R7aW5uZXJXaWR0aDplLGlubmVySGVpZ2h0Om59PXQ7SnIodGhpcyx7dG9wOjAscmlnaHQ6ZSxib3R0b206bixsZWZ0OjAsd2lkdGg6ZSxoZWlnaHQ6bn0pfWVsc2UgSnIodGhpcyx0KX1jbG9uZSgpe3JldHVybiBuZXcgS3IodGhpcyl9bW92ZVRvKHQsZSl7cmV0dXJuIHRoaXMudG9wPWUsdGhpcy5yaWdodD10K3RoaXMud2lkdGgsdGhpcy5ib3R0b209ZSt0aGlzLmhlaWdodCx0aGlzLmxlZnQ9dCx0aGlzfW1vdmVCeSh0LGUpe3JldHVybiB0aGlzLnRvcCs9ZSx0aGlzLnJpZ2h0Kz10LHRoaXMubGVmdCs9dCx0aGlzLmJvdHRvbSs9ZSx0aGlzfWdldEludGVyc2VjdGlvbih0KXtjb25zdCBlPXt0b3A6TWF0aC5tYXgodGhpcy50b3AsdC50b3ApLHJpZ2h0Ok1hdGgubWluKHRoaXMucmlnaHQsdC5yaWdodCksYm90dG9tOk1hdGgubWluKHRoaXMuYm90dG9tLHQuYm90dG9tKSxsZWZ0Ok1hdGgubWF4KHRoaXMubGVmdCx0LmxlZnQpfTtyZXR1cm4gZS53aWR0aD1lLnJpZ2h0LWUubGVmdCxlLmhlaWdodD1lLmJvdHRvbS1lLnRvcCxlLndpZHRoPDB8fGUuaGVpZ2h0PDA/bnVsbDpuZXcgS3IoZSl9Z2V0SW50ZXJzZWN0aW9uQXJlYSh0KXtjb25zdCBlPXRoaXMuZ2V0SW50ZXJzZWN0aW9uKHQpO3JldHVybiBlP2UuZ2V0QXJlYSgpOjB9Z2V0QXJlYSgpe3JldHVybiB0aGlzLndpZHRoKnRoaXMuaGVpZ2h0fWdldFZpc2libGUoKXtjb25zdCB0PXRoaXMuX3NvdXJjZTtsZXQgZT10aGlzLmNsb25lKCk7aWYoIVFyKHQpKXtsZXQgbj10LnBhcmVudE5vZGV8fHQuY29tbW9uQW5jZXN0b3JDb250YWluZXI7Zm9yKDtuJiYhUXIobik7KXtjb25zdCB0PW5ldyBLcihuKSxpPWUuZ2V0SW50ZXJzZWN0aW9uKHQpO2lmKCFpKXJldHVybiBudWxsO2kuZ2V0QXJlYSgpPGUuZ2V0QXJlYSgpJiYoZT1pKSxuPW4ucGFyZW50Tm9kZX19cmV0dXJuIGV9aXNFcXVhbCh0KXtmb3IoY29uc3QgZSBvZiBHcilpZih0aGlzW2VdIT09dFtlXSlyZXR1cm4hMTtyZXR1cm4hMH1jb250YWlucyh0KXtjb25zdCBlPXRoaXMuZ2V0SW50ZXJzZWN0aW9uKHQpO3JldHVybiEoIWV8fCFlLmlzRXF1YWwodCkpfWV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpe2NvbnN0IHQ9dGhpcy5fc291cmNlO2xldCBlLG47aWYocW8odCkpZT10LmlubmVyV2lkdGgtdC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsbj10LmlubmVySGVpZ2h0LXQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtlbHNle2NvbnN0IGk9JHIodGhpcy5fc291cmNlKTtlPXQub2Zmc2V0V2lkdGgtdC5jbGllbnRXaWR0aCxuPXQub2Zmc2V0SGVpZ2h0LXQuY2xpZW50SGVpZ2h0LHRoaXMubW92ZUJ5KGkubGVmdCxpLnRvcCl9cmV0dXJuIHRoaXMud2lkdGgtPWUsdGhpcy5yaWdodC09ZSx0aGlzLmhlaWdodC09bix0aGlzLmJvdHRvbS09bix0aGlzfXN0YXRpYyBnZXREb21SYW5nZVJlY3RzKHQpe2NvbnN0IGU9W10sbj1BcnJheS5mcm9tKHQuZ2V0Q2xpZW50UmVjdHMoKSk7aWYobi5sZW5ndGgpZm9yKGNvbnN0IHQgb2YgbillLnB1c2gobmV3IEtyKHQpKTtlbHNle2xldCBuPXQuc3RhcnRDb250YWluZXI7U28obikmJihuPW4ucGFyZW50Tm9kZSk7Y29uc3QgaT1uZXcgS3Iobi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7aS5yaWdodD1pLmxlZnQsaS53aWR0aD0wLGUucHVzaChpKX1yZXR1cm4gZX19Y29uc3QgR3I9W1widG9wXCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJsZWZ0XCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdO2Z1bmN0aW9uIEpyKHQsZSl7Zm9yKGNvbnN0IG4gb2YgR3IpdFtuXT1lW25dfWZ1bmN0aW9uIFFyKHQpe3JldHVybiEhQm8odCkmJnQ9PT10Lm93bmVyRG9jdW1lbnQuYm9keX1mdW5jdGlvbiBZcih7dGFyZ2V0OnQsdmlld3BvcnRPZmZzZXQ6ZT0wfSl7Y29uc3Qgbj1vcyh0KTtsZXQgaT1uLG89bnVsbDtmb3IoO2k7KXtsZXQgcjtacihyPXJzKGk9PW4/dDpvKSwoKT0+c3ModCxpKSk7Y29uc3Qgcz1zcyh0LGkpO2lmKFhyKGkscyxlKSxpLnBhcmVudCE9aSl7aWYobz1pLmZyYW1lRWxlbWVudCxpPWkucGFyZW50LCFvKXJldHVybn1lbHNlIGk9bnVsbH19ZnVuY3Rpb24gWHIodCxlLG4pe2NvbnN0IGk9ZS5jbG9uZSgpLm1vdmVCeSgwLG4pLG89ZS5jbG9uZSgpLm1vdmVCeSgwLC1uKSxyPW5ldyBLcih0KS5leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKTtpZighW28saV0uZXZlcnkodD0+ci5jb250YWlucyh0KSkpe2xldHtzY3JvbGxYOnMsc2Nyb2xsWTphfT10O2VzKG8scik/YS09ci50b3AtZS50b3Arbjp0cyhpLHIpJiYoYSs9ZS5ib3R0b20tci5ib3R0b20rbiksbnMoZSxyKT9zLT1yLmxlZnQtZS5sZWZ0K246aXMoZSxyKSYmKHMrPWUucmlnaHQtci5yaWdodCtuKSx0LnNjcm9sbFRvKHMsYSl9fWZ1bmN0aW9uIFpyKHQsZSl7Y29uc3Qgbj1vcyh0KTtsZXQgaSxvO2Zvcig7dCE9bi5kb2N1bWVudC5ib2R5OylvPWUoKSwoaT1uZXcgS3IodCkuZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzKCkpLmNvbnRhaW5zKG8pfHwoZXMobyxpKT90LnNjcm9sbFRvcC09aS50b3Atby50b3A6dHMobyxpKSYmKHQuc2Nyb2xsVG9wKz1vLmJvdHRvbS1pLmJvdHRvbSksbnMobyxpKT90LnNjcm9sbExlZnQtPWkubGVmdC1vLmxlZnQ6aXMobyxpKSYmKHQuc2Nyb2xsTGVmdCs9by5yaWdodC1pLnJpZ2h0KSksdD10LnBhcmVudE5vZGV9ZnVuY3Rpb24gdHModCxlKXtyZXR1cm4gdC5ib3R0b20+ZS5ib3R0b219ZnVuY3Rpb24gZXModCxlKXtyZXR1cm4gdC50b3A8ZS50b3B9ZnVuY3Rpb24gbnModCxlKXtyZXR1cm4gdC5sZWZ0PGUubGVmdH1mdW5jdGlvbiBpcyh0LGUpe3JldHVybiB0LnJpZ2h0PmUucmlnaHR9ZnVuY3Rpb24gb3ModCl7cmV0dXJuIFdyKHQpP3Quc3RhcnRDb250YWluZXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldzp0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd9ZnVuY3Rpb24gcnModCl7aWYoV3IodCkpe2xldCBlPXQuY29tbW9uQW5jZXN0b3JDb250YWluZXI7cmV0dXJuIFNvKGUpJiYoZT1lLnBhcmVudE5vZGUpLGV9cmV0dXJuIHQucGFyZW50Tm9kZX1mdW5jdGlvbiBzcyh0LGUpe2NvbnN0IG49b3ModCksaT1uZXcgS3IodCk7aWYobj09PWUpcmV0dXJuIGk7e2xldCB0PW47Zm9yKDt0IT1lOyl7Y29uc3QgZT10LmZyYW1lRWxlbWVudCxuPW5ldyBLcihlKS5leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKTtpLm1vdmVCeShuLmxlZnQsbi50b3ApLHQ9dC5wYXJlbnR9fXJldHVybiBpfU9iamVjdC5hc3NpZ24oe30se3Njcm9sbFZpZXdwb3J0VG9TaG93VGFyZ2V0OllyLHNjcm9sbEFuY2VzdG9yc1RvU2hvd1RhcmdldDpmdW5jdGlvbih0KXtacihycyh0KSwoKT0+bmV3IEtyKHQpKX19KTtjbGFzcyBhc3tjb25zdHJ1Y3Rvcigpe3RoaXMuZG9jdW1lbnQ9bmV3IGppLHRoaXMuZG9tQ29udmVydGVyPW5ldyBMbyx0aGlzLl9yZW5kZXJlcj1uZXcgSW8odGhpcy5kb21Db252ZXJ0ZXIsdGhpcy5kb2N1bWVudC5zZWxlY3Rpb24pLHRoaXMuX3JlbmRlcmVyLmJpbmQoXCJpc0ZvY3VzZWRcIikudG8odGhpcy5kb2N1bWVudCksdGhpcy5kb21Sb290cz1uZXcgTWFwLHRoaXMuX29ic2VydmVycz1uZXcgTWFwLHRoaXMuX29uZ29pbmdDaGFuZ2U9ITEsdGhpcy5fcmVuZGVyaW5nSW5Qcm9ncmVzcz0hMSx0aGlzLl9wb3N0Rml4ZXJzSW5Qcm9ncmVzcz0hMSx0aGlzLl93cml0ZXI9bmV3IGlvKHRoaXMuZG9jdW1lbnQpLHRoaXMuYWRkT2JzZXJ2ZXIoUnIpLHRoaXMuYWRkT2JzZXJ2ZXIocXIpLHRoaXMuYWRkT2JzZXJ2ZXIoVXIpLHRoaXMuYWRkT2JzZXJ2ZXIoTXIpLHRoaXMuYWRkT2JzZXJ2ZXIoanIpLHRoaXMuYWRkT2JzZXJ2ZXIoSHIpLGZ1bmN0aW9uKHQpe3QuZG9jdW1lbnQub24oXCJrZXlkb3duXCIseG8pfSh0aGlzKSx0byh0aGlzKSx0aGlzLm9uKFwicmVuZGVyXCIsKCk9Pnt0aGlzLl9yZW5kZXIoKSx0aGlzLmRvY3VtZW50LmZpcmUoXCJsYXlvdXRDaGFuZ2VkXCIpfSl9YXR0YWNoRG9tUm9vdCh0LGU9XCJtYWluXCIpe2NvbnN0IG49dGhpcy5kb2N1bWVudC5nZXRSb290KGUpO24uX25hbWU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCksdGhpcy5kb21Sb290cy5zZXQoZSx0KSx0aGlzLmRvbUNvbnZlcnRlci5iaW5kRWxlbWVudHModCxuKSx0aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKFwiY2hpbGRyZW5cIixuKSx0aGlzLl9yZW5kZXJlci5kb21Eb2N1bWVudHMuYWRkKHQub3duZXJEb2N1bWVudCksbi5vbihcImNoYW5nZTpjaGlsZHJlblwiLCh0LGUpPT50aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKFwiY2hpbGRyZW5cIixlKSksbi5vbihcImNoYW5nZTphdHRyaWJ1dGVzXCIsKHQsZSk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoXCJhdHRyaWJ1dGVzXCIsZSkpLG4ub24oXCJjaGFuZ2U6dGV4dFwiLCh0LGUpPT50aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKFwidGV4dFwiLGUpKTtmb3IoY29uc3QgbiBvZiB0aGlzLl9vYnNlcnZlcnMudmFsdWVzKCkpbi5vYnNlcnZlKHQsZSl9Z2V0RG9tUm9vdCh0PVwibWFpblwiKXtyZXR1cm4gdGhpcy5kb21Sb290cy5nZXQodCl9YWRkT2JzZXJ2ZXIodCl7bGV0IGU9dGhpcy5fb2JzZXJ2ZXJzLmdldCh0KTtpZihlKXJldHVybiBlO2U9bmV3IHQodGhpcyksdGhpcy5fb2JzZXJ2ZXJzLnNldCh0LGUpO2Zvcihjb25zdFt0LG5db2YgdGhpcy5kb21Sb290cyllLm9ic2VydmUobix0KTtyZXR1cm4gZS5lbmFibGUoKSxlfWdldE9ic2VydmVyKHQpe3JldHVybiB0aGlzLl9vYnNlcnZlcnMuZ2V0KHQpfWRpc2FibGVPYnNlcnZlcnMoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9vYnNlcnZlcnMudmFsdWVzKCkpdC5kaXNhYmxlKCl9ZW5hYmxlT2JzZXJ2ZXJzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKXQuZW5hYmxlKCl9c2Nyb2xsVG9UaGVTZWxlY3Rpb24oKXtjb25zdCB0PXRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKTt0JiZZcih7dGFyZ2V0OnRoaXMuZG9tQ29udmVydGVyLnZpZXdSYW5nZVRvRG9tKHQpLHZpZXdwb3J0T2Zmc2V0OjIwfSl9Zm9jdXMoKXtpZighdGhpcy5kb2N1bWVudC5pc0ZvY3VzZWQpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50O3Q/KHRoaXMuZG9tQ29udmVydGVyLmZvY3VzKHQpLHRoaXMucmVuZGVyKCkpOnpyLmEud2FybihcInZpZXctZm9jdXMtbm8tc2VsZWN0aW9uOiBUaGVyZSBpcyBubyBzZWxlY3Rpb24gaW4gYW55IGVkaXRhYmxlIHRvIGZvY3VzLlwiKX19Y2hhbmdlKHQpe2lmKHRoaXMuX3JlbmRlcmluZ0luUHJvZ3Jlc3N8fHRoaXMuX3Bvc3RGaXhlcnNJblByb2dyZXNzKXRocm93IG5ldyBtLmIoXCJjYW5ub3QtY2hhbmdlLXZpZXctdHJlZTogQXR0ZW1wdGluZyB0byBtYWtlIGNoYW5nZXMgdG8gdGhlIHZpZXcgd2hlbiBpdCBpcyBpbiBpbmNvcnJlY3Qgc3RhdGU6IHJlbmRlcmluZyBvciBwb3N0LWZpeGVycyBhcmUgaW4gcHJvZ3Jlc3MuIFRoaXMgbWF5IGNhdXNlIHNvbWUgdW5leHBlY3RlZCBiZWhhdmlvdXIgYW5kIGluY29uc2lzdGVuY3kgYmV0d2VlbiB0aGUgRE9NIGFuZCB0aGUgdmlldy5cIik7dGhpcy5fb25nb2luZ0NoYW5nZT90KHRoaXMuX3dyaXRlcik6KHRoaXMuX29uZ29pbmdDaGFuZ2U9ITAsdCh0aGlzLl93cml0ZXIpLHRoaXMuX29uZ29pbmdDaGFuZ2U9ITEsdGhpcy5fcG9zdEZpeGVyc0luUHJvZ3Jlc3M9ITAsdGhpcy5kb2N1bWVudC5fY2FsbFBvc3RGaXhlcnModGhpcy5fd3JpdGVyKSx0aGlzLl9wb3N0Rml4ZXJzSW5Qcm9ncmVzcz0hMSx0aGlzLmZpcmUoXCJyZW5kZXJcIikpfXJlbmRlcigpe3RoaXMuY2hhbmdlKCgpPT57fSl9ZGVzdHJveSgpe2Zvcihjb25zdCB0IG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSl0LmRlc3Ryb3koKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fcmVuZGVyKCl7dGhpcy5fcmVuZGVyaW5nSW5Qcm9ncmVzcz0hMCx0aGlzLmRpc2FibGVPYnNlcnZlcnMoKSx0aGlzLl9yZW5kZXJlci5yZW5kZXIoKSx0aGlzLmVuYWJsZU9ic2VydmVycygpLHRoaXMuX3JlbmRlcmluZ0luUHJvZ3Jlc3M9ITF9fWZ1bmN0aW9uIGNzKHQpe3JldHVybiBmKHQpP0luKHQpOm5ldyBNYXAodCl9UChhcyx5aSk7Y2xhc3MgbHN7Y29uc3RydWN0b3IodCl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLl9hdHRycz1jcyh0KX1nZXQgaW5kZXgoKXtsZXQgdDtpZighdGhpcy5wYXJlbnQpcmV0dXJuIG51bGw7aWYobnVsbD09PSh0PXRoaXMucGFyZW50LmdldENoaWxkSW5kZXgodGhpcykpKXRocm93IG5ldyBtLmIoXCJtb2RlbHMtbm9kZS1ub3QtZm91bmQtaW4tcGFyZW50OiBUaGUgbm9kZSdzIHBhcmVudCBkb2VzIG5vdCBjb250YWluIHRoaXMgbm9kZS5cIik7cmV0dXJuIHR9Z2V0IHN0YXJ0T2Zmc2V0KCl7bGV0IHQ7aWYoIXRoaXMucGFyZW50KXJldHVybiBudWxsO2lmKG51bGw9PT0odD10aGlzLnBhcmVudC5nZXRDaGlsZFN0YXJ0T2Zmc2V0KHRoaXMpKSl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLW5vZGUtbm90LWZvdW5kLWluLXBhcmVudDogVGhlIG5vZGUncyBwYXJlbnQgZG9lcyBub3QgY29udGFpbiB0aGlzIG5vZGUuXCIpO3JldHVybiB0fWdldCBvZmZzZXRTaXplKCl7cmV0dXJuIDF9Z2V0IGVuZE9mZnNldCgpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0U2l6ZTpudWxsfWdldCBuZXh0U2libGluZygpe2NvbnN0IHQ9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PXQmJnRoaXMucGFyZW50LmdldENoaWxkKHQrMSl8fG51bGx9Z2V0IHByZXZpb3VzU2libGluZygpe2NvbnN0IHQ9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PXQmJnRoaXMucGFyZW50LmdldENoaWxkKHQtMSl8fG51bGx9Z2V0IHJvb3QoKXtsZXQgdD10aGlzO2Zvcig7dC5wYXJlbnQ7KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMucm9vdD09dGhpcz9udWxsOnRoaXMucm9vdC5kb2N1bWVudHx8bnVsbH1nZXRQYXRoKCl7Y29uc3QgdD1bXTtsZXQgZT10aGlzO2Zvcig7ZS5wYXJlbnQ7KXQudW5zaGlmdChlLnN0YXJ0T2Zmc2V0KSxlPWUucGFyZW50O3JldHVybiB0fWdldEFuY2VzdG9ycyh0PXtpbmNsdWRlU2VsZjohMSxwYXJlbnRGaXJzdDohMX0pe2NvbnN0IGU9W107bGV0IG49dC5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O2Zvcig7bjspZVt0LnBhcmVudEZpcnN0P1wicHVzaFwiOlwidW5zaGlmdFwiXShuKSxuPW4ucGFyZW50O3JldHVybiBlfWdldENvbW1vbkFuY2VzdG9yKHQsZT17fSl7Y29uc3Qgbj10aGlzLmdldEFuY2VzdG9ycyhlKSxpPXQuZ2V0QW5jZXN0b3JzKGUpO2xldCBvPTA7Zm9yKDtuW29dPT1pW29dJiZuW29dOylvKys7cmV0dXJuIDA9PT1vP251bGw6bltvLTFdfWlzQmVmb3JlKHQpe2lmKHRoaXM9PXQpcmV0dXJuITE7aWYodGhpcy5yb290IT09dC5yb290KXJldHVybiExO2NvbnN0IGU9dGhpcy5nZXRQYXRoKCksbj10LmdldFBhdGgoKSxpPUVuKGUsbik7c3dpdGNoKGkpe2Nhc2VcInByZWZpeFwiOnJldHVybiEwO2Nhc2VcImV4dGVuc2lvblwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuIGVbaV08bltpXX19aXNBZnRlcih0KXtyZXR1cm4gdGhpcyE9dCYmKHRoaXMucm9vdD09PXQucm9vdCYmIXRoaXMuaXNCZWZvcmUodCkpfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuaGFzKHQpfWdldEF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuZ2V0KHQpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMuZW50cmllcygpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMua2V5cygpfXRvSlNPTigpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMuX2F0dHJzLnNpemUmJih0LmF0dHJpYnV0ZXM9Wy4uLnRoaXMuX2F0dHJzXSksdH1fY2xvbmUoKXtyZXR1cm4gbmV3IGxzKHRoaXMuX2F0dHJzKX1fcmVtb3ZlKCl7dGhpcy5wYXJlbnQuX3JlbW92ZUNoaWxkcmVuKHRoaXMuaW5kZXgpfV9zZXRBdHRyaWJ1dGUodCxlKXt0aGlzLl9hdHRycy5zZXQodCxlKX1fc2V0QXR0cmlidXRlc1RvKHQpe3RoaXMuX2F0dHJzPWNzKHQpfV9yZW1vdmVBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuX2F0dHJzLmRlbGV0ZSh0KX1fY2xlYXJBdHRyaWJ1dGVzKCl7dGhpcy5fYXR0cnMuY2xlYXIoKX1pcyh0KXtyZXR1cm5cIm5vZGVcIj09dH19Y2xhc3MgZHMgZXh0ZW5kcyBsc3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLHRoaXMuX2RhdGE9dHx8XCJcIn1nZXQgb2Zmc2V0U2l6ZSgpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RofWdldCBkYXRhKCl7cmV0dXJuIHRoaXMuX2RhdGF9aXModCl7cmV0dXJuXCJ0ZXh0XCI9PXR8fHN1cGVyLmlzKHQpfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQuZGF0YT10aGlzLmRhdGEsdH1fY2xvbmUoKXtyZXR1cm4gbmV3IGRzKHRoaXMuZGF0YSx0aGlzLmdldEF0dHJpYnV0ZXMoKSl9c3RhdGljIGZyb21KU09OKHQpe3JldHVybiBuZXcgZHModC5kYXRhLHQuYXR0cmlidXRlcyl9fWNsYXNzIHVze2NvbnN0cnVjdG9yKHQsZSxuKXtpZih0aGlzLnRleHROb2RlPXQsZTwwfHxlPnQub2Zmc2V0U2l6ZSl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLXRleHRwcm94eS13cm9uZy1vZmZzZXRpbnRleHQ6IEdpdmVuIG9mZnNldEluVGV4dCB2YWx1ZSBpcyBpbmNvcnJlY3QuXCIpO2lmKG48MHx8ZStuPnQub2Zmc2V0U2l6ZSl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLXRleHRwcm94eS13cm9uZy1sZW5ndGg6IEdpdmVuIGxlbmd0aCB2YWx1ZSBpcyBpbmNvcnJlY3QuXCIpO3RoaXMuZGF0YT10LmRhdGEuc3Vic3RyaW5nKGUsZStuKSx0aGlzLm9mZnNldEluVGV4dD1lfWdldCBzdGFydE9mZnNldCgpe3JldHVybiBudWxsIT09dGhpcy50ZXh0Tm9kZS5zdGFydE9mZnNldD90aGlzLnRleHROb2RlLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0SW5UZXh0Om51bGx9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH1nZXQgZW5kT2Zmc2V0KCl7cmV0dXJuIG51bGwhPT10aGlzLnN0YXJ0T2Zmc2V0P3RoaXMuc3RhcnRPZmZzZXQrdGhpcy5vZmZzZXRTaXplOm51bGx9Z2V0IGlzUGFydGlhbCgpe3JldHVybiB0aGlzLm9mZnNldFNpemUhPT10aGlzLnRleHROb2RlLm9mZnNldFNpemV9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLnBhcmVudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnRleHROb2RlLnJvb3R9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZG9jdW1lbnR9aXModCl7cmV0dXJuXCJ0ZXh0UHJveHlcIj09dH1nZXRQYXRoKCl7Y29uc3QgdD10aGlzLnRleHROb2RlLmdldFBhdGgoKTtyZXR1cm4gdC5sZW5ndGg+MCYmKHRbdC5sZW5ndGgtMV0rPXRoaXMub2Zmc2V0SW5UZXh0KSx0fWdldEFuY2VzdG9ycyh0PXtpbmNsdWRlU2VsZjohMSxwYXJlbnRGaXJzdDohMX0pe2NvbnN0IGU9W107bGV0IG49dC5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O2Zvcig7bjspZVt0LnBhcmVudEZpcnN0P1wicHVzaFwiOlwidW5zaGlmdFwiXShuKSxuPW4ucGFyZW50O3JldHVybiBlfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5oYXNBdHRyaWJ1dGUodCl9Z2V0QXR0cmlidXRlKHQpe3JldHVybiB0aGlzLnRleHROb2RlLmdldEF0dHJpYnV0ZSh0KX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZ2V0QXR0cmlidXRlcygpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5nZXRBdHRyaWJ1dGVLZXlzKCl9fWNsYXNzIGhze2NvbnN0cnVjdG9yKHQpe3RoaXMuX25vZGVzPVtdLHQmJnRoaXMuX2luc2VydE5vZGVzKDAsdCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fbm9kZXNbU3ltYm9sLml0ZXJhdG9yXSgpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbm9kZXMubGVuZ3RofWdldCBtYXhPZmZzZXQoKXtyZXR1cm4gdGhpcy5fbm9kZXMucmVkdWNlKCh0LGUpPT50K2Uub2Zmc2V0U2l6ZSwwKX1nZXROb2RlKHQpe3JldHVybiB0aGlzLl9ub2Rlc1t0XXx8bnVsbH1nZXROb2RlSW5kZXgodCl7Y29uc3QgZT10aGlzLl9ub2Rlcy5pbmRleE9mKHQpO3JldHVybi0xPT1lP251bGw6ZX1nZXROb2RlU3RhcnRPZmZzZXQodCl7Y29uc3QgZT10aGlzLmdldE5vZGVJbmRleCh0KTtyZXR1cm4gbnVsbD09PWU/bnVsbDp0aGlzLl9ub2Rlcy5zbGljZSgwLGUpLnJlZHVjZSgodCxlKT0+dCtlLm9mZnNldFNpemUsMCl9aW5kZXhUb09mZnNldCh0KXtpZih0PT10aGlzLl9ub2Rlcy5sZW5ndGgpcmV0dXJuIHRoaXMubWF4T2Zmc2V0O2NvbnN0IGU9dGhpcy5fbm9kZXNbdF07aWYoIWUpdGhyb3cgbmV3IG0uYihcIm1vZGVscy1ub2RlbGlzdC1pbmRleC1vdXQtb2YtYm91bmRzOiBHaXZlbiBpbmRleCBjYW5ub3QgYmUgZm91bmQgaW4gdGhlIG5vZGUgbGlzdC5cIik7cmV0dXJuIHRoaXMuZ2V0Tm9kZVN0YXJ0T2Zmc2V0KGUpfW9mZnNldFRvSW5kZXgodCl7bGV0IGU9MDtmb3IoY29uc3QgbiBvZiB0aGlzLl9ub2Rlcyl7aWYodD49ZSYmdDxlK24ub2Zmc2V0U2l6ZSlyZXR1cm4gdGhpcy5nZXROb2RlSW5kZXgobik7ZSs9bi5vZmZzZXRTaXplfWlmKGUhPXQpdGhyb3cgbmV3IG0uYihcIm1vZGVscy1ub2RlbGlzdC1vZmZzZXQtb3V0LW9mLWJvdW5kczogR2l2ZW4gb2Zmc2V0IGNhbm5vdCBiZSBmb3VuZCBpbiB0aGUgbm9kZSBsaXN0LlwiLHtvZmZzZXQ6dCxub2RlTGlzdDp0aGlzfSk7cmV0dXJuIHRoaXMubGVuZ3RofV9pbnNlcnROb2Rlcyh0LGUpe2Zvcihjb25zdCB0IG9mIGUpaWYoISh0IGluc3RhbmNlb2YgbHMpKXRocm93IG5ldyBtLmIoXCJtb2RlbHMtbm9kZWxpc3QtaW5zZXJ0Tm9kZXMtbm90LW5vZGU6IFRyeWluZyB0byBpbnNlcnQgYW4gb2JqZWN0IHdoaWNoIGlzIG5vdCBhIE5vZGUgaW5zdGFuY2UuXCIpO3RoaXMuX25vZGVzLnNwbGljZSh0LDAsLi4uZSl9X3JlbW92ZU5vZGVzKHQsZT0xKXtyZXR1cm4gdGhpcy5fbm9kZXMuc3BsaWNlKHQsZSl9dG9KU09OKCl7cmV0dXJuIHRoaXMuX25vZGVzLm1hcCh0PT50LnRvSlNPTigpKX19Y2xhc3MgZnMgZXh0ZW5kcyBsc3tjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoZSksdGhpcy5uYW1lPXQsdGhpcy5fY2hpbGRyZW49bmV3IGhzLG4mJnRoaXMuX2luc2VydENoaWxkKDAsbil9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBtYXhPZmZzZXQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubWF4T2Zmc2V0fWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmNoaWxkQ291bnR9aXModCxlPW51bGwpe3JldHVybiBlP1wiZWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWU6XCJlbGVtZW50XCI9PXR8fHQ9PXRoaXMubmFtZXx8c3VwZXIuaXModCl9Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGUodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVJbmRleCh0KX1nZXRDaGlsZFN0YXJ0T2Zmc2V0KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlU3RhcnRPZmZzZXQodCl9b2Zmc2V0VG9JbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ub2Zmc2V0VG9JbmRleCh0KX1nZXROb2RlQnlQYXRoKHQpe2xldCBlPXRoaXM7Zm9yKGNvbnN0IG4gb2YgdCllPWUuZ2V0Q2hpbGQoZS5vZmZzZXRUb0luZGV4KG4pKTtyZXR1cm4gZX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO2lmKHQubmFtZT10aGlzLm5hbWUsdGhpcy5fY2hpbGRyZW4ubGVuZ3RoPjApe3QuY2hpbGRyZW49W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY2hpbGRyZW4pdC5jaGlsZHJlbi5wdXNoKGUudG9KU09OKCkpfXJldHVybiB0fV9jbG9uZSh0PSExKXtjb25zdCBlPXQ/QXJyYXkuZnJvbSh0aGlzLl9jaGlsZHJlbikubWFwKHQ9PnQuX2Nsb25lKCEwKSk6bnVsbDtyZXR1cm4gbmV3IGZzKHRoaXMubmFtZSx0aGlzLmdldEF0dHJpYnV0ZXMoKSxlKX1fYXBwZW5kQ2hpbGQodCl7dGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LHQpfV9pbnNlcnRDaGlsZCh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuW25ldyBkcyh0KV07Vm4odCl8fCh0PVt0XSk7cmV0dXJuIEFycmF5LmZyb20odCkubWFwKHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P25ldyBkcyh0KTp0IGluc3RhbmNlb2YgdXM/bmV3IGRzKHQuZGF0YSx0LmdldEF0dHJpYnV0ZXMoKSk6dCl9KGUpO2Zvcihjb25zdCB0IG9mIG4pbnVsbCE9PXQucGFyZW50JiZ0Ll9yZW1vdmUoKSx0LnBhcmVudD10aGlzO3RoaXMuX2NoaWxkcmVuLl9pbnNlcnROb2Rlcyh0LG4pfV9yZW1vdmVDaGlsZHJlbih0LGU9MSl7Y29uc3Qgbj10aGlzLl9jaGlsZHJlbi5fcmVtb3ZlTm9kZXModCxlKTtmb3IoY29uc3QgdCBvZiBuKXQucGFyZW50PW51bGw7cmV0dXJuIG59c3RhdGljIGZyb21KU09OKHQpe2xldCBlPW51bGw7aWYodC5jaGlsZHJlbil7ZT1bXTtmb3IoY29uc3QgbiBvZiB0LmNoaWxkcmVuKW4ubmFtZT9lLnB1c2goZnMuZnJvbUpTT04obikpOmUucHVzaChkcy5mcm9tSlNPTihuKSl9cmV0dXJuIG5ldyBmcyh0Lm5hbWUsdC5hdHRyaWJ1dGVzLGUpfX1jbGFzcyBwc3tjb25zdHJ1Y3Rvcih0PXt9KXtpZighdC5ib3VuZGFyaWVzJiYhdC5zdGFydFBvc2l0aW9uKXRocm93IG5ldyBtLmIoXCJtb2RlbHMtdHJlZS13YWxrZXItbm8tc3RhcnQtcG9zaXRpb246IE5laXRoZXIgYm91bmRhcmllcyBub3Igc3RhcnRpbmcgcG9zaXRpb24gaGF2ZSBiZWVuIGRlZmluZWQuXCIpO2NvbnN0IGU9dC5kaXJlY3Rpb258fFwiZm9yd2FyZFwiO2lmKFwiZm9yd2FyZFwiIT1lJiZcImJhY2t3YXJkXCIhPWUpdGhyb3cgbmV3IG0uYihcIm1vZGVscy10cmVlLXdhbGtlci11bmtub3duLWRpcmVjdGlvbjogT25seSBgYmFja3dhcmRgIGFuZCBgZm9yd2FyZGAgZGlyZWN0aW9uIGFsbG93ZWQuXCIse2RpcmVjdGlvbjplfSk7dGhpcy5kaXJlY3Rpb249ZSx0aGlzLmJvdW5kYXJpZXM9dC5ib3VuZGFyaWVzfHxudWxsLHQuc3RhcnRQb3NpdGlvbj90aGlzLnBvc2l0aW9uPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0LnN0YXJ0UG9zaXRpb24pOnRoaXMucG9zaXRpb249YnMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMuYm91bmRhcmllc1tcImJhY2t3YXJkXCI9PXRoaXMuZGlyZWN0aW9uP1wiZW5kXCI6XCJzdGFydFwiXSksdGhpcy5zaW5nbGVDaGFyYWN0ZXJzPSEhdC5zaW5nbGVDaGFyYWN0ZXJzLHRoaXMuc2hhbGxvdz0hIXQuc2hhbGxvdyx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ9ISF0Lmlnbm9yZUVsZW1lbnRFbmQsdGhpcy5fYm91bmRhcnlTdGFydFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLnN0YXJ0LnBhcmVudDpudWxsLHRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50PXRoaXMuYm91bmRhcmllcz90aGlzLmJvdW5kYXJpZXMuZW5kLnBhcmVudDpudWxsLHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9dGhpcy5wb3NpdGlvbi5wYXJlbnR9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpc31za2lwKHQpe2xldCBlLG4saSxvO2Rve2k9dGhpcy5wb3NpdGlvbixvPXRoaXMuX3Zpc2l0ZWRQYXJlbnQsKHtkb25lOmUsdmFsdWU6bn09dGhpcy5uZXh0KCkpfXdoaWxlKCFlJiZ0KG4pKTtlfHwodGhpcy5wb3NpdGlvbj1pLHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9byl9bmV4dCgpe3JldHVyblwiZm9yd2FyZFwiPT10aGlzLmRpcmVjdGlvbj90aGlzLl9uZXh0KCk6dGhpcy5fcHJldmlvdXMoKX1fbmV4dCgpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbixlPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uKSxuPXRoaXMuX3Zpc2l0ZWRQYXJlbnQ7aWYobnVsbD09PW4ucGFyZW50JiZlLm9mZnNldD09PW4ubWF4T2Zmc2V0KXJldHVybntkb25lOiEwfTtpZihuPT09dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQmJmUub2Zmc2V0PT10aGlzLmJvdW5kYXJpZXMuZW5kLm9mZnNldClyZXR1cm57ZG9uZTohMH07Y29uc3QgaT1lLnRleHROb2RlP2UudGV4dE5vZGU6ZS5ub2RlQWZ0ZXI7aWYoaSBpbnN0YW5jZW9mIGZzKXJldHVybiB0aGlzLnNoYWxsb3c/ZS5vZmZzZXQrKzooZS5wYXRoLnB1c2goMCksdGhpcy5fdmlzaXRlZFBhcmVudD1pKSx0aGlzLnBvc2l0aW9uPWUsbXMoXCJlbGVtZW50U3RhcnRcIixpLHQsZSwxKTtpZihpIGluc3RhbmNlb2YgZHMpe2xldCBvO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylvPTE7ZWxzZXtsZXQgdD1pLmVuZE9mZnNldDt0aGlzLl9ib3VuZGFyeUVuZFBhcmVudD09biYmdGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQ8dCYmKHQ9dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQpLG89dC1lLm9mZnNldH1jb25zdCByPWUub2Zmc2V0LWkuc3RhcnRPZmZzZXQscz1uZXcgdXMoaSxyLG8pO3JldHVybiBlLm9mZnNldCs9byx0aGlzLnBvc2l0aW9uPWUsbXMoXCJ0ZXh0XCIscyx0LGUsbyl9cmV0dXJuIGUucGF0aC5wb3AoKSxlLm9mZnNldCsrLHRoaXMucG9zaXRpb249ZSx0aGlzLl92aXNpdGVkUGFyZW50PW4ucGFyZW50LHRoaXMuaWdub3JlRWxlbWVudEVuZD90aGlzLl9uZXh0KCk6bXMoXCJlbGVtZW50RW5kXCIsbix0LGUpfV9wcmV2aW91cygpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbixlPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uKSxuPXRoaXMuX3Zpc2l0ZWRQYXJlbnQ7aWYobnVsbD09PW4ucGFyZW50JiYwPT09ZS5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2lmKG49PXRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQmJmUub2Zmc2V0PT10aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0KXJldHVybntkb25lOiEwfTtjb25zdCBpPWUudGV4dE5vZGU/ZS50ZXh0Tm9kZTplLm5vZGVCZWZvcmU7aWYoaSBpbnN0YW5jZW9mIGZzKXJldHVybiBlLm9mZnNldC0tLHRoaXMuc2hhbGxvdz8odGhpcy5wb3NpdGlvbj1lLG1zKFwiZWxlbWVudFN0YXJ0XCIsaSx0LGUsMSkpOihlLnBhdGgucHVzaChpLm1heE9mZnNldCksdGhpcy5wb3NpdGlvbj1lLHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9aSx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fcHJldmlvdXMoKTptcyhcImVsZW1lbnRFbmRcIixpLHQsZSkpO2lmKGkgaW5zdGFuY2VvZiBkcyl7bGV0IG87aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKW89MTtlbHNle2xldCB0PWkuc3RhcnRPZmZzZXQ7dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudD09biYmdGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldD50JiYodD10aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0KSxvPWUub2Zmc2V0LXR9Y29uc3Qgcj1lLm9mZnNldC1pLnN0YXJ0T2Zmc2V0LHM9bmV3IHVzKGksci1vLG8pO3JldHVybiBlLm9mZnNldC09byx0aGlzLnBvc2l0aW9uPWUsbXMoXCJ0ZXh0XCIscyx0LGUsbyl9cmV0dXJuIGUucGF0aC5wb3AoKSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5fdmlzaXRlZFBhcmVudD1uLnBhcmVudCxtcyhcImVsZW1lbnRTdGFydFwiLG4sdCxlLDEpfX1mdW5jdGlvbiBtcyh0LGUsbixpLG8pe3JldHVybntkb25lOiExLHZhbHVlOnt0eXBlOnQsaXRlbTplLHByZXZpb3VzUG9zaXRpb246bixuZXh0UG9zaXRpb246aSxsZW5ndGg6b319fXZhciBncz1mdW5jdGlvbih0KXt2YXIgZT10P3QubGVuZ3RoOjA7cmV0dXJuIGU/dFtlLTFdOnZvaWQgMH07Y2xhc3MgYnN7Y29uc3RydWN0b3IodCxlKXtpZighdC5pcyhcImVsZW1lbnRcIikmJiF0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLXBvc2l0aW9uLXJvb3QtaW52YWxpZDogUG9zaXRpb24gcm9vdCBpbnZhbGlkLlwiKTtpZighKGUgaW5zdGFuY2VvZiBBcnJheSl8fDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLXBvc2l0aW9uLXBhdGgtaW5jb3JyZWN0OiBQb3NpdGlvbiBwYXRoIG11c3QgYmUgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgaXRlbS5cIix7cGF0aDplfSk7ZT10LmdldFBhdGgoKS5jb25jYXQoZSksdD10LnJvb3QsdGhpcy5yb290PXQsdGhpcy5wYXRoPWV9Z2V0IG9mZnNldCgpe3JldHVybiBncyh0aGlzLnBhdGgpfXNldCBvZmZzZXQodCl7dGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGgtMV09dH1nZXQgcGFyZW50KCl7bGV0IHQ9dGhpcy5yb290O2ZvcihsZXQgZT0wO2U8dGhpcy5wYXRoLmxlbmd0aC0xO2UrKyl0PXQuZ2V0Q2hpbGQodC5vZmZzZXRUb0luZGV4KHRoaXMucGF0aFtlXSkpO3JldHVybiB0fWdldCBpbmRleCgpe3JldHVybiB0aGlzLnBhcmVudC5vZmZzZXRUb0luZGV4KHRoaXMub2Zmc2V0KX1nZXQgdGV4dE5vZGUoKXtjb25zdCB0PXRoaXMucGFyZW50LmdldENoaWxkKHRoaXMuaW5kZXgpO3JldHVybiB0IGluc3RhbmNlb2YgZHMmJnQuc3RhcnRPZmZzZXQ8dGhpcy5vZmZzZXQ/dDpudWxsfWdldCBub2RlQWZ0ZXIoKXtyZXR1cm4gbnVsbD09PXRoaXMudGV4dE5vZGU/dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5pbmRleCk6bnVsbH1nZXQgbm9kZUJlZm9yZSgpe3JldHVybiBudWxsPT09dGhpcy50ZXh0Tm9kZT90aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLmluZGV4LTEpOm51bGx9Z2V0IGlzQXRTdGFydCgpe3JldHVybiAwPT09dGhpcy5vZmZzZXR9Z2V0IGlzQXRFbmQoKXtyZXR1cm4gdGhpcy5vZmZzZXQ9PXRoaXMucGFyZW50Lm1heE9mZnNldH1jb21wYXJlV2l0aCh0KXtpZih0aGlzLnJvb3QhPXQucm9vdClyZXR1cm5cImRpZmZlcmVudFwiO2NvbnN0IGU9RW4odGhpcy5wYXRoLHQucGF0aCk7c3dpdGNoKGUpe2Nhc2VcInNhbWVcIjpyZXR1cm5cInNhbWVcIjtjYXNlXCJwcmVmaXhcIjpyZXR1cm5cImJlZm9yZVwiO2Nhc2VcImV4dGVuc2lvblwiOnJldHVyblwiYWZ0ZXJcIjtkZWZhdWx0OnJldHVybiB0aGlzLnBhdGhbZV08dC5wYXRoW2VdP1wiYmVmb3JlXCI6XCJhZnRlclwifX1nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0LGU9e30pe2Uuc3RhcnRQb3NpdGlvbj10aGlzO2NvbnN0IG49bmV3IHBzKGUpO3JldHVybiBuLnNraXAodCksbi5wb3NpdGlvbn1nZXRQYXJlbnRQYXRoKCl7cmV0dXJuIHRoaXMucGF0aC5zbGljZSgwLC0xKX1nZXRBbmNlc3RvcnMoKXtyZXR1cm4gdGhpcy5wYXJlbnQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP1t0aGlzLnBhcmVudF06dGhpcy5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pfWdldENvbW1vblBhdGgodCl7aWYodGhpcy5yb290IT10LnJvb3QpcmV0dXJuW107Y29uc3QgZT1Fbih0aGlzLnBhdGgsdC5wYXRoKSxuPVwic3RyaW5nXCI9PXR5cGVvZiBlP01hdGgubWluKHRoaXMucGF0aC5sZW5ndGgsdC5wYXRoLmxlbmd0aCk6ZTtyZXR1cm4gdGhpcy5wYXRoLnNsaWNlKDAsbil9Z2V0Q29tbW9uQW5jZXN0b3IodCl7Y29uc3QgZT10aGlzLmdldEFuY2VzdG9ycygpLG49dC5nZXRBbmNlc3RvcnMoKTtsZXQgaT0wO2Zvcig7ZVtpXT09bltpXSYmZVtpXTspaSsrO3JldHVybiAwPT09aT9udWxsOmVbaS0xXX1nZXRTaGlmdGVkQnkodCl7Y29uc3QgZT1icy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyksbj1lLm9mZnNldCt0O3JldHVybiBlLm9mZnNldD1uPDA/MDpuLGV9aXNBZnRlcih0KXtyZXR1cm5cImFmdGVyXCI9PXRoaXMuY29tcGFyZVdpdGgodCl9aXNCZWZvcmUodCl7cmV0dXJuXCJiZWZvcmVcIj09dGhpcy5jb21wYXJlV2l0aCh0KX1pc0VxdWFsKHQpe3JldHVyblwic2FtZVwiPT10aGlzLmNvbXBhcmVXaXRoKHQpfWlzVG91Y2hpbmcodCl7bGV0IGU9bnVsbCxuPW51bGw7c3dpdGNoKHRoaXMuY29tcGFyZVdpdGgodCkpe2Nhc2VcInNhbWVcIjpyZXR1cm4hMDtjYXNlXCJiZWZvcmVcIjplPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzKSxuPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0KTticmVhaztjYXNlXCJhZnRlclwiOmU9YnMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLG49YnMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9bGV0IGk9ZS5wYXJlbnQ7Zm9yKDtlLnBhdGgubGVuZ3RoK24ucGF0aC5sZW5ndGg7KXtpZihlLmlzRXF1YWwobikpcmV0dXJuITA7aWYoZS5wYXRoLmxlbmd0aD5uLnBhdGgubGVuZ3RoKXtpZihlLm9mZnNldCE9PWkubWF4T2Zmc2V0KXJldHVybiExO2UucGF0aD1lLnBhdGguc2xpY2UoMCwtMSksaT1pLnBhcmVudCxlLm9mZnNldCsrfWVsc2V7aWYoMCE9PW4ub2Zmc2V0KXJldHVybiExO24ucGF0aD1uLnBhdGguc2xpY2UoMCwtMSl9fX1fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsZSl7Y29uc3Qgbj1icy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyk7aWYodGhpcy5yb290IT10LnJvb3QpcmV0dXJuIG47aWYoXCJzYW1lXCI9PUVuKHQuZ2V0UGFyZW50UGF0aCgpLHRoaXMuZ2V0UGFyZW50UGF0aCgpKSl7aWYodC5vZmZzZXQ8dGhpcy5vZmZzZXQpe2lmKHQub2Zmc2V0K2U+dGhpcy5vZmZzZXQpcmV0dXJuIG51bGw7bi5vZmZzZXQtPWV9fWVsc2UgaWYoXCJwcmVmaXhcIj09RW4odC5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKXtjb25zdCBpPXQucGF0aC5sZW5ndGgtMTtpZih0Lm9mZnNldDw9dGhpcy5wYXRoW2ldKXtpZih0Lm9mZnNldCtlPnRoaXMucGF0aFtpXSlyZXR1cm4gbnVsbDtuLnBhdGhbaV0tPWV9fXJldHVybiBufV9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQsZSxuKXtjb25zdCBpPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzKTtpZih0aGlzLnJvb3QhPXQucm9vdClyZXR1cm4gaTtpZihcInNhbWVcIj09RW4odC5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKSh0Lm9mZnNldDx0aGlzLm9mZnNldHx8dC5vZmZzZXQ9PXRoaXMub2Zmc2V0JiZuKSYmKGkub2Zmc2V0Kz1lKTtlbHNlIGlmKFwicHJlZml4XCI9PUVuKHQuZ2V0UGFyZW50UGF0aCgpLHRoaXMuZ2V0UGFyZW50UGF0aCgpKSl7Y29uc3Qgbj10LnBhdGgubGVuZ3RoLTE7dC5vZmZzZXQ8PXRoaXMucGF0aFtuXSYmKGkucGF0aFtuXSs9ZSl9cmV0dXJuIGl9X2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQsZSxuLGksbyl7bGV0IHI9dGhpcy5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsbik7cmV0dXJuIGU9ZS5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsbikscj1udWxsPT09cnx8byYmci5pc0VxdWFsKHQpP3RoaXMuX2dldENvbWJpbmVkKHQsZSk6ci5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihlLG4saSl9X2dldENvbWJpbmVkKHQsZSl7Y29uc3Qgbj10LnBhdGgubGVuZ3RoLTEsaT1icy5jcmVhdGVGcm9tUG9zaXRpb24oZSk7cmV0dXJuIGkub2Zmc2V0PWkub2Zmc2V0K3RoaXMucGF0aFtuXS10Lm9mZnNldCxpLnBhdGg9aS5wYXRoLmNvbmNhdCh0aGlzLnBhdGguc2xpY2UobisxKSksaX1zdGF0aWMgY3JlYXRlQXQodCxlKXtpZih0IGluc3RhbmNlb2YgYnMpcmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpO3tjb25zdCBuPXQ7aWYoXCJlbmRcIj09ZSllPW4ubWF4T2Zmc2V0O2Vsc2V7aWYoXCJiZWZvcmVcIj09ZSlyZXR1cm4gdGhpcy5jcmVhdGVCZWZvcmUobik7aWYoXCJhZnRlclwiPT1lKXJldHVybiB0aGlzLmNyZWF0ZUFmdGVyKG4pO2V8fChlPTApfXJldHVybiB0aGlzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQobixlKX19c3RhdGljIGNyZWF0ZUFmdGVyKHQpe2lmKCF0LnBhcmVudCl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLXBvc2l0aW9uLWFmdGVyLXJvb3Q6IFlvdSBjYW5ub3QgbWFrZSBhIHBvc2l0aW9uIGFmdGVyIHJvb3QuXCIse3Jvb3Q6dH0pO3JldHVybiB0aGlzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQodC5wYXJlbnQsdC5lbmRPZmZzZXQpfXN0YXRpYyBjcmVhdGVCZWZvcmUodCl7aWYoIXQucGFyZW50KXRocm93IG5ldyBtLmIoXCJtb2RlbHMtcG9zaXRpb24tYmVmb3JlLXJvb3Q6IFlvdSBjYW5ub3QgbWFrZSBhIHBvc2l0aW9uIGJlZm9yZSByb290LlwiLHtyb290OnR9KTtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KHQucGFyZW50LHQuc3RhcnRPZmZzZXQpfXN0YXRpYyBjcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KHQsZSl7aWYoIXQuaXMoXCJlbGVtZW50XCIpJiYhdC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpdGhyb3cgbmV3IG0uYihcIm1vZGVscy1wb3NpdGlvbi1wYXJlbnQtaW5jb3JyZWN0OiBQb3NpdGlvbiBwYXJlbnQgaGF2ZSB0byBiZSBhIGVsZW1lbnQgb3IgZG9jdW1lbnQgZnJhZ21lbnQuXCIpO2NvbnN0IG49dC5nZXRQYXRoKCk7cmV0dXJuIG4ucHVzaChlKSxuZXcgdGhpcyh0LnJvb3Qsbil9c3RhdGljIGNyZWF0ZUZyb21Qb3NpdGlvbih0KXtyZXR1cm4gbmV3IHRoaXModC5yb290LHQucGF0aC5zbGljZSgpKX1zdGF0aWMgZnJvbUpTT04odCxlKXtpZihcIiRncmF2ZXlhcmRcIj09PXQucm9vdClyZXR1cm4gbmV3IGJzKGUuZ3JhdmV5YXJkLHQucGF0aCk7aWYoIWUuZ2V0Um9vdCh0LnJvb3QpKXRocm93IG5ldyBtLmIoXCJtb2RlbHMtcG9zaXRpb24tZnJvbWpzb24tbm8tcm9vdDogQ2Fubm90IGNyZWF0ZSBwb3NpdGlvbiBmb3IgZG9jdW1lbnQuIFJvb3Qgd2l0aCBzcGVjaWZpZWQgbmFtZSBkb2VzIG5vdCBleGlzdC5cIix7cm9vdE5hbWU6dC5yb290fSk7cmV0dXJuIG5ldyBicyhlLmdldFJvb3QodC5yb290KSx0LnBhdGgpfX1jbGFzcyB3c3tjb25zdHJ1Y3Rvcih0LGU9bnVsbCl7dGhpcy5zdGFydD1icy5jcmVhdGVGcm9tUG9zaXRpb24odCksdGhpcy5lbmQ9ZT9icy5jcmVhdGVGcm9tUG9zaXRpb24oZSk6YnMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpfSpbU3ltYm9sLml0ZXJhdG9yXSgpe3lpZWxkKm5ldyBwcyh7Ym91bmRhcmllczp0aGlzLGlnbm9yZUVsZW1lbnRFbmQ6ITB9KX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5zdGFydC5pc0VxdWFsKHRoaXMuZW5kKX1nZXQgaXNGbGF0KCl7cmV0dXJuIHRoaXMuc3RhcnQucGFyZW50PT09dGhpcy5lbmQucGFyZW50fWdldCByb290KCl7cmV0dXJuIHRoaXMuc3RhcnQucm9vdH1jb250YWluc1Bvc2l0aW9uKHQpe3JldHVybiB0LmlzQWZ0ZXIodGhpcy5zdGFydCkmJnQuaXNCZWZvcmUodGhpcy5lbmQpfWNvbnRhaW5zUmFuZ2UodCxlPSExKXt0LmlzQ29sbGFwc2VkJiYoZT0hMSk7Y29uc3Qgbj10aGlzLmNvbnRhaW5zUG9zaXRpb24odC5zdGFydCl8fGUmJnRoaXMuc3RhcnQuaXNFcXVhbCh0LnN0YXJ0KSxpPXRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCl8fGUmJnRoaXMuZW5kLmlzRXF1YWwodC5lbmQpO3JldHVybiBuJiZpfWNvbnRhaW5zSXRlbSh0KXtjb25zdCBlPWJzLmNyZWF0ZUJlZm9yZSh0KTtyZXR1cm4gdGhpcy5jb250YWluc1Bvc2l0aW9uKGUpfHx0aGlzLnN0YXJ0LmlzRXF1YWwoZSl9aXNFcXVhbCh0KXtyZXR1cm4gdGhpcy5zdGFydC5pc0VxdWFsKHQuc3RhcnQpJiZ0aGlzLmVuZC5pc0VxdWFsKHQuZW5kKX1pc0ludGVyc2VjdGluZyh0KXtyZXR1cm4gdGhpcy5zdGFydC5pc0JlZm9yZSh0LmVuZCkmJnRoaXMuZW5kLmlzQWZ0ZXIodC5zdGFydCl9Z2V0RGlmZmVyZW5jZSh0KXtjb25zdCBlPVtdO3JldHVybiB0aGlzLmlzSW50ZXJzZWN0aW5nKHQpPyh0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5zdGFydCkmJmUucHVzaChuZXcgd3ModGhpcy5zdGFydCx0LnN0YXJ0KSksdGhpcy5jb250YWluc1Bvc2l0aW9uKHQuZW5kKSYmZS5wdXNoKG5ldyB3cyh0LmVuZCx0aGlzLmVuZCkpKTplLnB1c2god3MuY3JlYXRlRnJvbVJhbmdlKHRoaXMpKSxlfWdldEludGVyc2VjdGlvbih0KXtpZih0aGlzLmlzSW50ZXJzZWN0aW5nKHQpKXtsZXQgZT10aGlzLnN0YXJ0LG49dGhpcy5lbmQ7cmV0dXJuIHRoaXMuY29udGFpbnNQb3NpdGlvbih0LnN0YXJ0KSYmKGU9dC5zdGFydCksdGhpcy5jb250YWluc1Bvc2l0aW9uKHQuZW5kKSYmKG49dC5lbmQpLG5ldyB3cyhlLG4pfXJldHVybiBudWxsfWdldE1pbmltYWxGbGF0UmFuZ2VzKCl7Y29uc3QgdD1bXSxlPXRoaXMuc3RhcnQuZ2V0Q29tbW9uUGF0aCh0aGlzLmVuZCkubGVuZ3RoLG49YnMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMuc3RhcnQpO2xldCBpPW4ucGFyZW50O2Zvcig7bi5wYXRoLmxlbmd0aD5lKzE7KXtjb25zdCBlPWkubWF4T2Zmc2V0LW4ub2Zmc2V0OzAhPT1lJiZ0LnB1c2gobmV3IHdzKG4sbi5nZXRTaGlmdGVkQnkoZSkpKSxuLnBhdGg9bi5wYXRoLnNsaWNlKDAsLTEpLG4ub2Zmc2V0KyssaT1pLnBhcmVudH1mb3IoO24ucGF0aC5sZW5ndGg8PXRoaXMuZW5kLnBhdGgubGVuZ3RoOyl7Y29uc3QgZT10aGlzLmVuZC5wYXRoW24ucGF0aC5sZW5ndGgtMV0saT1lLW4ub2Zmc2V0OzAhPT1pJiZ0LnB1c2gobmV3IHdzKG4sbi5nZXRTaGlmdGVkQnkoaSkpKSxuLm9mZnNldD1lLG4ucGF0aC5wdXNoKDApfXJldHVybiB0fWdldFdhbGtlcih0PXt9KXtyZXR1cm4gdC5ib3VuZGFyaWVzPXRoaXMsbmV3IHBzKHQpfSpnZXRJdGVtcyh0PXt9KXt0LmJvdW5kYXJpZXM9dGhpcyx0Lmlnbm9yZUVsZW1lbnRFbmQ9ITA7Y29uc3QgZT1uZXcgcHModCk7Zm9yKGNvbnN0IHQgb2YgZSl5aWVsZCB0Lml0ZW19KmdldFBvc2l0aW9ucyh0PXt9KXt0LmJvdW5kYXJpZXM9dGhpcztjb25zdCBlPW5ldyBwcyh0KTt5aWVsZCBlLnBvc2l0aW9uO2Zvcihjb25zdCB0IG9mIGUpeWllbGQgdC5uZXh0UG9zaXRpb259Z2V0VHJhbnNmb3JtZWRCeURlbHRhKHQpe2NvbnN0IGU9W3dzLmNyZWF0ZUZyb21SYW5nZSh0aGlzKV0sbj1uZXcgU2V0KFtcImluc2VydFwiLFwibW92ZVwiLFwicmVtb3ZlXCIsXCJyZWluc2VydFwiXSk7Zm9yKGNvbnN0IGkgb2YgdC5vcGVyYXRpb25zKWlmKG4uaGFzKGkudHlwZSkpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2xldCBvO289XCJpbnNlcnRcIj09aS50eXBlP2Vbbl0uX2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShpLnR5cGUsdC50eXBlLGkucG9zaXRpb24saS5ub2Rlcy5tYXhPZmZzZXQpOmVbbl0uX2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShpLnR5cGUsdC50eXBlLGkudGFyZ2V0UG9zaXRpb24saS5ob3dNYW55LGkuc291cmNlUG9zaXRpb24pLGUuc3BsaWNlKG4sMSwuLi5vKSxuKz1vLmxlbmd0aC0xfXJldHVybiBlfWdldFRyYW5zZm9ybWVkQnlEZWx0YXModCl7Y29uc3QgZT1bd3MuY3JlYXRlRnJvbVJhbmdlKHRoaXMpXTtmb3IoY29uc3QgbiBvZiB0KWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBpPWVbdF0uZ2V0VHJhbnNmb3JtZWRCeURlbHRhKG4pO2Uuc3BsaWNlKHQsMSwuLi5pKSx0Kz1pLmxlbmd0aC0xfWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF07Zm9yKGxldCBpPXQrMTtpPGUubGVuZ3RoO2krKyl7Y29uc3QgdD1lW2ldOyhuLmNvbnRhaW5zUmFuZ2UodCl8fHQuY29udGFpbnNSYW5nZShuKXx8bi5pc0VxdWFsKHQpKSYmZS5zcGxpY2UoaSwxKX19cmV0dXJuIGV9Z2V0Q29tbW9uQW5jZXN0b3IoKXtyZXR1cm4gdGhpcy5zdGFydC5nZXRDb21tb25BbmNlc3Rvcih0aGlzLmVuZCl9X2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZSh0LGUsbixpLG8pe2lmKFwiaW5zZXJ0XCI9PXQpcmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24obixpLCExLCExKTt7Y29uc3QgdD13cy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChvLGkpO2lmKFwibWVyZ2VcIj09ZSYmdGhpcy5pc0NvbGxhcHNlZCYmKHRoaXMuc3RhcnQuaXNFcXVhbCh0LnN0YXJ0KXx8dGhpcy5zdGFydC5pc0VxdWFsKHQuZW5kKSkpe2NvbnN0IGU9dGhpcy5zdGFydC5vZmZzZXQtdC5zdGFydC5vZmZzZXQ7cmV0dXJuW25ldyB3cyhuLmdldFNoaWZ0ZWRCeShlKSldfWlmKFwic3BsaXRcIj09ZSYmdGhpcy5pc0NvbGxhcHNlZCYmdGhpcy5lbmQuaXNFcXVhbCh0LmVuZCkpcmV0dXJuW25ldyB3cyhuLmdldFNoaWZ0ZWRCeShpKSldO2lmKCh0LmNvbnRhaW5zUG9zaXRpb24odGhpcy5zdGFydCl8fHQuc3RhcnQuaXNFcXVhbCh0aGlzLnN0YXJ0KSkmJnRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCkmJnRoaXMuZW5kLmlzQWZ0ZXIobikpe2NvbnN0IHQ9dGhpcy5zdGFydC5fZ2V0Q29tYmluZWQobyxuLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24obyxpKSksZT10aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUobyxuLGksITEsITEpO3JldHVybltuZXcgd3ModCxlKV19aWYoKHQuY29udGFpbnNQb3NpdGlvbih0aGlzLmVuZCl8fHQuZW5kLmlzRXF1YWwodGhpcy5lbmQpKSYmdGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpJiZ0aGlzLnN0YXJ0LmlzQmVmb3JlKG4pKXtjb25zdCB0PXRoaXMuc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKG8sbixpLCEwLCExKSxlPXRoaXMuZW5kLl9nZXRDb21iaW5lZChvLG4uX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihvLGkpKTtyZXR1cm5bbmV3IHdzKHQsZSldfXJldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShvLG4saSl9fV9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQsZSxuPSExLGk9ITEpe2lmKG4mJnRoaXMuY29udGFpbnNQb3NpdGlvbih0KSlyZXR1cm5bbmV3IHdzKHRoaXMuc3RhcnQsdCksbmV3IHdzKHQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odCxlLCEwKSx0aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUsdGhpcy5pc0NvbGxhcHNlZCkpXTt7Y29uc3Qgbj13cy5jcmVhdGVGcm9tUmFuZ2UodGhpcyksbz0haSxyPSEhbi5pc0NvbGxhcHNlZHx8aTtyZXR1cm4gbi5zdGFydD1uLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQsZSxvKSxuLmVuZD1uLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUsciksW25dfX1fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodCxlLG4pe2lmKHRoaXMuaXNDb2xsYXBzZWQpe2NvbnN0IGk9dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodCxlLG4sITAsITEpO3JldHVybltuZXcgd3MoaSldfWxldCBpO2NvbnN0IG89bmV3IHdzKHQsdC5nZXRTaGlmdGVkQnkobikpLHI9dGhpcy5nZXREaWZmZXJlbmNlKG8pO2xldCBzPW51bGw7Y29uc3QgYT10aGlzLmdldEludGVyc2VjdGlvbihvKTsxPT1yLmxlbmd0aD9zPW5ldyB3cyhyWzBdLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxuKSxyWzBdLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsbikpOjI9PXIubGVuZ3RoJiYocz1uZXcgd3ModGhpcy5zdGFydCx0aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsbikpKTtjb25zdCBjPWUuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LG4pO3JldHVybiBpPXM/cy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihjLG4sbnVsbCE9PWEpOltdLGEmJmkucHVzaChuZXcgd3MoYS5zdGFydC5fZ2V0Q29tYmluZWQoby5zdGFydCxjKSxhLmVuZC5fZ2V0Q29tYmluZWQoby5zdGFydCxjKSkpLGl9c3RhdGljIGNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQsZSl7Y29uc3Qgbj10LGk9dC5nZXRTaGlmdGVkQnkoZSk7cmV0dXJuIGU+MD9uZXcgdGhpcyhuLGkpOm5ldyB0aGlzKGksbil9c3RhdGljIGNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LGUsbixpKXtyZXR1cm4gbmV3IHRoaXMoYnMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldCh0LGUpLGJzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQobixpKSl9c3RhdGljIGNyZWF0ZUZyb21SYW5nZSh0KXtyZXR1cm4gbmV3IHRoaXModC5zdGFydCx0LmVuZCl9c3RhdGljIGNyZWF0ZUluKHQpe3JldHVybiB0aGlzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LDAsdCx0Lm1heE9mZnNldCl9c3RhdGljIGNyZWF0ZU9uKHQpe3JldHVybiB0aGlzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGJzLmNyZWF0ZUJlZm9yZSh0KSx0Lm9mZnNldFNpemUpfXN0YXRpYyBjcmVhdGVDb2xsYXBzZWRBdCh0LGUpe2NvbnN0IG49YnMuY3JlYXRlQXQodCxlKSxpPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbihuKTtyZXR1cm4gbmV3IHdzKG4saSl9c3RhdGljIGNyZWF0ZUZyb21SYW5nZXModCl7aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBtLmIoXCJyYW5nZS1jcmVhdGUtZnJvbS1yYW5nZXMtZW1wdHktYXJyYXk6IEF0IGxlYXN0IG9uZSByYW5nZSBoYXMgdG8gYmUgcGFzc2VkLlwiKTtpZigxPT10Lmxlbmd0aClyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUmFuZ2UodFswXSk7Y29uc3QgZT10WzBdO3Quc29ydCgodCxlKT0+dC5zdGFydC5pc0FmdGVyKGUuc3RhcnQpPzE6LTEpO2NvbnN0IG49dC5pbmRleE9mKGUpLGk9bmV3IHRoaXMoZS5zdGFydCxlLmVuZCk7Zm9yKGxldCBlPW4tMTtlPj0wJiZ0W2VdLmVuZC5pc0VxdWFsKGkuc3RhcnQpO2UrKylpLnN0YXJ0PWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0W2VdLnN0YXJ0KTtmb3IobGV0IGU9bisxO2U8dC5sZW5ndGgmJnRbZV0uc3RhcnQuaXNFcXVhbChpLmVuZCk7ZSsrKWkuZW5kPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0W2VdLmVuZCk7cmV0dXJuIGl9c3RhdGljIGZyb21KU09OKHQsZSl7cmV0dXJuIG5ldyB0aGlzKGJzLmZyb21KU09OKHQuc3RhcnQsZSksYnMuZnJvbUpTT04odC5lbmQsZSkpfX1jbGFzcyB2c3tjb25zdHJ1Y3Rvcigpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3M9bmV3IE1hcCx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cz1uZXcgTWFwLHRoaXMub24oXCJtb2RlbFRvVmlld1Bvc2l0aW9uXCIsKHQsZSk9PntpZihlLnZpZXdQb3NpdGlvbilyZXR1cm47Y29uc3Qgbj10aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZ2V0KGUubW9kZWxQb3NpdGlvbi5wYXJlbnQpO2Uudmlld1Bvc2l0aW9uPXRoaXMuX2ZpbmRQb3NpdGlvbkluKG4sZS5tb2RlbFBvc2l0aW9uLm9mZnNldCl9LHtwcmlvcml0eTpcImxvd1wifSksdGhpcy5vbihcInZpZXdUb01vZGVsUG9zaXRpb25cIiwodCxlKT0+e2lmKGUubW9kZWxQb3NpdGlvbilyZXR1cm47bGV0IG49ZS52aWV3UG9zaXRpb24ucGFyZW50LGk9dGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmdldChuKTtmb3IoOyFpOyluPW4ucGFyZW50LGk9dGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmdldChuKTtjb25zdCBvPXRoaXMuX3RvTW9kZWxPZmZzZXQoZS52aWV3UG9zaXRpb24ucGFyZW50LGUudmlld1Bvc2l0aW9uLm9mZnNldCxuKTtlLm1vZGVsUG9zaXRpb249YnMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldChpLG8pfSx7cHJpb3JpdHk6XCJsb3dcIn0pfWJpbmRFbGVtZW50cyh0LGUpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5zZXQodCxlKSx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuc2V0KGUsdCl9dW5iaW5kVmlld0VsZW1lbnQodCl7Y29uc3QgZT10aGlzLnRvTW9kZWxFbGVtZW50KHQpO3RoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5kZWxldGUodCksdGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmdldChlKT09dCYmdGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmRlbGV0ZShlKX11bmJpbmRNb2RlbEVsZW1lbnQodCl7Y29uc3QgZT10aGlzLnRvVmlld0VsZW1lbnQodCk7dGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmRlbGV0ZSh0KSx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KGUpPT10JiZ0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZGVsZXRlKGUpfWJpbmRFbGVtZW50VG9NYXJrZXIodCxlKXtjb25zdCBuPXRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmdldChlKXx8bmV3IFNldDtuLmFkZCh0KSx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5zZXQoZSxuKX11bmJpbmRFbGVtZW50c0Zyb21NYXJrZXJOYW1lKHQpe3RoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmRlbGV0ZSh0KX1jbGVhckJpbmRpbmdzKCl7dGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nPW5ldyBXZWFrTWFwLHRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cz1uZXcgTWFwfXRvTW9kZWxFbGVtZW50KHQpe3JldHVybiB0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KHQpfXRvVmlld0VsZW1lbnQodCl7cmV0dXJuIHRoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5nZXQodCl9dG9Nb2RlbFJhbmdlKHQpe3JldHVybiBuZXcgd3ModGhpcy50b01vZGVsUG9zaXRpb24odC5zdGFydCksdGhpcy50b01vZGVsUG9zaXRpb24odC5lbmQpKX10b1ZpZXdSYW5nZSh0KXtyZXR1cm4gbmV3IE1pKHRoaXMudG9WaWV3UG9zaXRpb24odC5zdGFydCksdGhpcy50b1ZpZXdQb3NpdGlvbih0LmVuZCkpfXRvTW9kZWxQb3NpdGlvbih0KXtjb25zdCBlPXt2aWV3UG9zaXRpb246dCxtYXBwZXI6dGhpc307cmV0dXJuIHRoaXMuZmlyZShcInZpZXdUb01vZGVsUG9zaXRpb25cIixlKSxlLm1vZGVsUG9zaXRpb259dG9WaWV3UG9zaXRpb24odCxlPXtpc1BoYW50b206ITF9KXtjb25zdCBuPXttb2RlbFBvc2l0aW9uOnQsbWFwcGVyOnRoaXMsaXNQaGFudG9tOmUuaXNQaGFudG9tfTtyZXR1cm4gdGhpcy5maXJlKFwibW9kZWxUb1ZpZXdQb3NpdGlvblwiLG4pLG4udmlld1Bvc2l0aW9ufW1hcmtlck5hbWVUb0VsZW1lbnRzKHQpe2NvbnN0IGU9dGhpcy5fbWFya2VyTmFtZVRvRWxlbWVudHMuZ2V0KHQpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IG49bmV3IFNldDtmb3IoY29uc3QgdCBvZiBlKWlmKHQuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpKWZvcihjb25zdCBlIG9mIHQuZ2V0RWxlbWVudHNXaXRoU2FtZUlkKCkpbi5hZGQoZSk7ZWxzZSBuLmFkZCh0KTtyZXR1cm4gbn1yZWdpc3RlclZpZXdUb01vZGVsTGVuZ3RoKHQsZSl7dGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3Muc2V0KHQsZSl9X3RvTW9kZWxPZmZzZXQodCxlLG4pe2lmKG4hPXQpe3JldHVybiB0aGlzLl90b01vZGVsT2Zmc2V0KHQucGFyZW50LHQuaW5kZXgsbikrdGhpcy5fdG9Nb2RlbE9mZnNldCh0LGUsdCl9aWYodC5pcyhcInRleHRcIikpcmV0dXJuIGU7bGV0IGk9MDtmb3IobGV0IG49MDtuPGU7bisrKWkrPXRoaXMuZ2V0TW9kZWxMZW5ndGgodC5nZXRDaGlsZChuKSk7cmV0dXJuIGl9Z2V0TW9kZWxMZW5ndGgodCl7aWYodGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3MuZ2V0KHQubmFtZSkpe3JldHVybiB0aGlzLl92aWV3VG9Nb2RlbExlbmd0aENhbGxiYWNrcy5nZXQodC5uYW1lKSh0KX1pZih0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuaGFzKHQpKXJldHVybiAxO2lmKHQuaXMoXCJ0ZXh0XCIpKXJldHVybiB0LmRhdGEubGVuZ3RoO2lmKHQuaXMoXCJ1aUVsZW1lbnRcIikpcmV0dXJuIDA7e2xldCBlPTA7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGlsZHJlbigpKWUrPXRoaXMuZ2V0TW9kZWxMZW5ndGgobik7cmV0dXJuIGV9fV9maW5kUG9zaXRpb25Jbih0LGUpe2xldCBuLGk9MCxvPTAscj0wO2lmKHQuaXMoXCJ0ZXh0XCIpKXJldHVybiBuZXcgVmkodCxlKTtmb3IoO288ZTspbj10LmdldENoaWxkKHIpLG8rPWk9dGhpcy5nZXRNb2RlbExlbmd0aChuKSxyKys7cmV0dXJuIG89PWU/dGhpcy5fbW92ZVZpZXdQb3NpdGlvblRvVGV4dE5vZGUobmV3IFZpKHQscikpOnRoaXMuX2ZpbmRQb3NpdGlvbkluKG4sZS0oby1pKSl9X21vdmVWaWV3UG9zaXRpb25Ub1RleHROb2RlKHQpe2NvbnN0IGU9dC5ub2RlQmVmb3JlLG49dC5ub2RlQWZ0ZXI7cmV0dXJuIGUgaW5zdGFuY2VvZiBPbj9uZXcgVmkoZSxlLmRhdGEubGVuZ3RoKTpuIGluc3RhbmNlb2YgT24/bmV3IFZpKG4sMCk6dH19UCh2cyx5KTtjbGFzcyBfc3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbnN1bWFibGU9bmV3IE1hcCx0aGlzLl90ZXh0UHJveHlSZWdpc3RyeT1uZXcgTWFwfWFkZCh0LGUpe2U9a3MoZSksdCBpbnN0YW5jZW9mIHVzJiYodD10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkodCkpLHRoaXMuX2NvbnN1bWFibGUuaGFzKHQpfHx0aGlzLl9jb25zdW1hYmxlLnNldCh0LG5ldyBNYXApLHRoaXMuX2NvbnN1bWFibGUuZ2V0KHQpLnNldChlLCEwKX1jb25zdW1lKHQsZSl7cmV0dXJuIGU9a3MoZSksdCBpbnN0YW5jZW9mIHVzJiYodD10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkodCkpLCEhdGhpcy50ZXN0KHQsZSkmJih0aGlzLl9jb25zdW1hYmxlLmdldCh0KS5zZXQoZSwhMSksITApfXRlc3QodCxlKXtlPWtzKGUpLHQgaW5zdGFuY2VvZiB1cyYmKHQ9dGhpcy5fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KHQpKTtjb25zdCBuPXRoaXMuX2NvbnN1bWFibGUuZ2V0KHQpO2lmKHZvaWQgMD09PW4pcmV0dXJuIG51bGw7Y29uc3QgaT1uLmdldChlKTtyZXR1cm4gdm9pZCAwPT09aT9udWxsOml9cmV2ZXJ0KHQsZSl7ZT1rcyhlKSx0IGluc3RhbmNlb2YgdXMmJih0PXRoaXMuX2dldFN5bWJvbEZvclRleHRQcm94eSh0KSk7Y29uc3Qgbj10aGlzLnRlc3QodCxlKTtyZXR1cm4hMT09PW4/KHRoaXMuX2NvbnN1bWFibGUuZ2V0KHQpLnNldChlLCEwKSwhMCk6ITAhPT1uJiZudWxsfV9nZXRTeW1ib2xGb3JUZXh0UHJveHkodCl7bGV0IGU9bnVsbDtjb25zdCBuPXRoaXMuX3RleHRQcm94eVJlZ2lzdHJ5LmdldCh0LnN0YXJ0T2Zmc2V0KTtpZihuKXtjb25zdCBpPW4uZ2V0KHQuZW5kT2Zmc2V0KTtpJiYoZT1pLmdldCh0LnBhcmVudCkpfXJldHVybiBlfHwoZT10aGlzLl9hZGRTeW1ib2xGb3JUZXh0UHJveHkodC5zdGFydE9mZnNldCx0LmVuZE9mZnNldCx0LnBhcmVudCkpLGV9X2FkZFN5bWJvbEZvclRleHRQcm94eSh0LGUsbil7Y29uc3QgaT1TeW1ib2woXCJ0ZXh0UHJveHlTeW1ib2xcIik7bGV0IG8scjtyZXR1cm4obz10aGlzLl90ZXh0UHJveHlSZWdpc3RyeS5nZXQodCkpfHwobz1uZXcgTWFwLHRoaXMuX3RleHRQcm94eVJlZ2lzdHJ5LnNldCh0LG8pKSwocj1vLmdldChlKSl8fChyPW5ldyBNYXAsby5zZXQoZSxyKSksci5zZXQobixpKSxpfX1mdW5jdGlvbiBrcyh0KXtjb25zdCBlPXQuc3BsaXQoXCI6XCIpO3JldHVybiBlLmxlbmd0aD4xP2VbMF0rXCI6XCIrZVsxXTplWzBdfWNsYXNzIHlze2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMuY29udmVyc2lvbkFwaT1iaSh7ZGlzcGF0Y2hlcjp0aGlzfSx0KX1jb252ZXJ0Q2hhbmdlcyh0LGUpe2Zvcihjb25zdCBuIG9mIHQuZ2V0TWFya2Vyc1RvUmVtb3ZlKCkpdGhpcy5jb252ZXJ0TWFya2VyUmVtb3ZlKG4ubmFtZSxuLnJhbmdlLGUpO2Zvcihjb25zdCBuIG9mIHQuZ2V0Q2hhbmdlcygpKVwiaW5zZXJ0XCI9PW4udHlwZT90aGlzLmNvbnZlcnRJbnNlcnQod3MuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQobi5wb3NpdGlvbixuLmxlbmd0aCksZSk6XCJyZW1vdmVcIj09bi50eXBlP3RoaXMuY29udmVydFJlbW92ZShuLnBvc2l0aW9uLG4ubGVuZ3RoLG4ubmFtZSxlKTp0aGlzLmNvbnZlcnRBdHRyaWJ1dGUobi5yYW5nZSxuLmF0dHJpYnV0ZUtleSxuLmF0dHJpYnV0ZU9sZFZhbHVlLG4uYXR0cmlidXRlTmV3VmFsdWUsZSk7Zm9yKGNvbnN0IG4gb2YgdC5nZXRNYXJrZXJzVG9BZGQoKSl0aGlzLmNvbnZlcnRNYXJrZXJBZGQobi5uYW1lLG4ucmFuZ2UsZSl9Y29udmVydEluc2VydCh0LGUpe3RoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9ZSx0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT10aGlzLl9jcmVhdGVJbnNlcnRDb25zdW1hYmxlKHQpO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9ZS5pdGVtLG49e2l0ZW06dCxyYW5nZTp3cy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnByZXZpb3VzUG9zaXRpb24sZS5sZW5ndGgpfTt0aGlzLl90ZXN0QW5kRmlyZShcImluc2VydFwiLG4pO2Zvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKW4uYXR0cmlidXRlS2V5PWUsbi5hdHRyaWJ1dGVPbGRWYWx1ZT1udWxsLG4uYXR0cmlidXRlTmV3VmFsdWU9dC5nZXRBdHRyaWJ1dGUoZSksdGhpcy5fdGVzdEFuZEZpcmUoYGF0dHJpYnV0ZToke2V9YCxuKX10aGlzLl9jbGVhckNvbnZlcnNpb25BcGkoKX1jb252ZXJ0UmVtb3ZlKHQsZSxuLGkpe3RoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9aSx0aGlzLmZpcmUoXCJyZW1vdmU6XCIrbix7cG9zaXRpb246dCxsZW5ndGg6ZX0sdGhpcy5jb252ZXJzaW9uQXBpKSx0aGlzLl9jbGVhckNvbnZlcnNpb25BcGkoKX1jb252ZXJ0QXR0cmlidXRlKHQsZSxuLGksbyl7dGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1vLHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZUNvbnN1bWFibGVGb3JSYW5nZSh0LGBhdHRyaWJ1dGU6JHtlfWApO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9e2l0ZW06by5pdGVtLHJhbmdlOndzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KG8ucHJldmlvdXNQb3NpdGlvbixvLmxlbmd0aCksYXR0cmlidXRlS2V5OmUsYXR0cmlidXRlT2xkVmFsdWU6bixhdHRyaWJ1dGVOZXdWYWx1ZTppfTt0aGlzLl90ZXN0QW5kRmlyZShgYXR0cmlidXRlOiR7ZX1gLHQpfXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfWNvbnZlcnRTZWxlY3Rpb24odCxlLG4pe2NvbnN0IGk9QXJyYXkuZnJvbShlLmdldE1hcmtlcnNBdFBvc2l0aW9uKHQuZ2V0Rmlyc3RQb3NpdGlvbigpKSk7aWYodGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1uLHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZVNlbGVjdGlvbkNvbnN1bWFibGUodCxpKSx0aGlzLmZpcmUoXCJzZWxlY3Rpb25cIix7c2VsZWN0aW9uOnR9LHRoaXMuY29udmVyc2lvbkFwaSksdC5pc0NvbGxhcHNlZCl7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3Qgbj1lLmdldFJhbmdlKCk7aWYoIXhzKHQuZ2V0Rmlyc3RQb3NpdGlvbigpLGUsdGhpcy5jb252ZXJzaW9uQXBpLm1hcHBlcikpY29udGludWU7Y29uc3QgaT17aXRlbTp0LG1hcmtlck5hbWU6ZS5uYW1lLG1hcmtlclJhbmdlOm59O3RoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QodCxcImFkZE1hcmtlcjpcIitlLm5hbWUpJiZ0aGlzLmZpcmUoXCJhZGRNYXJrZXI6XCIrZS5uYW1lLGksdGhpcy5jb252ZXJzaW9uQXBpKX1mb3IoY29uc3QgZSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSl7Y29uc3Qgbj17aXRlbTp0LHJhbmdlOnQuZ2V0Rmlyc3RSYW5nZSgpLGF0dHJpYnV0ZUtleTplLGF0dHJpYnV0ZU9sZFZhbHVlOm51bGwsYXR0cmlidXRlTmV3VmFsdWU6dC5nZXRBdHRyaWJ1dGUoZSl9O3RoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QodCxcImF0dHJpYnV0ZTpcIituLmF0dHJpYnV0ZUtleSkmJnRoaXMuZmlyZShcImF0dHJpYnV0ZTpcIituLmF0dHJpYnV0ZUtleSxuLHRoaXMuY29udmVyc2lvbkFwaSl9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9fWNvbnZlcnRNYXJrZXJBZGQodCxlLG4pe2lmKCFlLnJvb3QuZG9jdW1lbnR8fFwiJGdyYXZleWFyZFwiPT1lLnJvb3Qucm9vdE5hbWUpcmV0dXJuO3RoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9bjtjb25zdCBpPVwiYWRkTWFya2VyOlwiK3Q7aWYoZS5pc0NvbGxhcHNlZCl7Y29uc3Qgbj1uZXcgX3M7cmV0dXJuIG4uYWRkKGUsaSksdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9bix2b2lkIHRoaXMuZmlyZShpLHttYXJrZXJOYW1lOnQsbWFya2VyUmFuZ2U6ZX0sdGhpcy5jb252ZXJzaW9uQXBpKX10aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT10aGlzLl9jcmVhdGVDb25zdW1hYmxlRm9yUmFuZ2UoZSxpKTtmb3IoY29uc3QgbiBvZiBlLmdldEl0ZW1zKCkpe2lmKCF0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZS50ZXN0KG4saSkpY29udGludWU7Y29uc3Qgbz17aXRlbTpuLHJhbmdlOndzLmNyZWF0ZU9uKG4pLG1hcmtlck5hbWU6dCxtYXJrZXJSYW5nZTplfTt0aGlzLmZpcmUoaSxvLHRoaXMuY29udmVyc2lvbkFwaSl9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydE1hcmtlclJlbW92ZSh0LGUsbil7ZS5yb290LmRvY3VtZW50JiZcIiRncmF2ZXlhcmRcIiE9ZS5yb290LnJvb3ROYW1lJiYodGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1uLHRoaXMuZmlyZShcInJlbW92ZU1hcmtlcjpcIit0LHttYXJrZXJOYW1lOnQsbWFya2VyUmFuZ2U6ZX0sdGhpcy5jb252ZXJzaW9uQXBpKSx0aGlzLl9jbGVhckNvbnZlcnNpb25BcGkoKSl9X2NyZWF0ZUluc2VydENvbnN1bWFibGUodCl7Y29uc3QgZT1uZXcgX3M7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1uLml0ZW07ZS5hZGQodCxcImluc2VydFwiKTtmb3IoY29uc3QgbiBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSllLmFkZCh0LFwiYXR0cmlidXRlOlwiK24pfXJldHVybiBlfV9jcmVhdGVDb25zdW1hYmxlRm9yUmFuZ2UodCxlKXtjb25zdCBuPW5ldyBfcztmb3IoY29uc3QgaSBvZiB0LmdldEl0ZW1zKCkpbi5hZGQoaSxlKTtyZXR1cm4gbn1fY3JlYXRlU2VsZWN0aW9uQ29uc3VtYWJsZSh0LGUpe2NvbnN0IG49bmV3IF9zO24uYWRkKHQsXCJzZWxlY3Rpb25cIik7Zm9yKGNvbnN0IGkgb2YgZSluLmFkZCh0LFwiYWRkTWFya2VyOlwiK2kubmFtZSk7Zm9yKGNvbnN0IGUgb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpbi5hZGQodCxcImF0dHJpYnV0ZTpcIitlKTtyZXR1cm4gbn1fdGVzdEFuZEZpcmUodCxlKXtpZighdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdChlLml0ZW0sdCkpcmV0dXJuO2NvbnN0IG49ZS5pdGVtLm5hbWV8fFwiJHRleHRcIjt0aGlzLmZpcmUodCtcIjpcIituLGUsdGhpcy5jb252ZXJzaW9uQXBpKX1fY2xlYXJDb252ZXJzaW9uQXBpKCl7ZGVsZXRlIHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXIsZGVsZXRlIHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlfX1mdW5jdGlvbiB4cyh0LGUsbil7Y29uc3QgaT1lLmdldFJhbmdlKCksbz1BcnJheS5mcm9tKHQuZ2V0QW5jZXN0b3JzKCkpO3JldHVybiBvLnNoaWZ0KCksby5yZXZlcnNlKCksIW8uc29tZSh0PT57aWYoaS5jb250YWluc0l0ZW0odCkpe3JldHVybiEhbi50b1ZpZXdFbGVtZW50KHQpLmdldEN1c3RvbVByb3BlcnR5KFwiYWRkSGlnaGxpZ2h0XCIpfX0pfVAoeXMseSk7Y2xhc3MgQXN7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSExLHRoaXMuX3Jhbmdlcz1bXSx0aGlzLl9hdHRycz1uZXcgTWFwLHQmJnRoaXMuc2V0VG8odCxlLG4pfWdldCBhbmNob3IoKXtpZih0aGlzLl9yYW5nZXMubGVuZ3RoPjApe2NvbnN0IHQ9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV07cmV0dXJuIHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkP3QuZW5kOnQuc3RhcnR9cmV0dXJuIG51bGx9Z2V0IGZvY3VzKCl7aWYodGhpcy5fcmFuZ2VzLmxlbmd0aD4wKXtjb25zdCB0PXRoaXMuX3Jhbmdlc1t0aGlzLl9yYW5nZXMubGVuZ3RoLTFdO3JldHVybiB0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LnN0YXJ0OnQuZW5kfXJldHVybiBudWxsfWdldCBpc0NvbGxhcHNlZCgpe3JldHVybiAxPT09dGhpcy5fcmFuZ2VzLmxlbmd0aCYmdGhpcy5fcmFuZ2VzWzBdLmlzQ29sbGFwc2VkfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3Jhbmdlcy5sZW5ndGh9Z2V0IGlzQmFja3dhcmQoKXtyZXR1cm4hdGhpcy5pc0NvbGxhcHNlZCYmdGhpcy5fbGFzdFJhbmdlQmFja3dhcmR9aXNFcXVhbCh0KXtpZih0aGlzLnJhbmdlQ291bnQhPXQucmFuZ2VDb3VudClyZXR1cm4hMTtpZigwPT09dGhpcy5yYW5nZUNvdW50KXJldHVybiEwO2lmKCF0aGlzLmFuY2hvci5pc0VxdWFsKHQuYW5jaG9yKXx8IXRoaXMuZm9jdXMuaXNFcXVhbCh0LmZvY3VzKSlyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpe2xldCBuPSExO2Zvcihjb25zdCBpIG9mIHQuX3JhbmdlcylpZihlLmlzRXF1YWwoaSkpe249ITA7YnJlYWt9aWYoIW4pcmV0dXJuITF9cmV0dXJuITB9KmdldFJhbmdlcygpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3Jhbmdlcyl5aWVsZCB3cy5jcmVhdGVGcm9tUmFuZ2UodCl9Z2V0Rmlyc3RSYW5nZSgpe2xldCB0PW51bGw7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXQmJiFlLnN0YXJ0LmlzQmVmb3JlKHQuc3RhcnQpfHwodD1lKTtyZXR1cm4gdD93cy5jcmVhdGVGcm9tUmFuZ2UodCk6bnVsbH1nZXRMYXN0UmFuZ2UoKXtsZXQgdD1udWxsO2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl0JiYhZS5lbmQuaXNBZnRlcih0LmVuZCl8fCh0PWUpO3JldHVybiB0P3dzLmNyZWF0ZUZyb21SYW5nZSh0KTpudWxsfWdldEZpcnN0UG9zaXRpb24oKXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO3JldHVybiB0P2JzLmNyZWF0ZUZyb21Qb3NpdGlvbih0LnN0YXJ0KTpudWxsfWdldExhc3RQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5nZXRMYXN0UmFuZ2UoKTtyZXR1cm4gdD9icy5jcmVhdGVGcm9tUG9zaXRpb24odC5lbmQpOm51bGx9c2V0VG8odCxlLG4pe2lmKG51bGw9PT10KXRoaXMuX3NldFJhbmdlcyhbXSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgQXMpdGhpcy5fc2V0UmFuZ2VzKHQuZ2V0UmFuZ2VzKCksdC5pc0JhY2t3YXJkKTtlbHNlIGlmKHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZ2V0UmFuZ2VzKXRoaXMuX3NldFJhbmdlcyh0LmdldFJhbmdlcygpLHQuaXNCYWNrd2FyZCk7ZWxzZSBpZih0IGluc3RhbmNlb2Ygd3MpdGhpcy5fc2V0UmFuZ2VzKFt0XSwhIWUmJiEhZS5iYWNrd2FyZCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgYnMpdGhpcy5fc2V0UmFuZ2VzKFtuZXcgd3ModCldKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBscyl7Y29uc3QgaT0hIW4mJiEhbi5iYWNrd2FyZDtsZXQgbztpZihcImluXCI9PWUpbz13cy5jcmVhdGVJbih0KTtlbHNlIGlmKFwib25cIj09ZSlvPXdzLmNyZWF0ZU9uKHQpO2Vsc2V7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLXNlbGVjdGlvbi1zZXRUby1yZXF1aXJlZC1zZWNvbmQtcGFyYW1ldGVyOiBzZWxlY3Rpb24uc2V0VG8gcmVxdWlyZXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIgd2hlbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgbm9kZS5cIik7bz13cy5jcmVhdGVDb2xsYXBzZWRBdCh0LGUpfXRoaXMuX3NldFJhbmdlcyhbb10saSl9ZWxzZXtpZighVm4odCkpdGhyb3cgbmV3IG0uYihcIm1vZGVscy1zZWxlY3Rpb24tc2V0VG8tbm90LXNlbGVjdGFibGU6IENhbm5vdCBzZXQgc2VsZWN0aW9uIHRvIGdpdmVuIHBsYWNlLlwiKTt0aGlzLl9zZXRSYW5nZXModCxlJiYhIWUuYmFja3dhcmQpfX1fc2V0UmFuZ2VzKHQsZT0hMSl7Y29uc3Qgbj0odD1BcnJheS5mcm9tKHQpKS5zb21lKHQ9PntpZighKHQgaW5zdGFuY2VvZiB3cykpdGhyb3cgbmV3IG0uYihcIm1vZGVscy1zZWxlY3Rpb24tYWRkZWQtbm90LXJhbmdlOiBUcnlpbmcgdG8gYWRkIGFuIG9iamVjdCB0aGF0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBSYW5nZS5cIik7cmV0dXJuIHRoaXMuX3Jhbmdlcy5ldmVyeShlPT4hZS5pc0VxdWFsKHQpKX0pO2lmKHQubGVuZ3RoIT09dGhpcy5fcmFuZ2VzLmxlbmd0aHx8bil7dGhpcy5fcmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9wdXNoUmFuZ2UoZSk7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISFlLHRoaXMuZmlyZShcImNoYW5nZTpyYW5nZVwiLHtkaXJlY3RDaGFuZ2U6ITB9KX19c2V0Rm9jdXModCxlKXtpZihudWxsPT09dGhpcy5hbmNob3IpdGhyb3cgbmV3IG0uYihcIm1vZGVscy1zZWxlY3Rpb24tc2V0Rm9jdXMtbm8tcmFuZ2VzOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiBmb2N1cyBpZiB0aGVyZSBhcmUgbm8gcmFuZ2VzIGluIHNlbGVjdGlvbi5cIik7Y29uc3Qgbj1icy5jcmVhdGVBdCh0LGUpO2lmKFwic2FtZVwiPT1uLmNvbXBhcmVXaXRoKHRoaXMuZm9jdXMpKXJldHVybjtjb25zdCBpPXRoaXMuYW5jaG9yO3RoaXMuX3Jhbmdlcy5sZW5ndGgmJnRoaXMuX3BvcFJhbmdlKCksXCJiZWZvcmVcIj09bi5jb21wYXJlV2l0aChpKT8odGhpcy5fcHVzaFJhbmdlKG5ldyB3cyhuLGkpKSx0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hMCk6KHRoaXMuX3B1c2hSYW5nZShuZXcgd3MoaSxuKSksdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ITEpLHRoaXMuZmlyZShcImNoYW5nZTpyYW5nZVwiLHtkaXJlY3RDaGFuZ2U6ITB9KX1nZXRBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuX2F0dHJzLmdldCh0KX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmVudHJpZXMoKX1nZXRBdHRyaWJ1dGVLZXlzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmtleXMoKX1oYXNBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuX2F0dHJzLmhhcyh0KX1yZW1vdmVBdHRyaWJ1dGUodCl7dGhpcy5oYXNBdHRyaWJ1dGUodCkmJih0aGlzLl9hdHRycy5kZWxldGUodCksdGhpcy5maXJlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHthdHRyaWJ1dGVLZXlzOlt0XSxkaXJlY3RDaGFuZ2U6ITB9KSl9c2V0QXR0cmlidXRlKHQsZSl7dGhpcy5nZXRBdHRyaWJ1dGUodCkhPT1lJiYodGhpcy5fYXR0cnMuc2V0KHQsZSksdGhpcy5maXJlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHthdHRyaWJ1dGVLZXlzOlt0XSxkaXJlY3RDaGFuZ2U6ITB9KSl9Z2V0U2VsZWN0ZWRFbGVtZW50KCl7aWYoMSE9PXRoaXMucmFuZ2VDb3VudClyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RSYW5nZSgpLGU9dC5zdGFydC5ub2RlQWZ0ZXIsbj10LmVuZC5ub2RlQmVmb3JlO3JldHVybiBlIGluc3RhbmNlb2YgZnMmJmU9PW4/ZTpudWxsfSpnZXRTZWxlY3RlZEJsb2Nrcygpe2NvbnN0IHQ9bmV3IFdlYWtTZXQ7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRSYW5nZXMoKSl7Y29uc3Qgbj1UcyhlLnN0YXJ0LHQpO24mJih5aWVsZCBuKTtmb3IoY29uc3QgbiBvZiBlLmdldFdhbGtlcigpKVwiZWxlbWVudEVuZFwiPT1uLnR5cGUmJkNzKG4uaXRlbSx0KSYmKHlpZWxkIG4uaXRlbSk7Y29uc3QgaT1UcyhlLmVuZCx0KTtpJiYhZS5lbmQuaXNUb3VjaGluZyhicy5jcmVhdGVBdChpKSkmJih5aWVsZCBpKX19Y29udGFpbnNFbnRpcmVDb250ZW50KHQ9dGhpcy5hbmNob3Iucm9vdCl7Y29uc3QgZT1icy5jcmVhdGVBdCh0KSxuPWJzLmNyZWF0ZUF0KHQsXCJlbmRcIik7cmV0dXJuIGUuaXNUb3VjaGluZyh0aGlzLmdldEZpcnN0UG9zaXRpb24oKSkmJm4uaXNUb3VjaGluZyh0aGlzLmdldExhc3RQb3NpdGlvbigpKX1fcHVzaFJhbmdlKHQpe3RoaXMuX2NoZWNrUmFuZ2UodCksdGhpcy5fcmFuZ2VzLnB1c2god3MuY3JlYXRlRnJvbVJhbmdlKHQpKX1fY2hlY2tSYW5nZSh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX3Jhbmdlcy5sZW5ndGg7ZSsrKWlmKHQuaXNJbnRlcnNlY3RpbmcodGhpcy5fcmFuZ2VzW2VdKSl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLXNlbGVjdGlvbi1yYW5nZS1pbnRlcnNlY3RzOiBUcnlpbmcgdG8gYWRkIGEgcmFuZ2UgdGhhdCBpbnRlcnNlY3RzIHdpdGggYW5vdGhlciByYW5nZSBmcm9tIHNlbGVjdGlvbi5cIix7YWRkZWRSYW5nZTp0LGludGVyc2VjdGluZ1JhbmdlOnRoaXMuX3Jhbmdlc1tlXX0pfV9yZW1vdmVBbGxSYW5nZXMoKXtmb3IoO3RoaXMuX3Jhbmdlcy5sZW5ndGg+MDspdGhpcy5fcG9wUmFuZ2UoKX1fcG9wUmFuZ2UoKXt0aGlzLl9yYW5nZXMucG9wKCl9fWZ1bmN0aW9uIENzKHQsZSl7cmV0dXJuIWUuaGFzKHQpJiYoZS5hZGQodCksdC5kb2N1bWVudC5tb2RlbC5zY2hlbWEuaXNCbG9jayh0KSYmdC5wYXJlbnQpfWZ1bmN0aW9uIFRzKHQsZSl7Y29uc3Qgbj10LnBhcmVudC5nZXRBbmNlc3RvcnMoe3BhcmVudEZpcnN0OiEwLGluY2x1ZGVTZWxmOiEwfSksaT1uLmZpbmQodD0+Q3ModCxlKSk7cmV0dXJuIG4uZm9yRWFjaCh0PT5lLmFkZCh0KSksaX1QKEFzLHkpO2NsYXNzIFNzIGV4dGVuZHMgd3N7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLGZ1bmN0aW9uKCl7Y29uc3QgdD1uZXcgU2V0KFtcImluc2VydFwiLFwibW92ZVwiLFwicmVtb3ZlXCIsXCJyZWluc2VydFwiXSk7dGhpcy5saXN0ZW5Ubyh0aGlzLnJvb3QuZG9jdW1lbnQubW9kZWwsXCJhcHBseU9wZXJhdGlvblwiLChlLG4pPT57Y29uc3QgaT1uWzBdO2kuaXNEb2N1bWVudE9wZXJhdGlvbiYmdC5oYXMoaS50eXBlKSYmZnVuY3Rpb24odCl7Y29uc3QgZT10LnR5cGUsbj10LmRlbHRhLmJhdGNoO2xldCBpLG87XCJpbnNlcnRcIj09ZT9pPXdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQucG9zaXRpb24sdC5ub2Rlcy5tYXhPZmZzZXQpOihpPXdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksdC5ob3dNYW55KSxvPXQuc291cmNlUG9zaXRpb24pO2NvbnN0IHI9aS5lbmQub2Zmc2V0LWkuc3RhcnQub2Zmc2V0O2xldCBzPWkuc3RhcnQ7XCJtb3ZlXCIhPWUmJlwicmVtb3ZlXCIhPWUmJlwicmVpbnNlcnRcIiE9ZXx8KHM9cy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihvLHIpKTtjb25zdCBhPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShlLHQuZGVsdGEudHlwZSxzLHIsbyk7XCJtb3ZlXCIhPWUmJlwicmVtb3ZlXCIhPWUmJlwicmVpbnNlcnRcIiE9ZXx8MyE9YS5sZW5ndGh8fChhWzJdPWkpO2NvbnN0IGM9d3MuY3JlYXRlRnJvbVJhbmdlcyhhKSxsPSFjLmlzRXF1YWwodGhpcyksZD10aGlzLmNvbnRhaW5zUG9zaXRpb24ocyksdT1vJiYodGhpcy5jb250YWluc1Bvc2l0aW9uKG8pfHx0aGlzLnN0YXJ0LmlzRXF1YWwobykpLGg9ZHx8dTtpZihsKXtjb25zdCB0PXdzLmNyZWF0ZUZyb21SYW5nZSh0aGlzKTt0aGlzLnN0YXJ0PWMuc3RhcnQsdGhpcy5lbmQ9Yy5lbmQsdGhpcy5maXJlKFwiY2hhbmdlOnJhbmdlXCIsdCx7dHlwZTplLGJhdGNoOm4scmFuZ2U6aSxzb3VyY2VQb3NpdGlvbjpvfSl9ZWxzZSBoJiZ0aGlzLmZpcmUoXCJjaGFuZ2U6Y29udGVudFwiLHdzLmNyZWF0ZUZyb21SYW5nZSh0aGlzKSx7dHlwZTplLGJhdGNoOm4scmFuZ2U6aSxzb3VyY2VQb3NpdGlvbjpvfSl9LmNhbGwodGhpcyxpKX0se3ByaW9yaXR5OlwibG93XCJ9KX0uY2FsbCh0aGlzKX1kZXRhY2goKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19UChTcyx5KTtjb25zdCBFcz1cInNlbGVjdGlvbjpcIjtjbGFzcyBQc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9zZWxlY3Rpb249bmV3IE9zKHQpLHRoaXMuX3NlbGVjdGlvbi5kZWxlZ2F0ZShcImNoYW5nZTpyYW5nZVwiKS50byh0aGlzKSx0aGlzLl9zZWxlY3Rpb24uZGVsZWdhdGUoXCJjaGFuZ2U6YXR0cmlidXRlXCIpLnRvKHRoaXMpfWdldCBpc0NvbGxhcHNlZCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNDb2xsYXBzZWR9Z2V0IGFuY2hvcigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uYW5jaG9yfWdldCBmb2N1cygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZm9jdXN9Z2V0IHJhbmdlQ291bnQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLnJhbmdlQ291bnR9Z2V0IGhhc093blJhbmdlKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5oYXNPd25SYW5nZX1nZXQgaXNCYWNrd2FyZCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNCYWNrd2FyZH1nZXQgaXNHcmF2aXR5T3ZlcnJpZGRlbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNHcmF2aXR5T3ZlcnJpZGRlbn1nZXQgX3Jhbmdlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uX3Jhbmdlc31nZXRSYW5nZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldFJhbmdlcygpfWdldEZpcnN0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKX1nZXRMYXN0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldExhc3RQb3NpdGlvbigpfWdldEZpcnN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKX1nZXRMYXN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldExhc3RSYW5nZSgpfWdldFNlbGVjdGVkQmxvY2tzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpfWdldFNlbGVjdGVkRWxlbWVudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCl9Y29udGFpbnNFbnRpcmVDb250ZW50KHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uY29udGFpbnNFbnRpcmVDb250ZW50KHQpfWRlc3Ryb3koKXt0aGlzLl9zZWxlY3Rpb24uZGVzdHJveSgpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEF0dHJpYnV0ZUtleXMoKX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRBdHRyaWJ1dGVzKCl9Z2V0QXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0QXR0cmlidXRlKHQpfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmhhc0F0dHJpYnV0ZSh0KX1fc2V0Rm9jdXModCxlKXt0aGlzLl9zZWxlY3Rpb24uc2V0Rm9jdXModCxlKX1fc2V0VG8odCxlLG4pe3RoaXMuX3NlbGVjdGlvbi5zZXRUbyh0LGUsbil9X3NldEF0dHJpYnV0ZSh0LGUpe3RoaXMuX3NlbGVjdGlvbi5zZXRBdHRyaWJ1dGUodCxlKX1fcmVtb3ZlQXR0cmlidXRlKHQpe3RoaXMuX3NlbGVjdGlvbi5yZW1vdmVBdHRyaWJ1dGUodCl9X2dldFN0b3JlZEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLl9nZXRTdG9yZWRBdHRyaWJ1dGVzKCl9X292ZXJyaWRlR3Jhdml0eSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ub3ZlcnJpZGVHcmF2aXR5KCl9X3Jlc3RvcmVHcmF2aXR5KHQpe3RoaXMuX3NlbGVjdGlvbi5yZXN0b3JlR3Jhdml0eSh0KX1zdGF0aWMgX2dldFN0b3JlQXR0cmlidXRlS2V5KHQpe3JldHVybiBFcyt0fXN0YXRpYyBfaXNTdG9yZUF0dHJpYnV0ZUtleSh0KXtyZXR1cm4gdC5zdGFydHNXaXRoKEVzKX19UChQcyx5KTtjbGFzcyBPcyBleHRlbmRzIEFze2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fbW9kZWw9dC5tb2RlbCx0aGlzLl9kb2N1bWVudD10LHRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5PW5ldyBNYXAsdGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YT1bXSx0aGlzLl9oYXNDaGFuZ2VkUmFuZ2U9ITEsdGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlcj1uZXcgU2V0LHRoaXMub24oXCJjaGFuZ2U6cmFuZ2VcIiwoKT0+e2Zvcihjb25zdCB0IG9mIHRoaXMuZ2V0UmFuZ2VzKCkpaWYoIXRoaXMuX2RvY3VtZW50Ll92YWxpZGF0ZVNlbGVjdGlvblJhbmdlKHQpKXRocm93IG5ldyBtLmIoXCJkb2N1bWVudC1zZWxlY3Rpb24td3JvbmctcG9zaXRpb246IFJhbmdlIGZyb20gZG9jdW1lbnQgc2VsZWN0aW9uIHN0YXJ0cyBvciBlbmRzIGF0IGluY29ycmVjdCBwb3NpdGlvbi5cIix7cmFuZ2U6dH0pfSksdGhpcy5saXN0ZW5Ubyh0aGlzLl9kb2N1bWVudCxcImNoYW5nZVwiLCh0LGUpPT57dGhpcy5fdXBkYXRlQXR0cmlidXRlcyghMSksZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuZG9jdW1lbnQuZGlmZmVyO2Zvcihjb25zdCBpIG9mIG4uZ2V0Q2hhbmdlcygpKXtpZihcImluc2VydFwiIT1pLnR5cGUpY29udGludWU7Y29uc3Qgbj1pLnBvc2l0aW9uLnBhcmVudCxvPWkubGVuZ3RoPT09bi5tYXhPZmZzZXQ7byYmdC5lbnF1ZXVlQ2hhbmdlKGUsdD0+e2NvbnN0IGU9QXJyYXkuZnJvbShuLmdldEF0dHJpYnV0ZUtleXMoKSkuZmlsdGVyKHQ9PnQuc3RhcnRzV2l0aChFcykpO2Zvcihjb25zdCBpIG9mIGUpdC5yZW1vdmVBdHRyaWJ1dGUoaSxuKX0pfX0odGhpcy5fbW9kZWwsZSl9KSx0aGlzLmxpc3RlblRvKHRoaXMuX21vZGVsLFwiYXBwbHlPcGVyYXRpb25cIiwoKT0+e2Zvcig7dGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YS5sZW5ndGg7KXtjb25zdHtsaXZlUmFuZ2U6dCxzb3VyY2VQb3NpdGlvbjplfT10aGlzLl9maXhHcmF2ZXlhcmRSYW5nZXNEYXRhLnNoaWZ0KCk7dGhpcy5fZml4R3JhdmV5YXJkU2VsZWN0aW9uKHQsZSl9dGhpcy5faGFzQ2hhbmdlZFJhbmdlJiYodGhpcy5faGFzQ2hhbmdlZFJhbmdlPSExLHRoaXMuZmlyZShcImNoYW5nZTpyYW5nZVwiLHtkaXJlY3RDaGFuZ2U6ITF9KSl9LHtwcmlvcml0eTpcImxvd2VzdFwifSl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIDA9PT10aGlzLl9yYW5nZXMubGVuZ3RoP3RoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKS5pc0NvbGxhcHNlZDpzdXBlci5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHN1cGVyLmFuY2hvcnx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLnN0YXJ0fWdldCBmb2N1cygpe3JldHVybiBzdXBlci5mb2N1c3x8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLmVuZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RoP3RoaXMuX3Jhbmdlcy5sZW5ndGg6MX1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gdGhpcy5fcmFuZ2VzLmxlbmd0aD4wfWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuISF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLnNpemV9ZGVzdHJveSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmFuZ2VzLmxlbmd0aDt0KyspdGhpcy5fcmFuZ2VzW3RdLmRldGFjaCgpO3RoaXMuc3RvcExpc3RlbmluZygpfSpnZXRSYW5nZXMoKXt0aGlzLl9yYW5nZXMubGVuZ3RoP3lpZWxkKnN1cGVyLmdldFJhbmdlcygpOnlpZWxkIHRoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKX1nZXRGaXJzdFJhbmdlKCl7cmV0dXJuIHN1cGVyLmdldEZpcnN0UmFuZ2UoKXx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiBzdXBlci5nZXRMYXN0UmFuZ2UoKXx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfXNldFRvKHQsZSxuKXtzdXBlci5zZXRUbyh0LGUsbiksdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKX1zZXRGb2N1cyh0LGUpe3N1cGVyLnNldEZvY3VzKHQsZSksdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKX1zZXRBdHRyaWJ1dGUodCxlKXtpZih0aGlzLl9zZXRBdHRyaWJ1dGUodCxlKSl7Y29uc3QgZT1bdF07dGhpcy5maXJlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHthdHRyaWJ1dGVLZXlzOmUsZGlyZWN0Q2hhbmdlOiEwfSl9fXJlbW92ZUF0dHJpYnV0ZSh0KXtpZih0aGlzLl9yZW1vdmVBdHRyaWJ1dGUodCkpe2NvbnN0IGU9W3RdO3RoaXMuZmlyZShcImNoYW5nZTphdHRyaWJ1dGVcIix7YXR0cmlidXRlS2V5czplLGRpcmVjdENoYW5nZTohMH0pfX1vdmVycmlkZUdyYXZpdHkoKXtjb25zdCB0PXcoKTtyZXR1cm4gdGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5hZGQodCksMT09PXRoaXMuX292ZXJyaWRkZW5HcmF2aXR5UmVnaXN0ZXIuc2l6ZSYmdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKSx0fXJlc3RvcmVHcmF2aXR5KHQpe2lmKCF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLmhhcyh0KSl0aHJvdyBuZXcgbS5iKFwiZG9jdW1lbnQtc2VsZWN0aW9uLWdyYXZpdHktd3JvbmctcmVzdG9yZTogQXR0ZW1wdGluZyB0byByZXN0b3JlIHRoZSBzZWxlY3Rpb24gZ3Jhdml0eSBmb3IgYW4gdW5rbm93biBVSUQuXCIse3VpZDp0fSk7dGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5kZWxldGUodCksdGhpcy5pc0dyYXZpdHlPdmVycmlkZGVufHx0aGlzLl9yZWZyZXNoQXR0cmlidXRlcygpfV9yZWZyZXNoQXR0cmlidXRlcygpe3RoaXMuX3VwZGF0ZUF0dHJpYnV0ZXMoITApfV9wb3BSYW5nZSgpe3RoaXMuX3Jhbmdlcy5wb3AoKS5kZXRhY2goKX1fcHVzaFJhbmdlKHQpe2NvbnN0IGU9dGhpcy5fcHJlcGFyZVJhbmdlKHQpO2UmJnRoaXMuX3Jhbmdlcy5wdXNoKGUpfV9wcmVwYXJlUmFuZ2UodCl7aWYodGhpcy5fY2hlY2tSYW5nZSh0KSx0LnJvb3Q9PXRoaXMuX2RvY3VtZW50LmdyYXZleWFyZClyZXR1cm4gdm9pZCB6ci5hLndhcm4oXCJtb2RlbHMtc2VsZWN0aW9uLXJhbmdlLWluLWdyYXZleWFyZDogVHJ5aW5nIHRvIGFkZCBhIFJhbmdlIHRoYXQgaXMgaW4gdGhlIGdyYXZleWFyZCByb290LiBSYW5nZSByZWplY3RlZC5cIik7Y29uc3QgZT1Tcy5jcmVhdGVGcm9tUmFuZ2UodCk7cmV0dXJuIGUub24oXCJjaGFuZ2U6cmFuZ2VcIiwodCxuLGkpPT57dGhpcy5faGFzQ2hhbmdlZFJhbmdlPSEwLGUucm9vdD09dGhpcy5fZG9jdW1lbnQuZ3JhdmV5YXJkJiZ0aGlzLl9maXhHcmF2ZXlhcmRSYW5nZXNEYXRhLnB1c2goe2xpdmVSYW5nZTplLHNvdXJjZVBvc2l0aW9uOmkuc291cmNlUG9zaXRpb259KX0pLGV9X3VwZGF0ZUF0dHJpYnV0ZXModCl7Y29uc3QgZT1jcyh0aGlzLl9nZXRTdXJyb3VuZGluZ0F0dHJpYnV0ZXMoKSksbj1jcyh0aGlzLmdldEF0dHJpYnV0ZXMoKSk7aWYodCl0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eT1uZXcgTWFwLHRoaXMuX2F0dHJzPW5ldyBNYXA7ZWxzZSBmb3IoY29uc3RbdCxlXW9mIHRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5KVwibG93XCI9PWUmJih0aGlzLl9hdHRycy5kZWxldGUodCksdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuZGVsZXRlKHQpKTt0aGlzLl9zZXRBdHRyaWJ1dGVzVG8oZSk7Y29uc3QgaT1bXTtmb3IoY29uc3RbdCxlXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKW4uaGFzKHQpJiZuLmdldCh0KT09PWV8fGkucHVzaCh0KTtmb3IoY29uc3RbdF1vZiBuKXRoaXMuaGFzQXR0cmlidXRlKHQpfHxpLnB1c2godCk7aS5sZW5ndGg+MCYmdGhpcy5maXJlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHthdHRyaWJ1dGVLZXlzOmksZGlyZWN0Q2hhbmdlOiExfSl9X3NldEF0dHJpYnV0ZSh0LGUsbj0hMCl7Y29uc3QgaT1uP1wibm9ybWFsXCI6XCJsb3dcIjtyZXR1cm4oXCJsb3dcIiE9aXx8XCJub3JtYWxcIiE9dGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuZ2V0KHQpKSYmKHN1cGVyLmdldEF0dHJpYnV0ZSh0KSE9PWUmJih0aGlzLl9hdHRycy5zZXQodCxlKSx0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5zZXQodCxpKSwhMCkpfV9yZW1vdmVBdHRyaWJ1dGUodCxlPSEwKXtjb25zdCBuPWU/XCJub3JtYWxcIjpcImxvd1wiO3JldHVybihcImxvd1wiIT1ufHxcIm5vcm1hbFwiIT10aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5nZXQodCkpJiYodGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuc2V0KHQsbiksISFzdXBlci5oYXNBdHRyaWJ1dGUodCkmJih0aGlzLl9hdHRycy5kZWxldGUodCksITApKX1fc2V0QXR0cmlidXRlc1RvKHQpe2NvbnN0IGU9bmV3IFNldDtmb3IoY29uc3RbZSxuXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKXQuZ2V0KGUpIT09biYmdGhpcy5fcmVtb3ZlQXR0cmlidXRlKGUsITEpO2Zvcihjb25zdFtuLGldb2YgdCl7dGhpcy5fc2V0QXR0cmlidXRlKG4saSwhMSkmJmUuYWRkKG4pfXJldHVybiBlfSpfZ2V0U3RvcmVkQXR0cmlidXRlcygpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFBvc2l0aW9uKCkucGFyZW50O2lmKHRoaXMuaXNDb2xsYXBzZWQmJnQuaXNFbXB0eSlmb3IoY29uc3QgZSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSlpZihlLnN0YXJ0c1dpdGgoRXMpKXt5aWVsZFtlLnN1YnN0cihFcy5sZW5ndGgpLHQuZ2V0QXR0cmlidXRlKGUpXX19X2dldFN1cnJvdW5kaW5nQXR0cmlidXRlcygpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFBvc2l0aW9uKCksZT10aGlzLl9tb2RlbC5zY2hlbWE7bGV0IG49bnVsbDtpZih0aGlzLmlzQ29sbGFwc2VkKXtjb25zdCBlPXQudGV4dE5vZGU/dC50ZXh0Tm9kZTp0Lm5vZGVCZWZvcmUsaT10LnRleHROb2RlP3QudGV4dE5vZGU6dC5ub2RlQWZ0ZXI7aWYodGhpcy5pc0dyYXZpdHlPdmVycmlkZGVufHwobj1ScyhlKSksbnx8KG49UnMoaSkpLCF0aGlzLmlzR3Jhdml0eU92ZXJyaWRkZW4mJiFuKXtsZXQgdD1lO2Zvcig7dCYmIW47KW49UnModD10LnByZXZpb3VzU2libGluZyl9aWYoIW4pe2xldCB0PWk7Zm9yKDt0JiYhbjspbj1Scyh0PXQubmV4dFNpYmxpbmcpfW58fChuPXRoaXMuX2dldFN0b3JlZEF0dHJpYnV0ZXMoKSl9ZWxzZXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO2Zvcihjb25zdCBpIG9mIHQpe2lmKGkuaXRlbS5pcyhcImVsZW1lbnRcIikmJmUuaXNPYmplY3QoaS5pdGVtKSlicmVhaztcInRleHRcIj09aS50eXBlJiZudWxsPT09biYmKG49aS5pdGVtLmdldEF0dHJpYnV0ZXMoKSl9fXJldHVybiBufV9maXhHcmF2ZXlhcmRTZWxlY3Rpb24odCxlKXtjb25zdCBuPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbihlKSxpPXRoaXMuX21vZGVsLnNjaGVtYS5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2Uobiksbz10aGlzLl9yYW5nZXMuaW5kZXhPZih0KTtpZih0aGlzLl9yYW5nZXMuc3BsaWNlKG8sMSksdC5kZXRhY2goKSxpKXtjb25zdCB0PXRoaXMuX3ByZXBhcmVSYW5nZShpKTt0aGlzLl9yYW5nZXMuc3BsaWNlKG8sMCx0KX19fWZ1bmN0aW9uIFJzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdXN8fHQgaW5zdGFuY2VvZiBkcz90LmdldEF0dHJpYnV0ZXMoKTpudWxsfXZhciBJcz1mdW5jdGlvbih0KXtyZXR1cm4gVG4odCwhMCwhMCl9O2Z1bmN0aW9uIFZzKHQpe3JldHVybih0PUlzKHQpKS52aWV3PU5zKHQudmlldyxcImNvbnRhaW5lclwiKSxlPT57ZS5vbihcImluc2VydDpcIit0Lm1vZGVsLGZ1bmN0aW9uKHQpe3JldHVybihlLG4saSk9Pntjb25zdCBvPXQobi5pdGVtLGkud3JpdGVyKTtpZighbylyZXR1cm47aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKG4uaXRlbSxcImluc2VydFwiKSlyZXR1cm47Y29uc3Qgcj1pLm1hcHBlci50b1ZpZXdQb3NpdGlvbihuLnJhbmdlLnN0YXJ0KTtpLm1hcHBlci5iaW5kRWxlbWVudHMobi5pdGVtLG8pLGkud3JpdGVyLmluc2VydChyLG8pfX0odC52aWV3KSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pfX1mdW5jdGlvbiBNcyh0KXtsZXQgZT1cImF0dHJpYnV0ZTpcIisoKHQ9SXModCkpLm1vZGVsLmtleT90Lm1vZGVsLmtleTp0Lm1vZGVsKTtpZih0Lm1vZGVsLm5hbWUmJihlKz1cIjpcIit0Lm1vZGVsLm5hbWUpLHQubW9kZWwudmFsdWVzKWZvcihjb25zdCBlIG9mIHQubW9kZWwudmFsdWVzKXQudmlld1tlXT1Ocyh0LnZpZXdbZV0sXCJhdHRyaWJ1dGVcIik7ZWxzZSB0LnZpZXc9TnModC52aWV3LFwiYXR0cmlidXRlXCIpO2NvbnN0IG49RHModCk7cmV0dXJuIGk9PntpLm9uKGUsZnVuY3Rpb24odCl7cmV0dXJuKGUsbixpKT0+e2NvbnN0IG89dChuLmF0dHJpYnV0ZU9sZFZhbHVlLGkud3JpdGVyKSxyPXQobi5hdHRyaWJ1dGVOZXdWYWx1ZSxpLndyaXRlcik7aWYoIW8mJiFyKXJldHVybjtpZighaS5jb25zdW1hYmxlLmNvbnN1bWUobi5pdGVtLGUubmFtZSkpcmV0dXJuO2NvbnN0IHM9aS53cml0ZXIsYT1zLmRvY3VtZW50LnNlbGVjdGlvbjtpZihuLml0ZW0gaW5zdGFuY2VvZiBBc3x8bi5pdGVtIGluc3RhbmNlb2YgUHMpcy53cmFwKGEuZ2V0Rmlyc3RSYW5nZSgpLHIpO2Vsc2V7bGV0IHQ9aS5tYXBwZXIudG9WaWV3UmFuZ2Uobi5yYW5nZSk7bnVsbCE9PW4uYXR0cmlidXRlT2xkVmFsdWUmJm8mJih0PXMudW53cmFwKHQsbykpLG51bGwhPT1uLmF0dHJpYnV0ZU5ld1ZhbHVlJiZyJiZzLndyYXAodCxyKX19fShuKSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pfX1mdW5jdGlvbiBGcyh0KXtsZXQgZT1cImF0dHJpYnV0ZTpcIisoKHQ9SXModCkpLm1vZGVsLmtleT90Lm1vZGVsLmtleTp0Lm1vZGVsKTtpZih0Lm1vZGVsLm5hbWUmJihlKz1cIjpcIit0Lm1vZGVsLm5hbWUpLHQubW9kZWwudmFsdWVzKWZvcihjb25zdCBlIG9mIHQubW9kZWwudmFsdWVzKXQudmlld1tlXT1Ccyh0LnZpZXdbZV0pO2Vsc2UgdC52aWV3PUJzKHQudmlldyk7Y29uc3Qgbj1Ecyh0KTtyZXR1cm4gaT0+e2kub24oZSxmdW5jdGlvbih0KXtyZXR1cm4gdD10fHwoKHQsZSk9Pih7dmFsdWU6dCxrZXk6ZS5hdHRyaWJ1dGVLZXl9KSksKGUsbixpKT0+e2NvbnN0IG89dChuLmF0dHJpYnV0ZU9sZFZhbHVlLG4pLHI9dChuLmF0dHJpYnV0ZU5ld1ZhbHVlLG4pO2lmKCFvJiYhcilyZXR1cm47aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKG4uaXRlbSxlLm5hbWUpKXJldHVybjtjb25zdCBzPWkubWFwcGVyLnRvVmlld0VsZW1lbnQobi5pdGVtKSxhPWkud3JpdGVyO2lmKG51bGwhPT1uLmF0dHJpYnV0ZU9sZFZhbHVlJiZvKWlmKFwiY2xhc3NcIj09by5rZXkpe2NvbnN0IHQ9QXJyYXkuaXNBcnJheShvLnZhbHVlKT9vLnZhbHVlOltvLnZhbHVlXTtmb3IoY29uc3QgZSBvZiB0KWEucmVtb3ZlQ2xhc3MoZSxzKX1lbHNlIGlmKFwic3R5bGVcIj09by5rZXkpe2NvbnN0IHQ9T2JqZWN0LmtleXMoby52YWx1ZSk7Zm9yKGNvbnN0IGUgb2YgdClhLnJlbW92ZVN0eWxlKGUscyl9ZWxzZSBhLnJlbW92ZUF0dHJpYnV0ZShvLmtleSxzKTtpZihudWxsIT09bi5hdHRyaWJ1dGVOZXdWYWx1ZSYmcilpZihcImNsYXNzXCI9PXIua2V5KXtjb25zdCB0PUFycmF5LmlzQXJyYXkoci52YWx1ZSk/ci52YWx1ZTpbci52YWx1ZV07Zm9yKGNvbnN0IGUgb2YgdClhLmFkZENsYXNzKGUscyl9ZWxzZSBpZihcInN0eWxlXCI9PXIua2V5KXtjb25zdCB0PU9iamVjdC5rZXlzKHIudmFsdWUpO2Zvcihjb25zdCBlIG9mIHQpYS5zZXRTdHlsZShlLHIudmFsdWVbZV0scyl9ZWxzZSBhLnNldEF0dHJpYnV0ZShyLmtleSxyLnZhbHVlLHMpfX0obikse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19ZnVuY3Rpb24gTnModCxlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6KG4saSk9PihmdW5jdGlvbih0LGUsbil7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXtuYW1lOnR9KTtsZXQgaTtjb25zdCBvPU9iamVjdC5hc3NpZ24oe30sdC5hdHRyaWJ1dGVzKTtpZihcImNvbnRhaW5lclwiPT1uKWk9ZS5jcmVhdGVDb250YWluZXJFbGVtZW50KHQubmFtZSxvKTtlbHNlIGlmKFwiYXR0cmlidXRlXCI9PW4pe2NvbnN0IG49e3ByaW9yaXR5OnQucHJpb3JpdHl8fHFpLkRFRkFVTFRfUFJJT1JJVFl9O2k9ZS5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KHQubmFtZSxvLG4pfWVsc2UgaT1lLmNyZWF0ZVVJRWxlbWVudCh0Lm5hbWUsbyk7aWYodC5zdHlsZXMpe2NvbnN0IG49T2JqZWN0LmtleXModC5zdHlsZXMpO2Zvcihjb25zdCBvIG9mIG4pZS5zZXRTdHlsZShvLHQuc3R5bGVzW29dLGkpfWlmKHQuY2xhc3Nlcyl7Y29uc3Qgbj10LmNsYXNzZXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pZS5hZGRDbGFzcyhuLGkpO2Vsc2UgZm9yKGNvbnN0IHQgb2YgbillLmFkZENsYXNzKHQsaSl9cmV0dXJuIGl9KSh0LGksZSl9ZnVuY3Rpb24gRHModCl7cmV0dXJuIHQubW9kZWwudmFsdWVzPyhlLG4pPT57Y29uc3QgaT10LnZpZXdbZV07cmV0dXJuIGk/aShlLG4pOm51bGx9OnQudmlld31mdW5jdGlvbiBCcyh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9lPT4oe2tleTp0LHZhbHVlOmV9KTpcIm9iamVjdFwiPT10eXBlb2YgdD90LnZhbHVlPygpPT50OmU9Pih7a2V5OnQua2V5LHZhbHVlOmV9KTp0fWNsYXNzIExze2NvbnN0cnVjdG9yKHQpe3RoaXMubW9kZWw9dCx0aGlzLnZpZXc9bmV3IGFzLHRoaXMubWFwcGVyPW5ldyB2cyx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlcj1uZXcgeXMoe21hcHBlcjp0aGlzLm1hcHBlcn0pO2NvbnN0IGU9dGhpcy5tb2RlbC5kb2N1bWVudCxuPWUuc2VsZWN0aW9uLGk9dGhpcy5tb2RlbC5tYXJrZXJzO3RoaXMubGlzdGVuVG8oZSxcImNoYW5nZVwiLCgpPT57dGhpcy52aWV3LmNoYW5nZSh0PT57dGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydENoYW5nZXMoZS5kaWZmZXIsdCksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydFNlbGVjdGlvbihuLGksdCl9KX0se3ByaW9yaXR5OlwibG93XCJ9KSx0aGlzLmxpc3RlblRvKHRoaXMudmlldy5kb2N1bWVudCxcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuKG4saSk9Pntjb25zdCBvPWkubmV3U2VsZWN0aW9uLHI9bmV3IEFzLHM9W107Zm9yKGNvbnN0IHQgb2Ygby5nZXRSYW5nZXMoKSlzLnB1c2goZS50b01vZGVsUmFuZ2UodCkpO3Iuc2V0VG8ocyx7YmFja3dhcmQ6by5pc0JhY2t3YXJkfSksci5pc0VxdWFsKHQuZG9jdW1lbnQuc2VsZWN0aW9uKXx8dC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHIpfSl9fSh0aGlzLm1vZGVsLHRoaXMubWFwcGVyKSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnQ6JHRleHRcIiwodCxlLG4pPT57aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSxcImluc2VydFwiKSlyZXR1cm47Y29uc3QgaT1uLndyaXRlcixvPW4ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKGUucmFuZ2Uuc3RhcnQpLHI9aS5jcmVhdGVUZXh0KGUuaXRlbS5kYXRhKTtpLmluc2VydChvLHIpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwicmVtb3ZlXCIsKHQsZSxuKT0+e2NvbnN0IGk9bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5wb3NpdGlvbiksbz1lLnBvc2l0aW9uLmdldFNoaWZ0ZWRCeShlLmxlbmd0aCkscj1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihvLHtpc1BoYW50b206ITB9KSxzPW5ldyBNaShpLHIpLGE9bi53cml0ZXIucmVtb3ZlKHMuZ2V0VHJpbW1lZCgpKTtmb3IoY29uc3QgdCBvZiBNaS5jcmVhdGVJbihhKS5nZXRJdGVtcygpKW4ubWFwcGVyLnVuYmluZFZpZXdFbGVtZW50KHQpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IGk9bi53cml0ZXIsbz1pLmRvY3VtZW50LnNlbGVjdGlvbjtmb3IoY29uc3QgdCBvZiBvLmdldFJhbmdlcygpKXQuaXNDb2xsYXBzZWQmJnQuZW5kLnBhcmVudC5kb2N1bWVudCYmbi53cml0ZXIubWVyZ2VBdHRyaWJ1dGVzKHQuc3RhcnQpO2kuc2V0U2VsZWN0aW9uKG51bGwpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IGk9ZS5zZWxlY3Rpb247aWYoaS5pc0NvbGxhcHNlZClyZXR1cm47aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGksXCJzZWxlY3Rpb25cIikpcmV0dXJuO2NvbnN0IG89W107Zm9yKGNvbnN0IHQgb2YgaS5nZXRSYW5nZXMoKSl7Y29uc3QgZT1uLm1hcHBlci50b1ZpZXdSYW5nZSh0KTtvLnB1c2goZSl9bi53cml0ZXIuc2V0U2VsZWN0aW9uKG8se2JhY2t3YXJkOmkuaXNCYWNrd2FyZH0pfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IGk9ZS5zZWxlY3Rpb247aWYoIWkuaXNDb2xsYXBzZWQpcmV0dXJuO2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShpLFwic2VsZWN0aW9uXCIpKXJldHVybjtjb25zdCBvPW4ud3JpdGVyLHI9aS5nZXRGaXJzdFBvc2l0aW9uKCkscz1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihyKSxhPW8uYnJlYWtBdHRyaWJ1dGVzKHMpO28uc2V0U2VsZWN0aW9uKGEpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMudmlldy5kb2N1bWVudC5yb290cy5iaW5kVG8odGhpcy5tb2RlbC5kb2N1bWVudC5yb290cykudXNpbmcodD0+e2lmKFwiJGdyYXZleWFyZFwiPT10LnJvb3ROYW1lKXJldHVybiBudWxsO2NvbnN0IGU9bmV3IFJpKHQubmFtZSk7cmV0dXJuIGUucm9vdE5hbWU9dC5yb290TmFtZSxlLl9kb2N1bWVudD10aGlzLnZpZXcuZG9jdW1lbnQsdGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKHQsZSksZX0pfWRlc3Ryb3koKXt0aGlzLnZpZXcuZGVzdHJveSgpLHRoaXMuc3RvcExpc3RlbmluZygpfX1QKExzLHlpKTtjbGFzcyBqc3tjb25zdHJ1Y3Rvcih0LGU9W10pe3RoaXMuX2VkaXRvcj10LHRoaXMuX2F2YWlsYWJsZVBsdWdpbnM9bmV3IE1hcCx0aGlzLl9wbHVnaW5zPW5ldyBNYXA7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9hdmFpbGFibGVQbHVnaW5zLnNldCh0LHQpLHQucGx1Z2luTmFtZSYmdGhpcy5fYXZhaWxhYmxlUGx1Z2lucy5zZXQodC5wbHVnaW5OYW1lLHQpfSpbU3ltYm9sLml0ZXJhdG9yXSgpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3BsdWdpbnMpXCJmdW5jdGlvblwiPT10eXBlb2YgdFswXSYmKHlpZWxkIHQpfWdldCh0KXtyZXR1cm4gdGhpcy5fcGx1Z2lucy5nZXQodCl9bG9hZCh0LGU9W10pe2NvbnN0IG49dGhpcyxpPXRoaXMuX2VkaXRvcixvPW5ldyBTZXQscj1bXSxzPXUodCksYT11KGUpLGM9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KWQobil8fGUucHVzaChuKTtyZXR1cm4gZS5sZW5ndGg/ZTpudWxsfSh0KTtpZihjKXtjb25zdCB0PVwicGx1Z2luY29sbGVjdGlvbi1wbHVnaW4tbm90LWZvdW5kOiBTb21lIHBsdWdpbnMgYXJlIG5vdCBhdmFpbGFibGUgYW5kIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCI7cmV0dXJuIHpyLmEuZXJyb3IodCx7cGx1Z2luczpjfSksUHJvbWlzZS5yZWplY3QobmV3IG0uYih0LHtwbHVnaW5zOmN9KSl9cmV0dXJuIFByb21pc2UuYWxsKHMubWFwKGwpKS50aGVuKCgpPT5yKTtmdW5jdGlvbiBsKHQpe2lmKCFhLmluY2x1ZGVzKHQpJiYhbi5nZXQodCkmJiFvLmhhcyh0KSlyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKHM9PntvLmFkZCh0KSx0LnJlcXVpcmVzJiZ0LnJlcXVpcmVzLmZvckVhY2gobj0+e2NvbnN0IGk9ZChuKTtpZihlLmluY2x1ZGVzKGkpKXRocm93IG5ldyBtLmIoXCJwbHVnaW5jb2xsZWN0aW9uLXJlcXVpcmVkOiBDYW5ub3QgbG9hZCBhIHBsdWdpbiBiZWNhdXNlIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzIGlzIGxpc3RlZCBpbnRoZSBgcmVtb3ZlUGx1Z2luc2Agb3B0aW9uLlwiLHtwbHVnaW46aSxyZXF1aXJlZEJ5OnR9KTtsKGkpfSk7Y29uc3QgYT1uZXcgdChpKTtuLl9hZGQodCxhKSxyLnB1c2goYSkscygpfSl9KHQpLmNhdGNoKGU9Pnt0aHJvdyB6ci5hLmVycm9yKFwicGx1Z2luY29sbGVjdGlvbi1sb2FkOiBJdCB3YXMgbm90IHBvc3NpYmxlIHRvIGxvYWQgdGhlIHBsdWdpbi5cIix7cGx1Z2luOnR9KSxlfSl9ZnVuY3Rpb24gZCh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6bi5fYXZhaWxhYmxlUGx1Z2lucy5nZXQodCl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5tYXAodD0+ZCh0KSkuZmlsdGVyKHQ9PiEhdCl9fWRlc3Ryb3koKXtjb25zdCB0PUFycmF5LmZyb20odGhpcykubWFwKChbLHRdKT0+dCkuZmlsdGVyKHQ9PlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveSkubWFwKHQ9PnQuZGVzdHJveSgpKTtyZXR1cm4gUHJvbWlzZS5hbGwodCl9X2FkZCh0LGUpe3RoaXMuX3BsdWdpbnMuc2V0KHQsZSk7Y29uc3Qgbj10LnBsdWdpbk5hbWU7biYmKHRoaXMuX3BsdWdpbnMuaGFzKG4pP3pyLmEud2FybihcInBsdWdpbmNvbGxlY3Rpb24tcGx1Z2luLW5hbWUtY29uZmxpY3Q6IFR3byBwbHVnaW5zIHdpdGggdGhlIHNhbWUgbmFtZSB3ZXJlIGxvYWRlZC5cIix7cGx1Z2luTmFtZTpuLHBsdWdpbjE6dGhpcy5fcGx1Z2lucy5nZXQobikuY29uc3RydWN0b3IscGx1Z2luMjp0fSk6dGhpcy5fcGx1Z2lucy5zZXQobixlKSl9fWNsYXNzIHpze2NvbnN0cnVjdG9yKCl7dGhpcy5fY29tbWFuZHM9bmV3IE1hcH1hZGQodCxlKXt0aGlzLl9jb21tYW5kcy5zZXQodCxlKX1nZXQodCl7cmV0dXJuIHRoaXMuX2NvbW1hbmRzLmdldCh0KX1leGVjdXRlKHQsLi4uZSl7Y29uc3Qgbj10aGlzLmdldCh0KTtpZighbil0aHJvdyBuZXcgbS5iKFwiY29tbWFuZGNvbGxlY3Rpb24tY29tbWFuZC1ub3QtZm91bmQ6IENvbW1hbmQgZG9lcyBub3QgZXhpc3QuXCIse2NvbW1hbmROYW1lOnR9KTtuLmV4ZWN1dGUoLi4uZSl9Km5hbWVzKCl7eWllbGQqdGhpcy5fY29tbWFuZHMua2V5cygpfSpjb21tYW5kcygpe3lpZWxkKnRoaXMuX2NvbW1hbmRzLnZhbHVlcygpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX2NvbW1hbmRzW1N5bWJvbC5pdGVyYXRvcl0oKX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5jb21tYW5kcygpKXQuZGVzdHJveSgpfX1mdW5jdGlvbiBxcyh0LGUpe2NvbnN0IG49T2JqZWN0LmtleXMod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUykubGVuZ3RoO3JldHVybiAxPT09biYmKHQ9T2JqZWN0LmtleXMod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUylbMF0pLDAhPT1uJiZmdW5jdGlvbih0LGUpe3JldHVybiB0IGluIHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlMmJmUgaW4gd2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU1t0XX0odCxlKT93aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TW3RdW2VdLnJlcGxhY2UoLyBcXFtjb250ZXh0OiBbXlxcXV0rXFxdJC8sXCJcIik6ZS5yZXBsYWNlKC8gXFxbY29udGV4dDogW15cXF1dK1xcXSQvLFwiXCIpfXdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlN8fCh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TPXt9KTtjbGFzcyBVc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmxhbmd1YWdlPXR8fFwiZW5cIix0aGlzLnQ9KCguLi50KT0+dGhpcy5fdCguLi50KSl9X3QodCxlKXtsZXQgbj1xcyh0aGlzLmxhbmd1YWdlLHQpO3JldHVybiBlJiYobj1uLnJlcGxhY2UoLyUoXFxkKykvZywodCxuKT0+bjxlLmxlbmd0aD9lW25dOnQpKSxufX1jbGFzcyBIc3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbnN1bWFibGVzPW5ldyBNYXB9YWRkKHQsZSl7bGV0IG47dC5pcyhcInRleHRcIil8fHQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP3RoaXMuX2NvbnN1bWFibGVzLnNldCh0LCEwKToodGhpcy5fY29uc3VtYWJsZXMuaGFzKHQpP249dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpOihuPW5ldyBXcyx0aGlzLl9jb25zdW1hYmxlcy5zZXQodCxuKSksbi5hZGQoZSkpfXRlc3QodCxlKXtjb25zdCBuPXRoaXMuX2NvbnN1bWFibGVzLmdldCh0KTtyZXR1cm4gdm9pZCAwPT09bj9udWxsOnQuaXMoXCJ0ZXh0XCIpfHx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT9uOm4udGVzdChlKX1jb25zdW1lKHQsZSl7cmV0dXJuISF0aGlzLnRlc3QodCxlKSYmKHQuaXMoXCJ0ZXh0XCIpfHx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT90aGlzLl9jb25zdW1hYmxlcy5zZXQodCwhMSk6dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpLmNvbnN1bWUoZSksITApfXJldmVydCh0LGUpe2NvbnN0IG49dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpO3ZvaWQgMCE9PW4mJih0LmlzKFwidGV4dFwiKXx8dC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIik/dGhpcy5fY29uc3VtYWJsZXMuc2V0KHQsITApOm4ucmV2ZXJ0KGUpKX1zdGF0aWMgY29uc3VtYWJsZXNGcm9tRWxlbWVudCh0KXtjb25zdCBlPXtuYW1lOiEwLGF0dHJpYnV0ZXM6W10sY2xhc3NlczpbXSxzdHlsZXM6W119LG49dC5nZXRBdHRyaWJ1dGVLZXlzKCk7Zm9yKGNvbnN0IHQgb2YgbilcInN0eWxlXCIhPXQmJlwiY2xhc3NcIiE9dCYmZS5hdHRyaWJ1dGVzLnB1c2godCk7Y29uc3QgaT10LmdldENsYXNzTmFtZXMoKTtmb3IoY29uc3QgdCBvZiBpKWUuY2xhc3Nlcy5wdXNoKHQpO2NvbnN0IG89dC5nZXRTdHlsZU5hbWVzKCk7Zm9yKGNvbnN0IHQgb2YgbyllLnN0eWxlcy5wdXNoKHQpO3JldHVybiBlfXN0YXRpYyBjcmVhdGVGcm9tKHQsZSl7aWYoZXx8KGU9bmV3IEhzKSx0LmlzKFwidGV4dFwiKSlyZXR1cm4gZS5hZGQodCksZTt0LmlzKFwiZWxlbWVudFwiKSYmZS5hZGQodCxIcy5jb25zdW1hYmxlc0Zyb21FbGVtZW50KHQpKSx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSYmZS5hZGQodCk7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGlsZHJlbigpKWU9SHMuY3JlYXRlRnJvbShuLGUpO3JldHVybiBlfX1jbGFzcyBXc3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2NhbkNvbnN1bWVOYW1lPW51bGwsdGhpcy5fY29uc3VtYWJsZXM9e2F0dHJpYnV0ZXM6bmV3IE1hcCxzdHlsZXM6bmV3IE1hcCxjbGFzc2VzOm5ldyBNYXB9fWFkZCh0KXt0Lm5hbWUmJih0aGlzLl9jYW5Db25zdW1lTmFtZT0hMCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29uc3VtYWJsZXMpZSBpbiB0JiZ0aGlzLl9hZGQoZSx0W2VdKX10ZXN0KHQpe2lmKHQubmFtZSYmIXRoaXMuX2NhbkNvbnN1bWVOYW1lKXJldHVybiB0aGlzLl9jYW5Db25zdW1lTmFtZTtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb25zdW1hYmxlcylpZihlIGluIHQpe2NvbnN0IG49dGhpcy5fdGVzdChlLHRbZV0pO2lmKCEwIT09bilyZXR1cm4gbn1yZXR1cm4hMH1jb25zdW1lKHQpe3QubmFtZSYmKHRoaXMuX2NhbkNvbnN1bWVOYW1lPSExKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb25zdW1hYmxlcyllIGluIHQmJnRoaXMuX2NvbnN1bWUoZSx0W2VdKX1yZXZlcnQodCl7dC5uYW1lJiYodGhpcy5fY2FuQ29uc3VtZU5hbWU9ITApO2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbnN1bWFibGVzKWUgaW4gdCYmdGhpcy5fcmV2ZXJ0KGUsdFtlXSl9X2FkZCh0LGUpe2NvbnN0IG49WHQoZSk/ZTpbZV0saT10aGlzLl9jb25zdW1hYmxlc1t0XTtmb3IoY29uc3QgZSBvZiBuKXtpZihcImF0dHJpYnV0ZXNcIj09PXQmJihcImNsYXNzXCI9PT1lfHxcInN0eWxlXCI9PT1lKSl0aHJvdyBuZXcgbS5iKFwidmlld2NvbnN1bWFibGUtaW52YWxpZC1hdHRyaWJ1dGU6IENsYXNzZXMgYW5kIHN0eWxlcyBzaG91bGQgYmUgaGFuZGxlZCBzZXBhcmF0ZWx5LlwiKTtpLnNldChlLCEwKX19X3Rlc3QodCxlKXtjb25zdCBuPVh0KGUpP2U6W2VdLGk9dGhpcy5fY29uc3VtYWJsZXNbdF07Zm9yKGNvbnN0IGUgb2YgbilpZihcImF0dHJpYnV0ZXNcIiE9PXR8fFwiY2xhc3NcIiE9PWUmJlwic3R5bGVcIiE9PWUpe2NvbnN0IHQ9aS5nZXQoZSk7aWYodm9pZCAwPT09dClyZXR1cm4gbnVsbDtpZighdClyZXR1cm4hMX1lbHNle2NvbnN0IHQ9XCJjbGFzc1wiPT1lP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCIsbj10aGlzLl90ZXN0KHQsWy4uLnRoaXMuX2NvbnN1bWFibGVzW3RdLmtleXMoKV0pO2lmKCEwIT09bilyZXR1cm4gbn1yZXR1cm4hMH1fY29uc3VtZSh0LGUpe2NvbnN0IG49WHQoZSk/ZTpbZV0saT10aGlzLl9jb25zdW1hYmxlc1t0XTtmb3IoY29uc3QgZSBvZiBuKWlmKFwiYXR0cmlidXRlc1wiIT09dHx8XCJjbGFzc1wiIT09ZSYmXCJzdHlsZVwiIT09ZSlpLnNldChlLCExKTtlbHNle2NvbnN0IHQ9XCJjbGFzc1wiPT1lP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCI7dGhpcy5fY29uc3VtZSh0LFsuLi50aGlzLl9jb25zdW1hYmxlc1t0XS5rZXlzKCldKX19X3JldmVydCh0LGUpe2NvbnN0IG49WHQoZSk/ZTpbZV0saT10aGlzLl9jb25zdW1hYmxlc1t0XTtmb3IoY29uc3QgZSBvZiBuKWlmKFwiYXR0cmlidXRlc1wiIT09dHx8XCJjbGFzc1wiIT09ZSYmXCJzdHlsZVwiIT09ZSl7ITE9PT1pLmdldChlKSYmaS5zZXQoZSwhMCl9ZWxzZXtjb25zdCB0PVwiY2xhc3NcIj09ZT9cImNsYXNzZXNcIjpcInN0eWxlc1wiO3RoaXMuX3JldmVydCh0LFsuLi50aGlzLl9jb25zdW1hYmxlc1t0XS5rZXlzKCldKX19fWNsYXNzICRze2NvbnN0cnVjdG9yKCl7dGhpcy5fc291cmNlRGVmaW5pdGlvbnM9e30sdGhpcy5kZWNvcmF0ZShcImNoZWNrQ2hpbGRcIiksdGhpcy5kZWNvcmF0ZShcImNoZWNrQXR0cmlidXRlXCIpLHRoaXMub24oXCJjaGVja0F0dHJpYnV0ZVwiLCh0LGUpPT57ZVswXT1uZXcgS3MoZVswXSl9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHRoaXMub24oXCJjaGVja0NoaWxkXCIsKHQsZSk9PntlWzBdPW5ldyBLcyhlWzBdKSxlWzFdPXRoaXMuZ2V0RGVmaW5pdGlvbihlWzFdKX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSl9cmVnaXN0ZXIodCxlKXtpZih0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XSl0aHJvdyBuZXcgbS5iKFwic2NoZW1hLWNhbm5vdC1yZWdpc3Rlci1pdGVtLXR3aWNlOiBBIHNpbmdsZSBpdGVtIGNhbm5vdCBiZSByZWdpc3RlcmVkIHR3aWNlIGluIHRoZSBzY2hlbWEuXCIse2l0ZW1OYW1lOnR9KTt0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XT1bT2JqZWN0LmFzc2lnbih7fSxlKV0sdGhpcy5fY2xlYXJDYWNoZSgpfWV4dGVuZCh0LGUpe2lmKCF0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XSl0aHJvdyBuZXcgbS5iKFwic2NoZW1hLWNhbm5vdC1leHRlbmQtbWlzc2luZy1pdGVtOiBDYW5ub3QgZXh0ZW5kIGFuIGl0ZW0gd2hpY2ggd2FzIG5vdCByZWdpc3RlcmVkIHlldC5cIix7aXRlbU5hbWU6dH0pO3RoaXMuX3NvdXJjZURlZmluaXRpb25zW3RdLnB1c2goT2JqZWN0LmFzc2lnbih7fSxlKSksdGhpcy5fY2xlYXJDYWNoZSgpfWdldERlZmluaXRpb25zKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGVkRGVmaW5pdGlvbnN8fHRoaXMuX2NvbXBpbGUoKSx0aGlzLl9jb21waWxlZERlZmluaXRpb25zfWdldERlZmluaXRpb24odCl7bGV0IGU7cmV0dXJuIGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LmlzJiYodC5pcyhcInRleHRcIil8fHQuaXMoXCJ0ZXh0UHJveHlcIikpP1wiJHRleHRcIjp0Lm5hbWUsdGhpcy5nZXREZWZpbml0aW9ucygpW2VdfWlzUmVnaXN0ZXJlZCh0KXtyZXR1cm4hIXRoaXMuZ2V0RGVmaW5pdGlvbih0KX1pc0Jsb2NrKHQpe2NvbnN0IGU9dGhpcy5nZXREZWZpbml0aW9uKHQpO3JldHVybiEoIWV8fCFlLmlzQmxvY2spfWlzTGltaXQodCl7Y29uc3QgZT10aGlzLmdldERlZmluaXRpb24odCk7cmV0dXJuISFlJiYhKCFlLmlzTGltaXQmJiFlLmlzT2JqZWN0KX1pc09iamVjdCh0KXtjb25zdCBlPXRoaXMuZ2V0RGVmaW5pdGlvbih0KTtyZXR1cm4hKCFlfHwhZS5pc09iamVjdCl9Y2hlY2tDaGlsZCh0LGUpe3JldHVybiEhZSYmdGhpcy5fY2hlY2tDb250ZXh0TWF0Y2goZSx0KX1jaGVja0F0dHJpYnV0ZSh0LGUpe2NvbnN0IG49dGhpcy5nZXREZWZpbml0aW9uKHQubGFzdCk7cmV0dXJuISFuJiZuLmFsbG93QXR0cmlidXRlcy5pbmNsdWRlcyhlKX1jaGVja01lcmdlKHQsZT1udWxsKXtpZih0IGluc3RhbmNlb2YgYnMpe2NvbnN0IGU9dC5ub2RlQmVmb3JlLG49dC5ub2RlQWZ0ZXI7aWYoIShlIGluc3RhbmNlb2YgZnMpKXRocm93IG5ldyBtLmIoXCJzY2hlbWEtY2hlY2stbWVyZ2Utbm8tZWxlbWVudC1iZWZvcmU6IFRoZSBub2RlIGJlZm9yZSB0aGUgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LlwiKTtpZighKG4gaW5zdGFuY2VvZiBmcykpdGhyb3cgbmV3IG0uYihcInNjaGVtYS1jaGVjay1tZXJnZS1uby1lbGVtZW50LWFmdGVyOiBUaGUgbm9kZSBhZnRlciB0aGUgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LlwiKTtyZXR1cm4gdGhpcy5jaGVja01lcmdlKGUsbil9Zm9yKGNvbnN0IG4gb2YgZS5nZXRDaGlsZHJlbigpKWlmKCF0aGlzLmNoZWNrQ2hpbGQodCxuKSlyZXR1cm4hMTtyZXR1cm4hMH1hZGRDaGlsZENoZWNrKHQpe3RoaXMub24oXCJjaGVja0NoaWxkXCIsKGUsW24saV0pPT57aWYoIWkpcmV0dXJuO2NvbnN0IG89dChuLGkpO1wiYm9vbGVhblwiPT10eXBlb2YgbyYmKGUuc3RvcCgpLGUucmV0dXJuPW8pfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KX1hZGRBdHRyaWJ1dGVDaGVjayh0KXt0aGlzLm9uKFwiY2hlY2tBdHRyaWJ1dGVcIiwoZSxbbixpXSk9Pntjb25zdCBvPXQobixpKTtcImJvb2xlYW5cIj09dHlwZW9mIG8mJihlLnN0b3AoKSxlLnJldHVybj1vKX0se3ByaW9yaXR5OlwiaGlnaFwifSl9Z2V0TGltaXRFbGVtZW50KHQpe2xldCBlO2lmKHQgaW5zdGFuY2VvZiBicyllPXQucGFyZW50O2Vsc2V7ZT0odCBpbnN0YW5jZW9mIHdzP1t0XTpBcnJheS5mcm9tKHQuZ2V0UmFuZ2VzKCkpKS5yZWR1Y2UoKHQsZSk9Pntjb25zdCBuPWUuZ2V0Q29tbW9uQW5jZXN0b3IoKTtyZXR1cm4gdD90LmdldENvbW1vbkFuY2VzdG9yKG4se2luY2x1ZGVTZWxmOiEwfSk6bn0sbnVsbCl9Zm9yKDshdGhpcy5pc0xpbWl0KGUpJiZlLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gZX1jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKHQsZSl7aWYodC5pc0NvbGxhcHNlZClyZXR1cm4gdGhpcy5jaGVja0F0dHJpYnV0ZShbLi4udC5nZXRGaXJzdFBvc2l0aW9uKCkuZ2V0QW5jZXN0b3JzKCksXCIkdGV4dFwiXSxlKTt7Y29uc3Qgbj10LmdldFJhbmdlcygpO2Zvcihjb25zdCB0IG9mIG4pZm9yKGNvbnN0IG4gb2YgdClpZih0aGlzLmNoZWNrQXR0cmlidXRlKG4uaXRlbSxlKSlyZXR1cm4hMH1yZXR1cm4hMX1nZXRWYWxpZFJhbmdlcyh0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IGkgb2YgdCl7bGV0IHQ9aS5zdGFydCxvPWkuc3RhcnQ7Y29uc3Qgcj1pLmVuZDtmb3IoY29uc3QgciBvZiBpLmdldFdhbGtlcigpKXRoaXMuY2hlY2tBdHRyaWJ1dGUoci5pdGVtLGUpfHwoby5pc0VxdWFsKHQpfHxuLnB1c2gobmV3IHdzKG8sdCkpLG89ci5uZXh0UG9zaXRpb24pLHQ9ci5uZXh0UG9zaXRpb247byYmIW8uaXNFcXVhbChyKSYmbi5wdXNoKG5ldyB3cyhvLHIpKX1yZXR1cm4gbn1nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2UodCxlPVwiYm90aFwiKXtpZih0aGlzLmNoZWNrQ2hpbGQodCxcIiR0ZXh0XCIpKXJldHVybiBuZXcgd3ModCk7bGV0IG4saTtcImJvdGhcIiE9ZSYmXCJiYWNrd2FyZFwiIT1lfHwobj1uZXcgcHMoe3N0YXJ0UG9zaXRpb246dCxkaXJlY3Rpb246XCJiYWNrd2FyZFwifSkpLFwiYm90aFwiIT1lJiZcImZvcndhcmRcIiE9ZXx8KGk9bmV3IHBzKHtzdGFydFBvc2l0aW9uOnR9KSk7Zm9yKGNvbnN0IHQgb2YgZnVuY3Rpb24qKHQsZSl7bGV0IG49ITE7Zm9yKDshbjspe2lmKG49ITAsdCl7Y29uc3QgZT10Lm5leHQoKTtlLmRvbmV8fChuPSExLHlpZWxke3dhbGtlcjp0LHZhbHVlOmUudmFsdWV9KX1pZihlKXtjb25zdCB0PWUubmV4dCgpO3QuZG9uZXx8KG49ITEseWllbGR7d2Fsa2VyOmUsdmFsdWU6dC52YWx1ZX0pfX19KG4saSkpe2NvbnN0IGU9dC53YWxrZXI9PW4/XCJlbGVtZW50RW5kXCI6XCJlbGVtZW50U3RhcnRcIixpPXQudmFsdWU7aWYoaS50eXBlPT1lJiZ0aGlzLmlzT2JqZWN0KGkuaXRlbSkpcmV0dXJuIHdzLmNyZWF0ZU9uKGkuaXRlbSk7aWYodGhpcy5jaGVja0NoaWxkKGkubmV4dFBvc2l0aW9uLFwiJHRleHRcIikpcmV0dXJuIG5ldyB3cyhpLm5leHRQb3NpdGlvbil9cmV0dXJuIG51bGx9ZmluZEFsbG93ZWRQYXJlbnQodCxlKXtsZXQgbj1lLnBhcmVudDtmb3IoO247KXtpZih0aGlzLmNoZWNrQ2hpbGQobix0KSlyZXR1cm4gbjtpZih0aGlzLmlzTGltaXQobikpcmV0dXJuIG51bGw7bj1uLnBhcmVudH1yZXR1cm4gbnVsbH1yZW1vdmVEaXNhbGxvd2VkQXR0cmlidXRlcyh0LGUpe2Zvcihjb25zdCBuIG9mIHQpe2Zvcihjb25zdCB0IG9mIG4uZ2V0QXR0cmlidXRlS2V5cygpKXRoaXMuY2hlY2tBdHRyaWJ1dGUobix0KXx8ZS5yZW1vdmVBdHRyaWJ1dGUodCxuKTtuLmlzKFwiZWxlbWVudFwiKSYmdGhpcy5yZW1vdmVEaXNhbGxvd2VkQXR0cmlidXRlcyhuLmdldENoaWxkcmVuKCksZSl9fV9jbGVhckNhY2hlKCl7dGhpcy5fY29tcGlsZWREZWZpbml0aW9ucz1udWxsfV9jb21waWxlKCl7Y29uc3QgdD17fSxlPXRoaXMuX3NvdXJjZURlZmluaXRpb25zLG49T2JqZWN0LmtleXMoZSk7Zm9yKGNvbnN0IGkgb2Ygbil0W2ldPUdzKGVbaV0saSk7Zm9yKGNvbnN0IGUgb2YgbilKcyh0LGUpO2Zvcihjb25zdCBlIG9mIG4pUXModCxlKTtmb3IoY29uc3QgZSBvZiBuKVlzKHQsZSksWHModCxlKTtmb3IoY29uc3QgZSBvZiBuKVpzKHQsZSksdGEodCxlKTt0aGlzLl9jb21waWxlZERlZmluaXRpb25zPXR9X2NoZWNrQ29udGV4dE1hdGNoKHQsZSxuPWUubGVuZ3RoLTEpe2NvbnN0IGk9ZS5nZXRJdGVtKG4pO2lmKHQuYWxsb3dJbi5pbmNsdWRlcyhpLm5hbWUpKXtpZigwPT1uKXJldHVybiEwO3tjb25zdCB0PXRoaXMuZ2V0RGVmaW5pdGlvbihpKTtyZXR1cm4gdGhpcy5fY2hlY2tDb250ZXh0TWF0Y2godCxlLG4tMSl9fXJldHVybiExfX1QKCRzLHlpKTtjbGFzcyBLc3tjb25zdHJ1Y3Rvcih0KXtpZih0IGluc3RhbmNlb2YgS3MpcmV0dXJuIHQ7XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1bdF06QXJyYXkuaXNBcnJheSh0KXx8KHQ9dC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSkpLHRbMF0mJlwic3RyaW5nXCIhPXR5cGVvZiB0WzBdJiZ0WzBdLmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSYmdC5zaGlmdCgpLHRoaXMuX2l0ZW1zPXQubWFwKGlhKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aH1nZXQgbGFzdCgpe3JldHVybiB0aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGgtMV19W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5faXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpfXB1c2godCl7Y29uc3QgZT1uZXcgS3MoW3RdKTtyZXR1cm4gZS5faXRlbXM9Wy4uLnRoaXMuX2l0ZW1zLC4uLmUuX2l0ZW1zXSxlfWdldEl0ZW0odCl7cmV0dXJuIHRoaXMuX2l0ZW1zW3RdfSpnZXROYW1lcygpe3lpZWxkKnRoaXMuX2l0ZW1zLm1hcCh0PT50Lm5hbWUpfWVuZHNXaXRoKHQpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuZ2V0TmFtZXMoKSkuam9pbihcIiBcIikuZW5kc1dpdGgodCl9fWZ1bmN0aW9uIEdzKHQsZSl7Y29uc3Qgbj17bmFtZTplLGFsbG93SW46W10sYWxsb3dDb250ZW50T2Y6W10sYWxsb3dXaGVyZTpbXSxhbGxvd0F0dHJpYnV0ZXM6W10sYWxsb3dBdHRyaWJ1dGVzT2Y6W10saW5oZXJpdFR5cGVzRnJvbTpbXX07cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1PYmplY3Qua2V5cyhuKS5maWx0ZXIodD0+dC5zdGFydHNXaXRoKFwiaXNcIikpO2Zvcihjb25zdCBpIG9mIHQpZVtpXT1uW2ldfX0odCxuKSxlYSh0LG4sXCJhbGxvd0luXCIpLGVhKHQsbixcImFsbG93Q29udGVudE9mXCIpLGVhKHQsbixcImFsbG93V2hlcmVcIiksZWEodCxuLFwiYWxsb3dBdHRyaWJ1dGVzXCIpLGVhKHQsbixcImFsbG93QXR0cmlidXRlc09mXCIpLGVhKHQsbixcImluaGVyaXRUeXBlc0Zyb21cIiksZnVuY3Rpb24odCxlKXtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PW4uaW5oZXJpdEFsbEZyb207dCYmKGUuYWxsb3dDb250ZW50T2YucHVzaCh0KSxlLmFsbG93V2hlcmUucHVzaCh0KSxlLmFsbG93QXR0cmlidXRlc09mLnB1c2godCksZS5pbmhlcml0VHlwZXNGcm9tLnB1c2godCkpfX0odCxuKSxufWZ1bmN0aW9uIEpzKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdFtlXS5hbGxvd0NvbnRlbnRPZilpZih0W25dKXtuYSh0LG4pLmZvckVhY2godD0+e3QuYWxsb3dJbi5wdXNoKGUpfSl9ZGVsZXRlIHRbZV0uYWxsb3dDb250ZW50T2Z9ZnVuY3Rpb24gUXModCxlKXtmb3IoY29uc3QgbiBvZiB0W2VdLmFsbG93V2hlcmUpe2NvbnN0IGk9dFtuXTtpZihpKXtjb25zdCBuPWkuYWxsb3dJbjt0W2VdLmFsbG93SW4ucHVzaCguLi5uKX19ZGVsZXRlIHRbZV0uYWxsb3dXaGVyZX1mdW5jdGlvbiBZcyh0LGUpe2Zvcihjb25zdCBuIG9mIHRbZV0uYWxsb3dBdHRyaWJ1dGVzT2Ype2NvbnN0IGk9dFtuXTtpZihpKXtjb25zdCBuPWkuYWxsb3dBdHRyaWJ1dGVzO3RbZV0uYWxsb3dBdHRyaWJ1dGVzLnB1c2goLi4ubil9fWRlbGV0ZSB0W2VdLmFsbG93QXR0cmlidXRlc09mfWZ1bmN0aW9uIFhzKHQsZSl7Y29uc3Qgbj10W2VdO2Zvcihjb25zdCBlIG9mIG4uaW5oZXJpdFR5cGVzRnJvbSl7Y29uc3QgaT10W2VdO2lmKGkpe2NvbnN0IHQ9T2JqZWN0LmtleXMoaSkuZmlsdGVyKHQ9PnQuc3RhcnRzV2l0aChcImlzXCIpKTtmb3IoY29uc3QgZSBvZiB0KWUgaW4gbnx8KG5bZV09aVtlXSl9fWRlbGV0ZSBuLmluaGVyaXRUeXBlc0Zyb219ZnVuY3Rpb24gWnModCxlKXtjb25zdCBuPXRbZV0saT1uLmFsbG93SW4uZmlsdGVyKGU9PnRbZV0pO24uYWxsb3dJbj1BcnJheS5mcm9tKG5ldyBTZXQoaSkpfWZ1bmN0aW9uIHRhKHQsZSl7Y29uc3Qgbj10W2VdO24uYWxsb3dBdHRyaWJ1dGVzPUFycmF5LmZyb20obmV3IFNldChuLmFsbG93QXR0cmlidXRlcykpfWZ1bmN0aW9uIGVhKHQsZSxuKXtmb3IoY29uc3QgaSBvZiB0KVwic3RyaW5nXCI9PXR5cGVvZiBpW25dP2Vbbl0ucHVzaChpW25dKTpBcnJheS5pc0FycmF5KGlbbl0pJiZlW25dLnB1c2goLi4uaVtuXSl9ZnVuY3Rpb24gbmEodCxlKXtjb25zdCBuPXRbZV07cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5tYXAoZT0+dFtlXSl9KHQpLmZpbHRlcih0PT50LmFsbG93SW4uaW5jbHVkZXMobi5uYW1lKSl9ZnVuY3Rpb24gaWEodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/e25hbWU6dCwqZ2V0QXR0cmlidXRlS2V5cygpe30sZ2V0QXR0cmlidXRlKCl7fX06e25hbWU6dC5pcyhcImVsZW1lbnRcIik/dC5uYW1lOlwiJHRleHRcIiwqZ2V0QXR0cmlidXRlS2V5cygpe3lpZWxkKnQuZ2V0QXR0cmlidXRlS2V5cygpfSxnZXRBdHRyaWJ1dGU6ZT0+dC5nZXRBdHRyaWJ1dGUoZSl9fWNsYXNzIG9he2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMuX3JlbW92ZUlmRW1wdHk9bmV3IFNldCx0aGlzLl9tb2RlbEN1cnNvcj1udWxsLHRoaXMuY29udmVyc2lvbkFwaT1PYmplY3QuYXNzaWduKHt9LHQpLHRoaXMuY29udmVyc2lvbkFwaS5jb252ZXJ0SXRlbT10aGlzLl9jb252ZXJ0SXRlbS5iaW5kKHRoaXMpLHRoaXMuY29udmVyc2lvbkFwaS5jb252ZXJ0Q2hpbGRyZW49dGhpcy5fY29udmVydENoaWxkcmVuLmJpbmQodGhpcyksdGhpcy5jb252ZXJzaW9uQXBpLnNwbGl0VG9BbGxvd2VkUGFyZW50PXRoaXMuX3NwbGl0VG9BbGxvd2VkUGFyZW50LmJpbmQodGhpcyl9Y29udmVydCh0LGUsbj1bXCIkcm9vdFwiXSl7dGhpcy5maXJlKFwidmlld0NsZWFudXBcIix0KSx0aGlzLl9tb2RlbEN1cnNvcj1mdW5jdGlvbih0LGUpe2xldCBuO2Zvcihjb25zdCBpIG9mIG5ldyBLcyh0KSl7Y29uc3QgdD17fTtmb3IoY29uc3QgZSBvZiBpLmdldEF0dHJpYnV0ZUtleXMoKSl0W2VdPWkuZ2V0QXR0cmlidXRlKGUpO2NvbnN0IG89ZS5jcmVhdGVFbGVtZW50KGkubmFtZSx0KTtuJiZlLmFwcGVuZChvLG4pLG49YnMuY3JlYXRlQXQobyl9cmV0dXJuIG59KG4sZSksdGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1lLHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPUhzLmNyZWF0ZUZyb20odCksdGhpcy5jb252ZXJzaW9uQXBpLnN0b3JlPXt9O2NvbnN0e21vZGVsUmFuZ2U6aX09dGhpcy5fY29udmVydEl0ZW0odCx0aGlzLl9tb2RlbEN1cnNvciksbz1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihpKXt0aGlzLl9yZW1vdmVFbXB0eUVsZW1lbnRzKCk7Zm9yKGNvbnN0IHQgb2YgQXJyYXkuZnJvbSh0aGlzLl9tb2RlbEN1cnNvci5wYXJlbnQuZ2V0Q2hpbGRyZW4oKSkpZS5hcHBlbmQodCxvKTtvLm1hcmtlcnM9ZnVuY3Rpb24odCxlKXtjb25zdCBuPW5ldyBTZXQsaT1uZXcgTWFwLG89d3MuY3JlYXRlSW4odCkuZ2V0SXRlbXMoKTtmb3IoY29uc3QgdCBvZiBvKVwiJG1hcmtlclwiPT10Lm5hbWUmJm4uYWRkKHQpO2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IG49dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5hbWVcIiksbz1icy5jcmVhdGVCZWZvcmUodCk7aS5oYXMobik/aS5nZXQobikuZW5kPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbihvKTppLnNldChuLG5ldyB3cyhicy5jcmVhdGVGcm9tUG9zaXRpb24obykpKSxlLnJlbW92ZSh0KX1yZXR1cm4gaX0obyxlKX1yZXR1cm4gdGhpcy5fbW9kZWxDdXJzb3I9bnVsbCx0aGlzLl9yZW1vdmVJZkVtcHR5LmNsZWFyKCksdGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1udWxsLHRoaXMuY29udmVyc2lvbkFwaS5zdG9yZT1udWxsLG99X2NvbnZlcnRJdGVtKHQsZSl7Y29uc3Qgbj1PYmplY3QuYXNzaWduKHt2aWV3SXRlbTp0LG1vZGVsQ3Vyc29yOmUsbW9kZWxSYW5nZTpudWxsfSk7aWYodC5pcyhcImVsZW1lbnRcIik/dGhpcy5maXJlKFwiZWxlbWVudDpcIit0Lm5hbWUsbix0aGlzLmNvbnZlcnNpb25BcGkpOnQuaXMoXCJ0ZXh0XCIpP3RoaXMuZmlyZShcInRleHRcIixuLHRoaXMuY29udmVyc2lvbkFwaSk6dGhpcy5maXJlKFwiZG9jdW1lbnRGcmFnbWVudFwiLG4sdGhpcy5jb252ZXJzaW9uQXBpKSxuLm1vZGVsUmFuZ2UmJiEobi5tb2RlbFJhbmdlIGluc3RhbmNlb2Ygd3MpKXRocm93IG5ldyBtLmIoXCJ2aWV3LWNvbnZlcnNpb24tZGlzcGF0Y2hlci1pbmNvcnJlY3QtcmVzdWx0OiBJbmNvcnJlY3QgY29udmVyc2lvbiByZXN1bHQgd2FzIGRyb3BwZWQuXCIpO3JldHVybnttb2RlbFJhbmdlOm4ubW9kZWxSYW5nZSxtb2RlbEN1cnNvcjpuLm1vZGVsQ3Vyc29yfX1fY29udmVydENoaWxkcmVuKHQsZSl7Y29uc3Qgbj1uZXcgd3MoZSk7bGV0IGk9ZTtmb3IoY29uc3QgZSBvZiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkpe2NvbnN0IHQ9dGhpcy5fY29udmVydEl0ZW0oZSxpKTt0Lm1vZGVsUmFuZ2UgaW5zdGFuY2VvZiB3cyYmKG4uZW5kPXQubW9kZWxSYW5nZS5lbmQsaT10Lm1vZGVsQ3Vyc29yKX1yZXR1cm57bW9kZWxSYW5nZTpuLG1vZGVsQ3Vyc29yOml9fV9zcGxpdFRvQWxsb3dlZFBhcmVudCh0LGUpe2NvbnN0IG49dGhpcy5jb252ZXJzaW9uQXBpLnNjaGVtYS5maW5kQWxsb3dlZFBhcmVudCh0LGUpO2lmKCFuKXJldHVybiBudWxsO2lmKG49PT1lLnBhcmVudClyZXR1cm57cG9zaXRpb246ZX07aWYodGhpcy5fbW9kZWxDdXJzb3IucGFyZW50LmdldEFuY2VzdG9ycygpLmluY2x1ZGVzKG4pKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5jb252ZXJzaW9uQXBpLndyaXRlci5zcGxpdChlLG4pO2Zvcihjb25zdCB0IG9mIGkucmFuZ2UuZ2V0UG9zaXRpb25zKCkpdC5pc0VxdWFsKGkucG9zaXRpb24pfHx0aGlzLl9yZW1vdmVJZkVtcHR5LmFkZCh0LnBhcmVudCk7cmV0dXJue3Bvc2l0aW9uOmkucG9zaXRpb24sY3Vyc29yUGFyZW50OmkucmFuZ2UuZW5kLnBhcmVudH19X3JlbW92ZUVtcHR5RWxlbWVudHMoKXtsZXQgdD0hMTtmb3IoY29uc3QgZSBvZiB0aGlzLl9yZW1vdmVJZkVtcHR5KWUuaXNFbXB0eSYmKHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXIucmVtb3ZlKGUpLHRoaXMuX3JlbW92ZUlmRW1wdHkuZGVsZXRlKGUpLHQ9ITApO3QmJnRoaXMuX3JlbW92ZUVtcHR5RWxlbWVudHMoKX19ZnVuY3Rpb24gcmEodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtjb25zdCBlPW5ldyBNbih0LnZpZXcpO3JldHVybihuLGksbyk9Pntjb25zdCByPWUubWF0Y2goaS52aWV3SXRlbSk7aWYoIXIpcmV0dXJuO3IubWF0Y2gubmFtZT0hMDtjb25zdCBzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZ1bmN0aW9uP3QoZSxuKTpuLmNyZWF0ZUVsZW1lbnQodCl9KHQubW9kZWwsaS52aWV3SXRlbSxvLndyaXRlcik7aWYoIXMpcmV0dXJuO2lmKCFvLmNvbnN1bWFibGUudGVzdChpLnZpZXdJdGVtLHIubWF0Y2gpKXJldHVybjtjb25zdCBhPW8uc3BsaXRUb0FsbG93ZWRQYXJlbnQocyxpLm1vZGVsQ3Vyc29yKTtpZighYSlyZXR1cm47by53cml0ZXIuaW5zZXJ0KHMsYS5wb3NpdGlvbik7Y29uc3QgYz1vLmNvbnZlcnRDaGlsZHJlbihpLnZpZXdJdGVtLGJzLmNyZWF0ZUF0KHMpKTtvLmNvbnN1bWFibGUuY29uc3VtZShpLnZpZXdJdGVtLHIubWF0Y2gpLGkubW9kZWxSYW5nZT1uZXcgd3MoYnMuY3JlYXRlQmVmb3JlKHMpLGJzLmNyZWF0ZUFmdGVyKGMubW9kZWxDdXJzb3IucGFyZW50KSksYS5jdXJzb3JQYXJlbnQ/aS5tb2RlbEN1cnNvcj1icy5jcmVhdGVBdChhLmN1cnNvclBhcmVudCk6aS5tb2RlbEN1cnNvcj1pLm1vZGVsUmFuZ2UuZW5kfX0odD1Jcyh0KSksbj1jYSh0KSxpPW4/XCJlbGVtZW50OlwiK246XCJlbGVtZW50XCI7cmV0dXJuIG49PntuLm9uKGksZSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pfX1mdW5jdGlvbiBzYSh0KXtsYSh0PUlzKHQpKTtjb25zdCBlPWRhKHQsITEpLG49Y2EodCksaT1uP1wiZWxlbWVudDpcIituOlwiZWxlbWVudFwiO3JldHVybiBuPT57bi5vbihpLGUse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19ZnVuY3Rpb24gYWEodCl7bGV0IGU9bnVsbDsoXCJzdHJpbmdcIj09dHlwZW9mKHQ9SXModCkpLnZpZXd8fHQudmlldy5rZXkpJiYoZT1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdC52aWV3JiYodC52aWV3PXtrZXk6dC52aWV3fSk7Y29uc3QgZT10LnZpZXcua2V5O2xldCBuO2lmKFwiY2xhc3NcIj09ZXx8XCJzdHlsZVwiPT1lKXtjb25zdCBpPVwiY2xhc3NcIj09ZT9cImNsYXNzZXNcIjpcInN0eWxlc1wiO249e1tpXTp0LnZpZXcudmFsdWV9fWVsc2V7Y29uc3QgaT12b2lkIDA9PT10LnZpZXcudmFsdWU/L1tcXHNcXFNdKi86dC52aWV3LnZhbHVlO249e2F0dHJpYnV0ZXM6e1tlXTppfX19dC52aWV3Lm5hbWUmJihuLm5hbWU9dC52aWV3Lm5hbWUpO3JldHVybiB0LnZpZXc9bixlfSh0KSksbGEodCxlKTtjb25zdCBuPWRhKHQsITApO3JldHVybiBlPT57ZS5vbihcImVsZW1lbnRcIixuLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcImxvd1wifSl9fWZ1bmN0aW9uIGNhKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0LnZpZXc/dC52aWV3Olwib2JqZWN0XCI9PXR5cGVvZiB0LnZpZXcmJlwic3RyaW5nXCI9PXR5cGVvZiB0LnZpZXcubmFtZT90LnZpZXcubmFtZTpudWxsfWZ1bmN0aW9uIGxhKHQsZT1udWxsKXtjb25zdCBuPW51bGw9PT1lfHwodD0+dC5nZXRBdHRyaWJ1dGUoZSkpLGk9XCJvYmplY3RcIiE9dHlwZW9mIHQubW9kZWw/dC5tb2RlbDp0Lm1vZGVsLmtleSxvPVwib2JqZWN0XCIhPXR5cGVvZiB0Lm1vZGVsfHx2b2lkIDA9PT10Lm1vZGVsLnZhbHVlP246dC5tb2RlbC52YWx1ZTt0Lm1vZGVsPXtrZXk6aSx2YWx1ZTpvfX1mdW5jdGlvbiBkYSh0LGUpe2NvbnN0IG49bmV3IE1uKHQudmlldyk7cmV0dXJuKGksbyxyKT0+e2NvbnN0IHM9bi5tYXRjaChvLnZpZXdJdGVtKTtpZighcylyZXR1cm47Y29uc3QgYT10Lm1vZGVsLmtleSxjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQubW9kZWwudmFsdWU/dC5tb2RlbC52YWx1ZShvLnZpZXdJdGVtKTp0Lm1vZGVsLnZhbHVlO251bGwhPT1jJiYoIWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0LnZpZXcmJiFjYSh0KSlyZXR1cm4hMTtyZXR1cm4hdC52aWV3LmNsYXNzZXMmJiF0LnZpZXcuYXR0cmlidXRlcyYmIXQudmlldy5zdHlsZXN9KHQpP2RlbGV0ZSBzLm1hdGNoLm5hbWU6cy5tYXRjaC5uYW1lPSEwLHIuY29uc3VtYWJsZS50ZXN0KG8udmlld0l0ZW0scy5tYXRjaCkmJihvLm1vZGVsUmFuZ2V8fChvPU9iamVjdC5hc3NpZ24obyxyLmNvbnZlcnRDaGlsZHJlbihvLnZpZXdJdGVtLG8ubW9kZWxDdXJzb3IpKSksZnVuY3Rpb24odCxlLG4saSl7bGV0IG89ITE7Zm9yKGNvbnN0IHIgb2YgQXJyYXkuZnJvbSh0LmdldEl0ZW1zKHtzaGFsbG93Om59KSkpaS5zY2hlbWEuY2hlY2tBdHRyaWJ1dGUocixlLmtleSkmJihpLndyaXRlci5zZXRBdHRyaWJ1dGUoZS5rZXksZS52YWx1ZSxyKSxvPSEwKTtyZXR1cm4gb30oby5tb2RlbFJhbmdlLHtrZXk6YSx2YWx1ZTpjfSxlLHIpJiZyLmNvbnN1bWFibGUuY29uc3VtZShvLnZpZXdJdGVtLHMubWF0Y2gpKSl9fVAob2EseSk7Y2xhc3MgdWF7Y29uc3RydWN0b3IodCxlKXt0aGlzLm1vZGVsPXQsdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLm1hcHBlcj1uZXcgdnMsdGhpcy5kb3duY2FzdERpc3BhdGNoZXI9bmV3IHlzKHttYXBwZXI6dGhpcy5tYXBwZXJ9KSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydDokdGV4dFwiLCh0LGUsbik9PntpZighbi5jb25zdW1hYmxlLmNvbnN1bWUoZS5pdGVtLFwiaW5zZXJ0XCIpKXJldHVybjtjb25zdCBpPW4ud3JpdGVyLG89bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5yYW5nZS5zdGFydCkscj1pLmNyZWF0ZVRleHQoZS5pdGVtLmRhdGEpO2kuaW5zZXJ0KG8scil9LHtwcmlvcml0eTpcImxvd2VzdFwifSksdGhpcy51cGNhc3REaXNwYXRjaGVyPW5ldyBvYSh7c2NoZW1hOnQuc2NoZW1hfSksdGhpcy51cGNhc3REaXNwYXRjaGVyLm9uKFwidGV4dFwiLCh0LGUsbik9PntpZihuLnNjaGVtYS5jaGVja0NoaWxkKGUubW9kZWxDdXJzb3IsXCIkdGV4dFwiKSYmbi5jb25zdW1hYmxlLmNvbnN1bWUoZS52aWV3SXRlbSkpe2NvbnN0IHQ9bi53cml0ZXIuY3JlYXRlVGV4dChlLnZpZXdJdGVtLmRhdGEpO24ud3JpdGVyLmluc2VydCh0LGUubW9kZWxDdXJzb3IpLGUubW9kZWxSYW5nZT13cy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLm1vZGVsQ3Vyc29yLHQub2Zmc2V0U2l6ZSksZS5tb2RlbEN1cnNvcj1lLm1vZGVsUmFuZ2UuZW5kfX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KSx0aGlzLnVwY2FzdERpc3BhdGNoZXIub24oXCJlbGVtZW50XCIsKHQsZSxuKT0+e2lmKCFlLm1vZGVsUmFuZ2UmJm4uY29uc3VtYWJsZS5jb25zdW1lKGUudmlld0l0ZW0se25hbWU6ITB9KSl7Y29uc3R7bW9kZWxSYW5nZTp0LG1vZGVsQ3Vyc29yOml9PW4uY29udmVydENoaWxkcmVuKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcik7ZS5tb2RlbFJhbmdlPXQsZS5tb2RlbEN1cnNvcj1pfX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KSx0aGlzLnVwY2FzdERpc3BhdGNoZXIub24oXCJkb2N1bWVudEZyYWdtZW50XCIsKHQsZSxuKT0+e2lmKCFlLm1vZGVsUmFuZ2UmJm4uY29uc3VtYWJsZS5jb25zdW1lKGUudmlld0l0ZW0se25hbWU6ITB9KSl7Y29uc3R7bW9kZWxSYW5nZTp0LG1vZGVsQ3Vyc29yOml9PW4uY29udmVydENoaWxkcmVuKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcik7ZS5tb2RlbFJhbmdlPXQsZS5tb2RlbEN1cnNvcj1pfX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KSx0aGlzLmRlY29yYXRlKFwiaW5pdFwiKX1nZXQodD1cIm1haW5cIil7cmV0dXJuIHRoaXMuc3RyaW5naWZ5KHRoaXMubW9kZWwuZG9jdW1lbnQuZ2V0Um9vdCh0KSl9c3RyaW5naWZ5KHQpe2NvbnN0IGU9dGhpcy50b1ZpZXcodCk7cmV0dXJuIHRoaXMucHJvY2Vzc29yLnRvRGF0YShlKX10b1ZpZXcodCl7Y29uc3QgZT13cy5jcmVhdGVJbih0KSxuPW5ldyBubyxpPW5ldyBpbyhuZXcgamkpO2lmKHRoaXMubWFwcGVyLmJpbmRFbGVtZW50cyh0LG4pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLmNvbnZlcnRJbnNlcnQoZSxpKSwhdC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXSxuPXQucm9vdC5kb2N1bWVudDtpZighbilyZXR1cm5bXTtjb25zdCBpPXdzLmNyZWF0ZUluKHQpO2Zvcihjb25zdCB0IG9mIG4ubW9kZWwubWFya2Vycyl7Y29uc3Qgbj1pLmdldEludGVyc2VjdGlvbih0LmdldFJhbmdlKCkpO24mJmUucHVzaChbdC5uYW1lLG5dKX1yZXR1cm4gZX0odCk7Zm9yKGNvbnN0W3Qsbl1vZiBlKXRoaXMuZG93bmNhc3REaXNwYXRjaGVyLmNvbnZlcnRNYXJrZXJBZGQodCxuLGkpfXJldHVybiB0aGlzLm1hcHBlci5jbGVhckJpbmRpbmdzKCksbn1pbml0KHQsZT1cIm1haW5cIil7aWYodGhpcy5tb2RlbC5kb2N1bWVudC52ZXJzaW9uKXRocm93IG5ldyBtLmIoXCJkYXRhY29udHJvbGxlci1pbml0LWRvY3VtZW50LW5vdC1lbXB0eTogVHJ5aW5nIHRvIHNldCBpbml0aWFsIGRhdGEgdG8gbm90IGVtcHR5IGRvY3VtZW50LlwiKTtjb25zdCBuPXRoaXMubW9kZWwuZG9jdW1lbnQuZ2V0Um9vdChlKTtyZXR1cm4gdGhpcy5tb2RlbC5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIixlPT57ZS5pbnNlcnQodGhpcy5wYXJzZSh0LG4pLG4pfSksUHJvbWlzZS5yZXNvbHZlKCl9c2V0KHQsZT1cIm1haW5cIil7Y29uc3Qgbj10aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3QoZSk7dGhpcy5tb2RlbC5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIixlPT57ZS5zZXRTZWxlY3Rpb24obnVsbCksZS5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0QXR0cmlidXRlS2V5cygpKSxlLnJlbW92ZSh3cy5jcmVhdGVJbihuKSksZS5pbnNlcnQodGhpcy5wYXJzZSh0LG4pLG4pfSl9cGFyc2UodCxlPVwiJHJvb3RcIil7Y29uc3Qgbj10aGlzLnByb2Nlc3Nvci50b1ZpZXcodCk7cmV0dXJuIHRoaXMudG9Nb2RlbChuLGUpfXRvTW9kZWwodCxlPVwiJHJvb3RcIil7cmV0dXJuIHRoaXMubW9kZWwuY2hhbmdlKG49PnRoaXMudXBjYXN0RGlzcGF0Y2hlci5jb252ZXJ0KHQsbixlKSl9ZGVzdHJveSgpe319UCh1YSx5aSk7Y2xhc3MgaGF7Y29uc3RydWN0b3IoKXt0aGlzLl9kaXNwYXRjaGVyc0dyb3Vwcz1uZXcgTWFwfXJlZ2lzdGVyKHQsZSl7aWYodGhpcy5fZGlzcGF0Y2hlcnNHcm91cHMuaGFzKHQpKXRocm93IG5ldyBtLmIoXCJjb252ZXJzaW9uLXJlZ2lzdGVyLWdyb3VwLWV4aXN0czogVHJ5aW5nIHRvIHJlZ2lzdGVyIGEgZ3JvdXAgbmFtZSB0aGF0IHdhcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO3RoaXMuX2Rpc3BhdGNoZXJzR3JvdXBzLnNldCh0LGUpfWZvcih0KXtjb25zdCBlPXRoaXMuX2dldERpc3BhdGNoZXJzKHQpO3JldHVybnthZGQodCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdCllKG4pfShlLHQpLHRoaXN9fX1lbGVtZW50VG9FbGVtZW50KHQpe3RoaXMuZm9yKFwiZG93bmNhc3RcIikuYWRkKFZzKHQpKTtmb3IoY29uc3R7bW9kZWw6ZSx2aWV3Om59b2YgZmEodCkpdGhpcy5mb3IoXCJ1cGNhc3RcIikuYWRkKHJhKHttb2RlbDplLHZpZXc6bixjb252ZXJ0ZXJQcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fSkpfWF0dHJpYnV0ZVRvRWxlbWVudCh0KXt0aGlzLmZvcihcImRvd25jYXN0XCIpLmFkZChNcyh0KSk7Zm9yKGNvbnN0e21vZGVsOmUsdmlldzpufW9mIGZhKHQpKXRoaXMuZm9yKFwidXBjYXN0XCIpLmFkZChzYSh7dmlldzpuLG1vZGVsOmUscHJpb3JpdHk6dC5wcmlvcml0eX0pKX1hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh0KXt0aGlzLmZvcihcImRvd25jYXN0XCIpLmFkZChGcyh0KSk7Zm9yKGNvbnN0e21vZGVsOmUsdmlldzpufW9mIGZhKHQpKXRoaXMuZm9yKFwidXBjYXN0XCIpLmFkZChhYSh7dmlldzpuLG1vZGVsOmV9KSl9X2dldERpc3BhdGNoZXJzKHQpe2NvbnN0IGU9dGhpcy5fZGlzcGF0Y2hlcnNHcm91cHMuZ2V0KHQpO2lmKCFlKXRocm93IG5ldyBtLmIoXCJjb252ZXJzaW9uLWZvci11bmtub3duLWdyb3VwOiBUcnlpbmcgdG8gYWRkIGEgY29udmVydGVyIHRvIGFuIHVua25vd24gZGlzcGF0Y2hlcnMgZ3JvdXAuXCIpO3JldHVybiBlfX1mdW5jdGlvbipmYSh0KXtpZih0Lm1vZGVsLnZhbHVlcylmb3IoY29uc3QgZSBvZiB0Lm1vZGVsLnZhbHVlcyl7eWllbGQqcGEoe2tleTp0Lm1vZGVsLmtleSx2YWx1ZTplfSx0LnZpZXdbZV0sdC51cGNhc3RBbHNvP3QudXBjYXN0QWxzb1tlXTp2b2lkIDApfWVsc2UgeWllbGQqcGEodC5tb2RlbCx0LnZpZXcsdC51cGNhc3RBbHNvKX1mdW5jdGlvbipwYSh0LGUsbil7aWYoeWllbGR7bW9kZWw6dCx2aWV3OmV9LG4pe249QXJyYXkuaXNBcnJheShuKT9uOltuXTtmb3IoY29uc3QgZSBvZiBuKXlpZWxke21vZGVsOnQsdmlldzplfX19Y2xhc3MgbWF7Y29uc3RydWN0b3IodCl7dGhpcy5iYXNlVmVyc2lvbj10LHRoaXMuaXNEb2N1bWVudE9wZXJhdGlvbj1udWxsIT09dGhpcy5iYXNlVmVyc2lvbn1fdmFsaWRhdGUoKXt9dG9KU09OKCl7Y29uc3QgdD1Tbih0aGlzLCEwKTtyZXR1cm4gdC5fX2NsYXNzTmFtZT10aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSxkZWxldGUgdC5kZWx0YSxkZWxldGUgdC5pc0RvY3VtZW50T3BlcmF0aW9uLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5vcGVyYXRpb24uT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQpe3JldHVybiBuZXcgdGhpcyh0LmJhc2VWZXJzaW9uKX19Y2xhc3MgZ2F7Y29uc3RydWN0b3IodCl7dGhpcy5tYXJrZXJzPW5ldyBNYXAsdGhpcy5fY2hpbGRyZW49bmV3IGhzLHQmJnRoaXMuX2luc2VydENoaWxkKDAsdCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5nZXRDaGlsZHJlbigpfWdldCBjaGlsZENvdW50KCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH1nZXQgbWF4T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLm1heE9mZnNldH1nZXQgaXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5jaGlsZENvdW50fWdldCByb290KCl7cmV0dXJuIHRoaXN9Z2V0IHBhcmVudCgpe3JldHVybiBudWxsfWlzKHQpe3JldHVyblwiZG9jdW1lbnRGcmFnbWVudFwiPT10fWdldENoaWxkKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlKHQpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX1nZXRDaGlsZEluZGV4KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlSW5kZXgodCl9Z2V0Q2hpbGRTdGFydE9mZnNldCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZVN0YXJ0T2Zmc2V0KHQpfWdldFBhdGgoKXtyZXR1cm5bXX1nZXROb2RlQnlQYXRoKHQpe2xldCBlPXRoaXM7Zm9yKGNvbnN0IG4gb2YgdCllPWUuZ2V0Q2hpbGQoZS5vZmZzZXRUb0luZGV4KG4pKTtyZXR1cm4gZX1vZmZzZXRUb0luZGV4KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5vZmZzZXRUb0luZGV4KHQpfXRvSlNPTigpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY2hpbGRyZW4pdC5wdXNoKGUudG9KU09OKCkpO3JldHVybiB0fXN0YXRpYyBmcm9tSlNPTih0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIHQpbi5uYW1lP2UucHVzaChmcy5mcm9tSlNPTihuKSk6ZS5wdXNoKGRzLmZyb21KU09OKG4pKTtyZXR1cm4gbmV3IGdhKGUpfV9hcHBlbmRDaGlsZCh0KXt0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9X2luc2VydENoaWxkKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm5bbmV3IGRzKHQpXTtWbih0KXx8KHQ9W3RdKTtyZXR1cm4gQXJyYXkuZnJvbSh0KS5tYXAodD0+XCJzdHJpbmdcIj09dHlwZW9mIHQ/bmV3IGRzKHQpOnQgaW5zdGFuY2VvZiB1cz9uZXcgZHModC5kYXRhLHQuZ2V0QXR0cmlidXRlcygpKTp0KX0oZSk7Zm9yKGNvbnN0IHQgb2YgbiludWxsIT09dC5wYXJlbnQmJnQuX3JlbW92ZSgpLHQucGFyZW50PXRoaXM7dGhpcy5fY2hpbGRyZW4uX2luc2VydE5vZGVzKHQsbil9X3JlbW92ZUNoaWxkcmVuKHQsZT0xKXtjb25zdCBuPXRoaXMuX2NoaWxkcmVuLl9yZW1vdmVOb2Rlcyh0LGUpO2Zvcihjb25zdCB0IG9mIG4pdC5wYXJlbnQ9bnVsbDtyZXR1cm4gbn19ZnVuY3Rpb24gYmEodCxlKXtjb25zdCBuPShlPXZhKGUpKS5yZWR1Y2UoKHQsZSk9PnQrZS5vZmZzZXRTaXplLDApLGk9dC5wYXJlbnQ7a2EodCk7Y29uc3Qgbz10LmluZGV4O3JldHVybiBpLl9pbnNlcnRDaGlsZChvLGUpLF9hKGksbytlLmxlbmd0aCksX2EoaSxvKSxuZXcgd3ModCx0LmdldFNoaWZ0ZWRCeShuKSl9ZnVuY3Rpb24gd2EodCl7aWYoIXQuaXNGbGF0KXRocm93IG5ldyBtLmIoXCJvcGVyYXRpb24tdXRpbHMtcmVtb3ZlLXJhbmdlLW5vdC1mbGF0OiBUcnlpbmcgdG8gcmVtb3ZlIGEgcmFuZ2Ugd2hpY2ggc3RhcnRzIGFuZCBlbmRzIGluIGRpZmZlcmVudCBlbGVtZW50LlwiKTtjb25zdCBlPXQuc3RhcnQucGFyZW50O2thKHQuc3RhcnQpLGthKHQuZW5kKTtjb25zdCBuPWUuX3JlbW92ZUNoaWxkcmVuKHQuc3RhcnQuaW5kZXgsdC5lbmQuaW5kZXgtdC5zdGFydC5pbmRleCk7cmV0dXJuIF9hKGUsdC5zdGFydC5pbmRleCksbn1mdW5jdGlvbiB2YSh0KXtjb25zdCBlPVtdO3QgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3RdKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZihcInN0cmluZ1wiPT10eXBlb2YgdFtuXSllLnB1c2gobmV3IGRzKHRbbl0pKTtlbHNlIGlmKHRbbl1pbnN0YW5jZW9mIHVzKWUucHVzaChuZXcgZHModFtuXS5kYXRhLHRbbl0uZ2V0QXR0cmlidXRlcygpKSk7ZWxzZSBpZih0W25daW5zdGFuY2VvZiBnYXx8dFtuXWluc3RhbmNlb2YgaHMpZm9yKGNvbnN0IGkgb2YgdFtuXSllLnB1c2goaSk7ZWxzZSB0W25daW5zdGFuY2VvZiBscyYmZS5wdXNoKHRbbl0pO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF0saT1lW3QtMV07biBpbnN0YW5jZW9mIGRzJiZpIGluc3RhbmNlb2YgZHMmJnlhKG4saSkmJihlLnNwbGljZSh0LTEsMixuZXcgZHMoaS5kYXRhK24uZGF0YSxpLmdldEF0dHJpYnV0ZXMoKSkpLHQtLSl9cmV0dXJuIGV9ZnVuY3Rpb24gX2EodCxlKXtjb25zdCBuPXQuZ2V0Q2hpbGQoZS0xKSxpPXQuZ2V0Q2hpbGQoZSk7aWYobiYmaSYmbi5pcyhcInRleHRcIikmJmkuaXMoXCJ0ZXh0XCIpJiZ5YShuLGkpKXtjb25zdCBvPW5ldyBkcyhuLmRhdGEraS5kYXRhLG4uZ2V0QXR0cmlidXRlcygpKTt0Ll9yZW1vdmVDaGlsZHJlbihlLTEsMiksdC5faW5zZXJ0Q2hpbGQoZS0xLG8pfX1mdW5jdGlvbiBrYSh0KXtjb25zdCBlPXQudGV4dE5vZGUsbj10LnBhcmVudDtpZihlKXtjb25zdCBpPXQub2Zmc2V0LWUuc3RhcnRPZmZzZXQsbz1lLmluZGV4O24uX3JlbW92ZUNoaWxkcmVuKG8sMSk7Y29uc3Qgcj1uZXcgZHMoZS5kYXRhLnN1YnN0cigwLGkpLGUuZ2V0QXR0cmlidXRlcygpKSxzPW5ldyBkcyhlLmRhdGEuc3Vic3RyKGkpLGUuZ2V0QXR0cmlidXRlcygpKTtuLl9pbnNlcnRDaGlsZChvLFtyLHNdKX19ZnVuY3Rpb24geWEodCxlKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlcygpLGk9ZS5nZXRBdHRyaWJ1dGVzKCk7Zm9yKGNvbnN0IHQgb2Ygbil7aWYodFsxXSE9PWUuZ2V0QXR0cmlidXRlKHRbMF0pKXJldHVybiExO2kubmV4dCgpfXJldHVybiBpLm5leHQoKS5kb25lfXZhciB4YT1mdW5jdGlvbih0LGUpe3JldHVybiBQcih0LGUpfTtjbGFzcyBBYSBleHRlbmRzIG1he2NvbnN0cnVjdG9yKHQsZSxuLGksbyl7c3VwZXIobyksdGhpcy5yYW5nZT13cy5jcmVhdGVGcm9tUmFuZ2UodCksdGhpcy5rZXk9ZSx0aGlzLm9sZFZhbHVlPXZvaWQgMD09PW4/bnVsbDpuLHRoaXMubmV3VmFsdWU9dm9pZCAwPT09aT9udWxsOml9Z2V0IHR5cGUoKXtyZXR1cm4gbnVsbD09PXRoaXMub2xkVmFsdWU/XCJhZGRBdHRyaWJ1dGVcIjpudWxsPT09dGhpcy5uZXdWYWx1ZT9cInJlbW92ZUF0dHJpYnV0ZVwiOlwiY2hhbmdlQXR0cmlidXRlXCJ9Y2xvbmUoKXtyZXR1cm4gbmV3IEFhKHRoaXMucmFuZ2UsdGhpcy5rZXksdGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBBYSh0aGlzLnJhbmdlLHRoaXMua2V5LHRoaXMubmV3VmFsdWUsdGhpcy5vbGRWYWx1ZSx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2Zvcihjb25zdCB0IG9mIHRoaXMucmFuZ2UuZ2V0SXRlbXMoKSl7aWYobnVsbCE9PXRoaXMub2xkVmFsdWUmJiF4YSh0LmdldEF0dHJpYnV0ZSh0aGlzLmtleSksdGhpcy5vbGRWYWx1ZSkpdGhyb3cgbmV3IG0uYihcImF0dHJpYnV0ZS1vcGVyYXRpb24td3Jvbmctb2xkLXZhbHVlOiBDaGFuZ2VkIG5vZGUgaGFzIGRpZmZlcmVudCBhdHRyaWJ1dGUgdmFsdWUgdGhhbiBvcGVyYXRpb24ncyBvbGQgYXR0cmlidXRlIHZhbHVlLlwiLHtpdGVtOnQsa2V5OnRoaXMua2V5LHZhbHVlOnRoaXMub2xkVmFsdWV9KTtpZihudWxsPT09dGhpcy5vbGRWYWx1ZSYmbnVsbCE9PXRoaXMubmV3VmFsdWUmJnQuaGFzQXR0cmlidXRlKHRoaXMua2V5KSl0aHJvdyBuZXcgbS5iKFwiYXR0cmlidXRlLW9wZXJhdGlvbi1hdHRyaWJ1dGUtZXhpc3RzOiBUaGUgYXR0cmlidXRlIHdpdGggZ2l2ZW4ga2V5IGFscmVhZHkgZXhpc3RzLlwiLHtub2RlOnQsa2V5OnRoaXMua2V5fSl9fV9leGVjdXRlKCl7eGEodGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlKXx8ZnVuY3Rpb24odCxlLG4pe2thKHQuc3RhcnQpLGthKHQuZW5kKTtmb3IoY29uc3QgaSBvZiB0LmdldEl0ZW1zKCkpe2NvbnN0IHQ9aS5pcyhcInRleHRQcm94eVwiKT9pLnRleHROb2RlOmk7bnVsbCE9PW4/dC5fc2V0QXR0cmlidXRlKGUsbik6dC5fcmVtb3ZlQXR0cmlidXRlKGUpLF9hKHQucGFyZW50LHQuaW5kZXgpfV9hKHQuZW5kLnBhcmVudCx0LmVuZC5pbmRleCl9KHRoaXMucmFuZ2UsdGhpcy5rZXksdGhpcy5uZXdWYWx1ZSl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5vcGVyYXRpb24uQXR0cmlidXRlT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7cmV0dXJuIG5ldyBBYSh3cy5mcm9tSlNPTih0LnJhbmdlLGUpLHQua2V5LHQub2xkVmFsdWUsdC5uZXdWYWx1ZSx0LmJhc2VWZXJzaW9uKX19Y2xhc3MgQ2EgZXh0ZW5kcyBtYXtjb25zdHJ1Y3Rvcih0LGUsbixpKXtzdXBlcihpKSx0aGlzLnNvdXJjZVBvc2l0aW9uPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0KSx0aGlzLmhvd01hbnk9ZSx0aGlzLnRhcmdldFBvc2l0aW9uPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbihuKSx0aGlzLmlzU3RpY2t5PSExfWdldCB0eXBlKCl7cmV0dXJuXCJtb3ZlXCJ9Y2xvbmUoKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55LHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5iYXNlVmVyc2lvbik7cmV0dXJuIHQuaXNTdGlja3k9dGhpcy5pc1N0aWNreSx0fWdldE1vdmVkUmFuZ2VTdGFydCgpe3JldHVybiB0aGlzLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnkpfWdldFJldmVyc2VkKCl7Y29uc3QgdD10aGlzLnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5ob3dNYW55KSxlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksdGhpcy5ob3dNYW55LHQsdGhpcy5iYXNlVmVyc2lvbisxKTtyZXR1cm4gZS5pc1N0aWNreT10aGlzLmlzU3RpY2t5LGV9X3ZhbGlkYXRlKCl7Y29uc3QgdD10aGlzLnNvdXJjZVBvc2l0aW9uLnBhcmVudCxlPXRoaXMudGFyZ2V0UG9zaXRpb24ucGFyZW50LG49dGhpcy5zb3VyY2VQb3NpdGlvbi5vZmZzZXQsaT10aGlzLnRhcmdldFBvc2l0aW9uLm9mZnNldDtpZighdHx8IWUpdGhyb3cgbmV3IG0uYihcIm1vdmUtb3BlcmF0aW9uLXBvc2l0aW9uLWludmFsaWQ6IFNvdXJjZSBwb3NpdGlvbiBvciB0YXJnZXQgcG9zaXRpb24gaXMgaW52YWxpZC5cIik7aWYobit0aGlzLmhvd01hbnk+dC5tYXhPZmZzZXQpdGhyb3cgbmV3IG0uYihcIm1vdmUtb3BlcmF0aW9uLW5vZGVzLWRvLW5vdC1leGlzdDogVGhlIG5vZGVzIHdoaWNoIHNob3VsZCBiZSBtb3ZlZCBkbyBub3QgZXhpc3QuXCIpO2lmKHQ9PT1lJiZuPGkmJmk8bit0aGlzLmhvd01hbnkpdGhyb3cgbmV3IG0uYihcIm1vdmUtb3BlcmF0aW9uLXJhbmdlLWludG8taXRzZWxmOiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIG9mIG5vZGVzIHRvIHRoZSBpbnNpZGUgb2YgdGhhdCByYW5nZS5cIik7aWYodGhpcy5zb3VyY2VQb3NpdGlvbi5yb290PT10aGlzLnRhcmdldFBvc2l0aW9uLnJvb3QmJlwicHJlZml4XCI9PUVuKHRoaXMuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHRoaXMudGFyZ2V0UG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSl7Y29uc3QgdD10aGlzLnNvdXJjZVBvc2l0aW9uLnBhdGgubGVuZ3RoLTE7aWYodGhpcy50YXJnZXRQb3NpdGlvbi5wYXRoW3RdPj1uJiZ0aGlzLnRhcmdldFBvc2l0aW9uLnBhdGhbdF08bit0aGlzLmhvd01hbnkpdGhyb3cgbmV3IG0uYihcIm1vdmUtb3BlcmF0aW9uLW5vZGUtaW50by1pdHNlbGY6IFRyeWluZyB0byBtb3ZlIGEgcmFuZ2Ugb2Ygbm9kZXMgaW50byBvbmUgb2Ygbm9kZXMgZnJvbSB0aGF0IHJhbmdlLlwiKX19X2V4ZWN1dGUoKXshZnVuY3Rpb24odCxlKXtpZighdC5pc0ZsYXQpdGhyb3cgbmV3IG0uYihcIm9wZXJhdGlvbi11dGlscy1tb3ZlLXJhbmdlLW5vdC1mbGF0OiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIHdoaWNoIHN0YXJ0cyBhbmQgZW5kcyBpbiBkaWZmZXJlbnQgZWxlbWVudC5cIik7Y29uc3Qgbj13YSh0KTtiYShlPWUuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LnN0YXJ0LHQuZW5kLm9mZnNldC10LnN0YXJ0Lm9mZnNldCksbil9KHdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55KSx0aGlzLnRhcmdldFBvc2l0aW9uKX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5Nb3ZlT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7Y29uc3Qgbj1icy5mcm9tSlNPTih0LnNvdXJjZVBvc2l0aW9uLGUpLGk9YnMuZnJvbUpTT04odC50YXJnZXRQb3NpdGlvbixlKSxvPW5ldyB0aGlzKG4sdC5ob3dNYW55LGksdC5iYXNlVmVyc2lvbik7cmV0dXJuIHQuaXNTdGlja3kmJihvLmlzU3RpY2t5PSEwKSxvfX1jbGFzcyBUYSBleHRlbmRzIENhe2dldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLnRhcmdldFBvc2l0aW9ufXNldCBwb3NpdGlvbih0KXt0aGlzLnRhcmdldFBvc2l0aW9uPXR9Z2V0IHR5cGUoKXtyZXR1cm5cInJlaW5zZXJ0XCJ9Z2V0UmV2ZXJzZWQoKXtjb25zdCB0PXRoaXMuc291cmNlUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odGhpcy50YXJnZXRQb3NpdGlvbix0aGlzLmhvd01hbnkpO3JldHVybiBuZXcgU2EodGhpcy5nZXRNb3ZlZFJhbmdlU3RhcnQoKSx0aGlzLmhvd01hbnksdCx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2lmKHN1cGVyLl92YWxpZGF0ZSgpLCF0aGlzLnNvdXJjZVBvc2l0aW9uLnJvb3QuZG9jdW1lbnQpdGhyb3cgbmV3IG0uYihcInJlaW5zZXJ0LW9wZXJhdGlvbi1vbi1kZXRhY2hlZC1pdGVtOiBDYW5ub3QgcmVpbnNlcnQgZGV0YWNoZWQgaXRlbS5cIik7aWYoIXRoaXMudGFyZ2V0UG9zaXRpb24ucm9vdC5kb2N1bWVudCl0aHJvdyBuZXcgbS5iKFwicmVpbnNlcnQtb3BlcmF0aW9uLXRvLWRldGFjaGVkLXBhcmVudDogQ2Fubm90IHJlaW5zZXJ0IGl0ZW0gdG8gZGV0YWNoZWQgcGFyZW50LlwiKX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5SZWluc2VydE9wZXJhdGlvblwifX1jbGFzcyBTYSBleHRlbmRzIENhe2dldCB0eXBlKCl7cmV0dXJuXCJyZW1vdmVcIn1nZXRSZXZlcnNlZCgpe2NvbnN0IHQ9dGhpcy5zb3VyY2VQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0aGlzLnRhcmdldFBvc2l0aW9uLHRoaXMuaG93TWFueSk7cmV0dXJuIG5ldyBUYSh0aGlzLmdldE1vdmVkUmFuZ2VTdGFydCgpLHRoaXMuaG93TWFueSx0LHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7aWYoc3VwZXIuX3ZhbGlkYXRlKCksIXRoaXMuc291cmNlUG9zaXRpb24ucm9vdC5kb2N1bWVudCl0aHJvdyBuZXcgbS5iKFwicmVtb3ZlLW9wZXJhdGlvbi1vbi1kZXRhY2hlZC1pdGVtOiBDYW5ub3QgcmVtb3ZlIGRldGFjaGVkIGl0ZW0uXCIpfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJlbmdpbmUubW9kZWwub3BlcmF0aW9uLlJlbW92ZU9wZXJhdGlvblwifX1jbGFzcyBFYSBleHRlbmRzIG1he2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcihuKSx0aGlzLnBvc2l0aW9uPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbih0KSx0aGlzLm5vZGVzPW5ldyBocyh2YShlKSl9Z2V0IHR5cGUoKXtyZXR1cm5cImluc2VydFwifWNsb25lKCl7Y29uc3QgdD1uZXcgaHMoWy4uLnRoaXMubm9kZXNdLm1hcCh0PT50Ll9jbG9uZSghMCkpKTtyZXR1cm4gbmV3IEVhKHRoaXMucG9zaXRpb24sdCx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbi5yb290LmRvY3VtZW50LmdyYXZleWFyZCxlPW5ldyBicyh0LFswXSk7cmV0dXJuIG5ldyBTYSh0aGlzLnBvc2l0aW9uLHRoaXMubm9kZXMubWF4T2Zmc2V0LGUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtjb25zdCB0PXRoaXMucG9zaXRpb24ucGFyZW50O2lmKCF0fHx0Lm1heE9mZnNldDx0aGlzLnBvc2l0aW9uLm9mZnNldCl0aHJvdyBuZXcgbS5iKFwiaW5zZXJ0LW9wZXJhdGlvbi1wb3NpdGlvbi1pbnZhbGlkOiBJbnNlcnRpb24gcG9zaXRpb24gaXMgaW52YWxpZC5cIil9X2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMubm9kZXM7dGhpcy5ub2Rlcz1uZXcgaHMoWy4uLnRdLm1hcCh0PT50Ll9jbG9uZSghMCkpKSxiYSh0aGlzLnBvc2l0aW9uLHQpfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJlbmdpbmUubW9kZWwub3BlcmF0aW9uLkluc2VydE9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IGUgb2YgdC5ub2RlcyllLm5hbWU/bi5wdXNoKGZzLmZyb21KU09OKGUpKTpuLnB1c2goZHMuZnJvbUpTT04oZSkpO3JldHVybiBuZXcgRWEoYnMuZnJvbUpTT04odC5wb3NpdGlvbixlKSxuLHQuYmFzZVZlcnNpb24pfX1jbGFzcyBQYSBleHRlbmRzIG1he2NvbnN0cnVjdG9yKHQsZSxuLGksbyxyKXtzdXBlcihvKSx0aGlzLm5hbWU9dCx0aGlzLm9sZFJhbmdlPWU/d3MuY3JlYXRlRnJvbVJhbmdlKGUpOm51bGwsdGhpcy5uZXdSYW5nZT1uP3dzLmNyZWF0ZUZyb21SYW5nZShuKTpudWxsLHRoaXMuYWZmZWN0c0RhdGE9cix0aGlzLl9tYXJrZXJzPWl9Z2V0IHR5cGUoKXtyZXR1cm5cIm1hcmtlclwifWNsb25lKCl7cmV0dXJuIG5ldyBQYSh0aGlzLm5hbWUsdGhpcy5vbGRSYW5nZSx0aGlzLm5ld1JhbmdlLHRoaXMuX21hcmtlcnMsdGhpcy5iYXNlVmVyc2lvbix0aGlzLmFmZmVjdHNEYXRhKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgUGEodGhpcy5uYW1lLHRoaXMubmV3UmFuZ2UsdGhpcy5vbGRSYW5nZSx0aGlzLl9tYXJrZXJzLHRoaXMuYmFzZVZlcnNpb24rMSx0aGlzLmFmZmVjdHNEYXRhKX1fZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5uZXdSYW5nZT9cIl9zZXRcIjpcIl9yZW1vdmVcIjt0aGlzLl9tYXJrZXJzW3RdKHRoaXMubmFtZSx0aGlzLm5ld1JhbmdlLCEwLHRoaXMuYWZmZWN0c0RhdGEpfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIGRlbGV0ZSB0Ll9tYXJrZXJzLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5vcGVyYXRpb24uTWFya2VyT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7cmV0dXJuIG5ldyBQYSh0Lm5hbWUsdC5vbGRSYW5nZT93cy5mcm9tSlNPTih0Lm9sZFJhbmdlLGUpOm51bGwsdC5uZXdSYW5nZT93cy5mcm9tSlNPTih0Lm5ld1JhbmdlLGUpOm51bGwsZS5tb2RlbC5tYXJrZXJzLHQuYmFzZVZlcnNpb24sdC5hZmZlY3RzRGF0YSl9fWNsYXNzIE9hIGV4dGVuZHMgbWF7Z2V0IHR5cGUoKXtyZXR1cm5cIm5vb3BcIn1jbG9uZSgpe3JldHVybiBuZXcgT2EodGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4gbmV3IE9hKHRoaXMuYmFzZVZlcnNpb24rMSl9X2V4ZWN1dGUoKXt9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5vcGVyYXRpb24uTm9PcGVyYXRpb25cIn19Y2xhc3MgUmEgZXh0ZW5kcyBtYXtjb25zdHJ1Y3Rvcih0LGUsbixpKXtzdXBlcihpKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5vbGROYW1lPWUsdGhpcy5uZXdOYW1lPW59Z2V0IHR5cGUoKXtyZXR1cm5cInJlbmFtZVwifWNsb25lKCl7cmV0dXJuIG5ldyBSYShicy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbiksdGhpcy5vbGROYW1lLHRoaXMubmV3TmFtZSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgUmEoYnMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLHRoaXMubmV3TmFtZSx0aGlzLm9sZE5hbWUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtjb25zdCB0PXRoaXMucG9zaXRpb24ubm9kZUFmdGVyO2lmKCEodCBpbnN0YW5jZW9mIGZzKSl0aHJvdyBuZXcgbS5iKFwicmVuYW1lLW9wZXJhdGlvbi13cm9uZy1wb3NpdGlvbjogR2l2ZW4gcG9zaXRpb24gaXMgaW52YWxpZCBvciBub2RlIGFmdGVyIGl0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBFbGVtZW50LlwiKTtpZih0Lm5hbWUhPT10aGlzLm9sZE5hbWUpdGhyb3cgbmV3IG0uYihcInJlbmFtZS1vcGVyYXRpb24td3JvbmctbmFtZTogRWxlbWVudCB0byBjaGFuZ2UgaGFzIGRpZmZlcmVudCBuYW1lIHRoYW4gb3BlcmF0aW9uJ3Mgb2xkIG5hbWUuXCIpfV9leGVjdXRlKCl7dGhpcy5wb3NpdGlvbi5ub2RlQWZ0ZXIubmFtZT10aGlzLm5ld05hbWV9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5vcGVyYXRpb24uUmVuYW1lT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7cmV0dXJuIG5ldyBSYShicy5mcm9tSlNPTih0LnBvc2l0aW9uLGUpLHQub2xkTmFtZSx0Lm5ld05hbWUsdC5iYXNlVmVyc2lvbil9fWNsYXNzIElhIGV4dGVuZHMgbWF7Y29uc3RydWN0b3IodCxlLG4saSxvKXtzdXBlcihvKSx0aGlzLnJvb3Q9dCx0aGlzLmtleT1lLHRoaXMub2xkVmFsdWU9bix0aGlzLm5ld1ZhbHVlPWl9Z2V0IHR5cGUoKXtyZXR1cm4gbnVsbD09PXRoaXMub2xkVmFsdWU/XCJhZGRSb290QXR0cmlidXRlXCI6bnVsbD09PXRoaXMubmV3VmFsdWU/XCJyZW1vdmVSb290QXR0cmlidXRlXCI6XCJjaGFuZ2VSb290QXR0cmlidXRlXCJ9Y2xvbmUoKXtyZXR1cm4gbmV3IElhKHRoaXMucm9vdCx0aGlzLmtleSx0aGlzLm9sZFZhbHVlLHRoaXMubmV3VmFsdWUsdGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4gbmV3IElhKHRoaXMucm9vdCx0aGlzLmtleSx0aGlzLm5ld1ZhbHVlLHRoaXMub2xkVmFsdWUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtpZih0aGlzLnJvb3QhPXRoaXMucm9vdC5yb290fHx0aGlzLnJvb3QuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpKXRocm93IG5ldyBtLmIoXCJyb290YXR0cmlidXRlLW9wZXJhdGlvbi1ub3QtYS1yb290OiBUaGUgZWxlbWVudCB0byBjaGFuZ2UgaXMgbm90IGEgcm9vdCBlbGVtZW50LlwiLHtyb290OnRoaXMucm9vdCxrZXk6dGhpcy5rZXl9KTtpZihudWxsIT09dGhpcy5vbGRWYWx1ZSYmdGhpcy5yb290LmdldEF0dHJpYnV0ZSh0aGlzLmtleSkhPT10aGlzLm9sZFZhbHVlKXRocm93IG5ldyBtLmIoXCJyb290YXR0cmlidXRlLW9wZXJhdGlvbi13cm9uZy1vbGQtdmFsdWU6IENoYW5nZWQgbm9kZSBoYXMgZGlmZmVyZW50IGF0dHJpYnV0ZSB2YWx1ZSB0aGFuIG9wZXJhdGlvbidzIG9sZCBhdHRyaWJ1dGUgdmFsdWUuXCIse3Jvb3Q6dGhpcy5yb290LGtleTp0aGlzLmtleX0pO2lmKG51bGw9PT10aGlzLm9sZFZhbHVlJiZudWxsIT09dGhpcy5uZXdWYWx1ZSYmdGhpcy5yb290Lmhhc0F0dHJpYnV0ZSh0aGlzLmtleSkpdGhyb3cgbmV3IG0uYihcInJvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLWF0dHJpYnV0ZS1leGlzdHM6IFRoZSBhdHRyaWJ1dGUgd2l0aCBnaXZlbiBrZXkgYWxyZWFkeSBleGlzdHMuXCIse3Jvb3Q6dGhpcy5yb290LGtleTp0aGlzLmtleX0pfV9leGVjdXRlKCl7bnVsbCE9PXRoaXMubmV3VmFsdWU/dGhpcy5yb290Ll9zZXRBdHRyaWJ1dGUodGhpcy5rZXksdGhpcy5uZXdWYWx1ZSk6dGhpcy5yb290Ll9yZW1vdmVBdHRyaWJ1dGUodGhpcy5rZXkpfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJlbmdpbmUubW9kZWwub3BlcmF0aW9uLlJvb3RBdHRyaWJ1dGVPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCxlKXtpZighZS5nZXRSb290KHQucm9vdCkpdGhyb3cgbmV3IG0uYihcInJvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLWZyb21qc29uLW5vLXJvb3Q6IENhbm5vdCBjcmVhdGUgUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbi4gUm9vdCB3aXRoIHNwZWNpZmllZCBuYW1lIGRvZXMgbm90IGV4aXN0LlwiLHtyb290TmFtZTp0fSk7cmV0dXJuIG5ldyBJYShlLmdldFJvb3QodC5yb290KSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbil9fWNvbnN0IFZhPXt9O1ZhW0FhLmNsYXNzTmFtZV09QWEsVmFbRWEuY2xhc3NOYW1lXT1FYSxWYVtQYS5jbGFzc05hbWVdPVBhLFZhW0NhLmNsYXNzTmFtZV09Q2EsVmFbT2EuY2xhc3NOYW1lXT1PYSxWYVttYS5jbGFzc05hbWVdPW1hLFZhW1RhLmNsYXNzTmFtZV09VGEsVmFbU2EuY2xhc3NOYW1lXT1TYSxWYVtSYS5jbGFzc05hbWVdPVJhLFZhW0lhLmNsYXNzTmFtZV09SWE7Y2xhc3MgTWF7c3RhdGljIGZyb21KU09OKHQsZSl7cmV0dXJuIFZhW3QuX19jbGFzc05hbWVdLmZyb21KU09OKHQsZSl9fWNvbnN0IEZhPW5ldyBNYXA7Y2xhc3MgTmF7c3RhdGljIGZyb21KU09OKHQsZSl7aWYoIUZhLmhhcyh0Ll9fY2xhc3NOYW1lKSl0aHJvdyBuZXcgbS5iKFwiZGVsdGEtZnJvbWpzb24tbm8tZGVzZXJpYWxpemVyOiBUaGlzIGRlbHRhIGhhcyBubyBkZWZpbmVkIGRlc2VyaWFsaXplclwiLHtuYW1lOnQuX19jbGFzc05hbWV9KTtjb25zdCBuPW5ldyhGYS5nZXQodC5fX2NsYXNzTmFtZSkpO2Zvcihjb25zdCBpIG9mIHQub3BlcmF0aW9ucyluLmFkZE9wZXJhdGlvbihNYS5mcm9tSlNPTihpLGUpKTtmb3IoY29uc3QgZSBpbiB0KVwiX19jbGFzc05hbWVcIiE9ZSYmdm9pZCAwPT09bltlXSYmKG5bZV09dFtlXSk7cmV0dXJuIG59c3RhdGljIHJlZ2lzdGVyKHQpe0ZhLnNldCh0LmNsYXNzTmFtZSx0KX19Y2xhc3MgRGF7Y29uc3RydWN0b3IoKXt0aGlzLmJhdGNoPW51bGwsdGhpcy5vcGVyYXRpb25zPVtdfWdldCBiYXNlVmVyc2lvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnMubGVuZ3RoPjA/dGhpcy5vcGVyYXRpb25zWzBdLmJhc2VWZXJzaW9uOm51bGx9c2V0IGJhc2VWZXJzaW9uKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMub3BlcmF0aW9ucyllLmJhc2VWZXJzaW9uPXQrK31nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIERhfWFkZE9wZXJhdGlvbih0KXtyZXR1cm4gdC5kZWx0YT10aGlzLHRoaXMub3BlcmF0aW9ucy5wdXNoKHQpLHR9Y2xvbmUoKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yO2Zvcihjb25zdCBlIG9mIHRoaXMub3BlcmF0aW9ucyl0LmFkZE9wZXJhdGlvbihlLmNsb25lKCkpO3JldHVybiB0fWdldFJldmVyc2VkKCl7Y29uc3QgdD1uZXcgdGhpcy5fcmV2ZXJzZURlbHRhQ2xhc3M7Zm9yKGNvbnN0IGUgb2YgdGhpcy5vcGVyYXRpb25zKXQuYWRkT3BlcmF0aW9uKGUuZ2V0UmV2ZXJzZWQoKSk7dC5vcGVyYXRpb25zLnJldmVyc2UoKTtmb3IobGV0IGU9MDtlPHQub3BlcmF0aW9ucy5sZW5ndGg7ZSsrKXQub3BlcmF0aW9uc1tlXS5iYXNlVmVyc2lvbj10aGlzLm9wZXJhdGlvbnNbdGhpcy5vcGVyYXRpb25zLmxlbmd0aC0xXS5iYXNlVmVyc2lvbitlKzE7cmV0dXJuIHR9dG9KU09OKCl7Y29uc3QgdD1Tbih0aGlzKTtyZXR1cm4gdC5fX2NsYXNzTmFtZT10aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSxkZWxldGUgdC5iYXRjaCx0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJlbmdpbmUubW9kZWwuZGVsdGEuRGVsdGFcIn19TmEucmVnaXN0ZXIoRGEpO2NsYXNzIEJhIGV4dGVuZHMgRGF7Z2V0IHR5cGUoKXtyZXR1cm5cImF0dHJpYnV0ZVwifWdldCBrZXkoKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzBdP3RoaXMub3BlcmF0aW9uc1swXS5rZXk6bnVsbH1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzBdP3RoaXMub3BlcmF0aW9uc1swXS5uZXdWYWx1ZTpudWxsfWdldCByYW5nZSgpe2lmKHRoaXMuX3JhbmdlKXJldHVybiB0aGlzLl9yYW5nZTtsZXQgdD1udWxsLGU9bnVsbDtmb3IoY29uc3QgbiBvZiB0aGlzLm9wZXJhdGlvbnMpbiBpbnN0YW5jZW9mIE9hfHwoKG51bGw9PT10fHx0LmlzQWZ0ZXIobi5yYW5nZS5zdGFydCkpJiYodD1uLnJhbmdlLnN0YXJ0KSwobnVsbD09PWV8fGUuaXNCZWZvcmUobi5yYW5nZS5lbmQpKSYmKGU9bi5yYW5nZS5lbmQpKTtyZXR1cm4gdCYmZT8odGhpcy5fcmFuZ2U9bmV3IHdzKHQsZSksdGhpcy5fcmFuZ2UpOm51bGx9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiBCYX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiBkZWxldGUgdC5fcmFuZ2UsdH1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLmRlbHRhLkF0dHJpYnV0ZURlbHRhXCJ9fU5hLnJlZ2lzdGVyKEJhKTtjbGFzcyBMYSBleHRlbmRzIERhe2dldCB0eXBlKCl7cmV0dXJuXCJzcGxpdFwifWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9tb3ZlT3BlcmF0aW9uP3RoaXMuX21vdmVPcGVyYXRpb24uc291cmNlUG9zaXRpb246bnVsbH1nZXQgX2Nsb25lT3BlcmF0aW9uKCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1swXXx8bnVsbH1nZXQgX21vdmVPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzFdJiZ0aGlzLm9wZXJhdGlvbnNbMV1pbnN0YW5jZW9mIENhP3RoaXMub3BlcmF0aW9uc1sxXTpudWxsfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gamF9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5kZWx0YS5TcGxpdERlbHRhXCJ9fU5hLnJlZ2lzdGVyKExhKTtjbGFzcyBqYSBleHRlbmRzIERhe2dldCB0eXBlKCl7cmV0dXJuXCJtZXJnZVwifWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9yZW1vdmVPcGVyYXRpb24/dGhpcy5fcmVtb3ZlT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uOm51bGx9Z2V0IF9yZW1vdmVPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzFdfHxudWxsfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gTGF9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5kZWx0YS5NZXJnZURlbHRhXCJ9fU5hLnJlZ2lzdGVyKGphKTtjbGFzcyB6YSBleHRlbmRzIERhe2dldCB0eXBlKCl7cmV0dXJuXCJtb3ZlXCJ9Z2V0IGhvd01hbnkoKXtyZXR1cm4gdGhpcy5fbW92ZU9wZXJhdGlvbj90aGlzLl9tb3ZlT3BlcmF0aW9uLmhvd01hbnk6bnVsbH1nZXQgc291cmNlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fbW92ZU9wZXJhdGlvbj90aGlzLl9tb3ZlT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uOm51bGx9Z2V0IHRhcmdldFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVPcGVyYXRpb24/dGhpcy5fbW92ZU9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbjpudWxsfWdldCBfbW92ZU9wZXJhdGlvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMF18fG51bGx9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiB6YX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLmRlbHRhLk1vdmVEZWx0YVwifX1OYS5yZWdpc3Rlcih6YSk7Y2xhc3MgcWEgZXh0ZW5kcyB6YXtzdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLmRlbHRhLlJlbW92ZURlbHRhXCJ9fU5hLnJlZ2lzdGVyKHFhKTtjbGFzcyBVYSBleHRlbmRzIERhe2dldCB0eXBlKCl7cmV0dXJuXCJyZW5hbWVcIn1nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIFVhfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJlbmdpbmUubW9kZWwuZGVsdGEuUmVuYW1lRGVsdGFcIn19TmEucmVnaXN0ZXIoVWEpO2NsYXNzIEhhIGV4dGVuZHMgRGF7Z2V0IHR5cGUoKXtyZXR1cm5cIndyYXBcIn1nZXQgcmFuZ2UoKXtjb25zdCB0PXRoaXMuX21vdmVPcGVyYXRpb247cmV0dXJuIHQ/d3MuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpOm51bGx9Z2V0IGhvd01hbnkoKXtjb25zdCB0PXRoaXMucmFuZ2U7cmV0dXJuIHQ/dC5lbmQub2Zmc2V0LXQuc3RhcnQub2Zmc2V0OjB9Z2V0IF9pbnNlcnRPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzBdfHxudWxsfWdldCBfbW92ZU9wZXJhdGlvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMV18fG51bGx9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiBXYX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLmRlbHRhLldyYXBEZWx0YVwifX1OYS5yZWdpc3RlcihIYSk7Y2xhc3MgV2EgZXh0ZW5kcyBEYXtnZXQgdHlwZSgpe3JldHVyblwidW53cmFwXCJ9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVPcGVyYXRpb24/dGhpcy5fbW92ZU9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbjpudWxsfWdldCBfbW92ZU9wZXJhdGlvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMF18fG51bGx9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiBIYX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLmRlbHRhLlVud3JhcERlbHRhXCJ9fU5hLnJlZ2lzdGVyKFdhKTtjbGFzcyAkYSBleHRlbmRzIERhe2dldCB0eXBlKCl7cmV0dXJuXCJpbnNlcnRcIn1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5faW5zZXJ0T3BlcmF0aW9uP3RoaXMuX2luc2VydE9wZXJhdGlvbi5wb3NpdGlvbjpudWxsfWdldCBub2Rlcygpe3JldHVybiB0aGlzLl9pbnNlcnRPcGVyYXRpb24/dGhpcy5faW5zZXJ0T3BlcmF0aW9uLm5vZGVzOm51bGx9Z2V0IF9pbnNlcnRPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzBdfHxudWxsfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gcWF9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5kZWx0YS5JbnNlcnREZWx0YVwifX1OYS5yZWdpc3RlcigkYSk7Y2xhc3MgS2EgZXh0ZW5kcyAkYXtzdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLmRlbHRhLldlYWtJbnNlcnREZWx0YVwifX1OYS5yZWdpc3RlcihLYSk7dmFyIEdhPWZ1bmN0aW9uKHQsZSxuPXtpc1N0cm9uZzohMX0pe2xldCBpLG87dCBpbnN0YW5jZW9mIEVhP2k9SmEuSW5zZXJ0T3BlcmF0aW9uOnQgaW5zdGFuY2VvZiBBYT9pPUphLkF0dHJpYnV0ZU9wZXJhdGlvbjp0IGluc3RhbmNlb2YgSWE/aT1KYS5Sb290QXR0cmlidXRlT3BlcmF0aW9uOnQgaW5zdGFuY2VvZiBSYT9pPUphLlJlbmFtZU9wZXJhdGlvbjp0IGluc3RhbmNlb2YgUGE/aT1KYS5NYXJrZXJPcGVyYXRpb246dCBpbnN0YW5jZW9mIENhP2k9SmEuTW92ZU9wZXJhdGlvbjpvPVFhO2kmJihvPWUgaW5zdGFuY2VvZiBFYT9pLkluc2VydE9wZXJhdGlvbjplIGluc3RhbmNlb2YgQWE/aS5BdHRyaWJ1dGVPcGVyYXRpb246ZSBpbnN0YW5jZW9mIElhP2kuUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbjplIGluc3RhbmNlb2YgUmE/aS5SZW5hbWVPcGVyYXRpb246ZSBpbnN0YW5jZW9mIFBhP2kuTWFya2VyT3BlcmF0aW9uOmUgaW5zdGFuY2VvZiBDYT9pLk1vdmVPcGVyYXRpb246UWEpO2NvbnN0IHI9byh0LGUsbik7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspZVtuXS5iYXNlVmVyc2lvbj10K24rMTtyZXR1cm4gZX0odC5iYXNlVmVyc2lvbixyKX07Y29uc3QgSmE9e0luc2VydE9wZXJhdGlvbjp7SW5zZXJ0T3BlcmF0aW9uKHQsZSxuKXtjb25zdCBpPXQuY2xvbmUoKSxvPXZvaWQgMD09PW4uaW5zZXJ0QmVmb3JlPyFuLmlzU3Ryb25nOm4uaW5zZXJ0QmVmb3JlO3JldHVybiBpLnBvc2l0aW9uPWkucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZS5wb3NpdGlvbixlLm5vZGVzLm1heE9mZnNldCxvKSxbaV19LEF0dHJpYnV0ZU9wZXJhdGlvbjpRYSxSb290QXR0cmlidXRlT3BlcmF0aW9uOlFhLFJlbmFtZU9wZXJhdGlvbjpRYSxNYXJrZXJPcGVyYXRpb246UWEsTW92ZU9wZXJhdGlvbih0LGUsbil7Y29uc3QgaT10LmNsb25lKCksbz12b2lkIDA9PT1uLmluc2VydEJlZm9yZT8hbi5pc1N0cm9uZzpuLmluc2VydEJlZm9yZTtyZXR1cm4gaS5wb3NpdGlvbj10LnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShlLnNvdXJjZVBvc2l0aW9uLGUudGFyZ2V0UG9zaXRpb24sZS5ob3dNYW55LG8sZS5pc1N0aWNreSYmIW4uZm9yY2VOb3RTdGlja3kpLFtpXX19LEF0dHJpYnV0ZU9wZXJhdGlvbjp7SW5zZXJ0T3BlcmF0aW9uOih0LGUpPT50LnJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUucG9zaXRpb24sZS5ub2Rlcy5tYXhPZmZzZXQsITAsITEpLnJldmVyc2UoKS5tYXAoZT0+bmV3IEFhKGUsdC5rZXksdC5vbGRWYWx1ZSx0Lm5ld1ZhbHVlLHQuYmFzZVZlcnNpb24pKSxBdHRyaWJ1dGVPcGVyYXRpb24odCxlLG4pe2lmKHQua2V5PT09ZS5rZXkpe2NvbnN0IGk9dC5yYW5nZS5nZXREaWZmZXJlbmNlKGUucmFuZ2UpLm1hcChlPT5uZXcgQWEoZSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbikpLG89dC5yYW5nZS5nZXRJbnRlcnNlY3Rpb24oZS5yYW5nZSk7cmV0dXJuIG8mJihuLmlzU3Ryb25nP2kucHVzaChuZXcgQWEobyxlLmtleSxlLm5ld1ZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbikpOjA9PT1pLmxlbmd0aCYmaS5wdXNoKG5ldyBPYSgwKSkpLGl9cmV0dXJuW3QuY2xvbmUoKV19LFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246UWEsUmVuYW1lT3BlcmF0aW9uOlFhLE1hcmtlck9wZXJhdGlvbjpRYSxNb3ZlT3BlcmF0aW9uKHQsZSl7Y29uc3Qgbj13cy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSk7bGV0IGk9W107Y29uc3Qgbz1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXQubGVuZ3RoP251bGw6MT09dC5sZW5ndGg/dFswXToodFswXS5lbmQ9dFt0Lmxlbmd0aC0xXS5lbmQsdFswXSl9KHQucmFuZ2UuZ2V0RGlmZmVyZW5jZShuKSkscj10LnJhbmdlLmdldEludGVyc2VjdGlvbihuKTtyZXR1cm4gbnVsbCE9PW8mJihvLnN0YXJ0PW8uc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSksby5lbmQ9by5lbmQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSksaT1vLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksZS5ob3dNYW55LCEwLCExKS5yZXZlcnNlKCkpLG51bGwhPT1yJiYoci5zdGFydD1yLnN0YXJ0Ll9nZXRDb21iaW5lZChlLnNvdXJjZVBvc2l0aW9uLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLHIuZW5kPXIuZW5kLl9nZXRDb21iaW5lZChlLnNvdXJjZVBvc2l0aW9uLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLGkucHVzaChyKSksaS5tYXAoZT0+bmV3IEFhKGUsdC5rZXksdC5vbGRWYWx1ZSx0Lm5ld1ZhbHVlLHQuYmFzZVZlcnNpb24pKX19LFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246e0luc2VydE9wZXJhdGlvbjpRYSxBdHRyaWJ1dGVPcGVyYXRpb246UWEsUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbjoodCxlLG4pPT50LnJvb3QhPT1lLnJvb3R8fHQua2V5IT09ZS5rZXl8fCh0Lm5ld1ZhbHVlPT09ZS5uZXdWYWx1ZXx8bi5pc1N0cm9uZykmJnQubmV3VmFsdWUhPT1lLm5ld1ZhbHVlP1t0LmNsb25lKCldOltuZXcgT2EodC5iYXNlVmVyc2lvbildLFJlbmFtZU9wZXJhdGlvbjpRYSxNYXJrZXJPcGVyYXRpb246UWEsTW92ZU9wZXJhdGlvbjpRYX0sUmVuYW1lT3BlcmF0aW9uOntJbnNlcnRPcGVyYXRpb24odCxlKXtjb25zdCBuPXQuY2xvbmUoKTtyZXR1cm4gbi5wb3NpdGlvbj1uLnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUucG9zaXRpb24sZS5ub2Rlcy5tYXhPZmZzZXQsITApLFtuXX0sQXR0cmlidXRlT3BlcmF0aW9uOlFhLFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246UWEsUmVuYW1lT3BlcmF0aW9uKHQsZSxuKXtjb25zdCBpPXQuY2xvbmUoKTtpZih0LnBvc2l0aW9uLmlzRXF1YWwoZS5wb3NpdGlvbikpe2lmKCFuLmlzU3Ryb25nKXJldHVybltuZXcgT2EodC5iYXNlVmVyc2lvbildO2kub2xkTmFtZT1lLm5ld05hbWV9cmV0dXJuW2ldfSxNYXJrZXJPcGVyYXRpb246UWEsTW92ZU9wZXJhdGlvbih0LGUpe2NvbnN0IG49dC5jbG9uZSgpLGk9bi5wb3NpdGlvbi5pc0VxdWFsKGUuc291cmNlUG9zaXRpb24pO3JldHVybiBuLnBvc2l0aW9uPW4ucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnksITAsaSksW25dfX0sTWFya2VyT3BlcmF0aW9uOntJbnNlcnRPcGVyYXRpb24odCxlKXtjb25zdCBuPXQuY2xvbmUoKTtyZXR1cm4gbi5vbGRSYW5nZSYmKG4ub2xkUmFuZ2U9bi5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihlLnBvc2l0aW9uLGUubm9kZXMubWF4T2Zmc2V0LCExLCExKVswXSksbi5uZXdSYW5nZSYmKG4ubmV3UmFuZ2U9bi5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihlLnBvc2l0aW9uLGUubm9kZXMubWF4T2Zmc2V0LCExLCExKVswXSksW25dfSxBdHRyaWJ1dGVPcGVyYXRpb246UWEsUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbjpRYSxSZW5hbWVPcGVyYXRpb246UWEsTWFya2VyT3BlcmF0aW9uKHQsZSxuKXtjb25zdCBpPXQuY2xvbmUoKTtpZih0Lm5hbWU9PWUubmFtZSl7aWYoIW4uaXNTdHJvbmcpcmV0dXJuW25ldyBPYSh0LmJhc2VWZXJzaW9uKV07aS5vbGRSYW5nZT1lLm5ld1JhbmdlfXJldHVybltpXX0sTW92ZU9wZXJhdGlvbih0LGUpe2NvbnN0IG49dC5jbG9uZSgpO2lmKG4ub2xkUmFuZ2Upe2NvbnN0IHQ9bi5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSk7bi5vbGRSYW5nZT13cy5jcmVhdGVGcm9tUmFuZ2VzKHQpfWlmKG4ubmV3UmFuZ2Upe2NvbnN0IHQ9bi5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSk7bi5uZXdSYW5nZT13cy5jcmVhdGVGcm9tUmFuZ2VzKHQpfXJldHVybltuXX19LE1vdmVPcGVyYXRpb246e0luc2VydE9wZXJhdGlvbih0LGUsbil7bGV0IGk9d3MuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpO2NvbnN0IG89dC5pc1N0aWNreSYmIW4uZm9yY2VOb3RTdGlja3k7aT1pLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUucG9zaXRpb24sZS5ub2Rlcy5tYXhPZmZzZXQsITEsbylbMF07Y29uc3Qgcj12b2lkIDA9PT1uLmluc2VydEJlZm9yZT8hbi5pc1N0cm9uZzpuLmluc2VydEJlZm9yZSxzPW5ldyB0LmNvbnN0cnVjdG9yKGkuc3RhcnQsaS5lbmQub2Zmc2V0LWkuc3RhcnQub2Zmc2V0LHQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZS5wb3NpdGlvbixlLm5vZGVzLm1heE9mZnNldCxyKSx0LmJhc2VWZXJzaW9uKTtyZXR1cm4gcy5pc1N0aWNreT10LmlzU3RpY2t5LFtzXX0sQXR0cmlidXRlT3BlcmF0aW9uOlFhLFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246UWEsUmVuYW1lT3BlcmF0aW9uOlFhLE1hcmtlck9wZXJhdGlvbjpRYSxNb3ZlT3BlcmF0aW9uKHQsZSxuKXtjb25zdCBpPXdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KSxvPXdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtsZXQgcj1uLmlzU3Ryb25nO2NvbnN0IHM9dC5pc1N0aWNreSYmIW4uZm9yY2VOb3RTdGlja3ksYT12b2lkIDA9PT1uLmluc2VydEJlZm9yZT8hcjpuLmluc2VydEJlZm9yZSxjPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnksYSxlLmlzU3RpY2t5JiYhbi5mb3JjZU5vdFN0aWNreSk7aWYoWWEodCxlKSYmWWEoZSx0KSlyZXR1cm5bZS5nZXRSZXZlcnNlZCgpXTtjb25zdCBsPWkuY29udGFpbnNQb3NpdGlvbihlLnRhcmdldFBvc2l0aW9uKXx8aS5zdGFydC5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pJiZzfHxpLmVuZC5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pJiZzO2lmKGwmJmkuY29udGFpbnNSYW5nZShvLCEwKSlyZXR1cm4gaS5zdGFydD1pLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShlLnNvdXJjZVBvc2l0aW9uLGUudGFyZ2V0UG9zaXRpb24sZS5ob3dNYW55LCFzKSxpLmVuZD1pLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSxzKSxYYShbaV0sYyx0KTtpZigoby5jb250YWluc1Bvc2l0aW9uKHQudGFyZ2V0UG9zaXRpb24pfHxvLnN0YXJ0LmlzRXF1YWwodC50YXJnZXRQb3NpdGlvbikmJmUuaXNTdGlja3kmJiFuLmZvcmNlTm90U3RpY2t5fHxvLmVuZC5pc0VxdWFsKHQudGFyZ2V0UG9zaXRpb24pJiZlLmlzU3RpY2t5JiYhbi5mb3JjZU5vdFN0aWNreSkmJm8uY29udGFpbnNSYW5nZShpLCEwKSlyZXR1cm4gaS5zdGFydD1pLnN0YXJ0Ll9nZXRDb21iaW5lZChlLnNvdXJjZVBvc2l0aW9uLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLGkuZW5kPWkuZW5kLl9nZXRDb21iaW5lZChlLnNvdXJjZVBvc2l0aW9uLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLFhhKFtpXSxjLHQpO2NvbnN0IGQ9RW4odC5zb3VyY2VQb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCksZS5zb3VyY2VQb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCkpO2lmKFwicHJlZml4XCI9PWR8fFwiZXh0ZW5zaW9uXCI9PWQpcmV0dXJuIGkuc3RhcnQ9aS5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSwhcyksaS5lbmQ9aS5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnkscyksWGEoW2ldLGMsdCk7bi5mb3JjZVdlYWtSZW1vdmV8fCh0IGluc3RhbmNlb2YgU2EmJiEoZSBpbnN0YW5jZW9mIFNhKT9yPSEwOiEodCBpbnN0YW5jZW9mIFNhKSYmZSBpbnN0YW5jZW9mIFNhJiYocj0hMSkpO2NvbnN0IHU9W10saD1pLmdldERpZmZlcmVuY2Uobyk7Zm9yKGNvbnN0IHQgb2YgaCl7dC5zdGFydD10LnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpLHQuZW5kPXQuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpO2NvbnN0IG49XCJzYW1lXCI9PUVuKHQuc3RhcnQuZ2V0UGFyZW50UGF0aCgpLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkuZ2V0UGFyZW50UGF0aCgpKSxpPXQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKSxlLmhvd01hbnksbixzKTt1LnB1c2goLi4uaSl9Y29uc3QgZj1pLmdldEludGVyc2VjdGlvbihvKTtyZXR1cm4gbnVsbCE9PWYmJnImJiFsJiYoZi5zdGFydD1mLnN0YXJ0Ll9nZXRDb21iaW5lZChlLnNvdXJjZVBvc2l0aW9uLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLGYuZW5kPWYuZW5kLl9nZXRDb21iaW5lZChlLnNvdXJjZVBvc2l0aW9uLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLDA9PT11Lmxlbmd0aD91LnB1c2goZik6MT09dS5sZW5ndGg/by5zdGFydC5pc0JlZm9yZShpLnN0YXJ0KXx8by5zdGFydC5pc0VxdWFsKGkuc3RhcnQpP3UudW5zaGlmdChmKTp1LnB1c2goZik6dS5zcGxpY2UoMSwwLGYpKSwwPT09dS5sZW5ndGg/W25ldyBPYSh0LmJhc2VWZXJzaW9uKV06WGEodSxjLHQpfX19O2Z1bmN0aW9uIFFhKHQpe3JldHVyblt0LmNsb25lKCldfWZ1bmN0aW9uIFlhKHQsZSl7cmV0dXJuIG51bGw9PT10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpfWZ1bmN0aW9uIFhhKHQsZSxuKXtjb25zdCBpPVtdO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCByPVphKHRbb10sZSxuLmlzU3RpY2t5KTtpLnB1c2gocik7Zm9yKGxldCBlPW8rMTtlPHQubGVuZ3RoO2UrKyl0W2VdPXRbZV0uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHIuc291cmNlUG9zaXRpb24sci50YXJnZXRQb3NpdGlvbixyLmhvd01hbnkpWzBdO2U9ZS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoci5zb3VyY2VQb3NpdGlvbixyLnRhcmdldFBvc2l0aW9uLHIuaG93TWFueSwhMCwhMSl9cmV0dXJuIGl9ZnVuY3Rpb24gWmEodCxlLG4pe2xldCBpO2NvbnN0IG89bmV3KGk9XCIkZ3JhdmV5YXJkXCI9PWUucm9vdC5yb290TmFtZT9TYTpcIiRncmF2ZXlhcmRcIj09dC5zdGFydC5yb290LnJvb3ROYW1lP1RhOkNhKSh0LnN0YXJ0LHQuZW5kLm9mZnNldC10LnN0YXJ0Lm9mZnNldCxlLDApO3JldHVybiBvLmlzU3RpY2t5PW4sb312YXIgdGM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPS0xLG89dC5sZW5ndGg7ZTwwJiYoZT0tZT5vPzA6bytlKSwobj1uPm8/bzpuKTwwJiYobis9byksbz1lPm4/MDpuLWU+Pj4wLGU+Pj49MDtmb3IodmFyIHI9QXJyYXkobyk7KytpPG87KXJbaV09dFtpK2VdO3JldHVybiByfSxlYz1NYXRoLmNlaWwsbmM9TWF0aC5tYXg7dmFyIGljPWZ1bmN0aW9uKHQsZSxuKXtlPShuP3puKHQsZSxuKTp2b2lkIDA9PT1lKT8xOm5jKG5pKGUpLDApO3ZhciBpPXQ/dC5sZW5ndGg6MDtpZighaXx8ZTwxKXJldHVybltdO2Zvcih2YXIgbz0wLHI9MCxzPUFycmF5KGVjKGkvZSkpO288aTspc1tyKytdPXRjKHQsbyxvKz1lKTtyZXR1cm4gc307dmFyIG9jPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMSxuPXQ/dC5sZW5ndGg6MCxpPTAsbz1bXTsrK2U8bjspe3ZhciByPXRbZV07ciYmKG9baSsrXT1yKX1yZXR1cm4gb307dmFyIHJjPWZ1bmN0aW9uKHQpe3JldHVybiBYdCh0KXx8WXQodCl9O3ZhciBzYz1mdW5jdGlvbiB0KGUsbixpLG8scil7dmFyIHM9LTEsYT1lLmxlbmd0aDtmb3IoaXx8KGk9cmMpLHJ8fChyPVtdKTsrK3M8YTspe3ZhciBjPWVbc107bj4wJiZpKGMpP24+MT90KGMsbi0xLGksbyxyKTpnZShyLGMpOm98fChyW3IubGVuZ3RoXT1jKX1yZXR1cm4gcn07dmFyIGFjPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0P3QtMTowKSxuPWFyZ3VtZW50c1swXSxpPXQ7aS0tOyllW2ktMV09YXJndW1lbnRzW2ldO3JldHVybiB0P2dlKFh0KG4pP3VlKG4pOltuXSxzYyhlLDEpKTpbXX07dmFyIGNjPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dC5sZW5ndGgsbz1lKyhuPzA6LTEpO24/by0tOisrbzxpOyl7dmFyIHI9dFtvXTtpZihyIT1yKXJldHVybiBvfXJldHVybi0xfTt2YXIgbGM9ZnVuY3Rpb24odCxlLG4pe2lmKGUhPWUpcmV0dXJuIGNjKHQsbik7Zm9yKHZhciBpPW4tMSxvPXQubGVuZ3RoOysraTxvOylpZih0W2ldPT09ZSlyZXR1cm4gaTtyZXR1cm4tMX07dmFyIGRjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0Lmxlbmd0aCYmbGModCxlLDApPi0xfTt2YXIgdWM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0tMSxvPXQubGVuZ3RoOysraTxvOylpZihuKGUsdFtpXSkpcmV0dXJuITA7cmV0dXJuITF9O3ZhciBoYz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxpPXQubGVuZ3RoLG89QXJyYXkoaSk7KytuPGk7KW9bbl09ZSh0W25dLG4sdCk7cmV0dXJuIG99O3ZhciBmYz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9fTt2YXIgcGM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5oYXMoZSl9LG1jPTIwMDt2YXIgZ2M9ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89LTEscj1kYyxzPSEwLGE9dC5sZW5ndGgsYz1bXSxsPWUubGVuZ3RoO2lmKCFhKXJldHVybiBjO24mJihlPWhjKGUsZmMobikpKSxpPyhyPXVjLHM9ITEpOmUubGVuZ3RoPj1tYyYmKHI9cGMscz0hMSxlPW5ldyBZbyhlKSk7dDpmb3IoOysrbzxhOyl7dmFyIGQ9dFtvXSx1PW4/bihkKTpkO2lmKGQ9aXx8MCE9PWQ/ZDowLHMmJnU9PXUpe2Zvcih2YXIgaD1sO2gtLTspaWYoZVtoXT09PXUpY29udGludWUgdDtjLnB1c2goZCl9ZWxzZSByKGUsdSxpKXx8Yy5wdXNoKGQpfXJldHVybiBjfSxiYz1yaShmdW5jdGlvbih0LGUpe3JldHVybiBXdCh0KT9nYyh0LHNjKGUsMSxXdCwhMCkpOltdfSksd2M9MSx2Yz0yO3ZhciBfYz1mdW5jdGlvbih0LGUsbixpKXt2YXIgbz1uLmxlbmd0aCxyPW8scz0haTtpZihudWxsPT10KXJldHVybiFyO2Zvcih0PU9iamVjdCh0KTtvLS07KXt2YXIgYT1uW29dO2lmKHMmJmFbMl0/YVsxXSE9PXRbYVswXV06IShhWzBdaW4gdCkpcmV0dXJuITF9Zm9yKDsrK288cjspe3ZhciBjPShhPW5bb10pWzBdLGw9dFtjXSxkPWFbMV07aWYocyYmYVsyXSl7aWYodm9pZCAwPT09bCYmIShjIGluIHQpKXJldHVybiExfWVsc2V7dmFyIHU9bmV3IE90O2lmKGkpdmFyIGg9aShsLGQsYyx0LGUsdSk7aWYoISh2b2lkIDA9PT1oP1ByKGQsbCxpLHdjfHZjLHUpOmgpKXJldHVybiExfX1yZXR1cm4hMH07dmFyIGtjPWZ1bmN0aW9uKHQpe3JldHVybiB0PT10JiYhSCh0KX07dmFyIHljPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhjKGUsZnVuY3Rpb24oZSl7cmV0dXJuW2UsdFtlXV19KX07dmFyIHhjPWZ1bmN0aW9uKHQpe3ZhciBlPS0xLG49QXJyYXkodC5zaXplKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe25bKytlXT1bdCx0XX0pLG59LEFjPVwiW29iamVjdCBNYXBdXCIsQ2M9XCJbb2JqZWN0IFNldF1cIjt2YXIgVGM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPU9lKGUpO3JldHVybiBuPT1BYz9CZShlKTpuPT1DYz94YyhlKTp5YyhlLHQoZSkpfX0oY2UpO3ZhciBTYz1mdW5jdGlvbih0KXtmb3IodmFyIGU9VGModCksbj1lLmxlbmd0aDtuLS07KWVbbl1bMl09a2MoZVtuXVsxXSk7cmV0dXJuIGV9O3ZhciBFYz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmblt0XT09PWUmJih2b2lkIDAhPT1lfHx0IGluIE9iamVjdChuKSl9fTt2YXIgUGM9ZnVuY3Rpb24odCl7dmFyIGU9U2ModCk7cmV0dXJuIDE9PWUubGVuZ3RoJiZlWzBdWzJdP0VjKGVbMF1bMF0sZVswXVsxXSk6ZnVuY3Rpb24obil7cmV0dXJuIG49PT10fHxfYyhuLHQsZSl9fSxPYz1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIjtmdW5jdGlvbiBSYyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihPYyk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgaT1hcmd1bWVudHMsbz1lP2UuYXBwbHkodGhpcyxpKTppWzBdLHI9bi5jYWNoZTtpZihyLmhhcyhvKSlyZXR1cm4gci5nZXQobyk7dmFyIHM9dC5hcHBseSh0aGlzLGkpO3JldHVybiBuLmNhY2hlPXIuc2V0KG8scyksc307cmV0dXJuIG4uY2FjaGU9bmV3KFJjLkNhY2hlfHxUdCksbn1SYy5DYWNoZT1UdDt2YXIgSWM9UmMsVmM9MS8wLE1jPVdlP1dlLnByb3RvdHlwZTp2b2lkIDAsRmM9TWM/TWMudG9TdHJpbmc6dm9pZCAwO3ZhciBOYz1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdDtpZihXbih0KSlyZXR1cm4gRmM/RmMuY2FsbCh0KTpcIlwiO3ZhciBlPXQrXCJcIjtyZXR1cm5cIjBcIj09ZSYmMS90PT0tVmM/XCItMFwiOmV9O3ZhciBEYz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9cIlwiOk5jKHQpfSxCYz0vW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXS9nLExjPS9cXFxcKFxcXFwpPy9nLGpjPUljKGZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBEYyh0KS5yZXBsYWNlKEJjLGZ1bmN0aW9uKHQsbixpLG8pe2UucHVzaChpP28ucmVwbGFjZShMYyxcIiQxXCIpOm58fHQpfSksZX0pO3ZhciB6Yz1mdW5jdGlvbih0KXtyZXR1cm4gWHQodCk/dDpqYyh0KX0scWM9L1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxVYz0vXlxcdyokLzt2YXIgSGM9ZnVuY3Rpb24odCxlKXtpZihYdCh0KSlyZXR1cm4hMTt2YXIgbj10eXBlb2YgdDtyZXR1cm4hKFwibnVtYmVyXCIhPW4mJlwic3ltYm9sXCIhPW4mJlwiYm9vbGVhblwiIT1uJiZudWxsIT10JiYhV24odCkpfHxVYy50ZXN0KHQpfHwhcWMudGVzdCh0KXx8bnVsbCE9ZSYmdCBpbiBPYmplY3QoZSl9LFdjPTEvMDt2YXIgJGM9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHR8fFduKHQpKXJldHVybiB0O3ZhciBlPXQrXCJcIjtyZXR1cm5cIjBcIj09ZSYmMS90PT0tV2M/XCItMFwiOmV9O3ZhciBLYz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLGk9KGU9SGMoZSx0KT9bZV06emMoZSkpLmxlbmd0aDtudWxsIT10JiZuPGk7KXQ9dFskYyhlW24rK10pXTtyZXR1cm4gbiYmbj09aT90OnZvaWQgMH07dmFyIEdjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1udWxsPT10P3ZvaWQgMDpLYyh0LGUpO3JldHVybiB2b2lkIDA9PT1pP246aX07dmFyIEpjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUgaW4gT2JqZWN0KHQpfTt2YXIgUWM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSxvPS0xLHI9KGU9SGMoZSx0KT9bZV06emMoZSkpLmxlbmd0aDsrK288cjspe3ZhciBzPSRjKGVbb10pO2lmKCEoaT1udWxsIT10JiZuKHQscykpKWJyZWFrO3Q9dFtzXX1yZXR1cm4gaXx8ISEocj10P3QubGVuZ3RoOjApJiZVdChyKSYmcmUocyxyKSYmKFh0KHQpfHxlZSh0KXx8WXQodCkpfTt2YXIgWWM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dCYmUWModCxlLEpjKX0sWGM9MSxaYz0yO3ZhciB0bD1mdW5jdGlvbih0LGUpe3JldHVybiBIYyh0KSYma2MoZSk/RWMoJGModCksZSk6ZnVuY3Rpb24obil7dmFyIGk9R2Mobix0KTtyZXR1cm4gdm9pZCAwPT09aSYmaT09PWU/WWMobix0KTpQcihlLGksdm9pZCAwLFhjfFpjKX19O3ZhciBlbD1mdW5jdGlvbih0KXtyZXR1cm4gdH07dmFyIG5sPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gS2MoZSx0KX19O3ZhciBpbD1mdW5jdGlvbih0KXtyZXR1cm4gSGModCk/anQoJGModCkpOm5sKHQpfTt2YXIgb2w9ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90Om51bGw9PXQ/ZWw6XCJvYmplY3RcIj09dHlwZW9mIHQ/WHQodCk/dGwodFswXSx0WzFdKTpQYyh0KTppbCh0KX0scmw9cmkoZnVuY3Rpb24odCxlKXt2YXIgbj1ncyhlKTtyZXR1cm4gV3QobikmJihuPXZvaWQgMCksV3QodCk/Z2ModCxzYyhlLDEsV3QsITApLG9sKG4pKTpbXX0pLHNsPXJpKGZ1bmN0aW9uKHQsZSl7dmFyIG49Z3MoZSk7cmV0dXJuIFd0KG4pJiYobj12b2lkIDApLFd0KHQpP2djKHQsc2MoZSwxLFd0LCEwKSx2b2lkIDAsbik6W119KTt2YXIgYWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQ/dC5sZW5ndGg6MDtyZXR1cm4gaT8oZT1ufHx2b2lkIDA9PT1lPzE6bmkoZSksdGModCxlPDA/MDplLGkpKTpbXX07dmFyIGNsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10P3QubGVuZ3RoOjA7cmV0dXJuIGk/KGU9bnx8dm9pZCAwPT09ZT8xOm5pKGUpLHRjKHQsMCwoZT1pLWUpPDA/MDplKSk6W119O3ZhciBsbD1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIG89dC5sZW5ndGgscj1pP286LTE7KGk/ci0tOisrcjxvKSYmZSh0W3JdLHIsdCk7KTtyZXR1cm4gbj90Yyh0LGk/MDpyLGk/cisxOm8pOnRjKHQsaT9yKzE6MCxpP286cil9O3ZhciBkbD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9sbCh0LG9sKGUsMyksITAsITApOltdfTt2YXIgdWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/bGwodCxvbChlLDMpLCEwKTpbXX07dmFyIGhsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD09dCYmKHZvaWQgMCE9PW4mJih0PXQ8PW4/dDpuKSx2b2lkIDAhPT1lJiYodD10Pj1lP3Q6ZSkpLHR9LGZsPTQyOTQ5NjcyOTU7dmFyIHBsPWZ1bmN0aW9uKHQpe3JldHVybiB0P2hsKG5pKHQpLDAsZmwpOjB9O3ZhciBtbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgbz10Lmxlbmd0aDtmb3IoKG49bmkobikpPDAmJihuPS1uPm8/MDpvK24pLChpPXZvaWQgMD09PWl8fGk+bz9vOm5pKGkpKTwwJiYoaSs9byksaT1uPmk/MDpwbChpKTtuPGk7KXRbbisrXT1lO3JldHVybiB0fTt2YXIgZ2w9ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89dD90Lmxlbmd0aDowO3JldHVybiBvPyhuJiZcIm51bWJlclwiIT10eXBlb2YgbiYmem4odCxlLG4pJiYobj0wLGk9byksbWwodCxlLG4saSkpOltdfTt2YXIgYmw9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10Lmxlbmd0aCxvPW4/aTotMTtuP28tLTorK288aTspaWYoZSh0W29dLG8sdCkpcmV0dXJuIG87cmV0dXJuLTF9O3ZhciB3bD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9ibCh0LG9sKGUsMykpOi0xfTt2YXIgdmw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/YmwodCxvbChlLDMpLCEwKTotMX07dmFyIF9sPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD90WzBdOnZvaWQgMH07dmFyIGtsPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD9zYyh0LDEpOltdfSx5bD0xLzA7dmFyIHhsPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD9zYyh0LHlsKTpbXX07dmFyIEFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoPyhlPXZvaWQgMD09PWU/MTpuaShlKSxzYyh0LGUpKTpbXX07dmFyIENsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMSxuPXQ/dC5sZW5ndGg6MCxpPXt9OysrZTxuOyl7dmFyIG89dFtlXTtpW29bMF1dPW9bMV19cmV0dXJuIGl9LFRsPU1hdGgubWF4O3ZhciBTbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dD90Lmxlbmd0aDowO3JldHVybiBpPygobj1uaShuKSk8MCYmKG49VGwoaStuLDApKSxsYyh0LGUsbikpOi0xfTt2YXIgRWw9ZnVuY3Rpb24odCl7cmV0dXJuIGNsKHQsMSl9LFBsPU1hdGgubWluO3ZhciBPbD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPW4/dWM6ZGMsbz10WzBdLmxlbmd0aCxyPXQubGVuZ3RoLHM9cixhPUFycmF5KHIpLGM9MS8wLGw9W107cy0tOyl7dmFyIGQ9dFtzXTtzJiZlJiYoZD1oYyhkLGZjKGUpKSksYz1QbChkLmxlbmd0aCxjKSxhW3NdPSFuJiYoZXx8bz49MTIwJiZkLmxlbmd0aD49MTIwKT9uZXcgWW8ocyYmZCk6dm9pZCAwfWQ9dFswXTt2YXIgdT0tMSxoPWFbMF07dDpmb3IoOysrdTxvJiZsLmxlbmd0aDxjOyl7dmFyIGY9ZFt1XSxwPWU/ZShmKTpmO2lmKGY9bnx8MCE9PWY/ZjowLCEoaD9wYyhoLHApOmkobCxwLG4pKSl7Zm9yKHM9cjstLXM7KXt2YXIgbT1hW3NdO2lmKCEobT9wYyhtLHApOmkodFtzXSxwLG4pKSljb250aW51ZSB0fWgmJmgucHVzaChwKSxsLnB1c2goZil9fXJldHVybiBsfTt2YXIgUmw9ZnVuY3Rpb24odCl7cmV0dXJuIFd0KHQpP3Q6W119LElsPXJpKGZ1bmN0aW9uKHQpe3ZhciBlPWhjKHQsUmwpO3JldHVybiBlLmxlbmd0aCYmZVswXT09PXRbMF0/T2woZSk6W119KSxWbD1yaShmdW5jdGlvbih0KXt2YXIgZT1ncyh0KSxuPWhjKHQsUmwpO3JldHVybiBlPT09Z3Mobik/ZT12b2lkIDA6bi5wb3AoKSxuLmxlbmd0aCYmblswXT09PXRbMF0/T2wobixvbChlKSk6W119KSxNbD1yaShmdW5jdGlvbih0KXt2YXIgZT1ncyh0KSxuPWhjKHQsUmwpO3JldHVybiBlPT09Z3Mobik/ZT12b2lkIDA6bi5wb3AoKSxuLmxlbmd0aCYmblswXT09PXRbMF0/T2wobix2b2lkIDAsZSk6W119KSxGbD1BcnJheS5wcm90b3R5cGUuam9pbjt2YXIgTmw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD9GbC5jYWxsKHQsZSk6XCJcIn0sRGw9TWF0aC5tYXgsQmw9TWF0aC5taW47dmFyIExsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10P3QubGVuZ3RoOjA7aWYoIWkpcmV0dXJuLTE7dmFyIG89aTtpZih2b2lkIDAhPT1uJiYobz0oKG89bmkobikpPDA/RGwoaStvLDApOkJsKG8saS0xKSkrMSksZSE9ZSlyZXR1cm4gY2ModCxvLCEwKTtmb3IoO28tLTspaWYodFtvXT09PWUpcmV0dXJuIG87cmV0dXJuLTF9O3ZhciBqbD1mdW5jdGlvbih0LGUpe3ZhciBuPXQubGVuZ3RoO2lmKG4pcmV0dXJuIHJlKGUrPWU8MD9uOjAsbik/dFtlXTp2b2lkIDB9O3ZhciB6bD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9qbCh0LG5pKGUpKTp2b2lkIDB9O3ZhciBxbD1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIG89bi0xLHI9dC5sZW5ndGg7KytvPHI7KWlmKGkodFtvXSxlKSlyZXR1cm4gbztyZXR1cm4tMX0sVWw9QXJyYXkucHJvdG90eXBlLnNwbGljZTt2YXIgSGw9ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89aT9xbDpsYyxyPS0xLHM9ZS5sZW5ndGgsYT10O2ZvcihuJiYoYT1oYyh0LGZjKG4pKSk7KytyPHM7KWZvcih2YXIgYz0wLGw9ZVtyXSxkPW4/bihsKTpsOyhjPW8oYSxkLGMsaSkpPi0xOylhIT09dCYmVWwuY2FsbChhLGMsMSksVWwuY2FsbCh0LGMsMSk7cmV0dXJuIHR9O3ZhciBXbD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aCYmZSYmZS5sZW5ndGg/SGwodCxlKTp0fSwkbD1yaShXbCk7dmFyIEtsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmdC5sZW5ndGgmJmUmJmUubGVuZ3RoP0hsKHQsZSxvbChuKSk6dH07dmFyIEdsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmdC5sZW5ndGgmJmUmJmUubGVuZ3RoP0hsKHQsZSx2b2lkIDAsbik6dH07dmFyIEpsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLGk9bnVsbD09dCxvPWUubGVuZ3RoLHI9QXJyYXkobyk7KytuPG87KXJbbl09aT92b2lkIDA6R2ModCxlW25dKTtyZXR1cm4gcn07dmFyIFFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDE9PWUubGVuZ3RoP3Q6S2ModCx0YyhlLDAsLTEpKX0sWWw9QXJyYXkucHJvdG90eXBlLnNwbGljZTt2YXIgWGw9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dD9lLmxlbmd0aDowLGk9bi0xO24tLTspe3ZhciBvPWVbbl07aWYobj09aXx8byE9PXIpe3ZhciByPW87aWYocmUobykpWWwuY2FsbCh0LG8sMSk7ZWxzZSBpZihIYyhvLHQpKWRlbGV0ZSB0WyRjKG8pXTtlbHNle3ZhciBzPXpjKG8pLGE9UWwodCxzKTtudWxsIT1hJiZkZWxldGUgYVskYyhncyhzKSldfX19cmV0dXJuIHR9O3ZhciBabD1mdW5jdGlvbih0LGUpe2lmKHQhPT1lKXt2YXIgbj12b2lkIDAhPT10LGk9bnVsbD09PXQsbz10PT10LHI9V24odCkscz12b2lkIDAhPT1lLGE9bnVsbD09PWUsYz1lPT1lLGw9V24oZSk7aWYoIWEmJiFsJiYhciYmdD5lfHxyJiZzJiZjJiYhYSYmIWx8fGkmJnMmJmN8fCFuJiZjfHwhbylyZXR1cm4gMTtpZighaSYmIXImJiFsJiZ0PGV8fGwmJm4mJm8mJiFpJiYhcnx8YSYmbiYmb3x8IXMmJm98fCFjKXJldHVybi0xfXJldHVybiAwfSx0ZD1yaShmdW5jdGlvbih0LGUpe2U9c2MoZSwxKTt2YXIgbj10P3QubGVuZ3RoOjAsaT1KbCh0LGUpO3JldHVybiBYbCh0LGhjKGUsZnVuY3Rpb24odCl7cmV0dXJuIHJlKHQsbik/K3Q6dH0pLnNvcnQoWmwpKSxpfSk7dmFyIGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gbjt2YXIgaT0tMSxvPVtdLHI9dC5sZW5ndGg7Zm9yKGU9b2woZSwzKTsrK2k8cjspe3ZhciBzPXRbaV07ZShzLGksdCkmJihuLnB1c2gocyksby5wdXNoKGkpKX1yZXR1cm4gWGwodCxvKSxufSxuZD1BcnJheS5wcm90b3R5cGUucmV2ZXJzZTt2YXIgaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/bmQuY2FsbCh0KTp0fTt2YXIgb2Q9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQ/dC5sZW5ndGg6MDtyZXR1cm4gaT8obiYmXCJudW1iZXJcIiE9dHlwZW9mIG4mJnpuKHQsZSxuKT8oZT0wLG49aSk6KGU9bnVsbD09ZT8wOm5pKGUpLG49dm9pZCAwPT09bj9pOm5pKG4pKSx0Yyh0LGUsbikpOltdfSxyZD00Mjk0OTY3Mjk0LHNkPU1hdGguZmxvb3IsYWQ9TWF0aC5taW47dmFyIGNkPWZ1bmN0aW9uKHQsZSxuLGkpe2U9bihlKTtmb3IodmFyIG89MCxyPXQ/dC5sZW5ndGg6MCxzPWUhPWUsYT1udWxsPT09ZSxjPVduKGUpLGw9dm9pZCAwPT09ZTtvPHI7KXt2YXIgZD1zZCgobytyKS8yKSx1PW4odFtkXSksaD12b2lkIDAhPT11LGY9bnVsbD09PXUscD11PT11LG09V24odSk7aWYocyl2YXIgZz1pfHxwO2Vsc2UgZz1sP3AmJihpfHxoKTphP3AmJmgmJihpfHwhZik6Yz9wJiZoJiYhZiYmKGl8fCFtKTohZiYmIW0mJihpP3U8PWU6dTxlKTtnP289ZCsxOnI9ZH1yZXR1cm4gYWQocixyZCl9LGxkPTIxNDc0ODM2NDc7dmFyIGRkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0wLG89dD90Lmxlbmd0aDppO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPT1lJiZvPD1sZCl7Zm9yKDtpPG87KXt2YXIgcj1pK28+Pj4xLHM9dFtyXTtudWxsIT09cyYmIVduKHMpJiYobj9zPD1lOnM8ZSk/aT1yKzE6bz1yfXJldHVybiBvfXJldHVybiBjZCh0LGUsZWwsbil9O3ZhciB1ZD1mdW5jdGlvbih0LGUpe3JldHVybiBkZCh0LGUpfTt2YXIgaGQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjZCh0LGUsb2wobikpfTt2YXIgZmQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10P3QubGVuZ3RoOjA7aWYobil7dmFyIGk9ZGQodCxlKTtpZihpPG4mJlIodFtpXSxlKSlyZXR1cm4gaX1yZXR1cm4tMX07dmFyIHBkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRkKHQsZSwhMCl9O3ZhciBtZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGNkKHQsZSxvbChuKSwhMCl9O3ZhciBnZD1mdW5jdGlvbih0LGUpe2lmKHQmJnQubGVuZ3RoKXt2YXIgbj1kZCh0LGUsITApLTE7aWYoUih0W25dLGUpKXJldHVybiBufXJldHVybi0xfTt2YXIgYmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49LTEsaT10Lmxlbmd0aCxvPTAscj1bXTsrK248aTspe3ZhciBzPXRbbl0sYT1lP2Uocyk6cztpZighbnx8IVIoYSxjKSl7dmFyIGM9YTtyW28rK109MD09PXM/MDpzfX1yZXR1cm4gcn07dmFyIHdkPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD9iZCh0KTpbXX07dmFyIHZkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP2JkKHQsb2woZSkpOltdfTt2YXIgX2Q9ZnVuY3Rpb24odCl7cmV0dXJuIGFsKHQsMSl9O3ZhciBrZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQmJnQubGVuZ3RoPyhlPW58fHZvaWQgMD09PWU/MTpuaShlKSx0Yyh0LDAsZTwwPzA6ZSkpOltdfTt2YXIgeWQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQ/dC5sZW5ndGg6MDtyZXR1cm4gaT8oZT1ufHx2b2lkIDA9PT1lPzE6bmkoZSksdGModCwoZT1pLWUpPDA/MDplLGkpKTpbXX07dmFyIHhkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP2xsKHQsb2woZSwzKSwhMSwhMCk6W119O3ZhciBBZD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9sbCh0LG9sKGUsMykpOltdfTt2YXIgQ2Q9ZnVuY3Rpb24oKXt9LFRkPWtlJiYxL1VlKG5ldyBrZShbLC0wXSkpWzFdPT0xLzA/ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBrZSh0KX06Q2QsU2Q9MjAwO3ZhciBFZD1mdW5jdGlvbih0LGUsbil7dmFyIGk9LTEsbz1kYyxyPXQubGVuZ3RoLHM9ITAsYT1bXSxjPWE7aWYobilzPSExLG89dWM7ZWxzZSBpZihyPj1TZCl7dmFyIGw9ZT9udWxsOlRkKHQpO2lmKGwpcmV0dXJuIFVlKGwpO3M9ITEsbz1wYyxjPW5ldyBZb31lbHNlIGM9ZT9bXTphO3Q6Zm9yKDsrK2k8cjspe3ZhciBkPXRbaV0sdT1lP2UoZCk6ZDtpZihkPW58fDAhPT1kP2Q6MCxzJiZ1PT11KXtmb3IodmFyIGg9Yy5sZW5ndGg7aC0tOylpZihjW2hdPT09dSljb250aW51ZSB0O2UmJmMucHVzaCh1KSxhLnB1c2goZCl9ZWxzZSBvKGMsdSxuKXx8KGMhPT1hJiZjLnB1c2godSksYS5wdXNoKGQpKX1yZXR1cm4gYX0sUGQ9cmkoZnVuY3Rpb24odCl7cmV0dXJuIEVkKHNjKHQsMSxXdCwhMCkpfSksT2Q9cmkoZnVuY3Rpb24odCl7dmFyIGU9Z3ModCk7cmV0dXJuIFd0KGUpJiYoZT12b2lkIDApLEVkKHNjKHQsMSxXdCwhMCksb2woZSkpfSksUmQ9cmkoZnVuY3Rpb24odCl7dmFyIGU9Z3ModCk7cmV0dXJuIFd0KGUpJiYoZT12b2lkIDApLEVkKHNjKHQsMSxXdCwhMCksdm9pZCAwLGUpfSk7dmFyIElkPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD9FZCh0KTpbXX07dmFyIFZkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP0VkKHQsb2woZSkpOltdfTt2YXIgTWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/RWQodCx2b2lkIDAsZSk6W119O3ZhciBGZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxpPXQubGVuZ3RoLG89MCxyPVtdOysrbjxpOyl7dmFyIHM9dFtuXTtlKHMsbix0KSYmKHJbbysrXT1zKX1yZXR1cm4gcn0sTmQ9TWF0aC5tYXg7dmFyIERkPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuW107dmFyIGU9MDtyZXR1cm4gdD1GZCh0LGZ1bmN0aW9uKHQpe2lmKFd0KHQpKXJldHVybiBlPU5kKHQubGVuZ3RoLGUpLCEwfSksTHQoZSxmdW5jdGlvbihlKXtyZXR1cm4gaGModCxqdChlKSl9KX07dmFyIEJkPWZ1bmN0aW9uKHQsZSl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm5bXTt2YXIgbj1EZCh0KTtyZXR1cm4gbnVsbD09ZT9uOmhjKG4sZnVuY3Rpb24odCl7cmV0dXJuIHFuKGUsdm9pZCAwLHQpfSl9LExkPXJpKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFd0KHQpP2djKHQsZSk6W119KTt2YXIgamQ9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0tMSxvPXQubGVuZ3RoOysraTxvOyl2YXIgcj1yP2dlKGdjKHIsdFtpXSxlLG4pLGdjKHRbaV0scixlLG4pKTp0W2ldO3JldHVybiByJiZyLmxlbmd0aD9FZChyLGUsbik6W119LHpkPXJpKGZ1bmN0aW9uKHQpe3JldHVybiBqZChGZCh0LFd0KSl9KSxxZD1yaShmdW5jdGlvbih0KXt2YXIgZT1ncyh0KTtyZXR1cm4gV3QoZSkmJihlPXZvaWQgMCksamQoRmQodCxXdCksb2woZSkpfSksVWQ9cmkoZnVuY3Rpb24odCl7dmFyIGU9Z3ModCk7cmV0dXJuIFd0KGUpJiYoZT12b2lkIDApLGpkKEZkKHQsV3QpLHZvaWQgMCxlKX0pLEhkPXJpKERkKTt2YXIgV2Q9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0tMSxvPXQubGVuZ3RoLHI9ZS5sZW5ndGgscz17fTsrK2k8bzspe3ZhciBhPWk8cj9lW2ldOnZvaWQgMDtuKHMsdFtpXSxhKX1yZXR1cm4gc307dmFyICRkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFdkKHR8fFtdLGV8fFtdLFZ0KX07dmFyIEtkPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgbz0tMSxyPShlPUhjKGUsdCk/W2VdOnpjKGUpKS5sZW5ndGgscz1yLTEsYT10O251bGwhPWEmJisrbzxyOyl7dmFyIGM9JGMoZVtvXSk7aWYoSChhKSl7dmFyIGw9bjtpZihvIT1zKXt2YXIgZD1hW2NdO3ZvaWQgMD09PShsPWk/aShkLGMsYSk6dm9pZCAwKSYmKGw9bnVsbD09ZD9yZShlW28rMV0pP1tdOnt9OmQpfVZ0KGEsYyxsKX1hPWFbY119cmV0dXJuIHR9O3ZhciBHZD1mdW5jdGlvbih0LGUpe3JldHVybiBXZCh0fHxbXSxlfHxbXSxLZCl9LEpkPXJpKGZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLG49ZT4xP3RbZS0xXTp2b2lkIDA7cmV0dXJuIG49XCJmdW5jdGlvblwiPT10eXBlb2Ygbj8odC5wb3AoKSxuKTp2b2lkIDAsQmQodCxuKX0pLFFkPXtjaHVuazppYyxjb21wYWN0Om9jLGNvbmNhdDphYyxkaWZmZXJlbmNlOmJjLGRpZmZlcmVuY2VCeTpybCxkaWZmZXJlbmNlV2l0aDpzbCxkcm9wOmFsLGRyb3BSaWdodDpjbCxkcm9wUmlnaHRXaGlsZTpkbCxkcm9wV2hpbGU6dWwsZmlsbDpnbCxmaW5kSW5kZXg6d2wsZmluZExhc3RJbmRleDp2bCxmaXJzdDpfbCxmbGF0dGVuOmtsLGZsYXR0ZW5EZWVwOnhsLGZsYXR0ZW5EZXB0aDpBbCxmcm9tUGFpcnM6Q2wsaGVhZDpfbCxpbmRleE9mOlNsLGluaXRpYWw6RWwsaW50ZXJzZWN0aW9uOklsLGludGVyc2VjdGlvbkJ5OlZsLGludGVyc2VjdGlvbldpdGg6TWwsam9pbjpObCxsYXN0OmdzLGxhc3RJbmRleE9mOkxsLG50aDp6bCxwdWxsOiRsLHB1bGxBbGw6V2wscHVsbEFsbEJ5OktsLHB1bGxBbGxXaXRoOkdsLHB1bGxBdDp0ZCxyZW1vdmU6ZWQscmV2ZXJzZTppZCxzbGljZTpvZCxzb3J0ZWRJbmRleDp1ZCxzb3J0ZWRJbmRleEJ5OmhkLHNvcnRlZEluZGV4T2Y6ZmQsc29ydGVkTGFzdEluZGV4OnBkLHNvcnRlZExhc3RJbmRleEJ5Om1kLHNvcnRlZExhc3RJbmRleE9mOmdkLHNvcnRlZFVuaXE6d2Qsc29ydGVkVW5pcUJ5OnZkLHRhaWw6X2QsdGFrZTprZCx0YWtlUmlnaHQ6eWQsdGFrZVJpZ2h0V2hpbGU6eGQsdGFrZVdoaWxlOkFkLHVuaW9uOlBkLHVuaW9uQnk6T2QsdW5pb25XaXRoOlJkLHVuaXE6SWQsdW5pcUJ5OlZkLHVuaXFXaXRoOk1kLHVuemlwOkRkLHVuemlwV2l0aDpCZCx3aXRob3V0OkxkLHhvcjp6ZCx4b3JCeTpxZCx4b3JXaXRoOlVkLHppcDpIZCx6aXBPYmplY3Q6JGQsemlwT2JqZWN0RGVlcDpHZCx6aXBXaXRoOkpkfTtjb25zdCBZZD1uZXcgTWFwLFhkPXt0cmFuc2Zvcm0odCxlLG4pe2NvbnN0IGk9KFhkLmdldFRyYW5zZm9ybWF0aW9uQ2FzZSh0LGUpfHxYZC5kZWZhdWx0VHJhbnNmb3JtKSh0LGUsT2JqZWN0LmFzc2lnbih7fSxuKSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKGNvbnN0IG4gb2YgZSlmb3IoY29uc3QgZSBvZiBuLm9wZXJhdGlvbnMpZS5iYXNlVmVyc2lvbj0rK3Q7cmV0dXJuIGV9KFFkLmxhc3QoZS5vcGVyYXRpb25zKS5iYXNlVmVyc2lvbixpKX0sZGVmYXVsdFRyYW5zZm9ybSh0LGUsbil7Y29uc3QgaT1bXTtsZXQgbz1lLm9wZXJhdGlvbnMscj1bXTtmb3IoY29uc3QgZSBvZiB0Lm9wZXJhdGlvbnMpe2NvbnN0IHQ9W2VdO2Zvcihjb25zdCBlIG9mIG8pZm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IG89dFtpXSxzPUdhKG8sZSxuKTtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHQsW2ksMV0uY29uY2F0KHMpKSxpKz1zLmxlbmd0aC0xO2NvbnN0IGE9T2JqZWN0LmFzc2lnbih7fSxuKTthLmlzU3Ryb25nPSFuLmlzU3Ryb25nLGEuaW5zZXJ0QmVmb3JlPXZvaWQgMCE9PW4uaW5zZXJ0QmVmb3JlPyFuLmluc2VydEJlZm9yZTp2b2lkIDA7Y29uc3QgYz1HYShlLG8sYSk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocixjKX1vPXIscj1bXTtmb3IoY29uc3QgZSBvZiB0KWkucHVzaChlKX1yZXR1cm4gZnVuY3Rpb24gdChlLG4pe2xldCBpPVtdO2xldCBvPW51bGw7bGV0IHI7c3dpdGNoKGUpe2Nhc2UgemE6Y2FzZSBxYTpmb3IoY29uc3QgdCBvZiBuKShvPXQgaW5zdGFuY2VvZiBPYT9uZXcgRGE6dCBpbnN0YW5jZW9mIFNhP25ldyBxYTpuZXcgemEpLmFkZE9wZXJhdGlvbih0KSxpLnB1c2gobyk7cmV0dXJuIGk7Y2FzZSBMYTpjYXNlIEhhOnJldHVybihvPW5ldyBlKS5hZGRPcGVyYXRpb24oblswXSksby5hZGRPcGVyYXRpb24oblsxXSksaT10KHphLG4uc2xpY2UoMikpLFtvXS5jb25jYXQoaSk7Y2FzZSBqYTpjYXNlIFdhOnJldHVybiBpPXQoemEsbi5zbGljZSgwLC0yKSksKG89bmV3IGUpLmFkZE9wZXJhdGlvbihuW24ubGVuZ3RoLTJdKSxvLmFkZE9wZXJhdGlvbihuW24ubGVuZ3RoLTFdKSxpLmNvbmNhdChvKTtjYXNlIFVhOnJldHVybihvPW5bMF1pbnN0YW5jZW9mIE9hP25ldyBEYTpuZXcgVWEpLmFkZE9wZXJhdGlvbihuWzBdKSxbb107Y2FzZSBCYTpmb3Iocj0wO3I8bi5sZW5ndGgmJm5bcl1pbnN0YW5jZW9mIE9hO3IrKyk7cj09bi5sZW5ndGg/bz1uZXcgRGE6KG89bmV3IEJhLDAhPXImJm4udW5zaGlmdChuLnNwbGljZShyLDEpWzBdKSk7Zm9yKGNvbnN0IHQgb2YgbilvLmFkZE9wZXJhdGlvbih0KTtyZXR1cm5bb107ZGVmYXVsdDpvPW5ldyBlO2Zvcihjb25zdCB0IG9mIG4pby5hZGRPcGVyYXRpb24odCk7cmV0dXJuW29dfX0odC5jb25zdHJ1Y3RvcixpKX0sYWRkVHJhbnNmb3JtYXRpb25DYXNlKHQsZSxuKXtsZXQgaT1ZZC5nZXQodCk7aXx8KGk9bmV3IE1hcCxZZC5zZXQodCxpKSksaS5zZXQoZSxuKX0sZ2V0VHJhbnNmb3JtYXRpb25DYXNlKHQsZSl7bGV0IG49WWQuZ2V0KHQuY29uc3RydWN0b3IpO2lmKCFufHwhbi5nZXQoZS5jb25zdHJ1Y3Rvcikpe2NvbnN0IGk9WWQua2V5cygpO2Zvcihjb25zdCBvIG9mIGkpaWYodCBpbnN0YW5jZW9mIG8mJllkLmdldChvKS5nZXQoZS5jb25zdHJ1Y3Rvcikpe249WWQuZ2V0KG8pO2JyZWFrfX1pZihuKXJldHVybiBuLmdldChlLmNvbnN0cnVjdG9yKX0sdHJhbnNmb3JtRGVsdGFTZXRzKHQsZSxuPW51bGwpe2NvbnN0IGk9QXJyYXkuZnJvbSh0KSxvPUFycmF5LmZyb20oZSkscj1udWxsIT09bixzPXtpc1N0cm9uZzohMH07aWYocil7cy53YXNBZmZlY3RlZD1uZXcgTWFwLHMub3JpZ2luYWxEZWx0YT1uZXcgTWFwLHMuZG9jdW1lbnQ9bixzLnVuZG9Nb2RlPSEwO2Zvcihjb25zdCB0IG9mIG8pcy5vcmlnaW5hbERlbHRhLnNldCh0LHQpfWZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBlPVtpW3RdXTtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3Qgbj1bb1t0XV07Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspe3ImJm51KGVbdF0sbltpXSxzKTtjb25zdCBvPVhkLnRyYW5zZm9ybShlW3RdLG5baV0se2luc2VydEJlZm9yZTpzLmluc2VydEJlZm9yZSxmb3JjZU5vdFN0aWNreTpzLmZvcmNlTm90U3RpY2t5LGlzU3Ryb25nOnMuaXNTdHJvbmcsZm9yY2VXZWFrUmVtb3ZlOnMuZm9yY2VXZWFrUmVtb3ZlLHVuZG9Nb2RlOnMudW5kb01vZGV9KSxhPVhkLnRyYW5zZm9ybShuW2ldLGVbdF0se2luc2VydEJlZm9yZTohcy5pbnNlcnRCZWZvcmUsZm9yY2VOb3RTdGlja3k6cy5mb3JjZU5vdFN0aWNreSxpc1N0cm9uZzohcy5pc1N0cm9uZyxmb3JjZVdlYWtSZW1vdmU6cy5mb3JjZVdlYWtSZW1vdmUsdW5kb01vZGU6cy51bmRvTW9kZX0pO2lmKHIpe291KGVbdF0sbyxzKTtjb25zdCByPXMub3JpZ2luYWxEZWx0YS5nZXQobltpXSk7Zm9yKGNvbnN0IHQgb2YgYSlzLm9yaWdpbmFsRGVsdGEuc2V0KHQscil9ZS5zcGxpY2UodCwxLC4uLm8pLHQrPW8ubGVuZ3RoLTEsbi5zcGxpY2UoaSwxLC4uLmEpLGkrPWEubGVuZ3RoLTF9by5zcGxpY2UodCwxLC4uLm4pLHQrPW4ubGVuZ3RoLTF9aS5zcGxpY2UodCwxLC4uLmUpLHQrPWUubGVuZ3RoLTF9Y29uc3QgYT10dShpKS10dSh0KSxjPXR1KG8pLXR1KGUpO3JldHVybiBjPGE/ZXUobyxhLWMpOmE8YyYmZXUoaSxjLWEpLHtkZWx0YXNBOmksZGVsdGFzQjpvfX19O3ZhciBaZD1YZDtmdW5jdGlvbiB0dSh0KXtyZXR1cm4gdC5yZWR1Y2UoKHQsZSk9PnQrZS5vcGVyYXRpb25zLmxlbmd0aCwwKX1mdW5jdGlvbiBldSh0LGUpe2NvbnN0IG49dFt0Lmxlbmd0aC0xXTtsZXQgaT1uLm9wZXJhdGlvbnMubGVuZ3RoK24uYmFzZVZlcnNpb247Y29uc3Qgbz1uZXcgRGE7Zm9yKGxldCB0PTA7dDxlO3QrKylvLmFkZE9wZXJhdGlvbihuZXcgT2EoaSsrKSk7dC5wdXNoKG8pfWZ1bmN0aW9uIG51KHQsZSxuKXshZnVuY3Rpb24odCxlLG4pe24ud2FzQWZmZWN0ZWQuZ2V0KHQpfHxuLndhc0FmZmVjdGVkLnNldCh0LG5ldyBNYXApO2NvbnN0IGk9bi5vcmlnaW5hbERlbHRhLmdldChlKTtsZXQgbz0hIW4ud2FzQWZmZWN0ZWQuZ2V0KHQpLmdldChpKTtmb3IoY29uc3QgbiBvZiB0Lm9wZXJhdGlvbnMpe2Zvcihjb25zdCB0IG9mIGUub3BlcmF0aW9ucylpZihuIGluc3RhbmNlb2YgQ2EmJnQgaW5zdGFuY2VvZiBDYSYmaXUobix0KSl7bz0hMDticmVha31pZihvKWJyZWFrfW4ud2FzQWZmZWN0ZWQuZ2V0KHQpLnNldChpLG8pfSh0LGUsbiksZnVuY3Rpb24odCxlLG4pe2NvbnN0IGk9bi5vcmlnaW5hbERlbHRhLmdldChlKTtpZihuLmRvY3VtZW50Lmhpc3RvcnkuaXNVbmRvaW5nRGVsdGEoaSkpe2NvbnN0IGU9bi5kb2N1bWVudC5oaXN0b3J5LmdldFVuZG9uZURlbHRhKGkpLG89bi53YXNBZmZlY3RlZC5nZXQodCkscj1vLmdldChlKTt2b2lkIDAhPT1yJiYobi5pbnNlcnRCZWZvcmU9cil9fSh0LGUsbiksZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuZG9jdW1lbnQuaGlzdG9yeSxpPWUub3JpZ2luYWxEZWx0YS5nZXQodCk7ZS5mb3JjZVdlYWtSZW1vdmU9bi5pc1VuZG9uZURlbHRhKGkpfShlLG4pLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLm9yaWdpbmFsRGVsdGEuZ2V0KHQpLGk9ZS5kb2N1bWVudC5oaXN0b3J5O2UuZm9yY2VOb3RTdGlja3k9aS5pc1VuZG9uZURlbHRhKG4pfHxpLmlzVW5kb2luZ0RlbHRhKG4pfShlLG4pfWZ1bmN0aW9uIGl1KHQsZSl7Y29uc3Qgbj10LnRhcmdldFBvc2l0aW9uLGk9ZS5zb3VyY2VQb3NpdGlvbixvPUVuKGkuZ2V0UGFyZW50UGF0aCgpLG4uZ2V0UGFyZW50UGF0aCgpKTtyZXR1cm4gbi5yb290PT1pLnJvb3QmJihcInNhbWVcIj09byYmaS5vZmZzZXQ8bi5vZmZzZXQpfWZ1bmN0aW9uIG91KHQsZSxuKXtkZWxldGUgbi5pbnNlcnRCZWZvcmUsZGVsZXRlIG4uZm9yY2VOb3RTdGlja3ksZGVsZXRlIG4uZm9yY2VXZWFrUmVtb3ZlO2NvbnN0IGk9bi53YXNBZmZlY3RlZC5nZXQodCk7bi53YXNBZmZlY3RlZC5kZWxldGUodCk7Zm9yKGNvbnN0IHQgb2YgZSluLndhc0FmZmVjdGVkLnNldCh0LG5ldyBNYXAoaSkpfWNsYXNzIHJ1IGV4dGVuZHMgRGF7Z2V0IHR5cGUoKXtyZXR1cm5cIm1hcmtlclwifWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gcnV9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5kZWx0YS5NYXJrZXJEZWx0YVwifX1OYS5yZWdpc3RlcihydSk7Y29uc3Qgc3U9WmQuYWRkVHJhbnNmb3JtYXRpb25DYXNlLGF1PVpkLmRlZmF1bHRUcmFuc2Zvcm07ZnVuY3Rpb24gY3UodCxlKXtjb25zdCBuPXQuY2xvbmUoKSxpPW4ub3BlcmF0aW9uc1swXTtyZXR1cm4gaS5vbGRSYW5nZSYmKGkub2xkUmFuZ2U9aS5vbGRSYW5nZS5nZXRUcmFuc2Zvcm1lZEJ5RGVsdGEoZSlbMF0pLGkubmV3UmFuZ2UmJihpLm5ld1JhbmdlPWkubmV3UmFuZ2UuZ2V0VHJhbnNmb3JtZWRCeURlbHRhKGUpWzBdKSxbbl19ZnVuY3Rpb24gbHUodCxlKXtjb25zdCBuPW5ldyBCYSxpPXQubm9kZXM7bGV0IG89aS5nZXROb2RlKDApLmdldEF0dHJpYnV0ZShlLmtleSkscj0wLHM9aS5nZXROb2RlKDApLm9mZnNldFNpemU7Zm9yKGxldCB0PTE7dDxpLmxlbmd0aDt0Kyspe2NvbnN0IG49aS5nZXROb2RlKHQpLGM9bi5nZXRBdHRyaWJ1dGUoZS5rZXkpO2MhPW8mJihvIT1lLnZhbHVlJiZhKCksbz1jLHI9cykscys9bi5vZmZzZXRTaXplfXJldHVybiBhKCksbjtmdW5jdGlvbiBhKCl7Y29uc3QgaT1uZXcgd3ModC5wb3NpdGlvbi5nZXRTaGlmdGVkQnkociksdC5wb3NpdGlvbi5nZXRTaGlmdGVkQnkocykpLGE9bmV3IEFhKGksZS5rZXksbyxlLnZhbHVlLDApO24uYWRkT3BlcmF0aW9uKGEpfX1mdW5jdGlvbiBkdSgpe2NvbnN0IHQ9bmV3IERhO3JldHVybiB0LmFkZE9wZXJhdGlvbihuZXcgT2EoMCkpLHR9c3UoQmEsS2EsKHQsZSxuKT0+e2NvbnN0IGk9YXUodCxlLG4pO3JldHVybiB0LnJhbmdlLmNvbnRhaW5zUG9zaXRpb24oZS5wb3NpdGlvbikmJmkucHVzaChsdShlLHQpKSxpfSksc3UoQmEsTGEsKHQsZSxuKT0+e2lmKCFlLnBvc2l0aW9uKXJldHVybiBhdSh0LGUsbik7Y29uc3QgaT1uLnVuZG9Nb2RlLG89bmV3IGJzKGUucG9zaXRpb24ucm9vdCxlLnBvc2l0aW9uLnBhdGguc2xpY2UoMCwtMSkpLHI9YXUodCxlLG4pO2lmKGl8fCEoZS5fY2xvbmVPcGVyYXRpb24gaW5zdGFuY2VvZiBFYSkpcmV0dXJuIHI7Zm9yKGNvbnN0IG4gb2YgdC5vcGVyYXRpb25zKWlmKG4ucmFuZ2UuY29udGFpbnNQb3NpdGlvbihvKXx8bi5yYW5nZS5zdGFydC5pc0VxdWFsKG8pKXtjb25zdCB0PW5ldyBCYSxpPW8uZ2V0U2hpZnRlZEJ5KDEpLHM9YnMuY3JlYXRlRnJvbVBvc2l0aW9uKGkpO3MucGF0aC5wdXNoKDApO2NvbnN0IGE9ZS5fY2xvbmVPcGVyYXRpb24ubm9kZXMuZ2V0Tm9kZSgwKS5nZXRBdHRyaWJ1dGUobi5rZXkpO3QuYWRkT3BlcmF0aW9uKG5ldyBBYShuZXcgd3MoaSxzKSxuLmtleSx2b2lkIDA9PT1hP251bGw6YSxuLm5ld1ZhbHVlLDApKSxyLnB1c2godCk7YnJlYWt9cmV0dXJuIHJ9KSxzdSgkYSxqYSwodCxlLG4pPT57aWYoIWUucG9zaXRpb24pcmV0dXJuIGF1KHQsZSxuKTtyZXR1cm4hbi51bmRvTW9kZSYmdC5wb3NpdGlvbi5pc0VxdWFsKGUucG9zaXRpb24pP1tlLmdldFJldmVyc2VkKCksdC5jbG9uZSgpXTphdSh0LGUsbil9KSxzdShydSxMYSxjdSksc3UocnUsamEsY3UpLHN1KHJ1LEhhLGN1KSxzdShydSxXYSxjdSksc3UocnUsemEsY3UpLHN1KHJ1LFVhLGN1KSxzdSh6YSxqYSwodCxlLG4pPT57aWYobi51bmRvTW9kZXx8IWUucG9zaXRpb24pcmV0dXJuIGF1KHQsZSxuKTtjb25zdCBpPXQuc291cmNlUG9zaXRpb24ucm9vdD09ZS5wb3NpdGlvbi5yb290JiZcInNhbWVcIj09PUVuKHQuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLGUucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSxvPXQuc291cmNlUG9zaXRpb24ub2Zmc2V0PD1lLnBvc2l0aW9uLm9mZnNldCYmdC5zb3VyY2VQb3NpdGlvbi5vZmZzZXQrdC5ob3dNYW55PmUucG9zaXRpb24ub2Zmc2V0O3JldHVybiBpJiZvP1tlLmdldFJldmVyc2VkKCksdC5jbG9uZSgpXTphdSh0LGUsbil9KSxzdShqYSwkYSwodCxlLG4pPT57aWYoIXQucG9zaXRpb24pcmV0dXJuIGF1KHQsZSxuKTtyZXR1cm4hbi51bmRvTW9kZSYmdC5wb3NpdGlvbi5pc0VxdWFsKGUucG9zaXRpb24pP1tkdSgpXTphdSh0LGUsbil9KSxzdShqYSx6YSwodCxlLG4pPT57aWYobi51bmRvTW9kZXx8IXQucG9zaXRpb24pcmV0dXJuIGF1KHQsZSxuKTtjb25zdCBpPXQucG9zaXRpb24ucm9vdD09ZS5zb3VyY2VQb3NpdGlvbi5yb290JiZcInNhbWVcIj09PUVuKHQucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLGUuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSxvPWUuc291cmNlUG9zaXRpb24ub2Zmc2V0PD10LnBvc2l0aW9uLm9mZnNldCYmZS5zb3VyY2VQb3NpdGlvbi5vZmZzZXQrZS5ob3dNYW55PnQucG9zaXRpb24ub2Zmc2V0O3JldHVybiBpJiZvP1tkdSgpXTphdSh0LGUsbil9KSxzdShMYSxMYSwodCxlLG4pPT57aWYobi51bmRvTW9kZSlyZXR1cm4gYXUodCxlLG4pO2lmKCF0LnBvc2l0aW9ufHwhZS5wb3NpdGlvbilyZXR1cm4gYXUodCxlLG4pO2NvbnN0IGk9dC5wb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCksbz1lLnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKTtpZih0LnBvc2l0aW9uLnJvb3Q9PWUucG9zaXRpb24ucm9vdCYmXCJzYW1lXCI9PUVuKGksbykpe2lmKCh0PXQuY2xvbmUoKSkucG9zaXRpb24ub2Zmc2V0PGUucG9zaXRpb24ub2Zmc2V0fHx0LnBvc2l0aW9uLm9mZnNldD09ZS5wb3NpdGlvbi5vZmZzZXQmJm4uaXNTdHJvbmcpe3QuX2Nsb25lT3BlcmF0aW9uIGluc3RhbmNlb2YgVGEmJmUuX2Nsb25lT3BlcmF0aW9uIGluc3RhbmNlb2YgVGEmJnQuX2Nsb25lT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uLm9mZnNldD5lLl9jbG9uZU9wZXJhdGlvbi5zb3VyY2VQb3NpdGlvbi5vZmZzZXQmJnQuX2Nsb25lT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uLm9mZnNldC0tO2NvbnN0IG49d3MuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5wb3NpdGlvbix0Ll9tb3ZlT3BlcmF0aW9uLmhvd01hbnkpLGk9d3MuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5wb3NpdGlvbixlLl9tb3ZlT3BlcmF0aW9uLmhvd01hbnkpLG89bi5nZXREaWZmZXJlbmNlKGkpO2xldCByPTA7Zm9yKGNvbnN0IHQgb2YgbylyKz10LmVuZC5vZmZzZXQtdC5zdGFydC5vZmZzZXQ7cmV0dXJuIDA9PT1yPyh0Lm9wZXJhdGlvbnMucG9wKCksdC5hZGRPcGVyYXRpb24obmV3IE9hKHQub3BlcmF0aW9uc1swXS5iYXNlVmVyc2lvbisxKSkpOnQub3BlcmF0aW9uc1sxXS5ob3dNYW55PXIsW3RdfXtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sbik7cmV0dXJuIGkuaXNTdHJvbmc9ITAsaS5pbnNlcnRCZWZvcmU9ITAsYXUodCxlLGkpfX1yZXR1cm4gYXUodCxlLG4pfSksc3UoTGEsV2EsKHQsZSxuKT0+dC5wb3NpdGlvbiYmdC5wb3NpdGlvbi5yb290PT1lLnBvc2l0aW9uLnJvb3QmJlwic2FtZVwiPT09RW4oZS5wb3NpdGlvbi5wYXRoLHQucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKT9bZHUoKV06YXUodCxlLG4pKSxzdShMYSxIYSwodCxlLG4pPT57aWYoIXQucG9zaXRpb24pcmV0dXJuIGF1KHQsZSxuKTtjb25zdCBpPXQucG9zaXRpb24ucm9vdD09ZS5yYW5nZS5zdGFydC5yb290LG89aSYmXCJzYW1lXCI9PT1Fbih0LnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSxlLnJhbmdlLnN0YXJ0LmdldFBhcmVudFBhdGgoKSkscj1lLnJhbmdlLnN0YXJ0Lm9mZnNldDx0LnBvc2l0aW9uLm9mZnNldCYmZS5yYW5nZS5lbmQub2Zmc2V0Pj10LnBvc2l0aW9uLm9mZnNldDtpZihvJiZyKXJldHVybltkdSgpXTtpZihpJiZcInNhbWVcIj09PUVuKHQucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLGUucmFuZ2UuZW5kLmdldFNoaWZ0ZWRCeSgtMSkucGF0aCkpe2NvbnN0IG49dC5jbG9uZSgpLGk9YnMuY3JlYXRlRnJvbVBvc2l0aW9uKGUucmFuZ2Uuc3RhcnQpO2kucGF0aC5wdXNoKGUuaG93TWFueS0xKTtjb25zdCBvPWkuZ2V0U2hpZnRlZEJ5KDEpO24uX2Nsb25lT3BlcmF0aW9uLnBvc2l0aW9uPW87Y29uc3Qgcj1icy5jcmVhdGVGcm9tUG9zaXRpb24oaSk7ci5wYXRoLnB1c2godC5wb3NpdGlvbi5vZmZzZXQpLG4uX21vdmVPcGVyYXRpb24uc291cmNlUG9zaXRpb249cjtjb25zdCBzPWJzLmNyZWF0ZUZyb21Qb3NpdGlvbihvKTtyZXR1cm4gcy5wYXRoLnB1c2goMCksbi5fbW92ZU9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbj1zLFtuXX1yZXR1cm4gYXUodCxlLG4pfSksc3UoTGEsQmEsKHQsZSxuKT0+e2lmKCF0LnBvc2l0aW9uKXJldHVybiBhdSh0LGUsbik7dD10LmNsb25lKCk7Y29uc3QgaT1uLnVuZG9Nb2RlLG89bmV3IGJzKHQucG9zaXRpb24ucm9vdCx0LnBvc2l0aW9uLnBhdGguc2xpY2UoMCwtMSkpO2lmKGl8fCEodC5fY2xvbmVPcGVyYXRpb24gaW5zdGFuY2VvZiBFYSkpcmV0dXJuW3RdO2Zvcihjb25zdCBuIG9mIGUub3BlcmF0aW9ucylpZihuLnJhbmdlLmNvbnRhaW5zUG9zaXRpb24obyl8fG4ucmFuZ2Uuc3RhcnQuaXNFcXVhbChvKSl7bnVsbCE9PW4ubmV3VmFsdWU/dC5fY2xvbmVPcGVyYXRpb24ubm9kZXMuZ2V0Tm9kZSgwKS5fc2V0QXR0cmlidXRlKG4ua2V5LG4ubmV3VmFsdWUpOnQuX2Nsb25lT3BlcmF0aW9uLm5vZGVzLmdldE5vZGUoMCkuX3JlbW92ZUF0dHJpYnV0ZShuLmtleSk7YnJlYWt9cmV0dXJuW3RdfSksc3UoV2EsTGEsKHQsZSxuKT0+ZS5wb3NpdGlvbiYmdC5wb3NpdGlvbi5yb290PT1lLnBvc2l0aW9uLnJvb3QmJlwic2FtZVwiPT09RW4odC5wb3NpdGlvbi5wYXRoLGUucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKT9bZS5nZXRSZXZlcnNlZCgpLHQuY2xvbmUoKV06YXUodCxlLG4pKSxzdShLYSxCYSwodCxlKT0+e2NvbnN0IG49W3QuY2xvbmUoKV07cmV0dXJuIGUucmFuZ2UuY29udGFpbnNQb3NpdGlvbih0LnBvc2l0aW9uKSYmbi5wdXNoKGx1KHQsZSkpLG59KSxzdShIYSxMYSwodCxlLG4pPT57aWYoIWUucG9zaXRpb24pcmV0dXJuIGF1KHQsZSxuKTtjb25zdCBpPXQucmFuZ2Uuc3RhcnQucm9vdD09ZS5wb3NpdGlvbi5yb290LG89aSYmXCJzYW1lXCI9PT1Fbih0LnJhbmdlLnN0YXJ0LmdldFBhcmVudFBhdGgoKSxlLnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSkscj10LnJhbmdlLnN0YXJ0Lm9mZnNldDxlLnBvc2l0aW9uLm9mZnNldCYmdC5yYW5nZS5lbmQub2Zmc2V0Pj1lLnBvc2l0aW9uLm9mZnNldDtpZihvJiZyKXJldHVybltlLmdldFJldmVyc2VkKCksdC5jbG9uZSgpXTtpZihpJiZcInNhbWVcIj09PUVuKGUucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHQucmFuZ2UuZW5kLmdldFNoaWZ0ZWRCeSgtMSkucGF0aCkpe2NvbnN0IGU9dC5jbG9uZSgpO3JldHVybiBlLl9pbnNlcnRPcGVyYXRpb24ucG9zaXRpb24ub2Zmc2V0KyssZS5fbW92ZU9wZXJhdGlvbi5ob3dNYW55KyssZS5fbW92ZU9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbi5wYXRoW2UuX21vdmVPcGVyYXRpb24udGFyZ2V0UG9zaXRpb24ucGF0aC5sZW5ndGgtMl0rKyxbZV19cmV0dXJuIGF1KHQsZSxuKX0pLHN1KFVhLExhLCh0LGUsbik9Pntjb25zdCBpPW4udW5kb01vZGUsbz1hdSh0LGUsbik7aWYoaXx8IShlLl9jbG9uZU9wZXJhdGlvbiBpbnN0YW5jZW9mIEVhKSlyZXR1cm4gbztjb25zdCByPWUuX2Nsb25lT3BlcmF0aW9uLnBvc2l0aW9uLmdldFNoaWZ0ZWRCeSgtMSk7aWYociYmdC5vcGVyYXRpb25zWzBdLnBvc2l0aW9uLmlzRXF1YWwocikpe2NvbnN0IGU9dC5jbG9uZSgpO2Uub3BlcmF0aW9uc1swXS5wb3NpdGlvbj1yLmdldFNoaWZ0ZWRCeSgxKSxvLnB1c2goZSl9cmV0dXJuIG99KSxzdShMYSxVYSwodCxlLG4pPT57dD10LmNsb25lKCk7Y29uc3QgaT1uLnVuZG9Nb2RlO2lmKGl8fCEodC5fY2xvbmVPcGVyYXRpb24gaW5zdGFuY2VvZiBFYSkpcmV0dXJuW3RdO2NvbnN0IG89dC5fY2xvbmVPcGVyYXRpb24ucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KC0xKTtpZihvJiYhaSYmZS5vcGVyYXRpb25zWzBdLnBvc2l0aW9uLmlzRXF1YWwobykpe2NvbnN0IG49ZS5jbG9uZSgpO3JldHVybiBuLm9wZXJhdGlvbnNbMF0ucG9zaXRpb249by5nZXRTaGlmdGVkQnkoMSksbi5vcGVyYXRpb25zWzBdLm9sZE5hbWU9dC5fY2xvbmVPcGVyYXRpb24ubm9kZXMuZ2V0Tm9kZSgwKS5uYW1lLFt0LG5dfXJldHVyblt0XX0pLHN1KHFhLExhLCh0LGUsbik9Pntjb25zdCBpPWF1KHQsZSxuKSxvPWUuX2Nsb25lT3BlcmF0aW9uLnBvc2l0aW9ufHxlLl9jbG9uZU9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbjtpZighbylyZXR1cm4gYXUodCxlLG4pO2lmKG4udW5kb01vZGUpcmV0dXJuIGk7Zm9yKGNvbnN0IHQgb2YgaSlpZih0IGluc3RhbmNlb2YgcWEpe2NvbnN0IGU9dC5fbW92ZU9wZXJhdGlvbjtlLnNvdXJjZVBvc2l0aW9uLmdldFNoaWZ0ZWRCeShlLmhvd01hbnkpLmlzRXF1YWwobykmJihlLmhvd01hbnkrPTEpfXJldHVybiBpfSksc3UoTGEscWEsKHQsZSxuKT0+e2lmKG4udW5kb01vZGUpcmV0dXJuIGF1KHQsZSxuKTtjb25zdCBpPXQuX2Nsb25lT3BlcmF0aW9uLnBvc2l0aW9ufHx0Ll9jbG9uZU9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbjtpZighaSlyZXR1cm4gYXUodCxlLG4pO2NvbnN0IG89KGU9ZS5jbG9uZSgpKS5fbW92ZU9wZXJhdGlvbjtyZXR1cm4gby5zb3VyY2VQb3NpdGlvbi5nZXRTaGlmdGVkQnkoby5ob3dNYW55KS5pc0VxdWFsKGkpJiYoby5ob3dNYW55Kz0xKSxhdSh0LGUsbil9KTtjbGFzcyB1dXtjb25zdHJ1Y3Rvcih0PVwiZGVmYXVsdFwiKXt0aGlzLmRlbHRhcz1bXSx0aGlzLnR5cGU9dH1nZXQgYmFzZVZlcnNpb24oKXtmb3IoY29uc3QgdCBvZiB0aGlzLmRlbHRhcylpZihudWxsIT09dC5iYXNlVmVyc2lvbilyZXR1cm4gdC5iYXNlVmVyc2lvbjtyZXR1cm4gbnVsbH1hZGREZWx0YSh0KXtyZXR1cm4gdC5iYXRjaD10aGlzLHRoaXMuZGVsdGFzLnB1c2godCksdH0qZ2V0T3BlcmF0aW9ucygpe2Zvcihjb25zdCB0IG9mIHRoaXMuZGVsdGFzKXlpZWxkKnQub3BlcmF0aW9uc319Y2xhc3MgaHUgZXh0ZW5kcyBEYXtzdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiZW5naW5lLm1vZGVsLmRlbHRhLlJvb3RBdHRyaWJ1dGVEZWx0YVwifX1OYS5yZWdpc3RlcihodSk7Y2xhc3MgZnUgZXh0ZW5kcyBtYXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKG51bGwpLHRoaXMuc291cmNlUG9zaXRpb249YnMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLHRoaXMuaG93TWFueT1lfWdldCB0eXBlKCl7cmV0dXJuXCJkZXRhY2hcIn1fdmFsaWRhdGUoKXtpZih0aGlzLnNvdXJjZVBvc2l0aW9uLnJvb3QuZG9jdW1lbnQpdGhyb3cgbmV3IG0uYihcImRldGFjaC1vcGVyYXRpb24tb24tZG9jdW1lbnQtbm9kZTogQ2Fubm90IGRldGFjaCBkb2N1bWVudCBub2RlLlwiKX1fZXhlY3V0ZSgpe3dhKHdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55KSl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cImVuZ2luZS5tb2RlbC5vcGVyYXRpb24uRGV0YWNoT3BlcmF0aW9uXCJ9fWNsYXNzIHB1IGV4dGVuZHMgZnN7Y29uc3RydWN0b3IodCxlLG49XCJtYWluXCIpe3N1cGVyKGUpLHRoaXMuX2RvYz10LHRoaXMucm9vdE5hbWU9bn1nZXQgZG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5fZG9jfWlzKHQsZSl7cmV0dXJuIGU/XCJyb290RWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSk6XCJyb290RWxlbWVudFwiPT10fHxzdXBlci5pcyh0KX10b0pTT04oKXtyZXR1cm4gdGhpcy5yb290TmFtZX19Y2xhc3MgbXV7Y29uc3RydWN0b3IodCxlKXt0aGlzLm1vZGVsPXQsdGhpcy5iYXRjaD1lfWNyZWF0ZVRleHQodCxlKXtyZXR1cm4gbmV3IGRzKHQsZSl9Y3JlYXRlRWxlbWVudCh0LGUpe3JldHVybiBuZXcgZnModCxlKX1jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl7cmV0dXJuIG5ldyBnYX1pbnNlcnQodCxlLG4pe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBpPWJzLmNyZWF0ZUF0KGUsbiksbz10IGluc3RhbmNlb2YgZHMmJiF0LnBhcmVudD9uZXcgS2E6bmV3ICRhO2lmKHQucGFyZW50KXtpZihfdSh0LnJvb3QsaS5yb290KSlyZXR1cm4gdm9pZCB0aGlzLm1vdmUod3MuY3JlYXRlT24odCksaSk7aWYodC5yb290LmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIm1vZGVscy13cml0ZXItaW5zZXJ0LWZvcmJpZGRlbi1tb3ZlOiBDYW5ub3QgbW92ZSBhIG5vZGUgZnJvbSBhIGRvY3VtZW50IHRvIGEgZGlmZmVyZW50IHRyZWUuXCIpO3RoaXMucmVtb3ZlKHQpfWNvbnN0IHI9aS5yb290LmRvY3VtZW50P2kucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwscz1uZXcgRWEoaSx0LHIpO2lmKHRoaXMuYmF0Y2guYWRkRGVsdGEobyksby5hZGRPcGVyYXRpb24ocyksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihzKSx0IGluc3RhbmNlb2YgZ2EpZm9yKGNvbnN0W2Usbl1vZiB0Lm1hcmtlcnMpe2NvbnN0IHQ9YnMuY3JlYXRlQXQobi5yb290KSxvPW5ldyB3cyhuLnN0YXJ0Ll9nZXRDb21iaW5lZCh0LGkpLG4uZW5kLl9nZXRDb21iaW5lZCh0LGkpKTt0aGlzLmFkZE1hcmtlcihlLHtyYW5nZTpvLHVzaW5nT3BlcmF0aW9uOiEwfSl9fWluc2VydFRleHQodCxlLG4saSl7ZSBpbnN0YW5jZW9mIGdhfHxlIGluc3RhbmNlb2YgZnN8fGUgaW5zdGFuY2VvZiBicz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCksZSxuKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCxlKSxuLGkpfWluc2VydEVsZW1lbnQodCxlLG4saSl7ZSBpbnN0YW5jZW9mIGdhfHxlIGluc3RhbmNlb2YgZnN8fGUgaW5zdGFuY2VvZiBicz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQodCksZSxuKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQodCxlKSxuLGkpfWFwcGVuZCh0LGUpe3RoaXMuaW5zZXJ0KHQsZSxcImVuZFwiKX1hcHBlbmRUZXh0KHQsZSxuKXtlIGluc3RhbmNlb2YgZ2F8fGUgaW5zdGFuY2VvZiBmcz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCksZSxcImVuZFwiKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCxlKSxuLFwiZW5kXCIpfWFwcGVuZEVsZW1lbnQodCxlLG4pe2UgaW5zdGFuY2VvZiBnYXx8ZSBpbnN0YW5jZW9mIGZzP3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudCh0KSxlLFwiZW5kXCIpOnRoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudCh0LGUpLG4sXCJlbmRcIil9c2V0QXR0cmlidXRlKHQsZSxuKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksbiBpbnN0YW5jZW9mIHdzP2d1KHRoaXMsdCxlLG4pOmJ1KHRoaXMsdCxlLG4pfXNldEF0dHJpYnV0ZXModCxlKXtmb3IoY29uc3RbbixpXW9mIGNzKHQpKXRoaXMuc2V0QXR0cmlidXRlKG4saSxlKX1yZW1vdmVBdHRyaWJ1dGUodCxlKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksZSBpbnN0YW5jZW9mIHdzP2d1KHRoaXMsdCxudWxsLGUpOmJ1KHRoaXMsdCxudWxsLGUpfWNsZWFyQXR0cmlidXRlcyh0KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgZT10PT57Zm9yKGNvbnN0IGUgb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpdGhpcy5yZW1vdmVBdHRyaWJ1dGUoZSx0KX07aWYodCBpbnN0YW5jZW9mIHdzKWZvcihjb25zdCBuIG9mIHQuZ2V0SXRlbXMoKSllKG4pO2Vsc2UgZSh0KX1tb3ZlKHQsZSxuKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksISh0IGluc3RhbmNlb2Ygd3MpKXRocm93IG5ldyBtLmIoXCJ3cml0ZXItbW92ZS1pbnZhbGlkLXJhbmdlOiBJbnZhbGlkIHJhbmdlIHRvIG1vdmUuXCIpO2lmKCF0LmlzRmxhdCl0aHJvdyBuZXcgbS5iKFwid3JpdGVyLW1vdmUtcmFuZ2Utbm90LWZsYXQ6IFJhbmdlIHRvIG1vdmUgaXMgbm90IGZsYXQuXCIpO2NvbnN0IGk9YnMuY3JlYXRlQXQoZSxuKTtpZighX3UodC5yb290LGkucm9vdCkpdGhyb3cgbmV3IG0uYihcIndyaXRlci1tb3ZlLWRpZmZlcmVudC1kb2N1bWVudDogUmFuZ2UgaXMgZ29pbmcgdG8gYmUgbW92ZWQgYmV0d2VlbiBkaWZmZXJlbnQgZG9jdW1lbnRzLlwiKTtjb25zdCBvPW5ldyB6YTt0aGlzLmJhdGNoLmFkZERlbHRhKG8pO2NvbnN0IHI9dC5yb290LmRvY3VtZW50P3Qucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwscz1uZXcgQ2EodC5zdGFydCx0LmVuZC5vZmZzZXQtdC5zdGFydC5vZmZzZXQsaSxyKTtvLmFkZE9wZXJhdGlvbihzKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKHMpfXJlbW92ZSh0KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgZT0odCxlKT0+e2NvbnN0IG49bmV3IHFhO3RoaXMuYmF0Y2guYWRkRGVsdGEobiksdnUodCxlLG4sdGhpcy5tb2RlbCl9O2lmKHQgaW5zdGFuY2VvZiB3cyl7Y29uc3Qgbj10LmdldE1pbmltYWxGbGF0UmFuZ2VzKCkucmV2ZXJzZSgpO2Zvcihjb25zdCB0IG9mIG4pZSh0LnN0YXJ0LHQuZW5kLm9mZnNldC10LnN0YXJ0Lm9mZnNldCl9ZWxzZXtjb25zdCBuPXQuaXMoXCJ0ZXh0XCIpP3Qub2Zmc2V0U2l6ZToxO2UoYnMuY3JlYXRlQmVmb3JlKHQpLG4pfX1tZXJnZSh0KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgZT1uZXcgamE7dGhpcy5iYXRjaC5hZGREZWx0YShlKTtjb25zdCBuPXQubm9kZUJlZm9yZSxpPXQubm9kZUFmdGVyO2lmKCEobiBpbnN0YW5jZW9mIGZzKSl0aHJvdyBuZXcgbS5iKFwid3JpdGVyLW1lcmdlLW5vLWVsZW1lbnQtYmVmb3JlOiBOb2RlIGJlZm9yZSBtZXJnZSBwb3NpdGlvbiBtdXN0IGJlIGFuIGVsZW1lbnQuXCIpO2lmKCEoaSBpbnN0YW5jZW9mIGZzKSl0aHJvdyBuZXcgbS5iKFwid3JpdGVyLW1lcmdlLW5vLWVsZW1lbnQtYWZ0ZXI6IE5vZGUgYWZ0ZXIgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LlwiKTtjb25zdCBvPWJzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQoaSwwKSxyPWJzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQobixuLm1heE9mZnNldCkscz10LnJvb3QuZG9jdW1lbnQ/dC5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxhPW5ldyBDYShvLGkubWF4T2Zmc2V0LHIscyk7YS5pc1N0aWNreT0hMCxlLmFkZE9wZXJhdGlvbihhKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKGEpLHZ1KHQsMSxlLHRoaXMubW9kZWwpfXJlbmFtZSh0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhKHQgaW5zdGFuY2VvZiBmcykpdGhyb3cgbmV3IG0uYihcIndyaXRlci1yZW5hbWUtbm90LWVsZW1lbnQtaW5zdGFuY2U6IFRyeWluZyB0byByZW5hbWUgYW4gb2JqZWN0IHdoaWNoIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBFbGVtZW50LlwiKTtjb25zdCBuPW5ldyBVYTt0aGlzLmJhdGNoLmFkZERlbHRhKG4pO2NvbnN0IGk9dC5yb290LmRvY3VtZW50P3Qucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwsbz1uZXcgUmEoYnMuY3JlYXRlQmVmb3JlKHQpLHQubmFtZSxlLGkpO24uYWRkT3BlcmF0aW9uKG8pLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24obyl9c3BsaXQodCxlKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7bGV0IG4saSxvPXQucGFyZW50O2lmKCFvLnBhcmVudCl0aHJvdyBuZXcgbS5iKFwid3JpdGVyLXNwbGl0LWVsZW1lbnQtbm8tcGFyZW50OiBFbGVtZW50IHdpdGggbm8gcGFyZW50IGNhbiBub3QgYmUgc3BsaXQuXCIpO2lmKGV8fChlPW8ucGFyZW50KSwhdC5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pLmluY2x1ZGVzKGUpKXRocm93IG5ldyBtLmIoXCJ3cml0ZXItc3BsaXQtaW52YWxpZC1saW1pdC1lbGVtZW50OiBMaW1pdCBlbGVtZW50IGlzIG5vdCBhIHBvc2l0aW9uIGFuY2VzdG9yLlwiKTtkb3tjb25zdCBlPW5ldyBMYTt0aGlzLmJhdGNoLmFkZERlbHRhKGUpO2NvbnN0IHI9bmV3IGZzKG8ubmFtZSxvLmdldEF0dHJpYnV0ZXMoKSkscz1vLnJvb3QuZG9jdW1lbnQ/by5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxhPW5ldyBFYShicy5jcmVhdGVBZnRlcihvKSxyLHMpO2UuYWRkT3BlcmF0aW9uKGEpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24oYSk7Y29uc3QgYz1udWxsIT09cz9zKzE6bnVsbCxsPW5ldyBDYSh0LG8ubWF4T2Zmc2V0LXQub2Zmc2V0LGJzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQociwwKSxjKTtsLmlzU3RpY2t5PSEwLGUuYWRkT3BlcmF0aW9uKGwpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24obCksbnx8aXx8KG49byxpPXIpLG89KHQ9YnMuY3JlYXRlQmVmb3JlKHIpKS5wYXJlbnR9d2hpbGUobyE9PWUpO3JldHVybntwb3NpdGlvbjp0LHJhbmdlOm5ldyB3cyhicy5jcmVhdGVBdChuLFwiZW5kXCIpLGJzLmNyZWF0ZUF0KGkpKX19d3JhcCh0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhdC5pc0ZsYXQpdGhyb3cgbmV3IG0uYihcIndyaXRlci13cmFwLXJhbmdlLW5vdC1mbGF0OiBSYW5nZSB0byB3cmFwIGlzIG5vdCBmbGF0LlwiKTtjb25zdCBuPWUgaW5zdGFuY2VvZiBmcz9lOm5ldyBmcyhlKTtpZihuLmNoaWxkQ291bnQ+MCl0aHJvdyBuZXcgbS5iKFwid3JpdGVyLXdyYXAtZWxlbWVudC1ub3QtZW1wdHk6IEVsZW1lbnQgdG8gd3JhcCB3aXRoIGlzIG5vdCBlbXB0eS5cIik7aWYobnVsbCE9PW4ucGFyZW50KXRocm93IG5ldyBtLmIoXCJ3cml0ZXItd3JhcC1lbGVtZW50LWF0dGFjaGVkOiBFbGVtZW50IHRvIHdyYXAgd2l0aCBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRyZWUgbW9kZWxzLlwiKTtjb25zdCBpPW5ldyBIYTt0aGlzLmJhdGNoLmFkZERlbHRhKGkpO2NvbnN0IG89dC5yb290LmRvY3VtZW50P3Qucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwscj1uZXcgRWEodC5lbmQsbixvKTtpLmFkZE9wZXJhdGlvbihyKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKHIpO2NvbnN0IHM9bnVsbCE9PW8/bysxOm51bGwsYT1icy5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG4sMCksYz1uZXcgQ2EodC5zdGFydCx0LmVuZC5vZmZzZXQtdC5zdGFydC5vZmZzZXQsYSxzKTtpLmFkZE9wZXJhdGlvbihjKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKGMpfXVud3JhcCh0KXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksbnVsbD09PXQucGFyZW50KXRocm93IG5ldyBtLmIoXCJ3cml0ZXItdW53cmFwLWVsZW1lbnQtbm8tcGFyZW50OiBUcnlpbmcgdG8gdW53cmFwIGFuIGVsZW1lbnQgd2hpY2ggaGFzIG5vIHBhcmVudC5cIik7Y29uc3QgZT1uZXcgV2E7dGhpcy5iYXRjaC5hZGREZWx0YShlKTtjb25zdCBuPWJzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQodCwwKSxpPW4ucm9vdC5kb2N1bWVudD9uLnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsLG89bmV3IENhKG4sdC5tYXhPZmZzZXQsYnMuY3JlYXRlQmVmb3JlKHQpLGkpO28uaXNTdGlja3k9ITAsZS5hZGRPcGVyYXRpb24obyksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihvKSx2dShicy5jcmVhdGVCZWZvcmUodCksMSxlLHRoaXMubW9kZWwpfWFkZE1hcmtlcih0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhZXx8XCJib29sZWFuXCIhPXR5cGVvZiBlLnVzaW5nT3BlcmF0aW9uKXRocm93IG5ldyBtLmIoXCJ3cml0ZXItYWRkTWFya2VyLW5vLXVzaW5nT3BlcmF0aW9uczogVGhlIG9wdGlvbnMudXNpbmdPcGVyYXRpb25zIHBhcmFtZXRlciBpcyByZXF1aXJlZCB3aGVuIGFkZGluZyBhIG5ldyBtYXJrZXIuXCIpO2NvbnN0IG49ZS51c2luZ09wZXJhdGlvbixpPWUucmFuZ2Usbz12b2lkIDAhPT1lLmFmZmVjdHNEYXRhJiZlLmFmZmVjdHNEYXRhO2lmKHRoaXMubW9kZWwubWFya2Vycy5oYXModCkpdGhyb3cgbmV3IG0uYihcIndyaXRlci1hZGRNYXJrZXItbWFya2VyLWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIik7aWYoIWkpdGhyb3cgbmV3IG0uYihcIndyaXRlci1hZGRNYXJrZXItbm8tcmFuZ2U6IFJhbmdlIHBhcmFtZXRlciBpcyByZXF1aXJlZCB3aGVuIGFkZGluZyBhIG5ldyBtYXJrZXIuXCIpO3JldHVybiBuPyh3dSh0aGlzLHQsbnVsbCxpLG8pLHRoaXMubW9kZWwubWFya2Vycy5nZXQodCkpOnRoaXMubW9kZWwubWFya2Vycy5fc2V0KHQsaSxuLG8pfXVwZGF0ZU1hcmtlcih0LGU9e30pe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBuPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC5uYW1lLGk9dGhpcy5tb2RlbC5tYXJrZXJzLmdldChuKTtpZighaSl0aHJvdyBuZXcgbS5iKFwid3JpdGVyLXVwZGF0ZU1hcmtlci1tYXJrZXItbm90LWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBkb2VzIG5vdCBleGlzdHMuXCIpO2NvbnN0IG89XCJib29sZWFuXCI9PXR5cGVvZiBlLnVzaW5nT3BlcmF0aW9uLHI9XCJib29sZWFuXCI9PXR5cGVvZiBlLmFmZmVjdHNEYXRhLHM9cj9lLmFmZmVjdHNEYXRhOmkuYWZmZWN0c0RhdGE7aWYoIW8mJiFlLnJhbmdlJiYhcil0aHJvdyBuZXcgbS5iKFwid3JpdGVyLXVwZGF0ZU1hcmtlci13cm9uZy1vcHRpb25zOiBPbmUgb2YgdGhlIG9wdGlvbnMgaXMgcmVxdWlyZWQgLSBwcm92aWRlIHJhbmdlLCB1c2luZ09wZXJhdGlvbnMgb3IgYWZmZWN0c0RhdGEuXCIpO2NvbnN0IGE9aS5nZXRSYW5nZSgpLGM9ZS5yYW5nZT9lLnJhbmdlOmE7byYmZS51c2luZ09wZXJhdGlvbiE9PWkubWFuYWdlZFVzaW5nT3BlcmF0aW9ucz9lLnVzaW5nT3BlcmF0aW9uP3d1KHRoaXMsbixudWxsLGMscyk6KHd1KHRoaXMsbixhLG51bGwscyksdGhpcy5tb2RlbC5tYXJrZXJzLl9zZXQobixjLHZvaWQgMCxzKSk6aS5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zP3d1KHRoaXMsbixhLGMscyk6dGhpcy5tb2RlbC5tYXJrZXJzLl9zZXQobixjLHZvaWQgMCxzKX1yZW1vdmVNYXJrZXIodCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2NvbnN0IGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0Lm5hbWU7aWYoIXRoaXMubW9kZWwubWFya2Vycy5oYXMoZSkpdGhyb3cgbmV3IG0uYihcIndyaXRlci1yZW1vdmVNYXJrZXItbm8tbWFya2VyOiBUcnlpbmcgdG8gcmVtb3ZlIG1hcmtlciB3aGljaCBkb2VzIG5vdCBleGlzdC5cIik7Y29uc3Qgbj10aGlzLm1vZGVsLm1hcmtlcnMuZ2V0KGUpO24ubWFuYWdlZFVzaW5nT3BlcmF0aW9ucz93dSh0aGlzLGUsbi5nZXRSYW5nZSgpLG51bGwsbi5hZmZlY3RzRGF0YSk6dGhpcy5tb2RlbC5tYXJrZXJzLl9yZW1vdmUoZSl9c2V0U2VsZWN0aW9uKHQsZSxuKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksdGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uX3NldFRvKHQsZSxuKX1zZXRTZWxlY3Rpb25Gb2N1cyh0LGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fc2V0Rm9jdXModCxlKX1zZXRTZWxlY3Rpb25BdHRyaWJ1dGUodCxlKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksXCJzdHJpbmdcIj09dHlwZW9mIHQpdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlKHQsZSk7ZWxzZSBmb3IoY29uc3RbZSxuXW9mIGNzKHQpKXRoaXMuX3NldFNlbGVjdGlvbkF0dHJpYnV0ZShlLG4pfXJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSh0KXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksXCJzdHJpbmdcIj09dHlwZW9mIHQpdGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHQpO2Vsc2UgZm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoZSl9b3ZlcnJpZGVTZWxlY3Rpb25HcmF2aXR5KCl7cmV0dXJuIHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLl9vdmVycmlkZUdyYXZpdHkoKX1yZXN0b3JlU2VsZWN0aW9uR3Jhdml0eSh0KXt0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fcmVzdG9yZUdyYXZpdHkodCl9X3NldFNlbGVjdGlvbkF0dHJpYnV0ZSh0LGUpe2NvbnN0IG49dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYobi5pc0NvbGxhcHNlZCYmbi5hbmNob3IucGFyZW50LmlzRW1wdHkpe2NvbnN0IGk9UHMuX2dldFN0b3JlQXR0cmlidXRlS2V5KHQpO3RoaXMuc2V0QXR0cmlidXRlKGksZSxuLmFuY2hvci5wYXJlbnQpfW4uX3NldEF0dHJpYnV0ZSh0LGUpfV9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodCl7Y29uc3QgZT10aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZihlLmlzQ29sbGFwc2VkJiZlLmFuY2hvci5wYXJlbnQuaXNFbXB0eSl7Y29uc3Qgbj1Qcy5fZ2V0U3RvcmVBdHRyaWJ1dGVLZXkodCk7dGhpcy5yZW1vdmVBdHRyaWJ1dGUobixlLmFuY2hvci5wYXJlbnQpfWUuX3JlbW92ZUF0dHJpYnV0ZSh0KX1fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpe2lmKHRoaXMubW9kZWwuX2N1cnJlbnRXcml0ZXIhPT10aGlzKXRocm93IG5ldyBtLmIoXCJ3cml0ZXItaW5jb3JyZWN0LXVzZTogVHJ5aW5nIHRvIHVzZSBhIHdyaXRlciBvdXRzaWRlIHRoZSBjaGFuZ2UoKSBibG9jay5cIil9fWZ1bmN0aW9uIGd1KHQsZSxuLGkpe2NvbnN0IG89bmV3IEJhLHI9dC5tb2RlbCxzPXIuZG9jdW1lbnQ7bGV0IGEsYyxsLGQ9aS5zdGFydDtmb3IoY29uc3QgdCBvZiBpKWw9dC5pdGVtLmdldEF0dHJpYnV0ZShlKSxhJiZjIT1sJiYoYyE9biYmdSgpLGQ9YSksYT10Lm5leHRQb3NpdGlvbixjPWw7ZnVuY3Rpb24gdSgpezA9PT1vLm9wZXJhdGlvbnMubGVuZ3RoJiZ0LmJhdGNoLmFkZERlbHRhKG8pO2NvbnN0IGk9bmV3IHdzKGQsYSksbD1pLnJvb3QuZG9jdW1lbnQ/cy52ZXJzaW9uOm51bGwsdT1uZXcgQWEoaSxlLGMsbixsKTtvLmFkZE9wZXJhdGlvbih1KSxyLmFwcGx5T3BlcmF0aW9uKHUpfWEgaW5zdGFuY2VvZiBicyYmYSE9ZCYmYyE9biYmdSgpfWZ1bmN0aW9uIGJ1KHQsZSxuLGkpe2NvbnN0IG89dC5tb2RlbCxyPW8uZG9jdW1lbnQscz1pLmdldEF0dHJpYnV0ZShlKTtsZXQgYSxjO2lmKHMhPW4pe2NvbnN0IGw9aS5yb290PT09aSxkPWw/bmV3IGh1Om5ldyBCYTtpZih0LmJhdGNoLmFkZERlbHRhKGQpLGwpe2NvbnN0IHQ9aS5kb2N1bWVudD9yLnZlcnNpb246bnVsbDtjPW5ldyBJYShpLGUscyxuLHQpfWVsc2V7Y29uc3QgdD0oYT1pLmlzKFwiZWxlbWVudFwiKT9uZXcgd3MoYnMuY3JlYXRlQmVmb3JlKGkpLGJzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQoaSwwKSk6bmV3IHdzKGJzLmNyZWF0ZUJlZm9yZShpKSxicy5jcmVhdGVBZnRlcihpKSkpLnJvb3QuZG9jdW1lbnQ/ci52ZXJzaW9uOm51bGw7Yz1uZXcgQWEoYSxlLHMsbix0KX1kLmFkZE9wZXJhdGlvbihjKSxvLmFwcGx5T3BlcmF0aW9uKGMpfX1mdW5jdGlvbiB3dSh0LGUsbixpLG8pe2NvbnN0IHI9dC5tb2RlbCxzPXIuZG9jdW1lbnQsYT1uZXcgcnUsYz1uZXcgUGEoZSxuLGksci5tYXJrZXJzLHMudmVyc2lvbixvKTt0LmJhdGNoLmFkZERlbHRhKGEpLGEuYWRkT3BlcmF0aW9uKGMpLHIuYXBwbHlPcGVyYXRpb24oYyl9ZnVuY3Rpb24gdnUodCxlLG4saSl7bGV0IG87aWYodC5yb290LmRvY3VtZW50KXtjb25zdCBuPWkuZG9jdW1lbnQscj1uZXcgYnMobi5ncmF2ZXlhcmQsWzBdKTtvPW5ldyBTYSh0LGUscixuLnZlcnNpb24pfWVsc2Ugbz1uZXcgZnUodCxlKTtuLmFkZE9wZXJhdGlvbihvKSxpLmFwcGx5T3BlcmF0aW9uKG8pfWZ1bmN0aW9uIF91KHQsZSl7cmV0dXJuIHQ9PT1lfHx0IGluc3RhbmNlb2YgcHUmJmUgaW5zdGFuY2VvZiBwdX1jbGFzcyBrdXtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9tYXJrZXJDb2xsZWN0aW9uPXQsdGhpcy5fY2hhbmdlc0luRWxlbWVudD1uZXcgTWFwLHRoaXMuX2VsZW1lbnRTbmFwc2hvdHM9bmV3IE1hcCx0aGlzLl9jaGFuZ2VkTWFya2Vycz1uZXcgTWFwLHRoaXMuX2NoYW5nZUNvdW50PTAsdGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsLHRoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkPW51bGx9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09dGhpcy5fY2hhbmdlc0luRWxlbWVudC5zaXplJiYwPT10aGlzLl9jaGFuZ2VkTWFya2Vycy5zaXplfWJ1ZmZlck9wZXJhdGlvbih0KXtzd2l0Y2godC50eXBlKXtjYXNlXCJpbnNlcnRcIjppZih0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KHQucG9zaXRpb24ucGFyZW50KSlyZXR1cm47dGhpcy5fbWFya0luc2VydCh0LnBvc2l0aW9uLnBhcmVudCx0LnBvc2l0aW9uLm9mZnNldCx0Lm5vZGVzLm1heE9mZnNldCk7YnJlYWs7Y2FzZVwiYWRkQXR0cmlidXRlXCI6Y2FzZVwicmVtb3ZlQXR0cmlidXRlXCI6Y2FzZVwiY2hhbmdlQXR0cmlidXRlXCI6Zm9yKGNvbnN0IGUgb2YgdC5yYW5nZS5nZXRJdGVtcygpKXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5wYXJlbnQpfHx0aGlzLl9tYXJrQXR0cmlidXRlKGUpO2JyZWFrO2Nhc2VcInJlbW92ZVwiOmNhc2VcIm1vdmVcIjpjYXNlXCJyZWluc2VydFwiOntjb25zdCBlPXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQodC5zb3VyY2VQb3NpdGlvbi5wYXJlbnQpLG49dGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0LnRhcmdldFBvc2l0aW9uLnBhcmVudCk7ZXx8dGhpcy5fbWFya1JlbW92ZSh0LnNvdXJjZVBvc2l0aW9uLnBhcmVudCx0LnNvdXJjZVBvc2l0aW9uLm9mZnNldCx0Lmhvd01hbnkpLG58fHRoaXMuX21hcmtJbnNlcnQodC50YXJnZXRQb3NpdGlvbi5wYXJlbnQsdC5nZXRNb3ZlZFJhbmdlU3RhcnQoKS5vZmZzZXQsdC5ob3dNYW55KTticmVha31jYXNlXCJyZW5hbWVcIjp7aWYodGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0LnBvc2l0aW9uLnBhcmVudCkpcmV0dXJuO3RoaXMuX21hcmtSZW1vdmUodC5wb3NpdGlvbi5wYXJlbnQsdC5wb3NpdGlvbi5vZmZzZXQsMSksdGhpcy5fbWFya0luc2VydCh0LnBvc2l0aW9uLnBhcmVudCx0LnBvc2l0aW9uLm9mZnNldCwxKTtjb25zdCBlPXdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQucG9zaXRpb24sMSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWFya2VyQ29sbGVjdGlvbi5nZXRNYXJrZXJzSW50ZXJzZWN0aW5nUmFuZ2UoZSkpe2NvbnN0IGU9dC5nZXRSYW5nZSgpO3RoaXMuYnVmZmVyTWFya2VyQ2hhbmdlKHQubmFtZSxlLGUsdC5hZmZlY3RzRGF0YSl9YnJlYWt9fXRoaXMuX2NhY2hlZENoYW5nZXM9bnVsbH1idWZmZXJNYXJrZXJDaGFuZ2UodCxlLG4saSl7Y29uc3Qgbz10aGlzLl9jaGFuZ2VkTWFya2Vycy5nZXQodCk7bz8oby5uZXdSYW5nZT1uLG8uYWZmZWN0c0RhdGE9aSxudWxsPT1vLm9sZFJhbmdlJiZudWxsPT1vLm5ld1JhbmdlJiZ0aGlzLl9jaGFuZ2VkTWFya2Vycy5kZWxldGUodCkpOnRoaXMuX2NoYW5nZWRNYXJrZXJzLnNldCh0LHtvbGRSYW5nZTplLG5ld1JhbmdlOm4sYWZmZWN0c0RhdGE6aX0pfWdldE1hcmtlcnNUb1JlbW92ZSgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0W2Usbl1vZiB0aGlzLl9jaGFuZ2VkTWFya2VycyludWxsIT1uLm9sZFJhbmdlJiZ0LnB1c2goe25hbWU6ZSxyYW5nZTpuLm9sZFJhbmdlfSk7cmV0dXJuIHR9Z2V0TWFya2Vyc1RvQWRkKCl7Y29uc3QgdD1bXTtmb3IoY29uc3RbZSxuXW9mIHRoaXMuX2NoYW5nZWRNYXJrZXJzKW51bGwhPW4ubmV3UmFuZ2UmJnQucHVzaCh7bmFtZTplLHJhbmdlOm4ubmV3UmFuZ2V9KTtyZXR1cm4gdH1oYXNEYXRhQ2hhbmdlcygpe2Zvcihjb25zdFssdF1vZiB0aGlzLl9jaGFuZ2VkTWFya2VycylpZih0LmFmZmVjdHNEYXRhKXJldHVybiEwO3JldHVybiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LnNpemU+MH1nZXRDaGFuZ2VzKHQ9e2luY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQ6ITF9KXtpZih0aGlzLl9jYWNoZWRDaGFuZ2VzKXJldHVybiB0LmluY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQ/dGhpcy5fY2FjaGVkQ2hhbmdlc1dpdGhHcmF2ZXlhcmQuc2xpY2UoKTp0aGlzLl9jYWNoZWRDaGFuZ2VzLnNsaWNlKCk7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBvZiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmtleXMoKSl7Y29uc3Qgbj10aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmdldCh0KS5zb3J0KCh0LGUpPT50Lm9mZnNldD09PWUub2Zmc2V0P3QudHlwZSE9ZS50eXBlP1wicmVtb3ZlXCI9PXQudHlwZT8tMToxOjA6dC5vZmZzZXQ8ZS5vZmZzZXQ/LTE6MSksaT10aGlzLl9lbGVtZW50U25hcHNob3RzLmdldCh0KSxvPXl1KHQuZ2V0Q2hpbGRyZW4oKSkscj14dShpLmxlbmd0aCxuKTtsZXQgcz0wLGE9MDtmb3IoY29uc3QgbiBvZiByKWlmKFwiaVwiPT09billLnB1c2godGhpcy5fZ2V0SW5zZXJ0RGlmZih0LHMsb1tzXS5uYW1lKSkscysrO2Vsc2UgaWYoXCJyXCI9PT1uKWUucHVzaCh0aGlzLl9nZXRSZW1vdmVEaWZmKHQscyxpW2FdLm5hbWUpKSxhKys7ZWxzZSBpZihcImFcIj09PW4pe2NvbnN0IG49b1tzXS5hdHRyaWJ1dGVzLHI9aVthXS5hdHRyaWJ1dGVzO2xldCBjO2lmKFwiJHRleHRcIj09b1tzXS5uYW1lKWM9d3MuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKHQscyx0LHMrMSk7ZWxzZXtjb25zdCBlPXQub2Zmc2V0VG9JbmRleChzKTtjPXdzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LHMsdC5nZXRDaGlsZChlKSwwKX1lLnB1c2goLi4udGhpcy5fZ2V0QXR0cmlidXRlc0RpZmYoYyxyLG4pKSxzKyssYSsrfWVsc2UgcysrLGErK31lLnNvcnQoKHQsZSk9PnQucG9zaXRpb24ucm9vdCE9ZS5wb3NpdGlvbi5yb290P3QucG9zaXRpb24ucm9vdC5yb290TmFtZTxlLnBvc2l0aW9uLnJvb3Qucm9vdE5hbWU/LTE6MTp0LnBvc2l0aW9uLmlzRXF1YWwoZS5wb3NpdGlvbik/dC5jaGFuZ2VDb3VudDxlLmNoYW5nZUNvdW50Py0xOjE6dC5wb3NpdGlvbi5pc0JlZm9yZShlLnBvc2l0aW9uKT8tMToxKTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3QtMV0saT1lW3RdLG89XCJyZW1vdmVcIj09bi50eXBlJiZcInJlbW92ZVwiPT1pLnR5cGUmJlwiJHRleHRcIj09bi5uYW1lJiZcIiR0ZXh0XCI9PWkubmFtZSYmbi5wb3NpdGlvbi5pc0VxdWFsKGkucG9zaXRpb24pLHI9XCJpbnNlcnRcIj09bi50eXBlJiZcImluc2VydFwiPT1pLnR5cGUmJlwiJHRleHRcIj09bi5uYW1lJiZcIiR0ZXh0XCI9PWkubmFtZSYmbi5wb3NpdGlvbi5wYXJlbnQ9PWkucG9zaXRpb24ucGFyZW50JiZuLnBvc2l0aW9uLm9mZnNldCtuLmxlbmd0aD09aS5wb3NpdGlvbi5vZmZzZXQscz1cImF0dHJpYnV0ZVwiPT1uLnR5cGUmJlwiYXR0cmlidXRlXCI9PWkudHlwZSYmbi5wb3NpdGlvbi5wYXJlbnQ9PWkucG9zaXRpb24ucGFyZW50JiZuLnJhbmdlLmlzRmxhdCYmaS5yYW5nZS5pc0ZsYXQmJm4ucG9zaXRpb24ub2Zmc2V0K24ubGVuZ3RoPT1pLnBvc2l0aW9uLm9mZnNldCYmbi5hdHRyaWJ1dGVLZXk9PWkuYXR0cmlidXRlS2V5JiZuLmF0dHJpYnV0ZU9sZFZhbHVlPT1pLmF0dHJpYnV0ZU9sZFZhbHVlJiZuLmF0dHJpYnV0ZU5ld1ZhbHVlPT1pLmF0dHJpYnV0ZU5ld1ZhbHVlOyhvfHxyfHxzKSYmKGVbdC0xXS5sZW5ndGgrKyxzJiYoZVt0LTFdLnJhbmdlLmVuZD1lW3QtMV0ucmFuZ2UuZW5kLmdldFNoaWZ0ZWRCeSgxKSksZS5zcGxpY2UodCwxKSx0LS0pfWZvcihjb25zdCB0IG9mIGUpZGVsZXRlIHQuY2hhbmdlQ291bnQsXCJhdHRyaWJ1dGVcIj09dC50eXBlJiYoZGVsZXRlIHQucG9zaXRpb24sZGVsZXRlIHQubGVuZ3RoKTtyZXR1cm4gdGhpcy5fY2hhbmdlQ291bnQ9MCx0aGlzLl9jYWNoZWRDaGFuZ2VzV2l0aEdyYXZleWFyZD1lLnNsaWNlKCksdGhpcy5fY2FjaGVkQ2hhbmdlcz1lLnNsaWNlKCkuZmlsdGVyKEF1KSx0LmluY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQ/dGhpcy5fY2FjaGVkQ2hhbmdlc1dpdGhHcmF2ZXlhcmQ6dGhpcy5fY2FjaGVkQ2hhbmdlc31yZXNldCgpe3RoaXMuX2NoYW5nZXNJbkVsZW1lbnQuY2xlYXIoKSx0aGlzLl9lbGVtZW50U25hcHNob3RzLmNsZWFyKCksdGhpcy5fY2hhbmdlZE1hcmtlcnMuY2xlYXIoKSx0aGlzLl9jYWNoZWRDaGFuZ2VzPW51bGx9X21hcmtJbnNlcnQodCxlLG4pe2NvbnN0IGk9e3R5cGU6XCJpbnNlcnRcIixvZmZzZXQ6ZSxob3dNYW55Om4sY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5fbWFya0NoYW5nZSh0LGkpfV9tYXJrUmVtb3ZlKHQsZSxuKXtjb25zdCBpPXt0eXBlOlwicmVtb3ZlXCIsb2Zmc2V0OmUsaG93TWFueTpuLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX21hcmtDaGFuZ2UodCxpKSx0aGlzLl9yZW1vdmVBbGxOZXN0ZWRDaGFuZ2VzKHQsZSxuKX1fbWFya0F0dHJpYnV0ZSh0KXtjb25zdCBlPXt0eXBlOlwiYXR0cmlidXRlXCIsb2Zmc2V0OnQuc3RhcnRPZmZzZXQsaG93TWFueTp0Lm9mZnNldFNpemUsY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5fbWFya0NoYW5nZSh0LnBhcmVudCxlKX1fbWFya0NoYW5nZSh0LGUpe3RoaXMuX21ha2VTbmFwc2hvdCh0KTtjb25zdCBuPXRoaXMuX2dldENoYW5nZXNGb3JFbGVtZW50KHQpO3RoaXMuX2hhbmRsZUNoYW5nZShlLG4pLG4ucHVzaChlKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdLmhvd01hbnk8MSYmKG4uc3BsaWNlKHQsMSksdC0tKX1fZ2V0Q2hhbmdlc0ZvckVsZW1lbnQodCl7bGV0IGU7cmV0dXJuIHRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuaGFzKHQpP2U9dGhpcy5fY2hhbmdlc0luRWxlbWVudC5nZXQodCk6KGU9W10sdGhpcy5fY2hhbmdlc0luRWxlbWVudC5zZXQodCxlKSksZX1fbWFrZVNuYXBzaG90KHQpe3RoaXMuX2VsZW1lbnRTbmFwc2hvdHMuaGFzKHQpfHx0aGlzLl9lbGVtZW50U25hcHNob3RzLnNldCh0LHl1KHQuZ2V0Q2hpbGRyZW4oKSkpfV9oYW5kbGVDaGFuZ2UodCxlKXt0Lm5vZGVzVG9IYW5kbGU9dC5ob3dNYW55O2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGk9dC5vZmZzZXQrdC5ob3dNYW55LG89bi5vZmZzZXQrbi5ob3dNYW55O2lmKFwiaW5zZXJ0XCI9PXQudHlwZSYmKFwiaW5zZXJ0XCI9PW4udHlwZSYmKHQub2Zmc2V0PD1uLm9mZnNldD9uLm9mZnNldCs9dC5ob3dNYW55OnQub2Zmc2V0PG8mJihuLmhvd01hbnkrPXQubm9kZXNUb0hhbmRsZSx0Lm5vZGVzVG9IYW5kbGU9MCkpLFwicmVtb3ZlXCI9PW4udHlwZSYmdC5vZmZzZXQ8bi5vZmZzZXQmJihuLm9mZnNldCs9dC5ob3dNYW55KSxcImF0dHJpYnV0ZVwiPT1uLnR5cGUpKWlmKHQub2Zmc2V0PD1uLm9mZnNldCluLm9mZnNldCs9dC5ob3dNYW55O2Vsc2UgaWYodC5vZmZzZXQ8byl7Y29uc3Qgbz1uLmhvd01hbnk7bi5ob3dNYW55PXQub2Zmc2V0LW4ub2Zmc2V0LGUudW5zaGlmdCh7dHlwZTpcImF0dHJpYnV0ZVwiLG9mZnNldDppLGhvd01hbnk6by1uLmhvd01hbnksY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pfWlmKFwicmVtb3ZlXCI9PXQudHlwZSl7aWYoXCJpbnNlcnRcIj09bi50eXBlKWlmKGk8PW4ub2Zmc2V0KW4ub2Zmc2V0LT10Lmhvd01hbnk7ZWxzZSBpZihpPD1vKWlmKHQub2Zmc2V0PG4ub2Zmc2V0KXtjb25zdCBlPWktbi5vZmZzZXQ7bi5vZmZzZXQ9dC5vZmZzZXQsbi5ob3dNYW55LT1lLHQubm9kZXNUb0hhbmRsZS09ZX1lbHNlIG4uaG93TWFueS09dC5ub2Rlc1RvSGFuZGxlLHQubm9kZXNUb0hhbmRsZT0wO2Vsc2UgaWYodC5vZmZzZXQ8PW4ub2Zmc2V0KXQubm9kZXNUb0hhbmRsZS09bi5ob3dNYW55LG4uaG93TWFueT0wO2Vsc2UgaWYodC5vZmZzZXQ8byl7Y29uc3QgZT1vLXQub2Zmc2V0O24uaG93TWFueS09ZSx0Lm5vZGVzVG9IYW5kbGUtPWV9aWYoXCJyZW1vdmVcIj09bi50eXBlJiYoaTw9bi5vZmZzZXQ/bi5vZmZzZXQtPXQuaG93TWFueTp0Lm9mZnNldDxuLm9mZnNldCYmKHQubm9kZXNUb0hhbmRsZSs9bi5ob3dNYW55LG4uaG93TWFueT0wKSksXCJhdHRyaWJ1dGVcIj09bi50eXBlKWlmKGk8PW4ub2Zmc2V0KW4ub2Zmc2V0LT10Lmhvd01hbnk7ZWxzZSBpZih0Lm9mZnNldDxuLm9mZnNldCl7Y29uc3QgZT1pLW4ub2Zmc2V0O24ub2Zmc2V0PXQub2Zmc2V0LG4uaG93TWFueS09ZX1lbHNlIGlmKHQub2Zmc2V0PG8paWYoaTw9byl7Y29uc3QgaT1uLmhvd01hbnk7bi5ob3dNYW55PXQub2Zmc2V0LW4ub2Zmc2V0O2NvbnN0IG89aS1uLmhvd01hbnktdC5ub2Rlc1RvSGFuZGxlO2UudW5zaGlmdCh7dHlwZTpcImF0dHJpYnV0ZVwiLG9mZnNldDp0Lm9mZnNldCxob3dNYW55Om8sY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pfWVsc2Ugbi5ob3dNYW55LT1vLXQub2Zmc2V0fWlmKFwiYXR0cmlidXRlXCI9PXQudHlwZSl7aWYoXCJpbnNlcnRcIj09bi50eXBlKWlmKHQub2Zmc2V0PG4ub2Zmc2V0JiZpPm4ub2Zmc2V0KXtpZihpPm8pe2NvbnN0IHQ9e3R5cGU6XCJhdHRyaWJ1dGVcIixvZmZzZXQ6byxob3dNYW55Omktbyxjb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfTt0aGlzLl9oYW5kbGVDaGFuZ2UodCxlKSxlLnB1c2godCl9dC5ub2Rlc1RvSGFuZGxlPW4ub2Zmc2V0LXQub2Zmc2V0LHQuaG93TWFueT10Lm5vZGVzVG9IYW5kbGV9ZWxzZSB0Lm9mZnNldD49bi5vZmZzZXQmJnQub2Zmc2V0PG8mJihpPm8/KHQubm9kZXNUb0hhbmRsZT1pLW8sdC5vZmZzZXQ9byk6dC5ub2Rlc1RvSGFuZGxlPTApO1wiYXR0cmlidXRlXCI9PW4udHlwZSYmKHQub2Zmc2V0Pj1uLm9mZnNldCYmaTw9bz8odC5ub2Rlc1RvSGFuZGxlPTAsdC5ob3dNYW55PTAsdC5vZmZzZXQ9MCk6dC5vZmZzZXQ8PW4ub2Zmc2V0JiZpPj1vJiYobi5ob3dNYW55PTApKX19dC5ob3dNYW55PXQubm9kZXNUb0hhbmRsZSxkZWxldGUgdC5ub2Rlc1RvSGFuZGxlfV9nZXRJbnNlcnREaWZmKHQsZSxuKXtyZXR1cm57dHlwZTpcImluc2VydFwiLHBvc2l0aW9uOmJzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQodCxlKSxuYW1lOm4sbGVuZ3RoOjEsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK319X2dldFJlbW92ZURpZmYodCxlLG4pe3JldHVybnt0eXBlOlwicmVtb3ZlXCIscG9zaXRpb246YnMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldCh0LGUpLG5hbWU6bixsZW5ndGg6MSxjaGFuZ2VDb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfX1fZ2V0QXR0cmlidXRlc0RpZmYodCxlLG4pe2NvbnN0IGk9W107bj1uZXcgTWFwKG4pO2Zvcihjb25zdFtvLHJdb2YgZSl7Y29uc3QgZT1uLmhhcyhvKT9uLmdldChvKTpudWxsO2UhPT1yJiZpLnB1c2goe3R5cGU6XCJhdHRyaWJ1dGVcIixwb3NpdGlvbjp0LnN0YXJ0LHJhbmdlOndzLmNyZWF0ZUZyb21SYW5nZSh0KSxsZW5ndGg6MSxhdHRyaWJ1dGVLZXk6byxhdHRyaWJ1dGVPbGRWYWx1ZTpyLGF0dHJpYnV0ZU5ld1ZhbHVlOmUsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pLG4uZGVsZXRlKG8pfWZvcihjb25zdFtlLG9db2YgbilpLnB1c2goe3R5cGU6XCJhdHRyaWJ1dGVcIixwb3NpdGlvbjp0LnN0YXJ0LHJhbmdlOndzLmNyZWF0ZUZyb21SYW5nZSh0KSxsZW5ndGg6MSxhdHRyaWJ1dGVLZXk6ZSxhdHRyaWJ1dGVPbGRWYWx1ZTpudWxsLGF0dHJpYnV0ZU5ld1ZhbHVlOm8sY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pO3JldHVybiBpfV9pc0luSW5zZXJ0ZWRFbGVtZW50KHQpe2NvbnN0IGU9dC5wYXJlbnQ7aWYoIWUpcmV0dXJuITE7Y29uc3Qgbj10aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmdldChlKSxpPXQuc3RhcnRPZmZzZXQ7aWYobilmb3IoY29uc3QgdCBvZiBuKWlmKFwiaW5zZXJ0XCI9PXQudHlwZSYmaT49dC5vZmZzZXQmJmk8dC5vZmZzZXQrdC5ob3dNYW55KXJldHVybiEwO3JldHVybiB0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KGUpfV9yZW1vdmVBbGxOZXN0ZWRDaGFuZ2VzKHQsZSxuKXtjb25zdCBpPXdzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LGUsdCxlK24pO2Zvcihjb25zdCB0IG9mIGkuZ2V0SXRlbXMoe3NoYWxsb3c6ITB9KSl0LmlzKFwiZWxlbWVudFwiKSYmKHRoaXMuX2VsZW1lbnRTbmFwc2hvdHMuZGVsZXRlKHQpLHRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuZGVsZXRlKHQpLHRoaXMuX3JlbW92ZUFsbE5lc3RlZENoYW5nZXModCwwLHQubWF4T2Zmc2V0KSl9fWZ1bmN0aW9uIHl1KHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gb2YgdClpZihuLmlzKFwidGV4dFwiKSlmb3IobGV0IHQ9MDt0PG4uZGF0YS5sZW5ndGg7dCsrKWUucHVzaCh7bmFtZTpcIiR0ZXh0XCIsYXR0cmlidXRlczpuZXcgTWFwKG4uZ2V0QXR0cmlidXRlcygpKX0pO2Vsc2UgZS5wdXNoKHtuYW1lOm4ubmFtZSxhdHRyaWJ1dGVzOm5ldyBNYXAobi5nZXRBdHRyaWJ1dGVzKCkpfSk7cmV0dXJuIGV9ZnVuY3Rpb24geHUodCxlKXtjb25zdCBuPVtdO2xldCBpPTAsbz0wO2Zvcihjb25zdCB0IG9mIGUpdC5vZmZzZXQ+aSYmKG4ucHVzaCguLi5cImVcIi5yZXBlYXQodC5vZmZzZXQtaSkuc3BsaXQoXCJcIikpLG8rPXQub2Zmc2V0LWkpLFwiaW5zZXJ0XCI9PXQudHlwZT8obi5wdXNoKC4uLlwiaVwiLnJlcGVhdCh0Lmhvd01hbnkpLnNwbGl0KFwiXCIpKSxpPXQub2Zmc2V0K3QuaG93TWFueSk6XCJyZW1vdmVcIj09dC50eXBlPyhuLnB1c2goLi4uXCJyXCIucmVwZWF0KHQuaG93TWFueSkuc3BsaXQoXCJcIikpLGk9dC5vZmZzZXQsbys9dC5ob3dNYW55KToobi5wdXNoKC4uLlwiYVwiLnJlcGVhdCh0Lmhvd01hbnkpLnNwbGl0KFwiXCIpKSxpPXQub2Zmc2V0K3QuaG93TWFueSxvKz10Lmhvd01hbnkpO3JldHVybiBvPHQmJm4ucHVzaCguLi5cImVcIi5yZXBlYXQodC1vKS5zcGxpdChcIlwiKSksbn1mdW5jdGlvbiBBdSh0KXtjb25zdCBlPXQucG9zaXRpb24mJlwiJGdyYXZleWFyZFwiPT10LnBvc2l0aW9uLnJvb3Qucm9vdE5hbWUsbj10LnJhbmdlJiZcIiRncmF2ZXlhcmRcIj09dC5yYW5nZS5yb290LnJvb3ROYW1lO3JldHVybiFlJiYhbn1jbGFzcyBDdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2RlbHRhcz1bXSx0aGlzLl9oaXN0b3J5UG9pbnRzPW5ldyBNYXAsdGhpcy5fdW5kb1BhaXJzPW5ldyBNYXAsdGhpcy5fdW5kb25lRGVsdGFzPW5ldyBTZXR9YWRkRGVsdGEodCl7aWYodC5vcGVyYXRpb25zLmxlbmd0aD4wJiYhdGhpcy5faGlzdG9yeVBvaW50cy5oYXModC5iYXNlVmVyc2lvbikpe2NvbnN0IGU9dGhpcy5fZGVsdGFzLmxlbmd0aDt0aGlzLl9kZWx0YXNbZV09dCx0aGlzLl9oaXN0b3J5UG9pbnRzLnNldCh0LmJhc2VWZXJzaW9uLGUpfX0qZ2V0RGVsdGFzKHQ9MCxlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSl7aWYoMD09PXRoaXMuX2RlbHRhcy5sZW5ndGgpcmV0dXJuO2xldCBuPXRoaXMuX2dldEluZGV4KHQpO2lmKC0xIT1uKWZvcig7bjx0aGlzLl9kZWx0YXMubGVuZ3RoOyl7Y29uc3QgdD10aGlzLl9kZWx0YXNbbisrXTtpZih0LmJhc2VWZXJzaW9uPj1lKWJyZWFrO3lpZWxkIHR9fWdldERlbHRhKHQpe2NvbnN0IGU9dGhpcy5faGlzdG9yeVBvaW50cy5nZXQodCk7cmV0dXJuIHZvaWQgMD09PWU/bnVsbDp0aGlzLl9kZWx0YXNbZV19c2V0RGVsdGFBc1VuZG9uZSh0LGUpe3RoaXMuX3VuZG9QYWlycy5zZXQoZSx0KSx0aGlzLl91bmRvbmVEZWx0YXMuYWRkKHQpfWlzVW5kb2luZ0RlbHRhKHQpe3JldHVybiB0aGlzLl91bmRvUGFpcnMuaGFzKHQpfWlzVW5kb25lRGVsdGEodCl7cmV0dXJuIHRoaXMuX3VuZG9uZURlbHRhcy5oYXModCl9Z2V0VW5kb25lRGVsdGEodCl7cmV0dXJuIHRoaXMuX3VuZG9QYWlycy5nZXQodCl9X2dldEluZGV4KHQpe2NvbnN0IGU9dGhpcy5faGlzdG9yeVBvaW50cy5nZXQodCk7aWYodm9pZCAwPT09ZSl7Y29uc3QgZT10aGlzLl9kZWx0YXNbdGhpcy5fZGVsdGFzLmxlbmd0aC0xXSxuPWUuYmFzZVZlcnNpb24rZS5vcGVyYXRpb25zLmxlbmd0aDtpZih0PDB8fHQ+PW4pcmV0dXJuLTE7dGhyb3cgbmV3IG0uYihcIm1vZGVscy1oaXN0b3J5LXdyb25nLXZlcnNpb246IEdpdmVuIGJhc2UgdmVyc2lvbiBwb2ludHMgdG8gdGhlIG1pZGRsZSBvZiBhIGRlbHRhLlwiKX1yZXR1cm4gZX19ZnVuY3Rpb24gVHUodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuISF0JiYxPT10Lmxlbmd0aCYmL1tcXHVkODAwLVxcdWRiZmZdLy50ZXN0KHQpfSh0LmNoYXJBdChlLTEpKSYmZnVuY3Rpb24odCl7cmV0dXJuISF0JiYxPT10Lmxlbmd0aCYmL1tcXHVkYzAwLVxcdWRmZmZdLy50ZXN0KHQpfSh0LmNoYXJBdChlKSl9ZnVuY3Rpb24gU3UodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuISF0JiYxPT10Lmxlbmd0aCYmL1tcXHUwMzAwLVxcdTAzNmZcXHUxYWIwLVxcdTFhZmZcXHUxZGMwLVxcdTFkZmZcXHUyMGQwLVxcdTIwZmZcXHVmZTIwLVxcdWZlMmZdLy50ZXN0KHQpfSh0LmNoYXJBdChlKSl9Y29uc3QgRXU9XCIkZ3JhdmV5YXJkXCI7Y2xhc3MgUHV7Y29uc3RydWN0b3IodCl7dGhpcy5tb2RlbD10LHRoaXMudmVyc2lvbj0wLHRoaXMuaGlzdG9yeT1uZXcgQ3UodGhpcyksdGhpcy5zZWxlY3Rpb249bmV3IFBzKHRoaXMpLHRoaXMucm9vdHM9bmV3IExpKHtpZFByb3BlcnR5Olwicm9vdE5hbWVcIn0pLHRoaXMuZGlmZmVyPW5ldyBrdSh0Lm1hcmtlcnMpLHRoaXMuX3Bvc3RGaXhlcnM9bmV3IFNldCx0aGlzLmNyZWF0ZVJvb3QoXCIkcm9vdFwiLEV1KSx0aGlzLmxpc3RlblRvKHQsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO2lmKG4uaXNEb2N1bWVudE9wZXJhdGlvbiYmbi5iYXNlVmVyc2lvbiE9PXRoaXMudmVyc2lvbil0aHJvdyBuZXcgbS5iKFwibW9kZWxzLWRvY3VtZW50LWFwcGx5T3BlcmF0aW9uLXdyb25nLXZlcnNpb246IE9ubHkgb3BlcmF0aW9ucyB3aXRoIG1hdGNoaW5nIHZlcnNpb25zIGNhbiBiZSBhcHBsaWVkLlwiLHtvcGVyYXRpb246bn0pfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KSx0aGlzLmxpc3RlblRvKHQsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO24uaXNEb2N1bWVudE9wZXJhdGlvbiYmdGhpcy5kaWZmZXIuYnVmZmVyT3BlcmF0aW9uKG4pfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSx0aGlzLmxpc3RlblRvKHQsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO24uaXNEb2N1bWVudE9wZXJhdGlvbiYmKHRoaXMudmVyc2lvbisrLHRoaXMuaGlzdG9yeS5hZGREZWx0YShuLmRlbHRhKSl9LHtwcmlvcml0eTpcImxvd1wifSk7bGV0IGU9ITE7dGhpcy5saXN0ZW5Ubyh0aGlzLnNlbGVjdGlvbixcImNoYW5nZVwiLCgpPT57ZT0hMH0pLHRoaXMubGlzdGVuVG8odCxcIl9jaGFuZ2VcIiwodCxuKT0+e3RoaXMuZGlmZmVyLmlzRW1wdHkmJiFlfHwodGhpcy5fY2FsbFBvc3RGaXhlcnMobiksdGhpcy5kaWZmZXIuaGFzRGF0YUNoYW5nZXMoKT90aGlzLmZpcmUoXCJjaGFuZ2U6ZGF0YVwiLG4uYmF0Y2gpOnRoaXMuZmlyZShcImNoYW5nZVwiLG4uYmF0Y2gpLHRoaXMuZGlmZmVyLnJlc2V0KCksZT0hMSl9KSx0aGlzLmxpc3RlblRvKHQubWFya2VycyxcInVwZGF0ZVwiLCh0LGUsbixpKT0+e3RoaXMuZGlmZmVyLmJ1ZmZlck1hcmtlckNoYW5nZShlLm5hbWUsbixpLGUuYWZmZWN0c0RhdGEpLG51bGw9PT1uJiZlLm9uKFwiY2hhbmdlXCIsKHQsbik9Pnt0aGlzLmRpZmZlci5idWZmZXJNYXJrZXJDaGFuZ2UoZS5uYW1lLG4sZS5nZXRSYW5nZSgpLGUuYWZmZWN0c0RhdGEpfSl9KX1nZXQgZ3JhdmV5YXJkKCl7cmV0dXJuIHRoaXMuZ2V0Um9vdChFdSl9Y3JlYXRlUm9vdCh0PVwiJHJvb3RcIixlPVwibWFpblwiKXtpZih0aGlzLnJvb3RzLmdldChlKSl0aHJvdyBuZXcgbS5iKFwibW9kZWxzLWRvY3VtZW50LWNyZWF0ZVJvb3QtbmFtZS1leGlzdHM6IFJvb3Qgd2l0aCBzcGVjaWZpZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIix7bmFtZTplfSk7Y29uc3Qgbj1uZXcgcHUodGhpcyx0LGUpO3JldHVybiB0aGlzLnJvb3RzLmFkZChuKSxufWRlc3Ryb3koKXt0aGlzLnNlbGVjdGlvbi5kZXN0cm95KCksdGhpcy5zdG9wTGlzdGVuaW5nKCl9Z2V0Um9vdCh0PVwibWFpblwiKXtyZXR1cm4gdGhpcy5yb290cy5nZXQodCl9Z2V0Um9vdE5hbWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yb290cyx0PT50LnJvb3ROYW1lKS5maWx0ZXIodD0+dCE9RXUpfXJlZ2lzdGVyUG9zdEZpeGVyKHQpe3RoaXMuX3Bvc3RGaXhlcnMuYWRkKHQpfXRvSlNPTigpe2NvbnN0IHQ9U24odGhpcyk7cmV0dXJuIHQuc2VsZWN0aW9uPVwiW2VuZ2luZS5tb2RlbC5Eb2N1bWVudFNlbGVjdGlvbl1cIix0Lm1vZGVsPVwiW2VuZ2luZS5tb2RlbC5Nb2RlbF1cIix0fV9nZXREZWZhdWx0Um9vdCgpe2Zvcihjb25zdCB0IG9mIHRoaXMucm9vdHMpaWYodCE9PXRoaXMuZ3JhdmV5YXJkKXJldHVybiB0O3JldHVybiB0aGlzLmdyYXZleWFyZH1fZ2V0RGVmYXVsdFJhbmdlKCl7Y29uc3QgdD10aGlzLl9nZXREZWZhdWx0Um9vdCgpLGU9dGhpcy5tb2RlbC5zY2hlbWEsbj1uZXcgYnModCxbMF0pO3JldHVybiBlLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuKXx8bmV3IHdzKG4pfV92YWxpZGF0ZVNlbGVjdGlvblJhbmdlKHQpe3JldHVybiBPdSh0LnN0YXJ0KSYmT3UodC5lbmQpfV9jYWxsUG9zdEZpeGVycyh0KXtsZXQgZT0hMTtkb3tmb3IoY29uc3QgbiBvZiB0aGlzLl9wb3N0Rml4ZXJzKWlmKGU9bih0KSlicmVha313aGlsZShlKX19ZnVuY3Rpb24gT3UodCl7Y29uc3QgZT10LnRleHROb2RlO2lmKGUpe2NvbnN0IG49ZS5kYXRhLGk9dC5vZmZzZXQtZS5zdGFydE9mZnNldDtyZXR1cm4hVHUobixpKSYmIVN1KG4saSl9cmV0dXJuITB9UChQdSx5KTtjbGFzcyBSdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX21hcmtlcnM9bmV3IE1hcH1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9tYXJrZXJzLnZhbHVlcygpfWhhcyh0KXtyZXR1cm4gdGhpcy5fbWFya2Vycy5oYXModCl9Z2V0KHQpe3JldHVybiB0aGlzLl9tYXJrZXJzLmdldCh0KXx8bnVsbH1fc2V0KHQsZSxuPSExLGk9ITEpe2NvbnN0IG89dCBpbnN0YW5jZW9mIEl1P3QubmFtZTp0LHI9dGhpcy5fbWFya2Vycy5nZXQobyk7aWYocil7Y29uc3QgdD1yLmdldFJhbmdlKCk7bGV0IHM9ITE7cmV0dXJuIHQuaXNFcXVhbChlKXx8KHIuX2F0dGFjaExpdmVSYW5nZShTcy5jcmVhdGVGcm9tUmFuZ2UoZSkpLHM9ITApLG4hPXIubWFuYWdlZFVzaW5nT3BlcmF0aW9ucyYmKHIuX21hbmFnZWRVc2luZ09wZXJhdGlvbnM9bixzPSEwKSxcImJvb2xlYW5cIj09dHlwZW9mIGkmJmkhPXIuYWZmZWN0c0RhdGEmJihyLl9hZmZlY3RzRGF0YT1pLHM9ITApLHMmJnRoaXMuZmlyZShcInVwZGF0ZTpcIitvLHIsdCxlKSxyfWNvbnN0IHM9U3MuY3JlYXRlRnJvbVJhbmdlKGUpLGE9bmV3IEl1KG8scyxuLGkpO3JldHVybiB0aGlzLl9tYXJrZXJzLnNldChvLGEpLHRoaXMuZmlyZShcInVwZGF0ZTpcIitvLGEsbnVsbCxlKSxhfV9yZW1vdmUodCl7Y29uc3QgZT10IGluc3RhbmNlb2YgSXU/dC5uYW1lOnQsbj10aGlzLl9tYXJrZXJzLmdldChlKTtyZXR1cm4hIW4mJih0aGlzLl9tYXJrZXJzLmRlbGV0ZShlKSx0aGlzLmZpcmUoXCJ1cGRhdGU6XCIrZSxuLG4uZ2V0UmFuZ2UoKSxudWxsKSx0aGlzLl9kZXN0cm95TWFya2VyKG4pLCEwKX0qZ2V0TWFya2Vyc0F0UG9zaXRpb24odCl7Zm9yKGNvbnN0IGUgb2YgdGhpcyllLmdldFJhbmdlKCkuY29udGFpbnNQb3NpdGlvbih0KSYmKHlpZWxkIGUpfSpnZXRNYXJrZXJzSW50ZXJzZWN0aW5nUmFuZ2UodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcyludWxsIT09ZS5nZXRSYW5nZSgpLmdldEludGVyc2VjdGlvbih0KSYmKHlpZWxkIGUpfWRlc3Ryb3koKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9tYXJrZXJzLnZhbHVlcygpKXRoaXMuX2Rlc3Ryb3lNYXJrZXIodCk7dGhpcy5fbWFya2Vycz1udWxsLHRoaXMuc3RvcExpc3RlbmluZygpfSpnZXRNYXJrZXJzR3JvdXAodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbWFya2Vycy52YWx1ZXMoKSllLm5hbWUuc3RhcnRzV2l0aCh0K1wiOlwiKSYmKHlpZWxkIGUpfV9kZXN0cm95TWFya2VyKHQpe3Quc3RvcExpc3RlbmluZygpLHQuX2RldGFjaExpdmVSYW5nZSgpfX1QKFJ1LHkpO2NsYXNzIEl1e2NvbnN0cnVjdG9yKHQsZSxuLGkpe3RoaXMubmFtZT10LHRoaXMuX2xpdmVSYW5nZT10aGlzLl9hdHRhY2hMaXZlUmFuZ2UoZSksdGhpcy5fbWFuYWdlZFVzaW5nT3BlcmF0aW9ucz1uLHRoaXMuX2FmZmVjdHNEYXRhPWl9Z2V0IG1hbmFnZWRVc2luZ09wZXJhdGlvbnMoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXRocm93IG5ldyBtLmIoXCJtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS5cIik7cmV0dXJuIHRoaXMuX21hbmFnZWRVc2luZ09wZXJhdGlvbnN9Z2V0IGFmZmVjdHNEYXRhKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgbS5iKFwibWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuXCIpO3JldHVybiB0aGlzLl9hZmZlY3RzRGF0YX1nZXRTdGFydCgpe2lmKCF0aGlzLl9saXZlUmFuZ2UpdGhyb3cgbmV3IG0uYihcIm1hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLlwiKTtyZXR1cm4gYnMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMuX2xpdmVSYW5nZS5zdGFydCl9Z2V0RW5kKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgbS5iKFwibWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuXCIpO3JldHVybiBicy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5fbGl2ZVJhbmdlLmVuZCl9Z2V0UmFuZ2UoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXRocm93IG5ldyBtLmIoXCJtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS5cIik7cmV0dXJuIHdzLmNyZWF0ZUZyb21SYW5nZSh0aGlzLl9saXZlUmFuZ2UpfV9hdHRhY2hMaXZlUmFuZ2UodCl7cmV0dXJuIHRoaXMuX2xpdmVSYW5nZSYmdGhpcy5fZGV0YWNoTGl2ZVJhbmdlKCksdC5kZWxlZ2F0ZShcImNoYW5nZTpyYW5nZVwiKS50byh0aGlzKSx0LmRlbGVnYXRlKFwiY2hhbmdlOmNvbnRlbnRcIikudG8odGhpcyksdGhpcy5fbGl2ZVJhbmdlPXQsdH1fZGV0YWNoTGl2ZVJhbmdlKCl7dGhpcy5fbGl2ZVJhbmdlLnN0b3BEZWxlZ2F0aW5nKFwiY2hhbmdlOnJhbmdlXCIsdGhpcyksdGhpcy5fbGl2ZVJhbmdlLnN0b3BEZWxlZ2F0aW5nKFwiY2hhbmdlOmNvbnRlbnRcIix0aGlzKSx0aGlzLl9saXZlUmFuZ2UuZGV0YWNoKCksdGhpcy5fbGl2ZVJhbmdlPW51bGx9fVAoSXUseSk7Y2xhc3MgVnUgZXh0ZW5kcyBic3tjb25zdHJ1Y3Rvcih0LGUsbil7aWYoc3VwZXIodCxlKSwhdGhpcy5yb290LmlzKFwicm9vdEVsZW1lbnRcIikpdGhyb3cgbmV3IG0uYihcIm1vZGVscy1saXZlcG9zaXRpb24tcm9vdC1ub3Qtcm9vdGVsZW1lbnQ6IExpdmVQb3NpdGlvbidzIHJvb3QgaGFzIHRvIGJlIGFuIGluc3RhbmNlIG9mIFJvb3RFbGVtZW50LlwiKTt0aGlzLnN0aWNraW5lc3M9bnx8XCJzdGlja3NUb05leHRcIixmdW5jdGlvbigpe2NvbnN0IHQ9bmV3IFNldChbXCJpbnNlcnRcIixcIm1vdmVcIixcInJlbW92ZVwiLFwicmVpbnNlcnRcIl0pO3RoaXMubGlzdGVuVG8odGhpcy5yb290LmRvY3VtZW50Lm1vZGVsLFwiYXBwbHlPcGVyYXRpb25cIiwoZSxuKT0+e2NvbnN0IGk9blswXTtpLmlzRG9jdW1lbnRPcGVyYXRpb24mJnQuaGFzKGkudHlwZSkmJmZ1bmN0aW9uKHQpe2xldCBlLG47XCJpbnNlcnRcIj09dC50eXBlP2U9d3MuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5wb3NpdGlvbix0Lm5vZGVzLm1heE9mZnNldCk6KGU9d3MuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5nZXRNb3ZlZFJhbmdlU3RhcnQoKSx0Lmhvd01hbnkpLG49dC5zb3VyY2VQb3NpdGlvbik7Y29uc3QgaT1lLmVuZC5vZmZzZXQtZS5zdGFydC5vZmZzZXQ7bGV0IG87c3dpdGNoKHQudHlwZSl7Y2FzZVwiaW5zZXJ0XCI6Y29uc3Qgcj1cInN0aWNrc1RvTmV4dFwiPT10aGlzLnN0aWNraW5lc3M7bz10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUuc3RhcnQsaSxyKTticmVhaztjYXNlXCJtb3ZlXCI6Y2FzZVwicmVtb3ZlXCI6Y2FzZVwicmVpbnNlcnRcIjpjb25zdCBzPXdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KG4saSksYT1zLmNvbnRhaW5zUG9zaXRpb24odGhpcyl8fHMuc3RhcnQuaXNFcXVhbCh0aGlzKSYmXCJzdGlja3NUb05leHRcIj09dGhpcy5zdGlja2luZXNzfHxzLmVuZC5pc0VxdWFsKHRoaXMpJiZcInN0aWNrc1RvUHJldmlvdXNcIj09dGhpcy5zdGlja2luZXNzO2lmKGEpbz10aGlzLl9nZXRDb21iaW5lZChuLGUuc3RhcnQpO2Vsc2V7Y29uc3QgdD1cInN0aWNrc1RvTmV4dFwiPT10aGlzLnN0aWNraW5lc3Mscj1lLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKG4saSk7bz10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShuLHIsaSx0KX19aWYoIXRoaXMuaXNFcXVhbChvKSl7Y29uc3QgdD1icy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyk7dGhpcy5wYXRoPW8ucGF0aCx0aGlzLnJvb3Q9by5yb290LHRoaXMuZmlyZShcImNoYW5nZVwiLHQpfX0uY2FsbCh0aGlzLGkpfSx7cHJpb3JpdHk6XCJsb3dcIn0pfS5jYWxsKHRoaXMpfWRldGFjaCgpe3RoaXMuc3RvcExpc3RlbmluZygpfX1QKFZ1LHkpO2NsYXNzIE11e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLm1vZGVsPXQsdGhpcy53cml0ZXI9ZSx0aGlzLnBvc2l0aW9uPW4sdGhpcy5jYW5NZXJnZVdpdGg9bmV3IFNldChbdGhpcy5wb3NpdGlvbi5wYXJlbnRdKSx0aGlzLnNjaGVtYT10LnNjaGVtYSx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2Y9W119aGFuZGxlTm9kZXModCxlKXt0PUFycmF5LmZyb20odCk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9dFtuXTt0aGlzLl9oYW5kbGVOb2RlKGkse2lzRmlyc3Q6MD09PW4mJmUuaXNGaXJzdCxpc0xhc3Q6bj09PXQubGVuZ3RoLTEmJmUuaXNMYXN0fSl9dGhpcy5zY2hlbWEucmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXModGhpcy5fZmlsdGVyQXR0cmlidXRlc09mLHRoaXMud3JpdGVyKSx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2Y9W119Z2V0U2VsZWN0aW9uUmFuZ2UoKXtyZXR1cm4gdGhpcy5ub2RlVG9TZWxlY3Q/d3MuY3JlYXRlT24odGhpcy5ub2RlVG9TZWxlY3QpOnRoaXMubW9kZWwuc2NoZW1hLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZSh0aGlzLnBvc2l0aW9uKX1faGFuZGxlTm9kZSh0LGUpe2lmKHRoaXMuc2NoZW1hLmlzT2JqZWN0KHQpKXJldHVybiB2b2lkIHRoaXMuX2hhbmRsZU9iamVjdCh0LGUpO3RoaXMuX2NoZWNrQW5kU3BsaXRUb0FsbG93ZWRQb3NpdGlvbih0LGUpPyh0aGlzLl9pbnNlcnQodCksdGhpcy5fbWVyZ2VTaWJsaW5nc09mKHQsZSkpOnRoaXMuX2hhbmRsZURpc2FsbG93ZWROb2RlKHQsZSl9X2hhbmRsZU9iamVjdCh0LGUpe3RoaXMuX2NoZWNrQW5kU3BsaXRUb0FsbG93ZWRQb3NpdGlvbih0KT90aGlzLl9pbnNlcnQodCk6dGhpcy5fdHJ5QXV0b3BhcmFncmFwaGluZyh0LGUpfV9oYW5kbGVEaXNhbGxvd2VkTm9kZSh0LGUpe3QuaXMoXCJlbGVtZW50XCIpP3RoaXMuaGFuZGxlTm9kZXModC5nZXRDaGlsZHJlbigpLGUpOnRoaXMuX3RyeUF1dG9wYXJhZ3JhcGhpbmcodCxlKX1faW5zZXJ0KHQpe2lmKCF0aGlzLnNjaGVtYS5jaGVja0NoaWxkKHRoaXMucG9zaXRpb24sdCkpcmV0dXJuIHZvaWQgenIuYS5lcnJvcihcImluc2VydGNvbnRlbnQtd3JvbmctcG9zaXRpb246IFRoZSBub2RlIGNhbm5vdCBiZSBpbnNlcnRlZCBvbiB0aGUgZ2l2ZW4gcG9zaXRpb24uXCIse25vZGU6dCxwb3NpdGlvbjp0aGlzLnBvc2l0aW9ufSk7Y29uc3QgZT1WdS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbik7dGhpcy53cml0ZXIuaW5zZXJ0KHQsdGhpcy5wb3NpdGlvbiksdGhpcy5wb3NpdGlvbj1icy5jcmVhdGVGcm9tUG9zaXRpb24oZSksZS5kZXRhY2goKSx0aGlzLnNjaGVtYS5pc09iamVjdCh0KSYmIXRoaXMuc2NoZW1hLmNoZWNrQ2hpbGQodGhpcy5wb3NpdGlvbixcIiR0ZXh0XCIpP3RoaXMubm9kZVRvU2VsZWN0PXQ6dGhpcy5ub2RlVG9TZWxlY3Q9bnVsbCx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2YucHVzaCh0KX1fbWVyZ2VTaWJsaW5nc09mKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZnMpKXJldHVybjtjb25zdCBuPXRoaXMuX2Nhbk1lcmdlTGVmdCh0LGUpLGk9dGhpcy5fY2FuTWVyZ2VSaWdodCh0LGUpLG89VnUuY3JlYXRlQmVmb3JlKHQpLHI9VnUuY3JlYXRlQWZ0ZXIodCk7aWYobil7Y29uc3QgdD1WdS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbik7dGhpcy53cml0ZXIubWVyZ2UobyksdGhpcy5wb3NpdGlvbj1icy5jcmVhdGVGcm9tUG9zaXRpb24odCksdC5kZXRhY2goKX1pZihpKXt0aGlzLnBvc2l0aW9uLmlzRXF1YWwocil8fHpyLmEuZXJyb3IoXCJpbnNlcnRjb250ZW50LXdyb25nLXBvc2l0aW9uLW9uLW1lcmdlOiBUaGUgaW5zZXJ0aW9uIHBvc2l0aW9uIHNob3VsZCBlcXVhbCB0aGUgbWVyZ2UgcG9zaXRpb25cIiksdGhpcy5wb3NpdGlvbj1icy5jcmVhdGVBdChyLm5vZGVCZWZvcmUsXCJlbmRcIik7Y29uc3QgdD1uZXcgVnUodGhpcy5wb3NpdGlvbi5yb290LHRoaXMucG9zaXRpb24ucGF0aCxcInN0aWNrc1RvUHJldmlvdXNcIik7dGhpcy53cml0ZXIubWVyZ2UociksdGhpcy5wb3NpdGlvbj1icy5jcmVhdGVGcm9tUG9zaXRpb24odCksdC5kZXRhY2goKX0obnx8aSkmJnRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZi5wdXNoKHRoaXMucG9zaXRpb24ucGFyZW50KSxvLmRldGFjaCgpLHIuZGV0YWNoKCl9X2Nhbk1lcmdlTGVmdCh0LGUpe2NvbnN0IG49dC5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGUuaXNGaXJzdCYmbiBpbnN0YW5jZW9mIGZzJiZ0aGlzLmNhbk1lcmdlV2l0aC5oYXMobikmJnRoaXMubW9kZWwuc2NoZW1hLmNoZWNrTWVyZ2Uobix0KX1fY2FuTWVyZ2VSaWdodCh0LGUpe2NvbnN0IG49dC5uZXh0U2libGluZztyZXR1cm4gZS5pc0xhc3QmJm4gaW5zdGFuY2VvZiBmcyYmdGhpcy5jYW5NZXJnZVdpdGguaGFzKG4pJiZ0aGlzLm1vZGVsLnNjaGVtYS5jaGVja01lcmdlKHQsbil9X3RyeUF1dG9wYXJhZ3JhcGhpbmcodCxlKXtjb25zdCBuPXRoaXMud3JpdGVyLmNyZWF0ZUVsZW1lbnQoXCJwYXJhZ3JhcGhcIik7dGhpcy5fZ2V0QWxsb3dlZEluKG4sdGhpcy5wb3NpdGlvbi5wYXJlbnQpJiZ0aGlzLnNjaGVtYS5jaGVja0NoaWxkKG4sdCkmJihuLl9hcHBlbmRDaGlsZCh0KSx0aGlzLl9oYW5kbGVOb2RlKG4sZSkpfV9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24odCl7Y29uc3QgZT10aGlzLl9nZXRBbGxvd2VkSW4odCx0aGlzLnBvc2l0aW9uLnBhcmVudCk7aWYoIWUpcmV0dXJuITE7Zm9yKDtlIT10aGlzLnBvc2l0aW9uLnBhcmVudDspe2lmKHRoaXMuc2NoZW1hLmlzTGltaXQodGhpcy5wb3NpdGlvbi5wYXJlbnQpKXJldHVybiExO2lmKHRoaXMucG9zaXRpb24uaXNBdFN0YXJ0KXtjb25zdCB0PXRoaXMucG9zaXRpb24ucGFyZW50O3RoaXMucG9zaXRpb249YnMuY3JlYXRlQmVmb3JlKHQpLHQuaXNFbXB0eSYmdGhpcy53cml0ZXIucmVtb3ZlKHQpfWVsc2UgaWYodGhpcy5wb3NpdGlvbi5pc0F0RW5kKXRoaXMucG9zaXRpb249YnMuY3JlYXRlQWZ0ZXIodGhpcy5wb3NpdGlvbi5wYXJlbnQpO2Vsc2V7Y29uc3QgdD1icy5jcmVhdGVBZnRlcih0aGlzLnBvc2l0aW9uLnBhcmVudCk7dGhpcy53cml0ZXIuc3BsaXQodGhpcy5wb3NpdGlvbiksdGhpcy5wb3NpdGlvbj10LHRoaXMuY2FuTWVyZ2VXaXRoLmFkZCh0aGlzLnBvc2l0aW9uLm5vZGVBZnRlcil9fXJldHVybiEwfV9nZXRBbGxvd2VkSW4odCxlKXtyZXR1cm4gdGhpcy5zY2hlbWEuY2hlY2tDaGlsZChlLHQpP2U6ZS5wYXJlbnQ/dGhpcy5fZ2V0QWxsb3dlZEluKHQsZS5wYXJlbnQpOm51bGx9fWZ1bmN0aW9uIEZ1KHQsZSxuPXt9KXtpZihlLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBpPXQuc2NoZW1hO3QuY2hhbmdlKHQ9PntpZighbi5kb05vdFJlc2V0RW50aXJlQ29udGVudCYmZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuZ2V0TGltaXRFbGVtZW50KGUpO2lmKCFlLmNvbnRhaW5zRW50aXJlQ29udGVudChuKSlyZXR1cm4hMTtjb25zdCBpPWUuZ2V0Rmlyc3RSYW5nZSgpO2lmKGkuc3RhcnQucGFyZW50PT1pLmVuZC5wYXJlbnQpcmV0dXJuITE7cmV0dXJuIHQuY2hlY2tDaGlsZChuLFwicGFyYWdyYXBoXCIpfShpLGUpKXJldHVybiB2b2lkIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10Lm1vZGVsLnNjaGVtYS5nZXRMaW1pdEVsZW1lbnQoZSk7dC5yZW1vdmUod3MuY3JlYXRlSW4obikpLE51KHQsYnMuY3JlYXRlQXQobiksZSl9KHQsZSk7Y29uc3Qgbz1lLmdldEZpcnN0UmFuZ2UoKSxyPW8uc3RhcnQscz1WdS5jcmVhdGVGcm9tUG9zaXRpb24oby5lbmQpO28uc3RhcnQuaXNUb3VjaGluZyhvLmVuZCl8fHQucmVtb3ZlKG8pLG4ubGVhdmVVbm1lcmdlZHx8KCFmdW5jdGlvbiB0KGUsbixpKXtjb25zdCBvPW4ucGFyZW50O2NvbnN0IHI9aS5wYXJlbnQ7aWYobz09cilyZXR1cm47aWYoIW8ucGFyZW50fHwhci5wYXJlbnQpcmV0dXJuO2lmKCFmdW5jdGlvbih0LGUsbil7Y29uc3QgaT1uZXcgd3ModCxlKTtmb3IoY29uc3QgdCBvZiBpLmdldFdhbGtlcigpKWlmKG4uaXNMaW1pdCh0Lml0ZW0pKXJldHVybiExO3JldHVybiEwfShuLGksZS5tb2RlbC5zY2hlbWEpKXJldHVybjtuPWJzLmNyZWF0ZUFmdGVyKG8pO2k9YnMuY3JlYXRlQmVmb3JlKHIpO2kuaXNFcXVhbChuKXx8ZS5pbnNlcnQocixuKTtlLm1lcmdlKG4pO2Zvcig7aS5wYXJlbnQuaXNFbXB0eTspe2NvbnN0IHQ9aS5wYXJlbnQ7aT1icy5jcmVhdGVCZWZvcmUodCksZS5yZW1vdmUodCl9dChlLG4saSl9KHQscixzKSxpLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKHIucGFyZW50LmdldENoaWxkcmVuKCksdCkpLGUgaW5zdGFuY2VvZiBQcz90LnNldFNlbGVjdGlvbihyKTplLnNldFRvKHIpLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmNoZWNrQ2hpbGQoZSxcIiR0ZXh0XCIpLGk9dC5jaGVja0NoaWxkKGUsXCJwYXJhZ3JhcGhcIik7cmV0dXJuIW4mJml9KGkscikmJk51KHQscixlKSxzLmRldGFjaCgpfSl9ZnVuY3Rpb24gTnUodCxlLG4pe2NvbnN0IGk9dC5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO3QuaW5zZXJ0KGksZSksbiBpbnN0YW5jZW9mIFBzP3Quc2V0U2VsZWN0aW9uKGksMCk6bi5zZXRUbyhpLDApfWNvbnN0IER1PScgLC4/ITo7XCItKCknO2Z1bmN0aW9uIEJ1KHQsZSxuPXt9KXtjb25zdCBpPXQuc2NoZW1hLG89XCJiYWNrd2FyZFwiIT1uLmRpcmVjdGlvbixyPW4udW5pdD9uLnVuaXQ6XCJjaGFyYWN0ZXJcIixzPWUuZm9jdXMsYT1uZXcgcHMoe2JvdW5kYXJpZXM6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQucm9vdCxpPWJzLmNyZWF0ZUF0KG4sZT9cImVuZFwiOjApO3JldHVybiBlP25ldyB3cyh0LGkpOm5ldyB3cyhpLHQpfShzLG8pLHNpbmdsZUNoYXJhY3RlcnM6ITAsZGlyZWN0aW9uOm8/XCJmb3J3YXJkXCI6XCJiYWNrd2FyZFwifSksYz17d2Fsa2VyOmEsc2NoZW1hOmksaXNGb3J3YXJkOm8sdW5pdDpyfTtsZXQgbDtmb3IoO2w9YS5uZXh0KCk7KXtpZihsLmRvbmUpcmV0dXJuO2NvbnN0IG49THUoYyxsLnZhbHVlKTtpZihuKXJldHVybiB2b2lkKGUgaW5zdGFuY2VvZiBQcz90LmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb25Gb2N1cyhuKX0pOmUuc2V0Rm9jdXMobikpfX1mdW5jdGlvbiBMdSh0LGUpe2lmKFwidGV4dFwiPT1lLnR5cGUpcmV0dXJuXCJ3b3JkXCI9PT10LnVuaXQ/ZnVuY3Rpb24odCxlKXtsZXQgbj10LnBvc2l0aW9uLnRleHROb2RlO2lmKG4pe2xldCBpPXQucG9zaXRpb24ub2Zmc2V0LW4uc3RhcnRPZmZzZXQ7Zm9yKDshanUobi5kYXRhLGksZSkmJiF6dShuLGksZSk7KXt0Lm5leHQoKTtjb25zdCBvPWU/dC5wb3NpdGlvbi5ub2RlQWZ0ZXI6dC5wb3NpdGlvbi5ub2RlQmVmb3JlO2lmKG8mJm8uaXMoXCJ0ZXh0XCIpKXtjb25zdCBpPW8uZGF0YS5jaGFyQXQoZT8wOm8uZGF0YS5sZW5ndGgtMSk7RHUuaW5jbHVkZXMoaSl8fCh0Lm5leHQoKSxuPXQucG9zaXRpb24udGV4dE5vZGUpfWk9dC5wb3NpdGlvbi5vZmZzZXQtbi5zdGFydE9mZnNldH19cmV0dXJuIHQucG9zaXRpb259KHQud2Fsa2VyLHQuaXNGb3J3YXJkKTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5wb3NpdGlvbi50ZXh0Tm9kZTtpZihuKXtjb25zdCBpPW4uZGF0YTtsZXQgbz10LnBvc2l0aW9uLm9mZnNldC1uLnN0YXJ0T2Zmc2V0O2Zvcig7VHUoaSxvKXx8XCJjaGFyYWN0ZXJcIj09ZSYmU3UoaSxvKTspdC5uZXh0KCksbz10LnBvc2l0aW9uLm9mZnNldC1uLnN0YXJ0T2Zmc2V0fXJldHVybiB0LnBvc2l0aW9ufSh0LndhbGtlcix0LnVuaXQsdC5pc0ZvcndhcmQpO2lmKGUudHlwZT09KHQuaXNGb3J3YXJkP1wiZWxlbWVudFN0YXJ0XCI6XCJlbGVtZW50RW5kXCIpKXtpZih0LnNjaGVtYS5pc09iamVjdChlLml0ZW0pKXJldHVybiBicy5jcmVhdGVBdChlLml0ZW0sdC5pc0ZvcndhcmQ/XCJhZnRlclwiOlwiYmVmb3JlXCIpO2lmKHQuc2NoZW1hLmNoZWNrQ2hpbGQoZS5uZXh0UG9zaXRpb24sXCIkdGV4dFwiKSlyZXR1cm4gZS5uZXh0UG9zaXRpb259ZWxzZXtpZih0LnNjaGVtYS5pc0xpbWl0KGUuaXRlbSkpcmV0dXJuIHZvaWQgdC53YWxrZXIuc2tpcCgoKT0+ITApO2lmKHQuc2NoZW1hLmNoZWNrQ2hpbGQoZS5uZXh0UG9zaXRpb24sXCIkdGV4dFwiKSlyZXR1cm4gZS5uZXh0UG9zaXRpb259fWZ1bmN0aW9uIGp1KHQsZSxuKXtjb25zdCBpPWUrKG4/MDotMSk7cmV0dXJuIER1LmluY2x1ZGVzKHQuY2hhckF0KGkpKX1mdW5jdGlvbiB6dSh0LGUsbil7cmV0dXJuIGU9PT0obj90LmVuZE9mZnNldDowKX1mdW5jdGlvbiBxdSh0LGUpe2NvbnN0IG49W107QXJyYXkuZnJvbSh0LmdldEl0ZW1zKHtkaXJlY3Rpb246XCJiYWNrd2FyZFwifSkpLm1hcCh0PT53cy5jcmVhdGVPbih0KSkuZmlsdGVyKGU9PntyZXR1cm4oZS5zdGFydC5pc0FmdGVyKHQuc3RhcnQpfHxlLnN0YXJ0LmlzRXF1YWwodC5zdGFydCkpJiYoZS5lbmQuaXNCZWZvcmUodC5lbmQpfHxlLmVuZC5pc0VxdWFsKHQuZW5kKSl9KS5mb3JFYWNoKHQ9PntuLnB1c2godC5zdGFydC5wYXJlbnQpLGUucmVtb3ZlKHQpfSksbi5mb3JFYWNoKHQ9PntsZXQgbj10O2Zvcig7bi5wYXJlbnQmJm4uaXNFbXB0eTspe2NvbnN0IHQ9d3MuY3JlYXRlT24obik7bj1uLnBhcmVudCxlLnJlbW92ZSh0KX19KX1mdW5jdGlvbiBVdSh0KXt0LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKGU9PihmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5kb2N1bWVudC5zZWxlY3Rpb24saT1lLnNjaGVtYSxvPVtdO2xldCByPSExO2Zvcihjb25zdCB0IG9mIG4uZ2V0UmFuZ2VzKCkpe2NvbnN0IGU9SHUodCxpKTtlPyhvLnB1c2goZSkscj0hMCk6by5wdXNoKHQpfWlmKHIpe2xldCBlPW87aWYoby5sZW5ndGg+MSl7Y29uc3QgdD1vWzBdLnN0YXJ0LG49b1tvLmxlbmd0aC0xXS5lbmQ7ZT1bbmV3IHdzKHQsbildfXQuc2V0U2VsZWN0aW9uKGUse2JhY2t3YXJkOm4uaXNCYWNrd2FyZH0pfX0pKGUsdCkpfWZ1bmN0aW9uIEh1KHQsZSl7cmV0dXJuIHQuaXNDb2xsYXBzZWQ/ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuc3RhcnQsaT1lLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBvPWkuc3RhcnQ7aWYobi5pc0VxdWFsKG8pKXJldHVybiBudWxsO2lmKG8ubm9kZUFmdGVyJiZlLmlzTGltaXQoby5ub2RlQWZ0ZXIpKXJldHVybiBuZXcgd3Mobyxicy5jcmVhdGVBZnRlcihvLm5vZGVBZnRlcikpO3JldHVybiBuZXcgd3Mobyl9KHQsZSk6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuc3RhcnQsaT10LmVuZCxvPWUuY2hlY2tDaGlsZChuLFwiJHRleHRcIikscj1lLmNoZWNrQ2hpbGQoaSxcIiR0ZXh0XCIpLHM9ZS5nZXRMaW1pdEVsZW1lbnQobiksYT1lLmdldExpbWl0RWxlbWVudChpKTtpZihzPT09YSl7aWYobyYmcilyZXR1cm4gbnVsbDtpZihmdW5jdGlvbih0LGUsbil7Y29uc3QgaT10Lm5vZGVBZnRlciYmIW4uaXNMaW1pdCh0Lm5vZGVBZnRlcil8fG4uY2hlY2tDaGlsZCh0LFwiJHRleHRcIiksbz1lLm5vZGVCZWZvcmUmJiFuLmlzTGltaXQoZS5ub2RlQmVmb3JlKXx8bi5jaGVja0NoaWxkKGUsXCIkdGV4dFwiKTtyZXR1cm4gaSYmb30obixpLGUpKXtjb25zdCB0PWUuZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKG4sXCJmb3J3YXJkXCIpLG89ZS5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2UoaSxcImJhY2t3YXJkXCIpO3JldHVybiBuZXcgd3ModD90LnN0YXJ0Om4sbz9vLnN0YXJ0OmkpfX1jb25zdCBjPXMmJiFzLmlzKFwicm9vdEVsZW1lbnRcIiksbD1hJiYhYS5pcyhcInJvb3RFbGVtZW50XCIpO2lmKGN8fGwpe2NvbnN0IHQ9Yz9XdShicy5jcmVhdGVBdChzKSxlLFwic3RhcnRcIik6bixvPWw/V3UoYnMuY3JlYXRlQXQoYSksZSxcImVuZFwiKTppO3JldHVybiBuZXcgd3ModCxvKX1yZXR1cm4gbnVsbH0odCxlKX1mdW5jdGlvbiBXdSh0LGUsbil7bGV0IGk9dC5wYXJlbnQsbz1pO2Zvcig7ZS5pc0xpbWl0KG8pJiZvLnBhcmVudDspaT1vLG89by5wYXJlbnQ7cmV0dXJuXCJzdGFydFwiPT09bj9icy5jcmVhdGVCZWZvcmUoaSk6YnMuY3JlYXRlQWZ0ZXIoaSl9Y2xhc3MgJHV7Y29uc3RydWN0b3IoKXt0aGlzLm1hcmtlcnM9bmV3IFJ1LHRoaXMuZG9jdW1lbnQ9bmV3IFB1KHRoaXMpLHRoaXMuc2NoZW1hPW5ldyAkcyx0aGlzLl9wZW5kaW5nQ2hhbmdlcz1bXSx0aGlzLl9jdXJyZW50V3JpdGVyPW51bGwsW1wiaW5zZXJ0Q29udGVudFwiLFwiZGVsZXRlQ29udGVudFwiLFwibW9kaWZ5U2VsZWN0aW9uXCIsXCJnZXRTZWxlY3RlZENvbnRlbnRcIixcImFwcGx5T3BlcmF0aW9uXCJdLmZvckVhY2godD0+dGhpcy5kZWNvcmF0ZSh0KSksdGhpcy5vbihcImFwcGx5T3BlcmF0aW9uXCIsKHQsZSk9PntlWzBdLl92YWxpZGF0ZSgpfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcihcIiRyb290XCIse2lzTGltaXQ6ITB9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcihcIiRibG9ja1wiLHthbGxvd0luOlwiJHJvb3RcIixpc0Jsb2NrOiEwfSksdGhpcy5zY2hlbWEucmVnaXN0ZXIoXCIkdGV4dFwiLHthbGxvd0luOlwiJGJsb2NrXCJ9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcihcIiRjbGlwYm9hcmRIb2xkZXJcIix7YWxsb3dDb250ZW50T2Y6XCIkcm9vdFwiLGlzTGltaXQ6ITB9KSx0aGlzLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0luOlwiJGNsaXBib2FyZEhvbGRlclwifSksdGhpcy5zY2hlbWEucmVnaXN0ZXIoXCIkbWFya2VyXCIse2FsbG93SW46W1wiJHJvb3RcIixcIiRibG9ja1wiXX0pLFV1KHRoaXMpfWNoYW5nZSh0KXtyZXR1cm4gMD09PXRoaXMuX3BlbmRpbmdDaGFuZ2VzLmxlbmd0aD8odGhpcy5fcGVuZGluZ0NoYW5nZXMucHVzaCh7YmF0Y2g6bmV3IHV1LGNhbGxiYWNrOnR9KSx0aGlzLl9ydW5QZW5kaW5nQ2hhbmdlcygpWzBdKTp0KHRoaXMuX2N1cnJlbnRXcml0ZXIpfWVucXVldWVDaGFuZ2UodCxlKXtcInN0cmluZ1wiPT10eXBlb2YgdD90PW5ldyB1dSh0KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYoZT10LHQ9bmV3IHV1KSx0aGlzLl9wZW5kaW5nQ2hhbmdlcy5wdXNoKHtiYXRjaDp0LGNhbGxiYWNrOmV9KSwxPT10aGlzLl9wZW5kaW5nQ2hhbmdlcy5sZW5ndGgmJnRoaXMuX3J1blBlbmRpbmdDaGFuZ2VzKCl9YXBwbHlPcGVyYXRpb24odCl7dC5fZXhlY3V0ZSgpfXRyYW5zZm9ybURlbHRhcyh0LGUsbj0hMSl7cmV0dXJuIFpkLnRyYW5zZm9ybURlbHRhU2V0cyh0LGUsbj90aGlzLmRvY3VtZW50Om51bGwpfWluc2VydENvbnRlbnQodCxlKXshZnVuY3Rpb24odCxlLG4pe3QuY2hhbmdlKGk9PntuLmlzQ29sbGFwc2VkfHx0LmRlbGV0ZUNvbnRlbnQobik7Y29uc3Qgbz1uZXcgTXUodCxpLG4uYW5jaG9yKTtsZXQgcjtyPWUuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP2UuZ2V0Q2hpbGRyZW4oKTpbZV0sby5oYW5kbGVOb2RlcyhyLHtpc0ZpcnN0OiEwLGlzTGFzdDohMH0pO2NvbnN0IHM9by5nZXRTZWxlY3Rpb25SYW5nZSgpO3M/biBpbnN0YW5jZW9mIFBzP2kuc2V0U2VsZWN0aW9uKHMpOm4uc2V0VG8ocyk6enIuYS53YXJuKFwiaW5zZXJ0Y29udGVudC1uby1yYW5nZTogQ2Fubm90IGRldGVybWluZSBhIHByb3BlciBzZWxlY3Rpb24gcmFuZ2UgYWZ0ZXIgaW5zZXJ0aW9uLlwiKX0pfSh0aGlzLHQsZSl9ZGVsZXRlQ29udGVudCh0LGUpe0Z1KHRoaXMsdCxlKX1tb2RpZnlTZWxlY3Rpb24odCxlKXtCdSh0aGlzLHQsZSl9Z2V0U2VsZWN0ZWRDb250ZW50KHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiB0LmNoYW5nZSh0PT57Y29uc3Qgbj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxpPWUuZ2V0Rmlyc3RSYW5nZSgpO2lmKCFpfHxpLmlzQ29sbGFwc2VkKXJldHVybiBuO2NvbnN0IG89aS5zdGFydC5yb290LHI9aS5zdGFydC5nZXRDb21tb25QYXRoKGkuZW5kKSxzPW8uZ2V0Tm9kZUJ5UGF0aChyKTtsZXQgYTtjb25zdCBjPShhPWkuc3RhcnQucGFyZW50PT1pLmVuZC5wYXJlbnQ/aTp3cy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMocyxpLnN0YXJ0LnBhdGhbci5sZW5ndGhdLHMsaS5lbmQucGF0aFtyLmxlbmd0aF0rMSkpLmVuZC5vZmZzZXQtYS5zdGFydC5vZmZzZXQ7Zm9yKGNvbnN0IGUgb2YgYS5nZXRJdGVtcyh7c2hhbGxvdzohMH0pKWUuaXMoXCJ0ZXh0UHJveHlcIik/dC5hcHBlbmRUZXh0KGUuZGF0YSxlLmdldEF0dHJpYnV0ZXMoKSxuKTp0LmFwcGVuZChlLl9jbG9uZSghMCksbik7aWYoYSE9aSl7Y29uc3QgZT1pLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShhLnN0YXJ0LGJzLmNyZWF0ZUF0KG4sMCksYylbMF0sbz1uZXcgd3MoYnMuY3JlYXRlQXQobiksZS5zdGFydCk7cXUobmV3IHdzKGUuZW5kLGJzLmNyZWF0ZUF0KG4sXCJlbmRcIikpLHQpLHF1KG8sdCl9cmV0dXJuIG59KX0odGhpcyx0KX1oYXNDb250ZW50KHQpe2lmKHQgaW5zdGFuY2VvZiBmcyYmKHQ9d3MuY3JlYXRlSW4odCkpLHQuaXNDb2xsYXBzZWQpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgdC5nZXRJdGVtcygpKWlmKGUuaXMoXCJ0ZXh0UHJveHlcIil8fHRoaXMuc2NoZW1hLmlzT2JqZWN0KGUpKXJldHVybiEwO3JldHVybiExfWRlc3Ryb3koKXt0aGlzLmRvY3VtZW50LmRlc3Ryb3koKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fcnVuUGVuZGluZ0NoYW5nZXMoKXtjb25zdCB0PVtdO2Zvcig7dGhpcy5fcGVuZGluZ0NoYW5nZXMubGVuZ3RoOyl7Y29uc3QgZT10aGlzLl9wZW5kaW5nQ2hhbmdlc1swXS5iYXRjaDt0aGlzLl9jdXJyZW50V3JpdGVyPW5ldyBtdSh0aGlzLGUpO2NvbnN0IG49dGhpcy5fcGVuZGluZ0NoYW5nZXNbMF0uY2FsbGJhY2sodGhpcy5fY3VycmVudFdyaXRlcik7dC5wdXNoKG4pLHRoaXMuZmlyZShcIl9jaGFuZ2VcIix0aGlzLl9jdXJyZW50V3JpdGVyKSx0aGlzLl9wZW5kaW5nQ2hhbmdlcy5zaGlmdCgpLHRoaXMuX2N1cnJlbnRXcml0ZXI9bnVsbH1yZXR1cm4gdH19UCgkdSx5aSk7Y2xhc3MgS3V7Y29uc3RydWN0b3IoKXt0aGlzLl9saXN0ZW5lcj1PYmplY3QuY3JlYXRlKFVvKX1saXN0ZW5Ubyh0KXt0aGlzLl9saXN0ZW5lci5saXN0ZW5Ubyh0LFwia2V5ZG93blwiLCh0LGUpPT57dGhpcy5fbGlzdGVuZXIuZmlyZShcIl9rZXlkb3duOlwiK1FpKGUpLGUpfSl9c2V0KHQsZSxuPXt9KXtjb25zdCBpPVlpKHQpLG89bi5wcmlvcml0eTt0aGlzLl9saXN0ZW5lci5saXN0ZW5Ubyh0aGlzLl9saXN0ZW5lcixcIl9rZXlkb3duOlwiK2ksKHQsbik9PntlKG4sKCk9PntuLnByZXZlbnREZWZhdWx0KCksbi5zdG9wUHJvcGFnYXRpb24oKSx0LnN0b3AoKX0pLHQucmV0dXJuPSEwfSx7cHJpb3JpdHk6b30pfXByZXNzKHQpe3JldHVybiEhdGhpcy5fbGlzdGVuZXIuZmlyZShcIl9rZXlkb3duOlwiK1FpKHQpLHQpfWRlc3Ryb3koKXt0aGlzLl9saXN0ZW5lci5zdG9wTGlzdGVuaW5nKCl9fWNsYXNzIEd1IGV4dGVuZHMgS3V7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmVkaXRvcj10fXNldCh0LGUsbj17fSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9ZTtlPSgoZSxuKT0+e3RoaXMuZWRpdG9yLmV4ZWN1dGUodCksbigpfSl9c3VwZXIuc2V0KHQsZSxuKX19big0Mik7Y2xhc3MgSnV7Y29uc3RydWN0b3IodCl7Y29uc3QgZT10aGlzLmNvbnN0cnVjdG9yLmJ1aWx0aW5QbHVnaW5zO3RoaXMuY29uZmlnPW5ldyBwKHQsdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0Q29uZmlnKSx0aGlzLmNvbmZpZy5kZWZpbmUoXCJwbHVnaW5zXCIsZSksdGhpcy5wbHVnaW5zPW5ldyBqcyh0aGlzLGUpLHRoaXMuY29tbWFuZHM9bmV3IHpzLHRoaXMubG9jYWxlPW5ldyBVcyh0aGlzLmNvbmZpZy5nZXQoXCJsYW5ndWFnZVwiKSksdGhpcy50PXRoaXMubG9jYWxlLnQsdGhpcy5zZXQoXCJzdGF0ZVwiLFwiaW5pdGlhbGl6aW5nXCIpLHRoaXMub25jZShcInJlYWR5XCIsKCk9PnRoaXMuc3RhdGU9XCJyZWFkeVwiLHtwcmlvcml0eTpcImhpZ2hcIn0pLHRoaXMub25jZShcImRlc3Ryb3lcIiwoKT0+dGhpcy5zdGF0ZT1cImRlc3Ryb3llZFwiLHtwcmlvcml0eTpcImhpZ2hcIn0pLHRoaXMuc2V0KFwiaXNSZWFkT25seVwiLCExKSx0aGlzLm1vZGVsPW5ldyAkdSx0aGlzLmRhdGE9bmV3IHVhKHRoaXMubW9kZWwpLHRoaXMuZWRpdGluZz1uZXcgTHModGhpcy5tb2RlbCksdGhpcy5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuYmluZChcImlzUmVhZE9ubHlcIikudG8odGhpcyksdGhpcy5jb252ZXJzaW9uPW5ldyBoYSx0aGlzLmNvbnZlcnNpb24ucmVnaXN0ZXIoXCJkb3duY2FzdFwiLFt0aGlzLmVkaXRpbmcuZG93bmNhc3REaXNwYXRjaGVyLHRoaXMuZGF0YS5kb3duY2FzdERpc3BhdGNoZXJdKSx0aGlzLmNvbnZlcnNpb24ucmVnaXN0ZXIoXCJlZGl0aW5nRG93bmNhc3RcIixbdGhpcy5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlcl0pLHRoaXMuY29udmVyc2lvbi5yZWdpc3RlcihcImRhdGFEb3duY2FzdFwiLFt0aGlzLmRhdGEuZG93bmNhc3REaXNwYXRjaGVyXSksdGhpcy5jb252ZXJzaW9uLnJlZ2lzdGVyKFwidXBjYXN0XCIsW3RoaXMuZGF0YS51cGNhc3REaXNwYXRjaGVyXSksdGhpcy5rZXlzdHJva2VzPW5ldyBHdSh0aGlzKSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lZGl0aW5nLnZpZXcuZG9jdW1lbnQpfWluaXRQbHVnaW5zKCl7Y29uc3QgdD10aGlzLGU9dGhpcy5jb25maWc7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3Qgbj1lLmdldChcInBsdWdpbnNcIil8fFtdLGk9ZS5nZXQoXCJyZW1vdmVQbHVnaW5zXCIpfHxbXTtyZXR1cm4gdC5wbHVnaW5zLmxvYWQobixpKX0oKS50aGVuKHQ9Pm4odCxcImluaXRcIikudGhlbigoKT0+bih0LFwiYWZ0ZXJJbml0XCIpKSkudGhlbigoKT0+dGhpcy5maXJlKFwicGx1Z2luc1JlYWR5XCIpKTtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHQucmVkdWNlKCh0LG4pPT5uW2VdP3QudGhlbihuW2VdLmJpbmQobikpOnQsUHJvbWlzZS5yZXNvbHZlKCkpfX1kZXN0cm95KCl7bGV0IHQ9UHJvbWlzZS5yZXNvbHZlKCk7cmV0dXJuXCJpbml0aWFsaXppbmdcIj09dGhpcy5zdGF0ZSYmKHQ9bmV3IFByb21pc2UodD0+dGhpcy5vbmNlKFwicmVhZHlcIix0KSkpLHQudGhlbigoKT0+e3RoaXMuZmlyZShcImRlc3Ryb3lcIiksdGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpcy5jb21tYW5kcy5kZXN0cm95KCl9KS50aGVuKCgpPT50aGlzLnBsdWdpbnMuZGVzdHJveSgpKS50aGVuKCgpPT57dGhpcy5tb2RlbC5kZXN0cm95KCksdGhpcy5kYXRhLmRlc3Ryb3koKSx0aGlzLmVkaXRpbmcuZGVzdHJveSgpLHRoaXMua2V5c3Ryb2tlcy5kZXN0cm95KCl9KX1leGVjdXRlKC4uLnQpe3RoaXMuY29tbWFuZHMuZXhlY3V0ZSguLi50KX1zdGF0aWMgY3JlYXRlKHQpe3JldHVybiBuZXcgUHJvbWlzZShlPT57Y29uc3Qgbj1uZXcgdGhpcyh0KTtlKG4uaW5pdFBsdWdpbnMoKS50aGVuKCgpPT57bi5maXJlKFwiZGF0YVJlYWR5XCIpLG4uZmlyZShcInJlYWR5XCIpfSkudGhlbigoKT0+bikpfSl9fVAoSnUseWkpO3ZhciBRdT17c2V0RGF0YSh0KXt0aGlzLmRhdGEuc2V0KHQpfSxnZXREYXRhKCl7cmV0dXJuIHRoaXMuZGF0YS5nZXQoKX19O3ZhciBZdT17dXBkYXRlU291cmNlRWxlbWVudCgpe2lmKCF0aGlzLnNvdXJjZUVsZW1lbnQpdGhyb3cgbmV3IG0uYihcImVkaXRvci1taXNzaW5nLXNvdXJjZWVsZW1lbnQ6IENhbm5vdCB1cGRhdGUgdGhlIHNvdXJjZSBlbGVtZW50IG9mIGEgZGV0YWNoZWQgZWRpdG9yLlwiKTshZnVuY3Rpb24odCxlKXt0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCYmKHQudmFsdWU9ZSksdC5pbm5lckhUTUw9ZX0odGhpcy5zb3VyY2VFbGVtZW50LHRoaXMuZGF0YS5nZXQoKSl9fTtjbGFzcyBYdXtnZXRIdG1sKHQpe2NvbnN0IGU9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuYXBwZW5kQ2hpbGQodCksZS5pbm5lckhUTUx9fWNsYXNzIFp1e2NvbnN0cnVjdG9yKCl7dGhpcy5fZG9tUGFyc2VyPW5ldyBET01QYXJzZXIsdGhpcy5fZG9tQ29udmVydGVyPW5ldyBMbyh7YmxvY2tGaWxsZXI6bW99KSx0aGlzLl9odG1sV3JpdGVyPW5ldyBYdX10b0RhdGEodCl7Y29uc3QgZT10aGlzLl9kb21Db252ZXJ0ZXIudmlld1RvRG9tKHQsZG9jdW1lbnQpO3JldHVybiB0aGlzLl9odG1sV3JpdGVyLmdldEh0bWwoZSl9dG9WaWV3KHQpe2NvbnN0IGU9dGhpcy5fdG9Eb20odCk7cmV0dXJuIHRoaXMuX2RvbUNvbnZlcnRlci5kb21Ub1ZpZXcoZSl9X3RvRG9tKHQpe2NvbnN0IGU9dGhpcy5fZG9tUGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0LFwidGV4dC9odG1sXCIpLG49ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksaT1lLmJvZHkuY2hpbGROb2Rlcztmb3IoO2kubGVuZ3RoPjA7KW4uYXBwZW5kQ2hpbGQoaVswXSk7cmV0dXJuIG59fWNsYXNzIHRoe2NvbnN0cnVjdG9yKHQpe3RoaXMuZWRpdG9yPXQsdGhpcy5fY29tcG9uZW50cz1uZXcgTWFwfSpuYW1lcygpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NvbXBvbmVudHMudmFsdWVzKCkpeWllbGQgdC5vcmlnaW5hbE5hbWV9YWRkKHQsZSl7aWYodGhpcy5oYXModCkpdGhyb3cgbmV3IG0uYihcImNvbXBvbmVudGZhY3RvcnktaXRlbS1leGlzdHM6IFRoZSBpdGVtIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjb21wb25lbnQgZmFjdG9yeS5cIix7bmFtZTp0fSk7dGhpcy5fY29tcG9uZW50cy5zZXQoZWgodCkse2NhbGxiYWNrOmUsb3JpZ2luYWxOYW1lOnR9KX1jcmVhdGUodCl7aWYoIXRoaXMuaGFzKHQpKXRocm93IG5ldyBtLmIoXCJjb21wb25lbnRmYWN0b3J5LWl0ZW0tbWlzc2luZzogVGhlIHJlcXVpcmVkIGNvbXBvbmVudCBpcyBub3QgcmVnaXN0ZXJlZCBpbiB0aGUgZmFjdG9yeS5cIix7bmFtZTp0fSk7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHMuZ2V0KGVoKHQpKS5jYWxsYmFjayh0aGlzLmVkaXRvci5sb2NhbGUpfWhhcyh0KXtyZXR1cm4gdGhpcy5fY29tcG9uZW50cy5oYXMoZWgodCkpfX1mdW5jdGlvbiBlaCh0KXtyZXR1cm4gU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCl9Y2xhc3Mgbmh7Y29uc3RydWN0b3IoKXt0aGlzLnNldChcImlzRm9jdXNlZFwiLCExKSx0aGlzLmZvY3VzZWRFbGVtZW50PW51bGwsdGhpcy5fZWxlbWVudHM9bmV3IFNldCx0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dD1udWxsfWFkZCh0KXtpZih0aGlzLl9lbGVtZW50cy5oYXModCkpdGhyb3cgbmV3IG0uYihcImZvY3VzVHJhY2tlci1hZGQtZWxlbWVudC1hbHJlYWR5LWV4aXN0XCIpO3RoaXMubGlzdGVuVG8odCxcImZvY3VzXCIsKCk9PnRoaXMuX2ZvY3VzKHQpLHt1c2VDYXB0dXJlOiEwfSksdGhpcy5saXN0ZW5Ubyh0LFwiYmx1clwiLCgpPT50aGlzLl9ibHVyKCkse3VzZUNhcHR1cmU6ITB9KSx0aGlzLl9lbGVtZW50cy5hZGQodCl9cmVtb3ZlKHQpe3Q9PT10aGlzLmZvY3VzZWRFbGVtZW50JiZ0aGlzLl9ibHVyKHQpLHRoaXMuX2VsZW1lbnRzLmhhcyh0KSYmKHRoaXMuc3RvcExpc3RlbmluZyh0KSx0aGlzLl9lbGVtZW50cy5kZWxldGUodCkpfV9mb2N1cyh0KXtjbGVhclRpbWVvdXQodGhpcy5fbmV4dEV2ZW50TG9vcFRpbWVvdXQpLHRoaXMuZm9jdXNlZEVsZW1lbnQ9dCx0aGlzLmlzRm9jdXNlZD0hMH1fYmx1cigpe2NsZWFyVGltZW91dCh0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dCksdGhpcy5fbmV4dEV2ZW50TG9vcFRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMuZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLmlzRm9jdXNlZD0hMX0sMCl9fVAobmgsVW8pLFAobmgseWkpO2NsYXNzIGloe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5lZGl0b3I9dCx0aGlzLnZpZXc9ZSx0aGlzLmNvbXBvbmVudEZhY3Rvcnk9bmV3IHRoKHQpLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBuaCx0aGlzLmxpc3RlblRvKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LFwibGF5b3V0Q2hhbmdlZFwiLCgpPT50aGlzLnVwZGF0ZSgpKX11cGRhdGUoKXt0aGlzLmZpcmUoXCJ1cGRhdGVcIil9ZGVzdHJveSgpe3RoaXMuc3RvcExpc3RlbmluZygpLHRoaXMudmlldy5kZXN0cm95KCl9fVAoaWgseSk7Y2xhc3Mgb2ggZXh0ZW5kcyBpaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5fdG9vbGJhckNvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT97aXRlbXM6dH06dD9PYmplY3QuYXNzaWduKHtpdGVtczpbXX0sdCk6e2l0ZW1zOltdfX0odC5jb25maWcuZ2V0KFwidG9vbGJhclwiKSl9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10aGlzLnZpZXc7ZS5yZW5kZXIoKSxlLnN0aWNreVBhbmVsLmJpbmQoXCJpc0FjdGl2ZVwiKS50byh0aGlzLmZvY3VzVHJhY2tlcixcImlzRm9jdXNlZFwiKSxlLnN0aWNreVBhbmVsLmxpbWl0ZXJFbGVtZW50PWUuZWxlbWVudCx0aGlzLl90b29sYmFyQ29uZmlnLnZpZXdwb3J0VG9wT2Zmc2V0JiYoZS5zdGlja3lQYW5lbC52aWV3cG9ydFRvcE9mZnNldD10aGlzLl90b29sYmFyQ29uZmlnLnZpZXdwb3J0VG9wT2Zmc2V0KTtjb25zdCBuPXQuZWRpdGluZy52aWV3LmRvY3VtZW50LmdldFJvb3QoKTtlLmVkaXRhYmxlLmJpbmQoXCJpc1JlYWRPbmx5XCIpLnRvKG4pLGUuZWRpdGFibGUuYmluZChcImlzRm9jdXNlZFwiKS50byh0LmVkaXRpbmcudmlldy5kb2N1bWVudCksZS5lZGl0YWJsZS5uYW1lPW4ucm9vdE5hbWUsdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHRoaXMudmlldy5lZGl0YWJsZUVsZW1lbnQpLHRoaXMudmlldy50b29sYmFyLmZpbGxGcm9tQ29uZmlnKHRoaXMuX3Rvb2xiYXJDb25maWcuaXRlbXMsdGhpcy5jb21wb25lbnRGYWN0b3J5KSxmdW5jdGlvbih7b3JpZ2luOnQsb3JpZ2luS2V5c3Ryb2tlSGFuZGxlcjplLG9yaWdpbkZvY3VzVHJhY2tlcjpuLHRvb2xiYXI6aSxiZWZvcmVGb2N1czpvLGFmdGVyQmx1cjpyfSl7bi5hZGQoaS5lbGVtZW50KSxlLnNldChcIkFsdCtGMTBcIiwodCxlKT0+e24uaXNGb2N1c2VkJiYhaS5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYobyYmbygpLGkuZm9jdXMoKSxlKCkpfSksaS5rZXlzdHJva2VzLnNldChcIkVzY1wiLChlLG4pPT57aS5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYodC5mb2N1cygpLHImJnIoKSxuKCkpfSl9KHtvcmlnaW46dC5lZGl0aW5nLnZpZXcsb3JpZ2luRm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLG9yaWdpbktleXN0cm9rZUhhbmRsZXI6dC5rZXlzdHJva2VzLHRvb2xiYXI6dGhpcy52aWV3LnRvb2xiYXJ9KX19Y2xhc3MgcmggZXh0ZW5kcyBMaXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih7aWRQcm9wZXJ0eTpcInZpZXdVaWRcIn0pLHRoaXMub24oXCJhZGRcIiwodCxlLG4pPT57ZS5pc1JlbmRlcmVkfHxlLnJlbmRlcigpLGUuZWxlbWVudCYmdGhpcy5fcGFyZW50RWxlbWVudCYmdGhpcy5fcGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZS5lbGVtZW50LHRoaXMuX3BhcmVudEVsZW1lbnQuY2hpbGRyZW5bbl0pfSksdGhpcy5vbihcInJlbW92ZVwiLCh0LGUpPT57ZS5lbGVtZW50JiZ0aGlzLl9wYXJlbnRFbGVtZW50JiZlLmVsZW1lbnQucmVtb3ZlKCl9KSx0aGlzLmxvY2FsZT10LHRoaXMuX3BhcmVudEVsZW1lbnQ9bnVsbH1kZXN0cm95KCl7dGhpcy5tYXAodD0+dC5kZXN0cm95KCkpfXNldFBhcmVudCh0KXt0aGlzLl9wYXJlbnRFbGVtZW50PXR9ZGVsZWdhdGUoLi4udCl7aWYoIXQubGVuZ3RofHwhZnVuY3Rpb24odCl7cmV0dXJuIHQuZXZlcnkodD0+XCJzdHJpbmdcIj09dHlwZW9mIHQpfSh0KSl0aHJvdyBuZXcgbS5iKFwidWktdmlld2NvbGxlY3Rpb24tZGVsZWdhdGUtd3JvbmctZXZlbnRzOiBBbGwgZXZlbnQgbmFtZXMgbXVzdCBiZSBzdHJpbmdzLlwiKTtyZXR1cm57dG86ZT0+e2Zvcihjb25zdCBuIG9mIHRoaXMpZm9yKGNvbnN0IGkgb2YgdCluLmRlbGVnYXRlKGkpLnRvKGUpO3RoaXMub24oXCJhZGRcIiwobixpKT0+e2Zvcihjb25zdCBuIG9mIHQpaS5kZWxlZ2F0ZShuKS50byhlKX0pLHRoaXMub24oXCJyZW1vdmVcIiwobixpKT0+e2Zvcihjb25zdCBuIG9mIHQpaS5zdG9wRGVsZWdhdGluZyhuLGUpfSl9fX19UChMaSx5aSk7dmFyIHNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFRuKHQsITAsITAsZSl9O2NvbnN0IGFoPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO2NsYXNzIGNoe2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyxiaChnaCh0KSkpLHRoaXMuX2lzUmVuZGVyZWQ9ITEsdGhpcy5fcmV2ZXJ0RGF0YT1udWxsfXJlbmRlcigpe2NvbnN0IHQ9dGhpcy5fcmVuZGVyTm9kZSh7aW50b0ZyYWdtZW50OiEwfSk7cmV0dXJuIHRoaXMuX2lzUmVuZGVyZWQ9ITAsdH1hcHBseSh0KXtyZXR1cm4gdGhpcy5fcmV2ZXJ0RGF0YT17Y2hpbGRyZW46W10sYmluZGluZ3M6W10sYXR0cmlidXRlczp7fX0sdGhpcy5fcmVuZGVyTm9kZSh7bm9kZTp0LGlzQXBwbHlpbmc6ITAscmV2ZXJ0RGF0YTp0aGlzLl9yZXZlcnREYXRhfSksdH1yZXZlcnQodCl7aWYoIXRoaXMuX3JldmVydERhdGEpdGhyb3cgbmV3IG0uYihcInVpLXRlbXBsYXRlLXJldmVydC1ub3QtYXBwbGllZDogQXR0ZW1wdGluZyB0byByZXZlcnQgYSB0ZW1wbGF0ZSB3aGljaCBoYXMgbm90IGJlZW4gYXBwbGllZCB5ZXQuXCIpO3RoaXMuX3JldmVydFRlbXBsYXRlRnJvbU5vZGUodCx0aGlzLl9yZXZlcnREYXRhKX0qZ2V0Vmlld3MoKXt5aWVsZCpmdW5jdGlvbip0KGUpe2lmKGUuY2hpbGRyZW4pZm9yKGNvbnN0IG4gb2YgZS5jaGlsZHJlbil5aChuKT95aWVsZCBuOnhoKG4pJiYoeWllbGQqdChuKSl9KHRoaXMpfXN0YXRpYyBiaW5kKHQsZSl7cmV0dXJue3RvOihuLGkpPT5uZXcgZGgoe2V2ZW50TmFtZU9yRnVuY3Rpb246bixhdHRyaWJ1dGU6bixvYnNlcnZhYmxlOnQsZW1pdHRlcjplLGNhbGxiYWNrOml9KSxpZjoobixpLG8pPT5uZXcgdWgoe29ic2VydmFibGU6dCxlbWl0dGVyOmUsYXR0cmlidXRlOm4sdmFsdWVJZlRydWU6aSxjYWxsYmFjazpvfSl9fXN0YXRpYyBleHRlbmQodCxlKXt0Ll9pc1JlbmRlcmVkJiZ6ci5hLndhcm4oXCJ0ZW1wbGF0ZS1leHRlbmQtcmVuZGVyOiBBdHRlbXB0aW5nIHRvIGV4dGVuZCBhIHRlbXBsYXRlIHdoaWNoIGhhcyBhbHJlYWR5IGJlZW4gcmVuZGVyZWQuXCIpLGZ1bmN0aW9uIHQoZSxuKXtuLmF0dHJpYnV0ZXMmJihlLmF0dHJpYnV0ZXN8fChlLmF0dHJpYnV0ZXM9e30pLF9oKGUuYXR0cmlidXRlcyxuLmF0dHJpYnV0ZXMpKTtuLmV2ZW50TGlzdGVuZXJzJiYoZS5ldmVudExpc3RlbmVyc3x8KGUuZXZlbnRMaXN0ZW5lcnM9e30pLF9oKGUuZXZlbnRMaXN0ZW5lcnMsbi5ldmVudExpc3RlbmVycykpO24udGV4dCYmZS50ZXh0LnB1c2goLi4ubi50ZXh0KTtpZihuLmNoaWxkcmVuJiZuLmNoaWxkcmVuLmxlbmd0aCl7aWYoZS5jaGlsZHJlbi5sZW5ndGghPW4uY2hpbGRyZW4ubGVuZ3RoKXRocm93IG5ldyBtLmIoXCJ1aS10ZW1wbGF0ZS1leHRlbmQtY2hpbGRyZW4tbWlzbWF0Y2g6IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gZXh0ZW5kZWQgZGVmaW5pdGlvbiBkb2VzIG5vdCBtYXRjaC5cIik7bGV0IGk9MDtmb3IoY29uc3QgbyBvZiBuLmNoaWxkcmVuKXQoZS5jaGlsZHJlbltpKytdLG8pfX0odCxiaChnaChlKSkpfV9yZW5kZXJOb2RlKHQpe2xldCBlO2lmKGU9dC5ub2RlP3RoaXMudGFnJiZ0aGlzLnRleHQ6dGhpcy50YWc/dGhpcy50ZXh0OiF0aGlzLnRleHQpdGhyb3cgbmV3IG0uYigndWktdGVtcGxhdGUtd3Jvbmctc3ludGF4OiBOb2RlIGRlZmluaXRpb24gbXVzdCBoYXZlIGVpdGhlciBcInRhZ1wiIG9yIFwidGV4dFwiIHdoZW4gcmVuZGVyaW5nIGEgbmV3IE5vZGUuJyk7cmV0dXJuIHRoaXMudGV4dD90aGlzLl9yZW5kZXJUZXh0KHQpOnRoaXMuX3JlbmRlckVsZW1lbnQodCl9X3JlbmRlckVsZW1lbnQodCl7bGV0IGU9dC5ub2RlO3JldHVybiBlfHwoZT10Lm5vZGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMubnN8fGFoLHRoaXMudGFnKSksdGhpcy5fcmVuZGVyQXR0cmlidXRlcyh0KSx0aGlzLl9yZW5kZXJFbGVtZW50Q2hpbGRyZW4odCksdGhpcy5fc2V0VXBMaXN0ZW5lcnModCksZX1fcmVuZGVyVGV4dCh0KXtsZXQgZT10Lm5vZGU7cmV0dXJuIGU/dC5yZXZlcnREYXRhLnRleHQ9ZS50ZXh0Q29udGVudDplPXQubm9kZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxoaCh0aGlzLnRleHQpP3RoaXMuX2JpbmRUb09ic2VydmFibGUoe3NjaGVtYTp0aGlzLnRleHQsdXBkYXRlcjpmdW5jdGlvbih0KXtyZXR1cm57c2V0KGUpe3QudGV4dENvbnRlbnQ9ZX0scmVtb3ZlKCl7dC50ZXh0Q29udGVudD1cIlwifX19KGUpLGRhdGE6dH0pOmUudGV4dENvbnRlbnQ9dGhpcy50ZXh0LmpvaW4oXCJcIiksZX1fcmVuZGVyQXR0cmlidXRlcyh0KXtsZXQgZSxuLGksbztpZighdGhpcy5hdHRyaWJ1dGVzKXJldHVybjtjb25zdCByPXQubm9kZSxzPXQucmV2ZXJ0RGF0YTtmb3IoZSBpbiB0aGlzLmF0dHJpYnV0ZXMpaWYoaT1yLmdldEF0dHJpYnV0ZShlKSxuPXRoaXMuYXR0cmlidXRlc1tlXSxzJiYocy5hdHRyaWJ1dGVzW2VdPWkpLG89SChuWzBdKSYmblswXS5ucz9uWzBdLm5zOm51bGwsaGgobikpe2NvbnN0IGE9bz9uWzBdLnZhbHVlOm47cyYmQ2goZSkmJmEudW5zaGlmdChpKSx0aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6YSx1cGRhdGVyOnBoKHIsZSxvKSxkYXRhOnR9KX1lbHNlXCJzdHlsZVwiPT1lJiZcInN0cmluZ1wiIT10eXBlb2YgblswXT90aGlzLl9yZW5kZXJTdHlsZUF0dHJpYnV0ZShuWzBdLHQpOihzJiZpJiZDaChlKSYmbi51bnNoaWZ0KGkpLGtoKG49bi5tYXAodD0+dCYmdC52YWx1ZXx8dCkucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlKSxbXSkucmVkdWNlKHZoLFwiXCIpKXx8ci5zZXRBdHRyaWJ1dGVOUyhvLGUsbikpfV9yZW5kZXJTdHlsZUF0dHJpYnV0ZSh0LGUpe2NvbnN0IG49ZS5ub2RlO2Zvcihjb25zdCBpIGluIHQpe2NvbnN0IG89dFtpXTtoaChvKT90aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6W29dLHVwZGF0ZXI6bWgobixpKSxkYXRhOmV9KTpuLnN0eWxlW2ldPW99fV9yZW5kZXJFbGVtZW50Q2hpbGRyZW4odCl7Y29uc3QgZT10Lm5vZGUsbj10LmludG9GcmFnbWVudD9kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6ZSxpPXQuaXNBcHBseWluZztsZXQgbz0wO2Zvcihjb25zdCByIG9mIHRoaXMuY2hpbGRyZW4paWYoQWgocikpe2lmKCFpKXtyLnNldFBhcmVudChlKTtmb3IoY29uc3QgdCBvZiByKW4uYXBwZW5kQ2hpbGQodC5lbGVtZW50KX19ZWxzZSBpZih5aChyKSlpfHwoci5pc1JlbmRlcmVkfHxyLnJlbmRlcigpLG4uYXBwZW5kQ2hpbGQoci5lbGVtZW50KSk7ZWxzZSBpZihFbyhyKSluLmFwcGVuZENoaWxkKHIpO2Vsc2UgaWYoaSl7Y29uc3QgZT17Y2hpbGRyZW46W10sYmluZGluZ3M6W10sYXR0cmlidXRlczp7fX07dC5yZXZlcnREYXRhLmNoaWxkcmVuLnB1c2goZSksci5fcmVuZGVyTm9kZSh7bm9kZTpuLmNoaWxkTm9kZXNbbysrXSxpc0FwcGx5aW5nOiEwLHJldmVydERhdGE6ZX0pfWVsc2Ugbi5hcHBlbmRDaGlsZChyLnJlbmRlcigpKTt0LmludG9GcmFnbWVudCYmZS5hcHBlbmRDaGlsZChuKX1fc2V0VXBMaXN0ZW5lcnModCl7aWYodGhpcy5ldmVudExpc3RlbmVycylmb3IoY29uc3QgZSBpbiB0aGlzLmV2ZW50TGlzdGVuZXJzKXtjb25zdCBuPXRoaXMuZXZlbnRMaXN0ZW5lcnNbZV0ubWFwKG49Pntjb25zdFtpLG9dPWUuc3BsaXQoXCJAXCIpO3JldHVybiBuLmFjdGl2YXRlRG9tRXZlbnRMaXN0ZW5lcihpLG8sdCl9KTt0LnJldmVydERhdGEmJnQucmV2ZXJ0RGF0YS5iaW5kaW5ncy5wdXNoKG4pfX1fYmluZFRvT2JzZXJ2YWJsZSh7c2NoZW1hOnQsdXBkYXRlcjplLGRhdGE6bn0pe2NvbnN0IGk9bi5yZXZlcnREYXRhO2ZoKHQsZSxuKTtjb25zdCBvPXQuZmlsdGVyKHQ9PiFraCh0KSkuZmlsdGVyKHQ9PnQub2JzZXJ2YWJsZSkubWFwKGk9PmkuYWN0aXZhdGVBdHRyaWJ1dGVMaXN0ZW5lcih0LGUsbikpO2kmJmkuYmluZGluZ3MucHVzaChvKX1fcmV2ZXJ0VGVtcGxhdGVGcm9tTm9kZSh0LGUpe2Zvcihjb25zdCB0IG9mIGUuYmluZGluZ3MpZm9yKGNvbnN0IGUgb2YgdCllKCk7aWYoZS50ZXh0KXQudGV4dENvbnRlbnQ9ZS50ZXh0O2Vsc2V7Zm9yKGNvbnN0IG4gaW4gZS5hdHRyaWJ1dGVzKXtjb25zdCBpPWUuYXR0cmlidXRlc1tuXTtudWxsPT09aT90LnJlbW92ZUF0dHJpYnV0ZShuKTp0LnNldEF0dHJpYnV0ZShuLGkpfWZvcihsZXQgbj0wO248ZS5jaGlsZHJlbi5sZW5ndGg7KytuKXRoaXMuX3JldmVydFRlbXBsYXRlRnJvbU5vZGUodC5jaGlsZE5vZGVzW25dLGUuY2hpbGRyZW5bbl0pfX19UChjaCx5KTtjbGFzcyBsaHtjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsdCl9Z2V0VmFsdWUodCl7Y29uc3QgZT10aGlzLm9ic2VydmFibGVbdGhpcy5hdHRyaWJ1dGVdO3JldHVybiB0aGlzLmNhbGxiYWNrP3RoaXMuY2FsbGJhY2soZSx0KTplfWFjdGl2YXRlQXR0cmlidXRlTGlzdGVuZXIodCxlLG4pe2NvbnN0IGk9KCk9PmZoKHQsZSxuKTtyZXR1cm4gdGhpcy5lbWl0dGVyLmxpc3RlblRvKHRoaXMub2JzZXJ2YWJsZSxcImNoYW5nZTpcIit0aGlzLmF0dHJpYnV0ZSxpKSwoKT0+e3RoaXMuZW1pdHRlci5zdG9wTGlzdGVuaW5nKHRoaXMub2JzZXJ2YWJsZSxcImNoYW5nZTpcIit0aGlzLmF0dHJpYnV0ZSxpKX19fWNsYXNzIGRoIGV4dGVuZHMgbGh7YWN0aXZhdGVEb21FdmVudExpc3RlbmVyKHQsZSxuKXtjb25zdCBpPSh0LG4pPT57ZSYmIW4udGFyZ2V0Lm1hdGNoZXMoZSl8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmV2ZW50TmFtZU9yRnVuY3Rpb24/dGhpcy5ldmVudE5hbWVPckZ1bmN0aW9uKG4pOnRoaXMub2JzZXJ2YWJsZS5maXJlKHRoaXMuZXZlbnROYW1lT3JGdW5jdGlvbixuKSl9O3JldHVybiB0aGlzLmVtaXR0ZXIubGlzdGVuVG8obi5ub2RlLHQsaSksKCk9Pnt0aGlzLmVtaXR0ZXIuc3RvcExpc3RlbmluZyhuLm5vZGUsdCxpKX19fWNsYXNzIHVoIGV4dGVuZHMgbGh7Z2V0VmFsdWUodCl7cmV0dXJuIWtoKHN1cGVyLmdldFZhbHVlKHQpKSYmKHRoaXMudmFsdWVJZlRydWV8fCEwKX19ZnVuY3Rpb24gaGgodCl7cmV0dXJuISF0JiYodC52YWx1ZSYmKHQ9dC52YWx1ZSksQXJyYXkuaXNBcnJheSh0KT90LnNvbWUoaGgpOnQgaW5zdGFuY2VvZiBsaCl9ZnVuY3Rpb24gZmgodCxlLHtub2RlOm59KXtsZXQgaT1mdW5jdGlvbih0LGUpe3JldHVybiB0Lm1hcCh0PT50IGluc3RhbmNlb2YgbGg/dC5nZXRWYWx1ZShlKTp0KX0odCxuKTtraChpPTE9PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiB1aD9pWzBdOmkucmVkdWNlKHZoLFwiXCIpKT9lLnJlbW92ZSgpOmUuc2V0KGkpfWZ1bmN0aW9uIHBoKHQsZSxuKXtyZXR1cm57c2V0KGkpe3Quc2V0QXR0cmlidXRlTlMobixlLGkpfSxyZW1vdmUoKXt0LnJlbW92ZUF0dHJpYnV0ZU5TKG4sZSl9fX1mdW5jdGlvbiBtaCh0LGUpe3JldHVybntzZXQobil7dC5zdHlsZVtlXT1ufSxyZW1vdmUoKXt0LnN0eWxlW2VdPW51bGx9fX1mdW5jdGlvbiBnaCh0KXtyZXR1cm4gc2godCx0PT57aWYodCYmKHQgaW5zdGFuY2VvZiBsaHx8eGgodCl8fHloKHQpfHxBaCh0KSkpcmV0dXJuIHR9KX1mdW5jdGlvbiBiaCh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdD90PWZ1bmN0aW9uKHQpe3JldHVybnt0ZXh0Olt0XX19KHQpOnQudGV4dCYmZnVuY3Rpb24odCl7QXJyYXkuaXNBcnJheSh0LnRleHQpfHwodC50ZXh0PVt0LnRleHRdKX0odCksdC5vbiYmKHQuZXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7Zm9yKGNvbnN0IGUgaW4gdCl3aCh0LGUpO3JldHVybiB0fSh0Lm9uKSxkZWxldGUgdC5vbiksIXQudGV4dCl7dC5hdHRyaWJ1dGVzJiZmdW5jdGlvbih0KXtmb3IoY29uc3QgZSBpbiB0KXRbZV0udmFsdWUmJih0W2VdLnZhbHVlPVtdLmNvbmNhdCh0W2VdLnZhbHVlKSksd2godCxlKX0odC5hdHRyaWJ1dGVzKTtjb25zdCBlPVtdO2lmKHQuY2hpbGRyZW4paWYoQWgodC5jaGlsZHJlbikpZS5wdXNoKHQuY2hpbGRyZW4pO2Vsc2UgZm9yKGNvbnN0IG4gb2YgdC5jaGlsZHJlbil4aChuKXx8eWgobil8fEVvKG4pP2UucHVzaChuKTplLnB1c2gobmV3IGNoKG4pKTt0LmNoaWxkcmVuPWV9cmV0dXJuIHR9ZnVuY3Rpb24gd2godCxlKXtBcnJheS5pc0FycmF5KHRbZV0pfHwodFtlXT1bdFtlXV0pfWZ1bmN0aW9uIHZoKHQsZSl7cmV0dXJuIGtoKGUpP3Q6a2godCk/ZTpgJHt0fSAke2V9YH1mdW5jdGlvbiBfaCh0LGUpe2Zvcihjb25zdCBuIGluIGUpdFtuXT90W25dLnB1c2goLi4uZVtuXSk6dFtuXT1lW25dfWZ1bmN0aW9uIGtoKHQpe3JldHVybiF0JiYwIT09dH1mdW5jdGlvbiB5aCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFRofWZ1bmN0aW9uIHhoKHQpe3JldHVybiB0IGluc3RhbmNlb2YgY2h9ZnVuY3Rpb24gQWgodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiByaH1mdW5jdGlvbiBDaCh0KXtyZXR1cm5cImNsYXNzXCI9PXR8fFwic3R5bGVcIj09dH1uKDQzKTtjbGFzcyBUaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLmlzUmVuZGVyZWQ9ITEsdGhpcy5sb2NhbGU9dCx0aGlzLnQ9dCYmdC50LHRoaXMuX3ZpZXdDb2xsZWN0aW9ucz1uZXcgTGksdGhpcy5fdW5ib3VuZENoaWxkcmVuPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuX3ZpZXdDb2xsZWN0aW9ucy5vbihcImFkZFwiLChlLG4pPT57bi5sb2NhbGU9dH0pLHRoaXMuZGVjb3JhdGUoXCJyZW5kZXJcIil9Z2V0IGJpbmRUZW1wbGF0ZSgpe3JldHVybiB0aGlzLl9iaW5kVGVtcGxhdGU/dGhpcy5fYmluZFRlbXBsYXRlOnRoaXMuX2JpbmRUZW1wbGF0ZT1jaC5iaW5kKHRoaXMsdGhpcyl9Y3JlYXRlQ29sbGVjdGlvbigpe2NvbnN0IHQ9bmV3IHJoO3JldHVybiB0aGlzLl92aWV3Q29sbGVjdGlvbnMuYWRkKHQpLHR9cmVnaXN0ZXJDaGlsZCh0KXtWbih0KXx8KHQ9W3RdKTtmb3IoY29uc3QgZSBvZiB0KXRoaXMuX3VuYm91bmRDaGlsZHJlbi5hZGQoZSl9ZGVyZWdpc3RlckNoaWxkKHQpe1ZuKHQpfHwodD1bdF0pO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fdW5ib3VuZENoaWxkcmVuLnJlbW92ZShlKX1zZXRUZW1wbGF0ZSh0KXt0aGlzLnRlbXBsYXRlPW5ldyBjaCh0KX1leHRlbmRUZW1wbGF0ZSh0KXtjaC5leHRlbmQodGhpcy50ZW1wbGF0ZSx0KX1yZW5kZXIoKXtpZih0aGlzLmlzUmVuZGVyZWQpdGhyb3cgbmV3IG0uYihcInVpLXZpZXctcmVuZGVyLWFscmVhZHktcmVuZGVyZWQ6IFRoaXMgVmlldyBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkLlwiKTt0aGlzLnRlbXBsYXRlJiYodGhpcy5lbGVtZW50PXRoaXMudGVtcGxhdGUucmVuZGVyKCksdGhpcy5yZWdpc3RlckNoaWxkKHRoaXMudGVtcGxhdGUuZ2V0Vmlld3MoKSkpLHRoaXMuaXNSZW5kZXJlZD0hMH1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpcy5fdmlld0NvbGxlY3Rpb25zLm1hcCh0PT50LmRlc3Ryb3koKSl9fVAoVGgsVW8pLFAoVGgseWkpO24oNDYpO2NsYXNzIFNoIGV4dGVuZHMgVGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5ib2R5PXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuX3JlbmRlckJvZHlDb2xsZWN0aW9uKCl9ZGVzdHJveSgpe3JldHVybiB0aGlzLl9ib2R5Q29sbGVjdGlvbkNvbnRhaW5lci5yZW1vdmUoKSxzdXBlci5kZXN0cm95KCl9X3JlbmRlckJvZHlDb2xsZWN0aW9uKCl7Y29uc3QgdD10aGlzLl9ib2R5Q29sbGVjdGlvbkNvbnRhaW5lcj1uZXcgY2goe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1yZXNldF9hbGxcIixcImNrLWJvZHlcIl19LGNoaWxkcmVuOnRoaXMuYm9keX0pLnJlbmRlcigpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCl9fW4oNDgpO2NsYXNzIEVoIGV4dGVuZHMgVGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXQoXCJ0ZXh0XCIpLHRoaXMuc2V0KFwiZm9yXCIpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwibGFiZWxcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGFiZWxcIl0sZm9yOmUudG8oXCJmb3JcIil9LGNoaWxkcmVuOlt7dGV4dDplLnRvKFwidGV4dFwiKX1dfSl9fWNsYXNzIFBoIGV4dGVuZHMgU2h7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT13KCk7dGhpcy50b3A9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5tYWluPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuX3ZvaWNlTGFiZWxWaWV3PXRoaXMuX2NyZWF0ZVZvaWNlTGFiZWwoZSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXJlc2V0XCIsXCJjay1lZGl0b3JcIl0scm9sZTpcImFwcGxpY2F0aW9uXCIsZGlyOlwibHRyXCIsbGFuZzp0Lmxhbmd1YWdlLFwiYXJpYS1sYWJlbGxlZGJ5XCI6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke2V9YH0sY2hpbGRyZW46W3RoaXMuX3ZvaWNlTGFiZWxWaWV3LHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stZWRpdG9yX190b3BcIixcImNrLXJlc2V0X2FsbFwiXSxyb2xlOlwicHJlc2VudGF0aW9uXCJ9LGNoaWxkcmVuOnRoaXMudG9wfSx7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWVkaXRvcl9fbWFpblwiXSxyb2xlOlwicHJlc2VudGF0aW9uXCJ9LGNoaWxkcmVuOnRoaXMubWFpbn1dfSl9X2NyZWF0ZVZvaWNlTGFiZWwodCl7Y29uc3QgZT10aGlzLnQsbj1uZXcgRWg7cmV0dXJuIG4udGV4dD1lKFwiYW5cIiksbi5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7aWQ6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke3R9YCxjbGFzczpcImNrLXZvaWNlLWxhYmVsXCJ9fSksbn19Y2xhc3MgT2ggZXh0ZW5kcyBUaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO2NvbnN0IG49dGhpcy5iaW5kVGVtcGxhdGU7ZSYmKHRoaXMuZWxlbWVudD10aGlzLmVkaXRhYmxlRWxlbWVudD1lKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stY29udGVudFwiLFwiY2stZWRpdG9yX19lZGl0YWJsZVwiLG4udG8oXCJpc0ZvY3VzZWRcIix0PT50P1wiY2stZm9jdXNlZFwiOlwiY2stYmx1cnJlZFwiKV0sY29udGVudGVkaXRhYmxlOm4udG8oXCJpc1JlYWRPbmx5XCIsdD0+IXQpfX0pLHRoaXMuc2V0KFwiaXNSZWFkT25seVwiLCExKSx0aGlzLnNldChcImlzRm9jdXNlZFwiLCExKSx0aGlzLmV4dGVybmFsRWxlbWVudD1lfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuZXh0ZXJuYWxFbGVtZW50P3RoaXMudGVtcGxhdGUuYXBwbHkodGhpcy5lbGVtZW50PXRoaXMuZXh0ZXJuYWxFbGVtZW50KTp0aGlzLmVkaXRhYmxlRWxlbWVudD10aGlzLmVsZW1lbnR9ZGVzdHJveSgpe3RoaXMuZXh0ZXJuYWxFbGVtZW50JiZ0aGlzLnRlbXBsYXRlLnJldmVydCh0aGlzLmV4dGVybmFsRWxlbWVudCksc3VwZXIuZGVzdHJveSgpfX1jbGFzcyBSaCBleHRlbmRzIE9oe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKTtjb25zdCBuPXRoaXMuYmluZFRlbXBsYXRlLGk9dGhpcy50O3RoaXMuc2V0KFwibmFtZVwiLG51bGwpO3RoaXMuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e3JvbGU6XCJ0ZXh0Ym94XCIsXCJhcmlhLWxhYmVsXCI6bi50byhcIm5hbWVcIix0PT5pKFwiYXJcIixbdF0pKSxjbGFzczpcImNrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5lXCJ9fSl9fWZ1bmN0aW9uIEloKHQpe3JldHVybiBlPT5lK3R9big1MCk7Y29uc3QgVmg9SWgoXCJweFwiKTtjbGFzcyBNaCBleHRlbmRzIFRoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoXCJpc0FjdGl2ZVwiLCExKSx0aGlzLnNldChcImlzU3RpY2t5XCIsITEpLHRoaXMuc2V0KFwibGltaXRlckVsZW1lbnRcIixudWxsKSx0aGlzLnNldChcImxpbWl0ZXJCb3R0b21PZmZzZXRcIiw1MCksdGhpcy5zZXQoXCJ2aWV3cG9ydFRvcE9mZnNldFwiLDApLHRoaXMuc2V0KFwiX21hcmdpbkxlZnRcIixudWxsKSx0aGlzLnNldChcIl9pc1N0aWNreVRvVGhlTGltaXRlclwiLCExKSx0aGlzLnNldChcIl9oYXNWaWV3cG9ydFRvcE9mZnNldFwiLCExKSx0aGlzLmNvbnRlbnQ9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5fY29udGVudFBhbmVsUGxhY2Vob2xkZXI9bmV3IGNoKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stc3RpY2t5LXBhbmVsX19wbGFjZWhvbGRlclwiXSxzdHlsZTp7ZGlzcGxheTplLnRvKFwiaXNTdGlja3lcIix0PT50P1wiYmxvY2tcIjpcIm5vbmVcIiksaGVpZ2h0OmUudG8oXCJpc1N0aWNreVwiLHQ9PnQ/VmgodGhpcy5fcGFuZWxSZWN0LmhlaWdodCk6bnVsbCl9fX0pLnJlbmRlcigpLHRoaXMuX2NvbnRlbnRQYW5lbD1uZXcgY2goe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1zdGlja3ktcGFuZWxfX2NvbnRlbnRcIixlLmlmKFwiaXNTdGlja3lcIixcImNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3lcIiksZS5pZihcIl9pc1N0aWNreVRvVGhlTGltaXRlclwiLFwiY2stc3RpY2t5LXBhbmVsX19jb250ZW50X3N0aWNreV9ib3R0b20tbGltaXRcIildLHN0eWxlOnt3aWR0aDplLnRvKFwiaXNTdGlja3lcIix0PT50P1ZoKHRoaXMuX2NvbnRlbnRQYW5lbFBsYWNlaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTpudWxsKSx0b3A6ZS50byhcIl9oYXNWaWV3cG9ydFRvcE9mZnNldFwiLHQ9PnQ/VmgodGhpcy52aWV3cG9ydFRvcE9mZnNldCk6bnVsbCksYm90dG9tOmUudG8oXCJfaXNTdGlja3lUb1RoZUxpbWl0ZXJcIix0PT50P1ZoKHRoaXMubGltaXRlckJvdHRvbU9mZnNldCk6bnVsbCksbWFyZ2luTGVmdDplLnRvKFwiX21hcmdpbkxlZnRcIil9fSxjaGlsZHJlbjp0aGlzLmNvbnRlbnR9KS5yZW5kZXIoKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stc3RpY2t5LXBhbmVsXCJdfSxjaGlsZHJlbjpbdGhpcy5fY29udGVudFBhbmVsUGxhY2Vob2xkZXIsdGhpcy5fY29udGVudFBhbmVsXX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuX2NoZWNrSWZTaG91bGRCZVN0aWNreSgpLHRoaXMubGlzdGVuVG8oRm8ud2luZG93LFwic2Nyb2xsXCIsKCk9Pnt0aGlzLl9jaGVja0lmU2hvdWxkQmVTdGlja3koKX0pLHRoaXMubGlzdGVuVG8odGhpcyxcImNoYW5nZTppc0FjdGl2ZVwiLCgpPT57dGhpcy5fY2hlY2tJZlNob3VsZEJlU3RpY2t5KCl9KX1fY2hlY2tJZlNob3VsZEJlU3RpY2t5KCl7Y29uc3QgdD10aGlzLl9wYW5lbFJlY3Q9dGhpcy5fY29udGVudFBhbmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2xldCBlO3RoaXMubGltaXRlckVsZW1lbnQ/KGU9dGhpcy5fbGltaXRlclJlY3Q9dGhpcy5saW1pdGVyRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0aGlzLmlzU3RpY2t5PXRoaXMuaXNBY3RpdmUmJmUudG9wPHRoaXMudmlld3BvcnRUb3BPZmZzZXQmJnRoaXMuX3BhbmVsUmVjdC5oZWlnaHQrdGhpcy5saW1pdGVyQm90dG9tT2Zmc2V0PGUuaGVpZ2h0KTp0aGlzLmlzU3RpY2t5PSExLHRoaXMuaXNTdGlja3k/KHRoaXMuX2lzU3RpY2t5VG9UaGVMaW1pdGVyPWUuYm90dG9tPHQuaGVpZ2h0K3RoaXMubGltaXRlckJvdHRvbU9mZnNldCt0aGlzLnZpZXdwb3J0VG9wT2Zmc2V0LHRoaXMuX2hhc1ZpZXdwb3J0VG9wT2Zmc2V0PSF0aGlzLl9pc1N0aWNreVRvVGhlTGltaXRlciYmISF0aGlzLnZpZXdwb3J0VG9wT2Zmc2V0LHRoaXMuX21hcmdpbkxlZnQ9dGhpcy5faXNTdGlja3lUb1RoZUxpbWl0ZXI/bnVsbDpWaCgtRm8ud2luZG93LnNjcm9sbFgpKToodGhpcy5faXNTdGlja3lUb1RoZUxpbWl0ZXI9ITEsdGhpcy5faGFzVmlld3BvcnRUb3BPZmZzZXQ9ITEsdGhpcy5fbWFyZ2luTGVmdD1udWxsKX19Y2xhc3MgRmh7Y29uc3RydWN0b3IodCl7aWYoT2JqZWN0LmFzc2lnbih0aGlzLHQpLHQuYWN0aW9ucyYmdC5rZXlzdHJva2VIYW5kbGVyKWZvcihjb25zdCBlIGluIHQuYWN0aW9ucyl7bGV0IG49dC5hY3Rpb25zW2VdO1wic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1bbl0pO2Zvcihjb25zdCBpIG9mIG4pdC5rZXlzdHJva2VIYW5kbGVyLnNldChpLCh0LG4pPT57dGhpc1tlXSgpLG4oKX0pfX1nZXQgZmlyc3QoKXtyZXR1cm4gdGhpcy5mb2N1c2FibGVzLmZpbmQoTmgpfHxudWxsfWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuZm9jdXNhYmxlcy5maWx0ZXIoTmgpLnNsaWNlKC0xKVswXXx8bnVsbH1nZXQgbmV4dCgpe3JldHVybiB0aGlzLl9nZXRGb2N1c2FibGVJdGVtKDEpfWdldCBwcmV2aW91cygpe3JldHVybiB0aGlzLl9nZXRGb2N1c2FibGVJdGVtKC0xKX1nZXQgY3VycmVudCgpe2xldCB0PW51bGw7cmV0dXJuIG51bGw9PT10aGlzLmZvY3VzVHJhY2tlci5mb2N1c2VkRWxlbWVudD9udWxsOih0aGlzLmZvY3VzYWJsZXMuZmluZCgoZSxuKT0+e2NvbnN0IGk9ZS5lbGVtZW50PT09dGhpcy5mb2N1c1RyYWNrZXIuZm9jdXNlZEVsZW1lbnQ7cmV0dXJuIGkmJih0PW4pLGl9KSx0KX1mb2N1c0ZpcnN0KCl7dGhpcy5fZm9jdXModGhpcy5maXJzdCl9Zm9jdXNMYXN0KCl7dGhpcy5fZm9jdXModGhpcy5sYXN0KX1mb2N1c05leHQoKXt0aGlzLl9mb2N1cyh0aGlzLm5leHQpfWZvY3VzUHJldmlvdXMoKXt0aGlzLl9mb2N1cyh0aGlzLnByZXZpb3VzKX1fZm9jdXModCl7dCYmdC5mb2N1cygpfV9nZXRGb2N1c2FibGVJdGVtKHQpe2NvbnN0IGU9dGhpcy5jdXJyZW50LG49dGhpcy5mb2N1c2FibGVzLmxlbmd0aDtpZighbilyZXR1cm4gbnVsbDtpZihudWxsPT09ZSlyZXR1cm4gdGhpc1sxPT09dD9cImZpcnN0XCI6XCJsYXN0XCJdO2xldCBpPShlK24rdCklbjtkb3tjb25zdCBlPXRoaXMuZm9jdXNhYmxlcy5nZXQoaSk7aWYoTmgoZSkpcmV0dXJuIGU7aT0oaStuK3QpJW59d2hpbGUoaSE9PWUpO3JldHVybiBudWxsfX1mdW5jdGlvbiBOaCh0KXtyZXR1cm4hKCF0LmZvY3VzfHxcIm5vbmVcIj09Rm8ud2luZG93LmdldENvbXB1dGVkU3R5bGUodC5lbGVtZW50KS5kaXNwbGF5KX1jbGFzcyBEaCBleHRlbmRzIFRoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stdG9vbGJhcl9fc2VwYXJhdG9yXCJdfX0pfX1uKDUyKTtjbGFzcyBCaCBleHRlbmRzIFRoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5pdGVtcz10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLmZvY3VzVHJhY2tlcj1uZXcgbmgsdGhpcy5rZXlzdHJva2VzPW5ldyBLdSx0aGlzLnNldChcImlzVmVydGljYWxcIiwhMSksdGhpcy5zZXQoXCJjbGFzc05hbWVcIiksdGhpcy5fZm9jdXNDeWNsZXI9bmV3IEZoKHtmb2N1c2FibGVzOnRoaXMuaXRlbXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6W1wiYXJyb3dsZWZ0XCIsXCJhcnJvd3VwXCJdLGZvY3VzTmV4dDpbXCJhcnJvd3JpZ2h0XCIsXCJhcnJvd2Rvd25cIl19fSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXRvb2xiYXJcIixlLmlmKFwiaXNWZXJ0aWNhbFwiLFwiY2stdG9vbGJhcl92ZXJ0aWNhbFwiKSxlLnRvKFwiY2xhc3NOYW1lXCIpXX0sY2hpbGRyZW46dGhpcy5pdGVtcyxvbjp7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0LmJpbmRUZW1wbGF0ZS50byhlPT57ZS50YXJnZXQ9PT10LmVsZW1lbnQmJmUucHJldmVudERlZmF1bHQoKX0pfSh0aGlzKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtmb3IoY29uc3QgdCBvZiB0aGlzLml0ZW1zKXRoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpO3RoaXMuaXRlbXMub24oXCJhZGRcIiwodCxlKT0+e3RoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpfSksdGhpcy5pdGVtcy5vbihcInJlbW92ZVwiLCh0LGUpPT57dGhpcy5mb2N1c1RyYWNrZXIucmVtb3ZlKGUuZWxlbWVudCl9KSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1mb2N1c0xhc3QoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0xhc3QoKX1maWxsRnJvbUNvbmZpZyh0LGUpe3QubWFwKHQ9PntcInxcIj09dD90aGlzLml0ZW1zLmFkZChuZXcgRGgpOmUuaGFzKHQpP3RoaXMuaXRlbXMuYWRkKGUuY3JlYXRlKHQpKTp6ci5hLndhcm4oXCJ0b29sYmFydmlldy1pdGVtLXVuYXZhaWxhYmxlOiBUaGUgcmVxdWVzdGVkIHRvb2xiYXIgaXRlbSBpcyB1bmF2YWlsYWJsZS5cIix7bmFtZTp0fSl9KX19big1NCk7Y2xhc3MgTGggZXh0ZW5kcyBQaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnN0aWNreVBhbmVsPW5ldyBNaCh0KSx0aGlzLnRvb2xiYXI9bmV3IEJoKHQpLHRoaXMuZWRpdGFibGU9bmV3IFJoKHQpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuc3RpY2t5UGFuZWwuY29udGVudC5hZGQodGhpcy50b29sYmFyKSx0aGlzLnRvcC5hZGQodGhpcy5zdGlja3lQYW5lbCksdGhpcy5tYWluLmFkZCh0aGlzLmVkaXRhYmxlKX1nZXQgZWRpdGFibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMuZWRpdGFibGUuZWxlbWVudH19Y2xhc3Mgamh7Y29uc3RydWN0b3IoKXt0aGlzLl9yZXBsYWNlZEVsZW1lbnRzPVtdfXJlcGxhY2UodCxlKXt0aGlzLl9yZXBsYWNlZEVsZW1lbnRzLnB1c2goe2VsZW1lbnQ6dCxuZXdFbGVtZW50OmV9KSx0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZSYmdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHQubmV4dFNpYmxpbmcpfXJlc3RvcmUoKXt0aGlzLl9yZXBsYWNlZEVsZW1lbnRzLmZvckVhY2goKHtlbGVtZW50OnQsbmV3RWxlbWVudDplfSk9Pnt0LnN0eWxlLmRpc3BsYXk9XCJcIixlJiZlLnJlbW92ZSgpfSksdGhpcy5fcmVwbGFjZWRFbGVtZW50cz1bXX19Y2xhc3MgemggZXh0ZW5kcyBKdXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLEJvKHQpJiYodGhpcy5zb3VyY2VFbGVtZW50PXQpLHRoaXMuX2VsZW1lbnRSZXBsYWNlcj1uZXcgamgsdGhpcy5kYXRhLnByb2Nlc3Nvcj1uZXcgWnUsdGhpcy5tb2RlbC5kb2N1bWVudC5jcmVhdGVSb290KCksdGhpcy51aT1uZXcgb2godGhpcyxuZXcgTGgodGhpcy5sb2NhbGUpKSxmdW5jdGlvbih0KXtpZighRyh0LnVwZGF0ZVNvdXJjZUVsZW1lbnQpKXRocm93IG5ldyBtLmIoXCJhdHRhY2h0b2Zvcm0tbWlzc2luZy1lbGVtZW50YXBpLWludGVyZmFjZTogRWRpdG9yIHBhc3NlZCB0byBhdHRhY2hUb0Zvcm0oKSBtdXN0IGltcGxlbWVudCBFbGVtZW50QXBpLlwiKTtjb25zdCBlPXQuc291cmNlRWxlbWVudDtpZihlJiZcInRleHRhcmVhXCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmZS5mb3JtKXtsZXQgbjtjb25zdCBpPWUuZm9ybSxvPSgpPT50LnVwZGF0ZVNvdXJjZUVsZW1lbnQoKTtHKGkuc3VibWl0KSYmKG49aS5zdWJtaXQsaS5zdWJtaXQ9KCgpPT57bygpLG4uYXBwbHkoaSl9KSksaS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsbyksdC5vbihcImRlc3Ryb3lcIiwoKT0+e2kucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLG8pLG4mJihpLnN1Ym1pdD1uKX0pfX0odGhpcyl9Z2V0IGVsZW1lbnQoKXtyZXR1cm4gdGhpcy51aS52aWV3LmVsZW1lbnR9ZGVzdHJveSgpe3JldHVybiB0aGlzLnNvdXJjZUVsZW1lbnQmJnRoaXMudXBkYXRlU291cmNlRWxlbWVudCgpLHRoaXMuX2VsZW1lbnRSZXBsYWNlci5yZXN0b3JlKCksdGhpcy51aS5kZXN0cm95KCksc3VwZXIuZGVzdHJveSgpfXN0YXRpYyBjcmVhdGUodCxlKXtyZXR1cm4gbmV3IFByb21pc2Uobj0+e2NvbnN0IGk9bmV3IHRoaXModCxlKTtuKGkuaW5pdFBsdWdpbnMoKS50aGVuKCgpPT5pLnVpLmluaXQoKSkudGhlbigoKT0+e0JvKHQpJiZpLl9lbGVtZW50UmVwbGFjZXIucmVwbGFjZSh0LGkuZWxlbWVudCksaS5maXJlKFwidWlSZWFkeVwiKX0pLnRoZW4oKCk9PmkuZWRpdGluZy52aWV3LmF0dGFjaERvbVJvb3QoaS51aS52aWV3LmVkaXRhYmxlRWxlbWVudCkpLnRoZW4oKCk9Pntjb25zdCBlPUJvKHQpP2Z1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudD90LnZhbHVlOnQuaW5uZXJIVE1MfSh0KTp0O3JldHVybiBpLmRhdGEuaW5pdChlKX0pLnRoZW4oKCk9PntpLmZpcmUoXCJkYXRhUmVhZHlcIiksaS5maXJlKFwicmVhZHlcIil9KS50aGVuKCgpPT5pKSl9KX19UCh6aCxRdSksUCh6aCxZdSk7Y2xhc3MgcWh7Y29uc3RydWN0b3IodCl7dGhpcy5lZGl0b3I9dH1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9fVAocWgseWkpO2NsYXNzIFVoe2NvbnN0cnVjdG9yKHQpe3RoaXMuZmlsZXM9ZnVuY3Rpb24odCl7Y29uc3QgZT10LmZpbGVzP0FycmF5LmZyb20odC5maWxlcyk6W10sbj10Lml0ZW1zP0FycmF5LmZyb20odC5pdGVtcyk6W107aWYoZS5sZW5ndGgpcmV0dXJuIGU7cmV0dXJuIG4uZmlsdGVyKHQ9PlwiZmlsZVwiPT09dC5raW5kKS5tYXAodD0+dC5nZXRBc0ZpbGUoKSl9KHQpLHRoaXMuX25hdGl2ZT10fWdldCB0eXBlcygpe3JldHVybiB0aGlzLl9uYXRpdmUudHlwZXN9Z2V0RGF0YSh0KXtyZXR1cm4gdGhpcy5fbmF0aXZlLmdldERhdGEodCl9c2V0RGF0YSh0LGUpe3RoaXMuX25hdGl2ZS5zZXREYXRhKHQsZSl9fWNsYXNzIEhoIGV4dGVuZHMgVnJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmRvY3VtZW50O2Z1bmN0aW9uIG4odCxuKXtuLnByZXZlbnREZWZhdWx0KCk7Y29uc3QgaT1uLmRyb3BSYW5nZT9bbi5kcm9wUmFuZ2VdOkFycmF5LmZyb20oZS5zZWxlY3Rpb24uZ2V0UmFuZ2VzKCkpO2UuZmlyZShcImNsaXBib2FyZElucHV0XCIse2RhdGFUcmFuc2ZlcjpuLmRhdGFUcmFuc2Zlcix0YXJnZXRSYW5nZXM6aX0pfXRoaXMuZG9tRXZlbnRUeXBlPVtcInBhc3RlXCIsXCJjb3B5XCIsXCJjdXRcIixcImRyb3BcIixcImRyYWdvdmVyXCJdLHRoaXMubGlzdGVuVG8oZSxcInBhc3RlXCIsbix7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMubGlzdGVuVG8oZSxcImRyb3BcIixuLHtwcmlvcml0eTpcImxvd1wifSl9b25Eb21FdmVudCh0KXtjb25zdCBlPXtkYXRhVHJhbnNmZXI6bmV3IFVoKHQuY2xpcGJvYXJkRGF0YT90LmNsaXBib2FyZERhdGE6dC5kYXRhVHJhbnNmZXIpfTtcImRyb3BcIj09dC50eXBlJiYoZS5kcm9wUmFuZ2U9ZnVuY3Rpb24odCxlKXtjb25zdCBuPWUudGFyZ2V0Lm93bmVyRG9jdW1lbnQsaT1lLmNsaWVudFgsbz1lLmNsaWVudFk7bGV0IHI7bi5jYXJldFJhbmdlRnJvbVBvaW50JiZuLmNhcmV0UmFuZ2VGcm9tUG9pbnQoaSxvKT9yPW4uY2FyZXRSYW5nZUZyb21Qb2ludChpLG8pOmUucmFuZ2VQYXJlbnQmJigocj1uLmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KGUucmFuZ2VQYXJlbnQsZS5yYW5nZU9mZnNldCksci5jb2xsYXBzZSghMCkpO3JldHVybiByP3QuZG9tQ29udmVydGVyLmRvbVJhbmdlVG9WaWV3KHIpOnQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKX0odGhpcy52aWV3LHQpKSx0aGlzLmZpcmUodC50eXBlLHQsZSl9fWNvbnN0IFdoPVtcImZpZ2NhcHRpb25cIixcImxpXCJdO2NsYXNzICRoIGV4dGVuZHMgcWh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJDbGlwYm9hcmRcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuZG9jdW1lbnQsbj10LmVkaXRpbmcudmlldyxpPW4uZG9jdW1lbnQ7ZnVuY3Rpb24gbyhuLG8pe2NvbnN0IHI9by5kYXRhVHJhbnNmZXI7by5wcmV2ZW50RGVmYXVsdCgpO2NvbnN0IHM9dC5kYXRhLnRvVmlldyh0Lm1vZGVsLmdldFNlbGVjdGVkQ29udGVudChlLnNlbGVjdGlvbikpO2kuZmlyZShcImNsaXBib2FyZE91dHB1dFwiLHtkYXRhVHJhbnNmZXI6cixjb250ZW50OnMsbWV0aG9kOm4ubmFtZX0pfXRoaXMuX2h0bWxEYXRhUHJvY2Vzc29yPW5ldyBadSxuLmFkZE9ic2VydmVyKEhoKSx0aGlzLmxpc3RlblRvKGksXCJjbGlwYm9hcmRJbnB1dFwiLGU9Pnt0LmlzUmVhZE9ubHkmJmUuc3RvcCgpfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KSx0aGlzLmxpc3RlblRvKGksXCJjbGlwYm9hcmRJbnB1dFwiLCh0LGUpPT57Y29uc3QgaT1lLmRhdGFUcmFuc2ZlcjtsZXQgbz1cIlwiO2kuZ2V0RGF0YShcInRleHQvaHRtbFwiKT9vPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLzxzcGFuKD86IGNsYXNzPVwiQXBwbGUtY29udmVydGVkLXNwYWNlXCJ8KT4oXFxzKyk8XFwvc3Bhbj4vZywodCxlKT0+MT09ZS5sZW5ndGg/XCIgXCI6ZSl9KGkuZ2V0RGF0YShcInRleHQvaHRtbFwiKSk6aS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSYmKG89ZnVuY3Rpb24odCl7cmV0dXJuKHQ9dC5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIikucmVwbGFjZSgvXFxuXFxuL2csXCI8L3A+PHA+XCIpLnJlcGxhY2UoL1xcbi9nLFwiPGJyPlwiKS5yZXBsYWNlKC9eXFxzLyxcIiZuYnNwO1wiKS5yZXBsYWNlKC9cXHMkLyxcIiZuYnNwO1wiKS5yZXBsYWNlKC9cXHNcXHMvZyxcIiAmbmJzcDtcIikpLmluZGV4T2YoXCI8L3A+PHA+XCIpPi0xJiYodD1gPHA+JHt0fTwvcD5gKSx0fShpLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKSksbz10aGlzLl9odG1sRGF0YVByb2Nlc3Nvci50b1ZpZXcobyksdGhpcy5maXJlKFwiaW5wdXRUcmFuc2Zvcm1hdGlvblwiLHtjb250ZW50Om99KSxuLnNjcm9sbFRvVGhlU2VsZWN0aW9uKCl9LHtwcmlvcml0eTpcImxvd1wifSksdGhpcy5saXN0ZW5Ubyh0aGlzLFwiaW5wdXRUcmFuc2Zvcm1hdGlvblwiLCh0LG4pPT57aWYoIW4uY29udGVudC5pc0VtcHR5KXtjb25zdCB0PXRoaXMuZWRpdG9yLmRhdGEsaT10aGlzLmVkaXRvci5tb2RlbCxvPXQudG9Nb2RlbChuLmNvbnRlbnQsXCIkY2xpcGJvYXJkSG9sZGVyXCIpO2lmKDA9PW8uY2hpbGRDb3VudClyZXR1cm47aS5pbnNlcnRDb250ZW50KG8sZS5zZWxlY3Rpb24pfX0se3ByaW9yaXR5OlwibG93XCJ9KSx0aGlzLmxpc3RlblRvKGksXCJjb3B5XCIsbyx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMubGlzdGVuVG8oaSxcImN1dFwiLChlLG4pPT57dC5pc1JlYWRPbmx5P24ucHJldmVudERlZmF1bHQoKTpvKGUsbil9LHtwcmlvcml0eTpcImxvd1wifSksdGhpcy5saXN0ZW5UbyhpLFwiY2xpcGJvYXJkT3V0cHV0XCIsKG4saSk9PntpLmNvbnRlbnQuaXNFbXB0eXx8KGkuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L2h0bWxcIix0aGlzLl9odG1sRGF0YVByb2Nlc3Nvci50b0RhdGEoaS5jb250ZW50KSksaS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvcGxhaW5cIixmdW5jdGlvbiB0KGUpe2xldCBuPVwiXCI7aWYoZS5pcyhcInRleHRcIil8fGUuaXMoXCJ0ZXh0UHJveHlcIikpbj1lLmRhdGE7ZWxzZSBpZihlLmlzKFwiaW1nXCIpJiZlLmhhc0F0dHJpYnV0ZShcImFsdFwiKSluPWUuZ2V0QXR0cmlidXRlKFwiYWx0XCIpO2Vsc2V7bGV0IGk9bnVsbDtmb3IoY29uc3QgbyBvZiBlLmdldENoaWxkcmVuKCkpe2NvbnN0IGU9dChvKTtpJiYoaS5pcyhcImNvbnRhaW5lckVsZW1lbnRcIil8fG8uaXMoXCJjb250YWluZXJFbGVtZW50XCIpKSYmKFdoLmluY2x1ZGVzKGkubmFtZSl8fFdoLmluY2x1ZGVzKG8ubmFtZSk/bis9XCJcXG5cIjpuKz1cIlxcblxcblwiKSxuKz1lLGk9b319cmV0dXJuIG59KGkuY29udGVudCkpKSxcImN1dFwiPT1pLm1ldGhvZCYmdC5tb2RlbC5kZWxldGVDb250ZW50KGUuc2VsZWN0aW9uKX0se3ByaW9yaXR5OlwibG93XCJ9KX19Y2xhc3MgS2h7Y29uc3RydWN0b3IodCl7dGhpcy5lZGl0b3I9dCx0aGlzLnNldChcInZhbHVlXCIsdm9pZCAwKSx0aGlzLnNldChcImlzRW5hYmxlZFwiLCExKSx0aGlzLmRlY29yYXRlKFwiZXhlY3V0ZVwiKSx0aGlzLmxpc3RlblRvKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LFwiY2hhbmdlXCIsKCk9Pnt0aGlzLnJlZnJlc2goKX0pLHRoaXMub24oXCJleGVjdXRlXCIsdD0+e3RoaXMuaXNFbmFibGVkfHx0LnN0b3AoKX0se3ByaW9yaXR5OlwiaGlnaFwifSksdGhpcy5saXN0ZW5Ubyh0LFwiY2hhbmdlOmlzUmVhZE9ubHlcIiwodCxlLG4pPT57bj8odGhpcy5vbihcInNldDppc0VuYWJsZWRcIixHaCx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KSx0aGlzLmlzRW5hYmxlZD0hMSk6KHRoaXMub2ZmKFwic2V0OmlzRW5hYmxlZFwiLEdoKSx0aGlzLnJlZnJlc2goKSl9KX1yZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9ITB9ZXhlY3V0ZSgpe31kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9fWZ1bmN0aW9uIEdoKHQpe3QucmV0dXJuPSExLHQuc3RvcCgpfVAoS2gseWkpO2NsYXNzIEpoIGV4dGVuZHMgS2h7ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O3QuY2hhbmdlKG49PnshZnVuY3Rpb24odCxlLG4saSl7Y29uc3Qgbz1uLmlzQ29sbGFwc2VkLHI9bi5nZXRGaXJzdFJhbmdlKCkscz1yLnN0YXJ0LnBhcmVudCxhPXIuZW5kLnBhcmVudDtpZihpLmlzTGltaXQocyl8fGkuaXNMaW1pdChhKSlyZXR1cm4gdm9pZChvfHxzIT1hfHx0LmRlbGV0ZUNvbnRlbnQobikpO2lmKG8pUWgoZSxuLHIuc3RhcnQpO2Vsc2V7Y29uc3QgaT0hKHIuc3RhcnQuaXNBdFN0YXJ0JiZyLmVuZC5pc0F0RW5kKSxvPXM9PWE7dC5kZWxldGVDb250ZW50KG4se2xlYXZlVW5tZXJnZWQ6aX0pLGkmJihvP1FoKGUsbixuLmZvY3VzKTplLnNldFNlbGVjdGlvbihhLDApKX19KHRoaXMuZWRpdG9yLm1vZGVsLG4sZS5zZWxlY3Rpb24sdC5zY2hlbWEpLHRoaXMuZmlyZShcImFmdGVyRXhlY3V0ZVwiLHt3cml0ZXI6bn0pfSl9fWZ1bmN0aW9uIFFoKHQsZSxuKXtjb25zdCBpPW4ucGFyZW50LG89bmV3IGkuY29uc3RydWN0b3IoaS5uYW1lLGkuZ2V0QXR0cmlidXRlcygpKTtuLmlzQXRFbmQ/dC5pbnNlcnQobyxuLnBhcmVudCxcImFmdGVyXCIpOm4uaXNBdFN0YXJ0P3QuaW5zZXJ0KG8sbi5wYXJlbnQsXCJiZWZvcmVcIik6dC5zcGxpdChuKSx0LnNldFNlbGVjdGlvbihuLnBhcmVudC5uZXh0U2libGluZywwKX1jbGFzcyBZaCBleHRlbmRzICRve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5kb2N1bWVudDtlLm9uKFwia2V5ZG93blwiLCh0LG4pPT57aWYodGhpcy5pc0VuYWJsZWQmJm4ua2V5Q29kZT09SmkuZW50ZXIpe2xldCBpO2Uub25jZShcImVudGVyXCIsdD0+aT10LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLGUuZmlyZShcImVudGVyXCIsbmV3IElyKGUsbi5kb21FdmVudCx7aXNTb2Z0Om4uc2hpZnRLZXl9KSksaSYmaS5zdG9wLmNhbGxlZCYmdC5zdG9wKCl9fSl9b2JzZXJ2ZSgpe319Y2xhc3MgWGggZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkVudGVyXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldyxuPWUuZG9jdW1lbnQ7ZS5hZGRPYnNlcnZlcihZaCksdC5jb21tYW5kcy5hZGQoXCJlbnRlclwiLG5ldyBKaCh0KSksdGhpcy5saXN0ZW5UbyhuLFwiZW50ZXJcIiwobixpKT0+e2kuaXNTb2Z0fHwodC5leGVjdXRlKFwiZW50ZXJcIiksaS5wcmV2ZW50RGVmYXVsdCgpLGUuc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKSl9LHtwcmlvcml0eTpcImxvd1wifSl9fWNsYXNzIFpoIGV4dGVuZHMgS2h7ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O3QuY2hhbmdlKG49PnshZnVuY3Rpb24odCxlLG4pe2NvbnN0IGk9bi5pc0NvbGxhcHNlZCxvPW4uZ2V0Rmlyc3RSYW5nZSgpLHI9by5zdGFydC5wYXJlbnQscz1vLmVuZC5wYXJlbnQsYT1yPT1zO2lmKGkpdGYoZSxvLmVuZCk7ZWxzZXtjb25zdCBpPSEoby5zdGFydC5pc0F0U3RhcnQmJm8uZW5kLmlzQXRFbmQpO3QuZGVsZXRlQ29udGVudChuLHtsZWF2ZVVubWVyZ2VkOml9KSxhP3RmKGUsbi5mb2N1cyk6aSYmZS5zZXRTZWxlY3Rpb24ocywwKX19KHQsbixlLnNlbGVjdGlvbiksdGhpcy5maXJlKFwiYWZ0ZXJFeGVjdXRlXCIse3dyaXRlcjpufSl9KX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQ7dGhpcy5pc0VuYWJsZWQ9ZnVuY3Rpb24odCxlKXtpZihlLnJhbmdlQ291bnQ+MSlyZXR1cm4hMTtjb25zdCBuPWUuYW5jaG9yO2lmKCFufHwhdC5jaGVja0NoaWxkKG4sXCJzb2Z0QnJlYWtcIikpcmV0dXJuITE7Y29uc3QgaT1lLmdldEZpcnN0UmFuZ2UoKSxvPWkuc3RhcnQucGFyZW50LHI9aS5lbmQucGFyZW50O2lmKChlZihvLHQpfHxlZihyLHQpKSYmbyE9PXIpcmV0dXJuITE7cmV0dXJuITB9KHQuc2NoZW1hLGUuc2VsZWN0aW9uKX19ZnVuY3Rpb24gdGYodCxlKXtjb25zdCBuPXQuY3JlYXRlRWxlbWVudChcInNvZnRCcmVha1wiKTt0Lmluc2VydChuLGUpLHQuc2V0U2VsZWN0aW9uKG4sXCJhZnRlclwiKX1mdW5jdGlvbiBlZih0LGUpe3JldHVybiF0LmlzKFwicm9vdEVsZW1lbnRcIikmJihlLmlzTGltaXQodCl8fGVmKHQucGFyZW50LGUpKX1jbGFzcyBuZiBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiU2hpZnRFbnRlclwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5zY2hlbWEsbj10LmNvbnZlcnNpb24saT10LmVkaXRpbmcudmlldyxvPWkuZG9jdW1lbnQ7ZS5yZWdpc3RlcihcInNvZnRCcmVha1wiLHthbGxvd1doZXJlOlwiJHRleHRcIn0pLG4uZm9yKFwidXBjYXN0XCIpLmFkZChyYSh7bW9kZWw6XCJzb2Z0QnJlYWtcIix2aWV3OlwiYnJcIn0pKSxuLmZvcihcImRvd25jYXN0XCIpLmFkZChWcyh7bW9kZWw6XCJzb2Z0QnJlYWtcIix2aWV3Oih0LGUpPT5lLmNyZWF0ZUVtcHR5RWxlbWVudChcImJyXCIpfSkpLGkuYWRkT2JzZXJ2ZXIoWWgpLHQuY29tbWFuZHMuYWRkKFwic2hpZnRFbnRlclwiLG5ldyBaaCh0KSksdGhpcy5saXN0ZW5UbyhvLFwiZW50ZXJcIiwoZSxuKT0+e24uaXNTb2Z0JiYodC5leGVjdXRlKFwic2hpZnRFbnRlclwiKSxuLnByZXZlbnREZWZhdWx0KCksaS5zY3JvbGxUb1RoZVNlbGVjdGlvbigpKX0se3ByaW9yaXR5OlwibG93XCJ9KX19Y2xhc3Mgb2Z7Y29uc3RydWN0b3IodCxlPTIwKXt0aGlzLm1vZGVsPXQsdGhpcy5zaXplPTAsdGhpcy5saW1pdD1lLHRoaXMuaXNMb2NrZWQ9ITEsdGhpcy5fY2hhbmdlQ2FsbGJhY2s9KCh0LGUpPT57XCJ0cmFuc3BhcmVudFwiIT1lLnR5cGUmJmUhPT10aGlzLl9iYXRjaCYmdGhpcy5fcmVzZXQoITApfSksdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2s9KCgpPT57dGhpcy5fcmVzZXQoKX0pLHRoaXMubW9kZWwuZG9jdW1lbnQub24oXCJjaGFuZ2VcIix0aGlzLl9jaGFuZ2VDYWxsYmFjayksdGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24ub24oXCJjaGFuZ2U6cmFuZ2VcIix0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjayksdGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24ub24oXCJjaGFuZ2U6YXR0cmlidXRlXCIsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfWdldCBiYXRjaCgpe3JldHVybiB0aGlzLl9iYXRjaHx8KHRoaXMuX2JhdGNoPW5ldyB1dSksdGhpcy5fYmF0Y2h9aW5wdXQodCl7dGhpcy5zaXplKz10LHRoaXMuc2l6ZT49dGhpcy5saW1pdCYmdGhpcy5fcmVzZXQoITApfWxvY2soKXt0aGlzLmlzTG9ja2VkPSEwfXVubG9jaygpe3RoaXMuaXNMb2NrZWQ9ITF9ZGVzdHJveSgpe3RoaXMubW9kZWwuZG9jdW1lbnQub2ZmKFwiY2hhbmdlXCIsdGhpcy5fY2hhbmdlQ2FsbGJhY2spLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLm9mZihcImNoYW5nZTpyYW5nZVwiLHRoaXMuX3NlbGVjdGlvbkNoYW5nZUNhbGxiYWNrKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vZmYoXCJjaGFuZ2U6YXR0cmlidXRlXCIsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfV9yZXNldCh0KXt0aGlzLmlzTG9ja2VkJiYhdHx8KHRoaXMuX2JhdGNoPW51bGwsdGhpcy5zaXplPTApfX1jbGFzcyByZiBleHRlbmRzIEtoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5fYnVmZmVyPW5ldyBvZih0Lm1vZGVsLGUpfWdldCBidWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fYnVmZmVyLmRlc3Ryb3koKX1leGVjdXRlKHQ9e30pe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LGk9dC50ZXh0fHxcIlwiLG89aS5sZW5ndGgscj10LnJhbmdlfHxuLnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCkscz10LnJlc3VsdFJhbmdlO2UuZW5xdWV1ZUNoYW5nZSh0aGlzLl9idWZmZXIuYmF0Y2gsdD0+e2NvbnN0IGU9ci5pc0NvbGxhcHNlZDt0aGlzLl9idWZmZXIubG9jaygpLGV8fHQucmVtb3ZlKHIpLGkmJnQuaW5zZXJ0VGV4dChpLG4uc2VsZWN0aW9uLmdldEF0dHJpYnV0ZXMoKSxyLnN0YXJ0KSxzP3Quc2V0U2VsZWN0aW9uKHMpOmUmJnQuc2V0U2VsZWN0aW9uKHIuc3RhcnQuZ2V0U2hpZnRlZEJ5KG8pKSx0aGlzLl9idWZmZXIudW5sb2NrKCksdGhpcy5fYnVmZmVyLmlucHV0KG8pfSl9fWZ1bmN0aW9uIHNmKHQpe2xldCBlPW51bGw7Y29uc3Qgbj10Lm1vZGVsLGk9dC5lZGl0aW5nLnZpZXcsbz10LmNvbW1hbmRzLmdldChcImlucHV0XCIpO2Z1bmN0aW9uIHIoKXtjb25zdCB0PW8uYnVmZmVyO3QubG9jaygpLG4uZW5xdWV1ZUNoYW5nZSh0LmJhdGNoLCgpPT57bi5kZWxldGVDb250ZW50KG4uZG9jdW1lbnQuc2VsZWN0aW9uKX0pLHQudW5sb2NrKCl9aS5kb2N1bWVudC5vbihcImtleWRvd25cIiwodCxzKT0+KGZ1bmN0aW9uKHQpe2NvbnN0IHM9bi5kb2N1bWVudCxhPWkuZG9jdW1lbnQuaXNDb21wb3NpbmcsYz1lJiZlLmlzRXF1YWwocy5zZWxlY3Rpb24pO2lmKGU9bnVsbCwhby5pc0VuYWJsZWQpcmV0dXJuO2lmKGZ1bmN0aW9uKHQpe2lmKHQuY3RybEtleSlyZXR1cm4hMDtyZXR1cm4gYWYuaW5jbHVkZXModC5rZXlDb2RlKX0odCl8fHMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKXJldHVybjtpZihhJiYyMjk9PT10LmtleUNvZGUpcmV0dXJuO2lmKCFhJiYyMjk9PT10LmtleUNvZGUmJmMpcmV0dXJuO3IoKX0pKHMpLHtwcmlvcml0eTpcImxvd2VzdFwifSksaS5kb2N1bWVudC5vbihcImNvbXBvc2l0aW9uc3RhcnRcIixmdW5jdGlvbigpe2NvbnN0IHQ9bi5kb2N1bWVudCxlPTEhPT10LnNlbGVjdGlvbi5yYW5nZUNvdW50fHx0LnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCkuaXNGbGF0O2lmKHQuc2VsZWN0aW9uLmlzQ29sbGFwc2VkfHxlKXJldHVybjtyKCl9LHtwcmlvcml0eTpcImxvd2VzdFwifSksaS5kb2N1bWVudC5vbihcImNvbXBvc2l0aW9uZW5kXCIsKCk9PntlPW5ldyBBcyhuLmRvY3VtZW50LnNlbGVjdGlvbil9LHtwcmlvcml0eTpcImxvd2VzdFwifSl9Y29uc3QgYWY9W1FpKFwiYXJyb3dVcFwiKSxRaShcImFycm93UmlnaHRcIiksUWkoXCJhcnJvd0Rvd25cIiksUWkoXCJhcnJvd0xlZnRcIiksOSwxNiwxNywxOCwyMCwyNywzMywzNCwzNSwzNl07Zm9yKGxldCB0PTExMjt0PD0xMzU7dCsrKWFmLnB1c2godCk7ZnVuY3Rpb24gY2YodCl7aWYoMD09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgdClpZihcImNoaWxkcmVuXCI9PT1lLnR5cGUmJiFsZihlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBsZih0KXtpZih0Lm5ld0NoaWxkcmVuLmxlbmd0aC10Lm9sZENoaWxkcmVuLmxlbmd0aCE9MSlyZXR1cm47Y29uc3QgZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49W107bGV0IGksbz0wO3JldHVybiB0LmZvckVhY2godD0+e1wiZXF1YWxcIj09dD8ocigpLG8rKyk6XCJpbnNlcnRcIj09dD8ocyhcImluc2VydFwiKT9pLnZhbHVlcy5wdXNoKGVbb10pOihyKCksaT17dHlwZTpcImluc2VydFwiLGluZGV4Om8sdmFsdWVzOltlW29dXX0pLG8rKyk6cyhcImRlbGV0ZVwiKT9pLmhvd01hbnkrKzoocigpLGk9e3R5cGU6XCJkZWxldGVcIixpbmRleDpvLGhvd01hbnk6MX0pfSkscigpLG47ZnVuY3Rpb24gcigpe2kmJihuLnB1c2goaSksaT1udWxsKX1mdW5jdGlvbiBzKHQpe3JldHVybiBpJiZpLnR5cGU9PXR9fShBbyh0Lm9sZENoaWxkcmVuLHQubmV3Q2hpbGRyZW4sZGYpLHQubmV3Q2hpbGRyZW4pO2lmKGUubGVuZ3RoPjEpcmV0dXJuO2NvbnN0IG49ZVswXTtyZXR1cm4gbi52YWx1ZXNbMF1pbnN0YW5jZW9mIE9uP246dm9pZCAwfWZ1bmN0aW9uIGRmKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBPbiYmZSBpbnN0YW5jZW9mIE9uP3QuZGF0YT09PWUuZGF0YTp0PT09ZX1jbGFzcyB1Zntjb25zdHJ1Y3Rvcih0KXt0aGlzLmVkaXRvcj10LHRoaXMuZWRpdGluZz10aGlzLmVkaXRvci5lZGl0aW5nfWhhbmRsZSh0LGUpe2lmKGNmKHQpKXRoaXMuX2hhbmRsZUNvbnRhaW5lckNoaWxkcmVuTXV0YXRpb25zKHQsZSk7ZWxzZSBmb3IoY29uc3QgbiBvZiB0KXRoaXMuX2hhbmRsZVRleHRNdXRhdGlvbihuLGUpLHRoaXMuX2hhbmRsZVRleHROb2RlSW5zZXJ0aW9uKG4pfV9oYW5kbGVDb250YWluZXJDaGlsZHJlbk11dGF0aW9ucyh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm1hcCh0PT50Lm5vZGUpLnJlZHVjZSgodCxlKT0+dC5nZXRDb21tb25BbmNlc3RvcihlLHtpbmNsdWRlU2VsZjohMH0pKTtpZighZSlyZXR1cm47cmV0dXJuIGUuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMCxwYXJlbnRGaXJzdDohMH0pLmZpbmQodD0+dC5pcyhcImNvbnRhaW5lckVsZW1lbnRcIil8fHQuaXMoXCJyb290RWxlbWVudFwiKSl9KHQpO2lmKCFuKXJldHVybjtjb25zdCBpPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG4pLG89bmV3IExvLHI9dGhpcy5lZGl0b3IuZGF0YS50b01vZGVsKG8uZG9tVG9WaWV3KGkpKS5nZXRDaGlsZCgwKSxzPXRoaXMuZWRpdG9yLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxFbGVtZW50KG4pO2lmKCFzKXJldHVybjtjb25zdCBhPUFycmF5LmZyb20oci5nZXRDaGlsZHJlbigpKSxjPUFycmF5LmZyb20ocy5nZXRDaGlsZHJlbigpKSxsPWFbYS5sZW5ndGgtMV0sZD1jW2MubGVuZ3RoLTFdO2lmKGwmJmwuaXMoXCJzb2Z0QnJlYWtcIikmJmQmJiFkLmlzKFwic29mdEJyZWFrXCIpJiZhLnBvcCgpLCFoZihhKXx8IWhmKGMpKXJldHVybjtjb25zdCB1PWEubWFwKHQ9PnQuaXMoXCJ0ZXh0XCIpP3QuZGF0YTpcIkBcIikuam9pbihcIlwiKS5yZXBsYWNlKC9cXHUwMEEwL2csXCIgXCIpLGg9Yy5tYXAodD0+dC5pcyhcInRleHRcIik/dC5kYXRhOlwiQFwiKS5qb2luKFwiXCIpO2lmKGg9PT11KXJldHVybjtjb25zdCBmPUFvKGgsdSkse2ZpcnN0Q2hhbmdlQXQ6cCxpbnNlcnRpb25zOm0sZGVsZXRpb25zOmd9PWZmKGYpO2xldCBiPW51bGw7ZSYmKGI9dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUmFuZ2UoZS5nZXRGaXJzdFJhbmdlKCkpKTtjb25zdCB3PXUuc3Vic3RyKHAsbSksdj13cy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMocyxwLHMscCtnKTt0aGlzLmVkaXRvci5leGVjdXRlKFwiaW5wdXRcIix7dGV4dDp3LHJhbmdlOnYscmVzdWx0UmFuZ2U6Yn0pfV9oYW5kbGVUZXh0TXV0YXRpb24odCxlKXtpZihcInRleHRcIiE9dC50eXBlKXJldHVybjtjb25zdCBuPXQubmV3VGV4dC5yZXBsYWNlKC9cXHUwMEEwL2csXCIgXCIpLGk9QW8odC5vbGRUZXh0LnJlcGxhY2UoL1xcdTAwQTAvZyxcIiBcIiksbikse2ZpcnN0Q2hhbmdlQXQ6byxpbnNlcnRpb25zOnIsZGVsZXRpb25zOnN9PWZmKGkpO2xldCBhPW51bGw7ZSYmKGE9dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUmFuZ2UoZS5nZXRGaXJzdFJhbmdlKCkpKTtjb25zdCBjPW5ldyBWaSh0Lm5vZGUsbyksbD10aGlzLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxQb3NpdGlvbihjKSxkPXdzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGwscyksdT1uLnN1YnN0cihvLHIpO3RoaXMuZWRpdG9yLmV4ZWN1dGUoXCJpbnB1dFwiLHt0ZXh0OnUscmFuZ2U6ZCxyZXN1bHRSYW5nZTphfSl9X2hhbmRsZVRleHROb2RlSW5zZXJ0aW9uKHQpe2lmKFwiY2hpbGRyZW5cIiE9dC50eXBlKXJldHVybjtjb25zdCBlPWxmKHQpLG49bmV3IFZpKHQubm9kZSxlLmluZGV4KSxpPXRoaXMuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFBvc2l0aW9uKG4pLG89ZS52YWx1ZXNbMF0uZGF0YTt0aGlzLmVkaXRvci5leGVjdXRlKFwiaW5wdXRcIix7dGV4dDpvLnJlcGxhY2UoL1xcdTAwQTAvZyxcIiBcIikscmFuZ2U6bmV3IHdzKGkpfSl9fWZ1bmN0aW9uIGhmKHQpe3JldHVybiB0LmV2ZXJ5KHQ9PnQuaXMoXCJ0ZXh0XCIpfHx0LmlzKFwic29mdEJyZWFrXCIpKX1mdW5jdGlvbiBmZih0KXtsZXQgZT1udWxsLG49bnVsbDtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7XCJlcXVhbFwiIT10W2ldJiYoZT1udWxsPT09ZT9pOmUsbj1pKX1sZXQgaT0wLG89MDtmb3IobGV0IHI9ZTtyPD1uO3IrKylcImluc2VydFwiIT10W3JdJiZpKyssXCJkZWxldGVcIiE9dFtyXSYmbysrO3JldHVybntpbnNlcnRpb25zOm8sZGVsZXRpb25zOmksZmlyc3RDaGFuZ2VBdDplfX1jbGFzcyBwZiBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW5wdXRcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPW5ldyByZih0LHQuY29uZmlnLmdldChcInR5cGluZy51bmRvU3RlcFwiKXx8MjApO3QuY29tbWFuZHMuYWRkKFwiaW5wdXRcIixlKSxzZih0KSxmdW5jdGlvbih0KXt0LmVkaXRpbmcudmlldy5kb2N1bWVudC5vbihcIm11dGF0aW9uc1wiLChlLG4saSk9PntuZXcgdWYodCkuaGFuZGxlKG4saSl9KX0odCl9fWNsYXNzIG1mIGV4dGVuZHMgS2h7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLmRpcmVjdGlvbj1lLHRoaXMuX2J1ZmZlcj1uZXcgb2YodC5tb2RlbCx0LmNvbmZpZy5nZXQoXCJ0eXBpbmcudW5kb1N0ZXBcIikpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQ7ZS5lbnF1ZXVlQ2hhbmdlKHRoaXMuX2J1ZmZlci5iYXRjaCxpPT57dGhpcy5fYnVmZmVyLmxvY2soKTtjb25zdCBvPW5ldyBBcyhuLnNlbGVjdGlvbikscj1vLmlzQ29sbGFwc2VkO2lmKG8uaXNDb2xsYXBzZWQmJmUubW9kaWZ5U2VsZWN0aW9uKG8se2RpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbix1bml0OnQudW5pdH0pLHRoaXMuX3Nob3VsZEVudGlyZUNvbnRlbnRCZVJlcGxhY2VkV2l0aFBhcmFncmFwaCh0LnNlcXVlbmNlfHwxKSlyZXR1cm4gdm9pZCB0aGlzLl9yZXBsYWNlRW50aXJlQ29udGVudFdpdGhQYXJhZ3JhcGgoaSk7aWYoby5pc0NvbGxhcHNlZClyZXR1cm47bGV0IHM9MDtvLmdldEZpcnN0UmFuZ2UoKS5nZXRNaW5pbWFsRmxhdFJhbmdlcygpLmZvckVhY2godD0+e3MrPU5pKHQuZ2V0V2Fsa2VyKHtzaW5nbGVDaGFyYWN0ZXJzOiEwLGlnbm9yZUVsZW1lbnRFbmQ6ITAsc2hhbGxvdzohMH0pKX0pLGUuZGVsZXRlQ29udGVudChvLHtkb05vdFJlc2V0RW50aXJlQ29udGVudDpyfSksdGhpcy5fYnVmZmVyLmlucHV0KHMpLGkuc2V0U2VsZWN0aW9uKG8pLHRoaXMuX2J1ZmZlci51bmxvY2soKX0pfV9zaG91bGRFbnRpcmVDb250ZW50QmVSZXBsYWNlZFdpdGhQYXJhZ3JhcGgodCl7aWYodD4xKXJldHVybiExO2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbixpPWUuc2NoZW1hLmdldExpbWl0RWxlbWVudChuKTtpZighKG4uaXNDb2xsYXBzZWQmJm4uY29udGFpbnNFbnRpcmVDb250ZW50KGkpKSlyZXR1cm4hMTtpZighZS5zY2hlbWEuY2hlY2tDaGlsZChpLFwicGFyYWdyYXBoXCIpKXJldHVybiExO2NvbnN0IG89aS5nZXRDaGlsZCgwKTtyZXR1cm4hb3x8XCJwYXJhZ3JhcGhcIiE9PW8ubmFtZX1fcmVwbGFjZUVudGlyZUNvbnRlbnRXaXRoUGFyYWdyYXBoKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbixpPWUuc2NoZW1hLmdldExpbWl0RWxlbWVudChuKSxvPW5ldyBmcyhcInBhcmFncmFwaFwiKTt0LnJlbW92ZSh3cy5jcmVhdGVJbihpKSksdC5pbnNlcnQobyxpKSx0LnNldFNlbGVjdGlvbihvLDApfX1jbGFzcyBnZiBleHRlbmRzICRve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dC5kb2N1bWVudDtsZXQgbj0wO2Uub24oXCJrZXl1cFwiLCh0LGUpPT57ZS5rZXlDb2RlIT1KaS5kZWxldGUmJmUua2V5Q29kZSE9SmkuYmFja3NwYWNlfHwobj0wKX0pLGUub24oXCJrZXlkb3duXCIsKHQsaSk9Pntjb25zdCBvPXt9O2lmKGkua2V5Q29kZT09SmkuZGVsZXRlKW8uZGlyZWN0aW9uPVwiZm9yd2FyZFwiLG8udW5pdD1cImNoYXJhY3RlclwiO2Vsc2V7aWYoaS5rZXlDb2RlIT1KaS5iYWNrc3BhY2UpcmV0dXJuO28uZGlyZWN0aW9uPVwiYmFja3dhcmRcIixvLnVuaXQ9XCJjb2RlUG9pbnRcIn1jb25zdCByPUdpLmlzTWFjP2kuYWx0S2V5OmkuY3RybEtleTtsZXQgcztvLnVuaXQ9cj9cIndvcmRcIjpvLnVuaXQsby5zZXF1ZW5jZT0rK24sZS5vbmNlKFwiZGVsZXRlXCIsdD0+cz10LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLGUuZmlyZShcImRlbGV0ZVwiLG5ldyBJcihlLGkuZG9tRXZlbnQsbykpLHMmJnMuc3RvcC5jYWxsZWQmJnQuc3RvcCgpfSl9b2JzZXJ2ZSgpe319ZnVuY3Rpb24gYmYodCl7Y29uc3QgZT10Lm1vZGVsLG49dC5lZGl0aW5nLnZpZXcsaT0yMDA7bGV0IG89bnVsbCxyPW5ldyBBcyhlLmRvY3VtZW50LnNlbGVjdGlvbikscz1EYXRlLm5vdygpO2UuZG9jdW1lbnQuc2VsZWN0aW9uLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgQXModC5zb3VyY2UpO3IuaXNFcXVhbChlKXx8KG89cixyPWUscz1EYXRlLm5vdygpKX0pLG4uZG9jdW1lbnQub24oXCJtdXRhdGlvbnNcIixmdW5jdGlvbihuLGEpe2NmKGEpJiZmdW5jdGlvbih0KXtmb3IoY29uc3QgZSBvZiB0KXtpZihcImNoaWxkcmVuXCIhPT1lLnR5cGUpY29udGludWU7Y29uc3QgdD1lLm9sZENoaWxkcmVuLG49ZS5uZXdDaGlsZHJlbjtpZighd2YodCkpY29udGludWU7Y29uc3QgaT1Bbyh0LG4pLG89aS5zb21lKHQ9PlwiZGVsZXRlXCI9PT10KSxyPWkuc29tZSh0PT5cImluc2VydFwiPT09dCk7aWYobyYmIXIpcmV0dXJuITB9cmV0dXJuITF9KGEpJiYoIWZ1bmN0aW9uKCl7RGF0ZS5ub3coKS1zPGkmJm8mJiFvLmlzQ29sbGFwc2VkJiZyLmlzQ29sbGFwc2VkJiZyLmdldExhc3RQb3NpdGlvbigpLmlzRXF1YWwoby5nZXRMYXN0UG9zaXRpb24oKSkmJmUuZW5xdWV1ZUNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24obyl9KTt0LmV4ZWN1dGUoXCJkZWxldGVcIil9KCksbi5zdG9wKCkpfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KX1mdW5jdGlvbiB3Zih0KXtyZXR1cm4gdC5ldmVyeSh0PT50LmlzKFwiY29udGFpbmVyRWxlbWVudFwiKSl9Y2xhc3MgdmYgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkRlbGV0ZVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5lZGl0aW5nLnZpZXcsbj1lLmRvY3VtZW50O2UuYWRkT2JzZXJ2ZXIoZ2YpLHQuY29tbWFuZHMuYWRkKFwiZm9yd2FyZERlbGV0ZVwiLG5ldyBtZih0LFwiZm9yd2FyZFwiKSksdC5jb21tYW5kcy5hZGQoXCJkZWxldGVcIixuZXcgbWYodCxcImJhY2t3YXJkXCIpKSx0aGlzLmxpc3RlblRvKG4sXCJkZWxldGVcIiwobixpKT0+e3QuZXhlY3V0ZShcImZvcndhcmRcIj09aS5kaXJlY3Rpb24/XCJmb3J3YXJkRGVsZXRlXCI6XCJkZWxldGVcIix7dW5pdDppLnVuaXQsc2VxdWVuY2U6aS5zZXF1ZW5jZX0pLGkucHJldmVudERlZmF1bHQoKSxlLnNjcm9sbFRvVGhlU2VsZWN0aW9uKCl9KSxiZih0KX19Y2xhc3MgX2YgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3BmLHZmXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlR5cGluZ1wifX1jbGFzcyBrZiBleHRlbmRzIEtoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3N0YWNrPVtdLHRoaXMuX2NyZWF0ZWRCYXRjaGVzPW5ldyBXZWFrU2V0LHRoaXMucmVmcmVzaCgpfXJlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD10aGlzLl9zdGFjay5sZW5ndGg+MH1hZGRCYXRjaCh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbixuPXtyYW5nZXM6ZS5oYXNPd25SYW5nZT9BcnJheS5mcm9tKGUuZ2V0UmFuZ2VzKCkpOltdLGlzQmFja3dhcmQ6ZS5pc0JhY2t3YXJkfTt0aGlzLl9zdGFjay5wdXNoKHtiYXRjaDp0LHNlbGVjdGlvbjpufSksdGhpcy5yZWZyZXNoKCl9Y2xlYXJTdGFjaygpe3RoaXMuX3N0YWNrPVtdLHRoaXMucmVmcmVzaCgpfV9yZXN0b3JlU2VsZWN0aW9uKHQsZSxuKXtjb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsLG89aS5kb2N1bWVudCxyPVtdO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9eWYoZSxuKS5maW5kKHQ9PnQuc3RhcnQucm9vdCE9by5ncmF2ZXlhcmQpO3QmJnIucHVzaCh0KX1yLmxlbmd0aCYmaS5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHIse2JhY2t3YXJkOmV9KX0pfV91bmRvKHQsZSl7Y29uc3Qgbj10aGlzLmVkaXRvci5tb2RlbCxpPW4uZG9jdW1lbnQ7dGhpcy5fY3JlYXRlZEJhdGNoZXMuYWRkKGUpO2NvbnN0IG89dC5kZWx0YXMuc2xpY2UoKTtvLnJldmVyc2UoKTtmb3IoY29uc3QgdCBvZiBvKWlmKHQub3BlcmF0aW9ucy5zb21lKHQ9PnQuaXNEb2N1bWVudE9wZXJhdGlvbikpe2NvbnN0IG89dC5iYXNlVmVyc2lvbit0Lm9wZXJhdGlvbnMubGVuZ3RoLHI9QXJyYXkuZnJvbShpLmhpc3RvcnkuZ2V0RGVsdGFzKG8pKSxzPW4udHJhbnNmb3JtRGVsdGFzKFt0LmdldFJldmVyc2VkKCldLHIsITApLmRlbHRhc0E7Zm9yKGNvbnN0IG8gb2Ygcyl7by5iYXNlVmVyc2lvbj1pLnZlcnNpb24sZS5hZGREZWx0YShvKTtmb3IoY29uc3QgdCBvZiBvLm9wZXJhdGlvbnMpbi5hcHBseU9wZXJhdGlvbih0KTtpLmhpc3Rvcnkuc2V0RGVsdGFBc1VuZG9uZSh0LG8pfX19fWZ1bmN0aW9uIHlmKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0LGUpe2Zvcihjb25zdCBuIG9mIGUpZm9yKGNvbnN0IGUgb2Ygbi5vcGVyYXRpb25zKWZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtsZXQgaTtzd2l0Y2goZS50eXBlKXtjYXNlXCJpbnNlcnRcIjppPXRbbl0uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZS5wb3NpdGlvbixlLm5vZGVzLm1heE9mZnNldCwhMCk7YnJlYWs7Y2FzZVwibW92ZVwiOmNhc2VcInJlbW92ZVwiOmNhc2VcInJlaW5zZXJ0XCI6aT10W25dLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShlLnNvdXJjZVBvc2l0aW9uLGUudGFyZ2V0UG9zaXRpb24sZS5ob3dNYW55LCEwKX1pJiYodC5zcGxpY2UobiwxLC4uLmkpLG49bitpLmxlbmd0aC0xKX1yZXR1cm4gdH0oW3RdLGUpO24uc29ydCgodCxlKT0+dC5zdGFydC5pc0JlZm9yZShlLnN0YXJ0KT8tMToxKTtmb3IobGV0IHQ9MTt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgZT1uW3QtMV0saT1uW3RdO2UuZW5kLmlzVG91Y2hpbmcoaS5zdGFydCkmJihlLmVuZD1pLmVuZCxuLnNwbGljZSh0LDEpLHQtLSl9cmV0dXJuIG59Y2xhc3MgeGYgZXh0ZW5kcyBrZntleGVjdXRlKHQ9bnVsbCl7Y29uc3QgZT10P3RoaXMuX3N0YWNrLmZpbmRJbmRleChlPT5lLmJhdGNoPT10KTp0aGlzLl9zdGFjay5sZW5ndGgtMSxuPXRoaXMuX3N0YWNrLnNwbGljZShlLDEpWzBdLGk9bmV3IHV1O3RoaXMuZWRpdG9yLm1vZGVsLmVucXVldWVDaGFuZ2UoaSwoKT0+e3RoaXMuX3VuZG8obi5iYXRjaCxpKTtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50Lmhpc3RvcnkuZ2V0RGVsdGFzKG4uYmF0Y2guYmFzZVZlcnNpb24pO3RoaXMuX3Jlc3RvcmVTZWxlY3Rpb24obi5zZWxlY3Rpb24ucmFuZ2VzLG4uc2VsZWN0aW9uLmlzQmFja3dhcmQsdCksdGhpcy5maXJlKFwicmV2ZXJ0XCIsbi5iYXRjaCxpKX0pLHRoaXMucmVmcmVzaCgpfX1jbGFzcyBBZiBleHRlbmRzIGtme2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMuX3N0YWNrLnBvcCgpLGU9bmV3IHV1O3RoaXMuZWRpdG9yLm1vZGVsLmVucXVldWVDaGFuZ2UoZSwoKT0+e2NvbnN0IG49dC5iYXRjaC5kZWx0YXNbdC5iYXRjaC5kZWx0YXMubGVuZ3RoLTFdLGk9bi5iYXNlVmVyc2lvbituLm9wZXJhdGlvbnMubGVuZ3RoLG89dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuaGlzdG9yeS5nZXREZWx0YXMoaSk7dGhpcy5fcmVzdG9yZVNlbGVjdGlvbih0LnNlbGVjdGlvbi5yYW5nZXMsdC5zZWxlY3Rpb24uaXNCYWNrd2FyZCxvKSx0aGlzLl91bmRvKHQuYmF0Y2gsZSl9KSx0aGlzLnJlZnJlc2goKX19Y2xhc3MgQ2YgZXh0ZW5kcyBxaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl9iYXRjaFJlZ2lzdHJ5PW5ldyBXZWFrU2V0fWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3RoaXMuX3VuZG9Db21tYW5kPW5ldyB4Zih0KSx0aGlzLl9yZWRvQ29tbWFuZD1uZXcgQWYodCksdC5jb21tYW5kcy5hZGQoXCJ1bmRvXCIsdGhpcy5fdW5kb0NvbW1hbmQpLHQuY29tbWFuZHMuYWRkKFwicmVkb1wiLHRoaXMuX3JlZG9Db21tYW5kKSx0aGlzLmxpc3RlblRvKHQubW9kZWwsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO2lmKCFuLmlzRG9jdW1lbnRPcGVyYXRpb24pcmV0dXJuO2NvbnN0IGk9bi5kZWx0YS5iYXRjaDt0aGlzLl9iYXRjaFJlZ2lzdHJ5LmhhcyhpKXx8XCJ0cmFuc3BhcmVudFwiPT1pLnR5cGV8fCh0aGlzLl9yZWRvQ29tbWFuZC5fY3JlYXRlZEJhdGNoZXMuaGFzKGkpP3RoaXMuX3VuZG9Db21tYW5kLmFkZEJhdGNoKGkpOnRoaXMuX3VuZG9Db21tYW5kLl9jcmVhdGVkQmF0Y2hlcy5oYXMoaSl8fCh0aGlzLl91bmRvQ29tbWFuZC5hZGRCYXRjaChpKSx0aGlzLl9yZWRvQ29tbWFuZC5jbGVhclN0YWNrKCkpLHRoaXMuX2JhdGNoUmVnaXN0cnkuYWRkKGkpKX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdGhpcy5saXN0ZW5Ubyh0aGlzLl91bmRvQ29tbWFuZCxcInJldmVydFwiLCh0LGUsbik9Pnt0aGlzLl9yZWRvQ29tbWFuZC5hZGRCYXRjaChuKX0pLHQua2V5c3Ryb2tlcy5zZXQoXCJDVFJMK1pcIixcInVuZG9cIiksdC5rZXlzdHJva2VzLnNldChcIkNUUkwrWVwiLFwicmVkb1wiKSx0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtTSElGVCtaXCIsXCJyZWRvXCIpfX1uKDU2KTtjbGFzcyBUZiBleHRlbmRzIFRoe2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwiY29udGVudFwiLFwiXCIpLHRoaXMuc2V0KFwidmlld0JveFwiLFwiMCAwIDIwIDIwXCIpLHRoaXMuc2V0KFwiZmlsbENvbG9yXCIsXCJcIiksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwic3ZnXCIsbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1pY29uXCJdLHZpZXdCb3g6dC50byhcInZpZXdCb3hcIil9fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5fdXBkYXRlWE1MQ29udGVudCgpLHRoaXMuX2NvbG9yRmlsbFBhdGhzKCksdGhpcy5vbihcImNoYW5nZTpjb250ZW50XCIsKCk9Pnt0aGlzLl91cGRhdGVYTUxDb250ZW50KCksdGhpcy5fY29sb3JGaWxsUGF0aHMoKX0pLHRoaXMub24oXCJjaGFuZ2U6ZmlsbENvbG9yXCIsKCk9Pnt0aGlzLl9jb2xvckZpbGxQYXRocygpfSl9X3VwZGF0ZVhNTENvbnRlbnQoKXtpZih0aGlzLmNvbnRlbnQpe2NvbnN0IHQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0aGlzLmNvbnRlbnQudHJpbSgpLFwiaW1hZ2Uvc3ZnK3htbFwiKS5xdWVyeVNlbGVjdG9yKFwic3ZnXCIpLGU9dC5nZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIpO2ZvcihlJiYodGhpcy52aWV3Qm94PWUpLHRoaXMuZWxlbWVudC5pbm5lckhUTUw9XCJcIjt0LmNoaWxkTm9kZXMubGVuZ3RoPjA7KXRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0LmNoaWxkTm9kZXNbMF0pfX1fY29sb3JGaWxsUGF0aHMoKXt0aGlzLmZpbGxDb2xvciYmdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2staWNvbl9fZmlsbFwiKS5mb3JFYWNoKHQ9Pnt0LnN0eWxlLmZpbGw9dGhpcy5maWxsQ29sb3J9KX19big1OCk7Y2xhc3MgU2YgZXh0ZW5kcyBUaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlLG49dygpO3RoaXMuc2V0KFwiY2xhc3NcIiksdGhpcy5zZXQoXCJsYWJlbFN0eWxlXCIpLHRoaXMuc2V0KFwiaWNvblwiKSx0aGlzLnNldChcImlzRW5hYmxlZFwiLCEwKSx0aGlzLnNldChcImlzT25cIiwhMSksdGhpcy5zZXQoXCJpc1Zpc2libGVcIiwhMCksdGhpcy5zZXQoXCJrZXlzdHJva2VcIiksdGhpcy5zZXQoXCJsYWJlbFwiKSx0aGlzLnNldChcInRhYmluZGV4XCIsLTEpLHRoaXMuc2V0KFwidG9vbHRpcFwiKSx0aGlzLnNldChcInR5cGVcIixcImJ1dHRvblwiKSx0aGlzLnNldChcIndpdGhUZXh0XCIsITEpLHRoaXMuY2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5sYWJlbFZpZXc9dGhpcy5fY3JlYXRlTGFiZWxWaWV3KG4pLHRoaXMuaWNvblZpZXc9bmV3IFRmLHRoaXMuaWNvblZpZXcuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stYnV0dG9uX19pY29uXCJ9fSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiYnV0dG9uXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJ1dHRvblwiLFwidG9vbHRpcHBlZFwiLGUudG8oXCJjbGFzc1wiKSxlLmlmKFwiaXNFbmFibGVkXCIsXCJjay1kaXNhYmxlZFwiLHQ9PiF0KSxlLmlmKFwiaXNWaXNpYmxlXCIsXCJjay1oaWRkZW5cIix0PT4hdCksZS50byhcImlzT25cIix0PT50P1wiY2stb25cIjpcImNrLW9mZlwiKSxlLmlmKFwid2l0aFRleHRcIixcImNrLWJ1dHRvbl93aXRoLXRleHRcIildLHR5cGU6ZS50byhcInR5cGVcIix0PT50fHxcImJ1dHRvblwiKSx0YWJpbmRleDplLnRvKFwidGFiaW5kZXhcIiksXCJhcmlhLWxhYmVsbGVkYnlcIjpgY2stZWRpdG9yX19hcmlhLWxhYmVsXyR7bn1gLFwiYXJpYS1kaXNhYmxlZFwiOmUuaWYoXCJpc0VuYWJsZWRcIiwhMCx0PT4hdCksXCJhcmlhLXByZXNzZWRcIjplLmlmKFwiaXNPblwiLCEwKSxcImRhdGEtcG9zaXRpb25cIjpcImJvdHRvbVwiLFwiZGF0YS10b29sdGlwXCI6W2UudG8oXCJsYWJlbFwiKSxlLnRvKFwia2V5c3Ryb2tlXCIpXX0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbixvbjp7bW91c2Vkb3duOmUudG8odD0+e3QucHJldmVudERlZmF1bHQoKX0pLGNsaWNrOmUudG8odD0+e3RoaXMuaXNFbmFibGVkP3RoaXMuZmlyZShcImV4ZWN1dGVcIik6dC5wcmV2ZW50RGVmYXVsdCgpfSl9fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5pY29uJiYodGhpcy5pY29uVmlldy5iaW5kKFwiY29udGVudFwiKS50byh0aGlzLFwiaWNvblwiKSx0aGlzLmNoaWxkcmVuLmFkZCh0aGlzLmljb25WaWV3KSksdGhpcy5jaGlsZHJlbi5hZGQodGhpcy5sYWJlbFZpZXcpfWZvY3VzKCl7dGhpcy5lbGVtZW50LmZvY3VzKCl9X2NyZWF0ZUxhYmVsVmlldyh0KXtjb25zdCBlPW5ldyBUaCxuPXRoaXMuYmluZFRlbXBsYXRlO3JldHVybiBlLnNldFRlbXBsYXRlKHt0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJ1dHRvbl9fbGFiZWxcIl0sc3R5bGU6bi50byhcImxhYmVsU3R5bGVcIiksaWQ6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke3R9YH0sY2hpbGRyZW46W3t0ZXh0OnRoaXMuYmluZFRlbXBsYXRlLnRvKFwibGFiZWxcIil9XX0pLGV9fXZhciBFZj1uKDE3KSxQZj1uLm4oRWYpLE9mPW4oMTgpLFJmPW4ubihPZik7Y2xhc3MgSWYgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci50O3RoaXMuX2FkZEJ1dHRvbihcInVuZG9cIix0KFwiYW9cIiksXCJDVFJMK1pcIixQZi5hKSx0aGlzLl9hZGRCdXR0b24oXCJyZWRvXCIsdChcImFwXCIpLFwiQ1RSTCtZXCIsUmYuYSl9X2FkZEJ1dHRvbih0LGUsbixpKXtjb25zdCBvPXRoaXMuZWRpdG9yO28udWkuY29tcG9uZW50RmFjdG9yeS5hZGQodCxyPT57Y29uc3Qgcz1vLmNvbW1hbmRzLmdldCh0KSxhPW5ldyBTZihyKTtyZXR1cm4gYS5zZXQoe2xhYmVsOmUsaWNvbjppLGtleXN0cm9rZTpuLHRvb2x0aXA6ITB9KSxhLmJpbmQoXCJpc0VuYWJsZWRcIikudG8ocyxcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKGEsXCJleGVjdXRlXCIsKCk9Pm8uZXhlY3V0ZSh0KSksYX0pfX1jbGFzcyBWZiBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bQ2YsSWZdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVW5kb1wifX1jbGFzcyBNZntjb25zdHJ1Y3Rvcih0LGUsbil7bGV0IGk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilpPW47ZWxzZXtjb25zdCBlPW47aT0oKCk9Pnt0LmV4ZWN1dGUoZSl9KX10Lm1vZGVsLmRvY3VtZW50Lm9uKFwiY2hhbmdlXCIsKG4sbyk9PntpZihcInRyYW5zcGFyZW50XCI9PW8udHlwZSlyZXR1cm47Y29uc3Qgcj1BcnJheS5mcm9tKHQubW9kZWwuZG9jdW1lbnQuZGlmZmVyLmdldENoYW5nZXMoKSkscz1yWzBdO2lmKDEhPXIubGVuZ3RofHxcImluc2VydFwiIT09cy50eXBlfHxcIiR0ZXh0XCIhPXMubmFtZXx8MSE9cy5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9cy5wb3NpdGlvbi50ZXh0Tm9kZXx8cy5wb3NpdGlvbi5ub2RlQWZ0ZXI7aWYoIWEucGFyZW50LmlzKFwicGFyYWdyYXBoXCIpKXJldHVybjtjb25zdCBjPWUuZXhlYyhhLmRhdGEpO2MmJnQubW9kZWwuZW5xdWV1ZUNoYW5nZSh0PT57Y29uc3QgZT13cy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoYS5wYXJlbnQsMCxhLnBhcmVudCxjWzBdLmxlbmd0aCk7dC5yZW1vdmUoZSksaSh7bWF0Y2g6Y30pfSl9KX19Y2xhc3MgRmZ7Y29uc3RydWN0b3IodCxlLG4pe2xldCBpLG8scixzO2UgaW5zdGFuY2VvZiBSZWdFeHA/aT1lOnI9ZSxcInN0cmluZ1wiPT10eXBlb2Ygbj9vPW46cz1uLHI9cnx8KHQ9PntsZXQgZTtjb25zdCBuPVtdLG89W107Zm9yKDtudWxsIT09KGU9aS5leGVjKHQpKSYmIShlJiZlLmxlbmd0aDw0KTspe2xldHtpbmRleDp0LDE6aSwyOnIsMzpzfT1lO2NvbnN0IGE9aStyK3MsYz1bdCs9ZVswXS5sZW5ndGgtYS5sZW5ndGgsdCtpLmxlbmd0aF0sbD1bdCtpLmxlbmd0aCtyLmxlbmd0aCx0K2kubGVuZ3RoK3IubGVuZ3RoK3MubGVuZ3RoXTtuLnB1c2goYyksbi5wdXNoKGwpLG8ucHVzaChbdCtpLmxlbmd0aCx0K2kubGVuZ3RoK3IubGVuZ3RoXSl9cmV0dXJue3JlbW92ZTpuLGZvcm1hdDpvfX0pLHM9c3x8KCh0LGUpPT57Zm9yKGNvbnN0IG4gb2YgZSl0LnNldEF0dHJpYnV0ZShvLCEwLG4pO3QucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKG8pfSksdC5tb2RlbC5kb2N1bWVudC5vbihcImNoYW5nZVwiLChlLG4pPT57aWYoXCJ0cmFuc3BhcmVudFwiPT1uLnR5cGUpcmV0dXJuO2NvbnN0IGk9dC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYoIWkuaXNDb2xsYXBzZWQpcmV0dXJuO2NvbnN0IGE9QXJyYXkuZnJvbSh0Lm1vZGVsLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCkpLGM9YVswXTtpZigxIT1hLmxlbmd0aHx8XCJpbnNlcnRcIiE9PWMudHlwZXx8XCIkdGV4dFwiIT1jLm5hbWV8fDEhPWMubGVuZ3RoKXJldHVybjtjb25zdCBsPWkuZm9jdXMucGFyZW50LGQ9ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmZyb20odC5nZXRDaGlsZHJlbigpKS5yZWR1Y2UoKHQsZSk9PnQrZS5kYXRhLFwiXCIpfShsKS5zbGljZSgwLGkuZm9jdXMub2Zmc2V0KSx1PXIoZCksaD1OZihsLHUuZm9ybWF0KSxmPU5mKGwsdS5yZW1vdmUpO2gubGVuZ3RoJiZmLmxlbmd0aCYmdC5tb2RlbC5lbnF1ZXVlQ2hhbmdlKGU9Pntjb25zdCBuPXQubW9kZWwuc2NoZW1hLmdldFZhbGlkUmFuZ2VzKGgsbyk7cyhlLG4pO2Zvcihjb25zdCB0IG9mIGYucmV2ZXJzZSgpKWUucmVtb3ZlKHQpfSl9KX19ZnVuY3Rpb24gTmYodCxlKXtyZXR1cm4gZS5maWx0ZXIodD0+dm9pZCAwIT09dFswXSYmdm9pZCAwIT09dFsxXSkubWFwKGU9PndzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LGVbMF0sdCxlWzFdKSl9Y2xhc3MgRGYgZXh0ZW5kcyBLaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuYXR0cmlidXRlS2V5PWV9cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O3RoaXMudmFsdWU9dGhpcy5fZ2V0VmFsdWVGcm9tRmlyc3RBbGxvd2VkTm9kZSgpLHRoaXMuaXNFbmFibGVkPXQuc2NoZW1hLmNoZWNrQXR0cmlidXRlSW5TZWxlY3Rpb24oZS5zZWxlY3Rpb24sdGhpcy5hdHRyaWJ1dGVLZXkpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uLGk9dm9pZCAwPT09dC5mb3JjZVZhbHVlPyF0aGlzLnZhbHVlOnQuZm9yY2VWYWx1ZTtlLmNoYW5nZSh0PT57aWYobi5pc0NvbGxhcHNlZClpP3Quc2V0U2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5LCEwKTp0LnJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSk7ZWxzZXtjb25zdCBvPWUuc2NoZW1hLmdldFZhbGlkUmFuZ2VzKG4uZ2V0UmFuZ2VzKCksdGhpcy5hdHRyaWJ1dGVLZXkpO2Zvcihjb25zdCBlIG9mIG8paT90LnNldEF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSxpLGUpOnQucmVtb3ZlQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5LGUpfX0pfV9nZXRWYWx1ZUZyb21GaXJzdEFsbG93ZWROb2RlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuc2NoZW1hLG49dC5kb2N1bWVudC5zZWxlY3Rpb247aWYobi5pc0NvbGxhcHNlZClyZXR1cm4gbi5oYXNBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpO2Zvcihjb25zdCB0IG9mIG4uZ2V0UmFuZ2VzKCkpZm9yKGNvbnN0IG4gb2YgdC5nZXRJdGVtcygpKWlmKGUuY2hlY2tBdHRyaWJ1dGUobix0aGlzLmF0dHJpYnV0ZUtleSkpcmV0dXJuIG4uaGFzQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5KTtyZXR1cm4hMX19Y29uc3QgQmY9XCJib2xkXCI7Y2xhc3MgTGYgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0Lm1vZGVsLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0F0dHJpYnV0ZXM6QmZ9KSx0LmNvbnZlcnNpb24uYXR0cmlidXRlVG9FbGVtZW50KHttb2RlbDpCZix2aWV3Olwic3Ryb25nXCIsdXBjYXN0QWxzbzpbXCJiXCIse3N0eWxlczp7XCJmb250LXdlaWdodFwiOlwiYm9sZFwifX1dfSksdC5jb21tYW5kcy5hZGQoQmYsbmV3IERmKHQsQmYpKSx0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtCXCIsQmYpfX12YXIgamY9bigxOSksemY9bi5uKGpmKTtjb25zdCBxZj1cImJvbGRcIjtjbGFzcyBVZiBleHRlbmRzIHFoe2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQocWYsbj0+e2NvbnN0IGk9dC5jb21tYW5kcy5nZXQocWYpLG89bmV3IFNmKG4pO3JldHVybiBvLnNldCh7bGFiZWw6ZShcImZcIiksaWNvbjp6Zi5hLGtleXN0cm9rZTpcIkNUUkwrQlwiLHRvb2x0aXA6ITB9KSxvLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8oaSxcInZhbHVlXCIsXCJpc0VuYWJsZWRcIiksdGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT50LmV4ZWN1dGUocWYpKSxvfSl9fWNvbnN0IEhmPVwiaXRhbGljXCI7Y2xhc3MgV2YgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0Lm1vZGVsLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0F0dHJpYnV0ZXM6SGZ9KSx0LmNvbnZlcnNpb24uYXR0cmlidXRlVG9FbGVtZW50KHttb2RlbDpIZix2aWV3OlwiaVwiLHVwY2FzdEFsc286W1wiZW1cIix7c3R5bGVzOntcImZvbnQtc3R5bGVcIjpcIml0YWxpY1wifX1dfSksdC5jb21tYW5kcy5hZGQoSGYsbmV3IERmKHQsSGYpKSx0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtJXCIsSGYpfX12YXIgJGY9bigyMCksS2Y9bi5uKCRmKTtjb25zdCBHZj1cIml0YWxpY1wiO2NsYXNzIEpmIGV4dGVuZHMgcWh7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChHZixuPT57Y29uc3QgaT10LmNvbW1hbmRzLmdldChHZiksbz1uZXcgU2Yobik7cmV0dXJuIG8uc2V0KHtsYWJlbDplKFwiZ1wiKSxpY29uOktmLmEsa2V5c3Ryb2tlOlwiQ1RSTCtJXCIsdG9vbHRpcDohMH0pLG8uYmluZChcImlzT25cIixcImlzRW5hYmxlZFwiKS50byhpLFwidmFsdWVcIixcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKG8sXCJleGVjdXRlXCIsKCk9PnQuZXhlY3V0ZShHZikpLG99KX19ZnVuY3Rpb24gUWYodCl7Y29uc3QgZT10Lm5leHQoKTtyZXR1cm4gZS5kb25lP251bGw6ZS52YWx1ZX1jbGFzcyBZZiBleHRlbmRzIEtoe3JlZnJlc2goKXt0aGlzLnZhbHVlPXRoaXMuX2dldFZhbHVlKCksdGhpcy5pc0VuYWJsZWQ9dGhpcy5fY2hlY2tFbmFibGVkKCl9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50LG49dC5zY2hlbWEsaT1BcnJheS5mcm9tKGUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3QuY2hhbmdlKHQ9PntpZih0aGlzLnZhbHVlKXRoaXMuX3JlbW92ZVF1b3RlKHQsaS5maWx0ZXIoWGYpKTtlbHNle2NvbnN0IGU9aS5maWx0ZXIodD0+WGYodCl8fHRwKG4sdCkpO3RoaXMuX2FwcGx5UXVvdGUodCxlKX19KX1fZ2V0VmFsdWUoKXtjb25zdCB0PVFmKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtyZXR1cm4hKCF0fHwhWGYodCkpfV9jaGVja0VuYWJsZWQoKXtpZih0aGlzLnZhbHVlKXJldHVybiEwO2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLGU9dGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hLG49UWYodC5nZXRTZWxlY3RlZEJsb2NrcygpKTtyZXR1cm4hIW4mJnRwKGUsbil9X3JlbW92ZVF1b3RlKHQsZSl7WmYoZSkucmV2ZXJzZSgpLmZvckVhY2goZT0+e2lmKGUuc3RhcnQuaXNBdFN0YXJ0JiZlLmVuZC5pc0F0RW5kKXJldHVybiB2b2lkIHQudW53cmFwKGUuc3RhcnQucGFyZW50KTtpZihlLnN0YXJ0LmlzQXRTdGFydCl7Y29uc3Qgbj1icy5jcmVhdGVCZWZvcmUoZS5zdGFydC5wYXJlbnQpO3JldHVybiB2b2lkIHQubW92ZShlLG4pfWUuZW5kLmlzQXRFbmR8fHQuc3BsaXQoZS5lbmQpO2NvbnN0IG49YnMuY3JlYXRlQWZ0ZXIoZS5lbmQucGFyZW50KTt0Lm1vdmUoZSxuKX0pfV9hcHBseVF1b3RlKHQsZSl7Y29uc3Qgbj1bXTtaZihlKS5yZXZlcnNlKCkuZm9yRWFjaChlPT57bGV0IGk9WGYoZS5zdGFydCk7aXx8KGk9bmV3IGZzKFwiYmxvY2tRdW90ZVwiKSx0LndyYXAoZSxpKSksbi5wdXNoKGkpfSksbi5yZXZlcnNlKCkucmVkdWNlKChlLG4pPT5lLm5leHRTaWJsaW5nPT1uPyh0Lm1lcmdlKGJzLmNyZWF0ZUFmdGVyKGUpKSxlKTpuKX19ZnVuY3Rpb24gWGYodCl7cmV0dXJuXCJibG9ja1F1b3RlXCI9PXQucGFyZW50Lm5hbWU/dC5wYXJlbnQ6bnVsbH1mdW5jdGlvbiBaZih0KXtsZXQgZSxuPTA7Y29uc3QgaT1bXTtmb3IoO248dC5sZW5ndGg7KXtjb25zdCBvPXRbbl0scj10W24rMV07ZXx8KGU9YnMuY3JlYXRlQmVmb3JlKG8pKSxyJiZvLm5leHRTaWJsaW5nPT1yfHwoaS5wdXNoKG5ldyB3cyhlLGJzLmNyZWF0ZUFmdGVyKG8pKSksZT1udWxsKSxuKyt9cmV0dXJuIGl9ZnVuY3Rpb24gdHAodCxlKXtjb25zdCBuPXQuY2hlY2tDaGlsZChlLnBhcmVudCxcImJsb2NrUXVvdGVcIiksaT10LmNoZWNrQ2hpbGQoW1wiJHJvb3RcIixcImJsb2NrUXVvdGVcIl0sZSk7cmV0dXJuIG4mJml9Y2xhc3MgZXAgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuc2NoZW1hO3QuY29tbWFuZHMuYWRkKFwiYmxvY2tRdW90ZVwiLG5ldyBZZih0KSksZS5yZWdpc3RlcihcImJsb2NrUXVvdGVcIix7YWxsb3dXaGVyZTpcIiRibG9ja1wiLGFsbG93Q29udGVudE9mOlwiJHJvb3RcIn0pLGUuYWRkQ2hpbGRDaGVjaygodCxlKT0+e2lmKHQuZW5kc1dpdGgoXCJibG9ja1F1b3RlXCIpJiZcImJsb2NrUXVvdGVcIj09ZS5uYW1lKXJldHVybiExfSksdC5jb252ZXJzaW9uLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOlwiYmxvY2tRdW90ZVwiLHZpZXc6XCJibG9ja3F1b3RlXCJ9KX1hZnRlckluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImJsb2NrUXVvdGVcIik7dGhpcy5saXN0ZW5Ubyh0aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQsXCJlbnRlclwiLChlLG4pPT57Y29uc3QgaT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxvPWkuc2VsZWN0aW9uLmdldExhc3RQb3NpdGlvbigpLnBhcmVudDtpLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCYmby5pc0VtcHR5JiZ0LnZhbHVlJiYodGhpcy5lZGl0b3IuZXhlY3V0ZShcImJsb2NrUXVvdGVcIiksdGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LnNjcm9sbFRvVGhlU2VsZWN0aW9uKCksbi5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcCgpKX0pfX12YXIgbnA9bigyMSksaXA9bi5uKG5wKTtjbGFzcyBvcCBleHRlbmRzIHFoe2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJibG9ja1F1b3RlXCIsbj0+e2NvbnN0IGk9dC5jb21tYW5kcy5nZXQoXCJibG9ja1F1b3RlXCIpLG89bmV3IFNmKG4pO3JldHVybiBvLnNldCh7bGFiZWw6ZShcImhcIiksaWNvbjppcC5hLHRvb2x0aXA6ITB9KSxvLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8oaSxcInZhbHVlXCIsXCJpc0VuYWJsZWRcIiksdGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT50LmV4ZWN1dGUoXCJibG9ja1F1b3RlXCIpKSxvfSl9fWNsYXNzIHJwIGV4dGVuZHMgcWh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJQZW5kaW5nQWN0aW9uc1wifWluaXQoKXt0aGlzLnNldChcImhhc0FueVwiLCExKSx0aGlzLl9hY3Rpb25zPW5ldyBMaSh7aWRQcm9wZXJ0eTpcIl9pZFwifSksdGhpcy5fYWN0aW9ucy5kZWxlZ2F0ZShcImFkZFwiLFwicmVtb3ZlXCIpLnRvKHRoaXMpfWFkZCh0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgbS5iKFwicGVuZGluZ2FjdGlvbnMtYWRkLWludmFsaWQtbWVzc2FnZTogVGhlIG1lc3NhZ2UgbXVzdCBiZSBhIHN0cmluZy5cIik7Y29uc3QgZT1PYmplY3QuY3JlYXRlKHlpKTtyZXR1cm4gZS5zZXQoXCJtZXNzYWdlXCIsdCksdGhpcy5fYWN0aW9ucy5hZGQoZSksdGhpcy5oYXNBbnk9ITAsZX1yZW1vdmUodCl7dGhpcy5fYWN0aW9ucy5yZW1vdmUodCksdGhpcy5oYXNBbnk9ISF0aGlzLl9hY3Rpb25zLmxlbmd0aH1nZXQgZmlyc3QoKXtyZXR1cm4gdGhpcy5fYWN0aW9ucy5nZXQoMCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fYWN0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCl9fWNsYXNzIHNwe2NvbnN0cnVjdG9yKCl7Y29uc3QgdD1uZXcgd2luZG93LkZpbGVSZWFkZXI7dGhpcy5fcmVhZGVyPXQsdGhpcy5zZXQoXCJsb2FkZWRcIiwwKSx0Lm9ucHJvZ3Jlc3M9KHQ9Pnt0aGlzLmxvYWRlZD10LmxvYWRlZH0pfWdldCBlcnJvcigpe3JldHVybiB0aGlzLl9yZWFkZXIuZXJyb3J9cmVhZCh0KXtjb25zdCBlPXRoaXMuX3JlYWRlcjtyZXR1cm4gdGhpcy50b3RhbD10LnNpemUsbmV3IFByb21pc2UoKG4saSk9PntlLm9ubG9hZD0oKCk9PntuKGUucmVzdWx0KX0pLGUub25lcnJvcj0oKCk9PntpKFwiZXJyb3JcIil9KSxlLm9uYWJvcnQ9KCgpPT57aShcImFib3J0ZWRcIil9KSx0aGlzLl9yZWFkZXIucmVhZEFzRGF0YVVSTCh0KX0pfWFib3J0KCl7dGhpcy5fcmVhZGVyLmFib3J0KCl9fVAoc3AseWkpO2NsYXNzIGFwIGV4dGVuZHMgcWh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJGaWxlUmVwb3NpdG9yeVwifXN0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bcnBdfWluaXQoKXt0aGlzLmxvYWRlcnM9bmV3IExpLHRoaXMubG9hZGVycy5vbihcImFkZFwiLCgpPT50aGlzLl91cGRhdGVQZW5kaW5nQWN0aW9uKCkpLHRoaXMubG9hZGVycy5vbihcInJlbW92ZVwiLCgpPT50aGlzLl91cGRhdGVQZW5kaW5nQWN0aW9uKCkpLHRoaXMuX3BlbmRpbmdBY3Rpb249bnVsbCx0aGlzLnNldChcInVwbG9hZGVkXCIsMCksdGhpcy5zZXQoXCJ1cGxvYWRUb3RhbFwiLG51bGwpLHRoaXMuYmluZChcInVwbG9hZGVkUGVyY2VudFwiKS50byh0aGlzLFwidXBsb2FkZWRcIix0aGlzLFwidXBsb2FkVG90YWxcIiwodCxlKT0+ZT90L2UqMTAwOjApfWdldExvYWRlcih0KXtmb3IoY29uc3QgZSBvZiB0aGlzLmxvYWRlcnMpaWYoZS5maWxlPT10KXJldHVybiBlO3JldHVybiBudWxsfWNyZWF0ZUxvYWRlcih0KXtpZighdGhpcy5jcmVhdGVVcGxvYWRBZGFwdGVyKXJldHVybiB6ci5hLmVycm9yKFwiZmlsZXJlcG9zaXRvcnktbm8tdXBsb2FkLWFkYXB0ZXI6IFVwbG9hZCBhZGFwdGVyIGlzIG5vdCBkZWZpbmVkLlwiKSxudWxsO2NvbnN0IGU9bmV3IGNwKHQpO3JldHVybiBlLl9hZGFwdGVyPXRoaXMuY3JlYXRlVXBsb2FkQWRhcHRlcihlKSx0aGlzLmxvYWRlcnMuYWRkKGUpLGUub24oXCJjaGFuZ2U6dXBsb2FkZWRcIiwoKT0+e2xldCB0PTA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5sb2FkZXJzKXQrPWUudXBsb2FkZWQ7dGhpcy51cGxvYWRlZD10fSksZS5vbihcImNoYW5nZTp1cGxvYWRUb3RhbFwiLCgpPT57bGV0IHQ9MDtmb3IoY29uc3QgZSBvZiB0aGlzLmxvYWRlcnMpZS51cGxvYWRUb3RhbCYmKHQrPWUudXBsb2FkVG90YWwpO3RoaXMudXBsb2FkVG90YWw9dH0pLGV9ZGVzdHJveUxvYWRlcih0KXtjb25zdCBlPXQgaW5zdGFuY2VvZiBjcD90OnRoaXMuZ2V0TG9hZGVyKHQpO2UuX2Rlc3Ryb3koKSx0aGlzLmxvYWRlcnMucmVtb3ZlKGUpfV91cGRhdGVQZW5kaW5nQWN0aW9uKCl7Y29uc3QgdD10aGlzLmVkaXRvci5wbHVnaW5zLmdldChycCk7aWYodGhpcy5sb2FkZXJzLmxlbmd0aCl7aWYoIXRoaXMuX3BlbmRpbmdBY3Rpb24pe2NvbnN0IGU9dGhpcy5lZGl0b3IudCxuPXQ9PmAke2UoXCJhZVwiKX0gJHtwYXJzZUludCh0KX0lLmA7dGhpcy5fcGVuZGluZ0FjdGlvbj10LmFkZChuKHRoaXMudXBsb2FkZWRQZXJjZW50KSksdGhpcy5fcGVuZGluZ0FjdGlvbi5iaW5kKFwibWVzc2FnZVwiKS50byh0aGlzLFwidXBsb2FkZWRQZXJjZW50XCIsbil9fWVsc2UgdC5yZW1vdmUodGhpcy5fcGVuZGluZ0FjdGlvbiksdGhpcy5fcGVuZGluZ0FjdGlvbj1udWxsfX1QKGFwLHlpKTtjbGFzcyBjcHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuaWQ9dygpLHRoaXMuZmlsZT10LHRoaXMuX2FkYXB0ZXI9ZSx0aGlzLl9yZWFkZXI9bmV3IHNwLHRoaXMuc2V0KFwic3RhdHVzXCIsXCJpZGxlXCIpLHRoaXMuc2V0KFwidXBsb2FkZWRcIiwwKSx0aGlzLnNldChcInVwbG9hZFRvdGFsXCIsbnVsbCksdGhpcy5iaW5kKFwidXBsb2FkZWRQZXJjZW50XCIpLnRvKHRoaXMsXCJ1cGxvYWRlZFwiLHRoaXMsXCJ1cGxvYWRUb3RhbFwiLCh0LGUpPT5lP3QvZSoxMDA6MCksdGhpcy5zZXQoXCJ1cGxvYWRSZXNwb25zZVwiLG51bGwpfXJlYWQoKXtpZihcImlkbGVcIiE9dGhpcy5zdGF0dXMpdGhyb3cgbmV3IG0uYihcImZpbGVyZXBvc2l0b3J5LXJlYWQtd3Jvbmctc3RhdHVzOiBZb3UgY2Fubm90IGNhbGwgcmVhZCBpZiB0aGUgc3RhdHVzIGlzIGRpZmZlcmVudCB0aGFuIGlkbGUuXCIpO3JldHVybiB0aGlzLnN0YXR1cz1cInJlYWRpbmdcIix0aGlzLl9yZWFkZXIucmVhZCh0aGlzLmZpbGUpLnRoZW4odD0+KHRoaXMuc3RhdHVzPVwiaWRsZVwiLHQpKS5jYXRjaCh0PT57aWYoXCJhYm9ydGVkXCI9PT10KXRocm93IHRoaXMuc3RhdHVzPVwiYWJvcnRlZFwiLFwiYWJvcnRlZFwiO3Rocm93IHRoaXMuc3RhdHVzPVwiZXJyb3JcIix0aGlzLl9yZWFkZXIuZXJyb3J9KX11cGxvYWQoKXtpZihcImlkbGVcIiE9dGhpcy5zdGF0dXMpdGhyb3cgbmV3IG0uYihcImZpbGVyZXBvc2l0b3J5LXVwbG9hZC13cm9uZy1zdGF0dXM6IFlvdSBjYW5ub3QgY2FsbCB1cGxvYWQgaWYgdGhlIHN0YXR1cyBpcyBkaWZmZXJlbnQgdGhhbiBpZGxlLlwiKTtyZXR1cm4gdGhpcy5zdGF0dXM9XCJ1cGxvYWRpbmdcIix0aGlzLl9hZGFwdGVyLnVwbG9hZCgpLnRoZW4odD0+KHRoaXMudXBsb2FkUmVzcG9uc2U9dCx0aGlzLnN0YXR1cz1cImlkbGVcIix0KSkuY2F0Y2godD0+e2lmKFwiYWJvcnRlZFwiPT09dGhpcy5zdGF0dXMpdGhyb3dcImFib3J0ZWRcIjt0aHJvdyB0aGlzLnN0YXR1cz1cImVycm9yXCIsdH0pfWFib3J0KCl7Y29uc3QgdD10aGlzLnN0YXR1czt0aGlzLnN0YXR1cz1cImFib3J0ZWRcIixcInJlYWRpbmdcIj09dCYmdGhpcy5fcmVhZGVyLmFib3J0KCksXCJ1cGxvYWRpbmdcIj09dCYmdGhpcy5fYWRhcHRlci5hYm9ydCYmdGhpcy5fYWRhcHRlci5hYm9ydCgpLHRoaXMuX2Rlc3Ryb3koKX1fZGVzdHJveSgpe3RoaXMuX3JlYWRlcj12b2lkIDAsdGhpcy5fYWRhcHRlcj12b2lkIDAsdGhpcy5kYXRhPXZvaWQgMCx0aGlzLnVwbG9hZFJlc3BvbnNlPXZvaWQgMCx0aGlzLmZpbGU9dm9pZCAwfX1QKGNwLHlpKTtjb25zdCBscD0vXmRhdGE6KFxcUyo/KTtiYXNlNjQsLztjbGFzcyBkcHtjb25zdHJ1Y3Rvcih0LGUsbil7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiRmlsZSBtdXN0IGJlIHByb3ZpZGVkXCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlRva2VuIG11c3QgYmUgcHJvdmlkZWRcIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQXBpIGFkZHJlc3MgbXVzdCBiZSBwcm92aWRlZFwiKTt0aGlzLmZpbGU9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuITE7Y29uc3QgZT10Lm1hdGNoKGxwKTtyZXR1cm4hKCFlfHwhZS5sZW5ndGgpfSh0KT9mdW5jdGlvbih0LGU9NTEyKXt0cnl7Y29uc3Qgbj10Lm1hdGNoKGxwKVsxXSxpPWF0b2IodC5yZXBsYWNlKGxwLFwiXCIpKSxvPVtdO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCs9ZSl7Y29uc3Qgbj1pLnNsaWNlKHQsdCtlKSxyPW5ldyBBcnJheShuLmxlbmd0aCk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspclt0XT1uLmNoYXJDb2RlQXQodCk7by5wdXNoKG5ldyBVaW50OEFycmF5KHIpKX1yZXR1cm4gbmV3IEJsb2Iobyx7dHlwZTpufSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiUHJvYmxlbSB3aXRoIGRlY29kaW5nIEJhc2U2NCBpbWFnZSBkYXRhLlwiKX19KHQpOnQsdGhpcy5fdG9rZW49ZSx0aGlzLl9hcGlBZGRyZXNzPW59b25Qcm9ncmVzcyh0KXtyZXR1cm4gdGhpcy5vbihcInByb2dyZXNzXCIsKGUsbik9PnQobikpLHRoaXN9b25FcnJvcih0KXtyZXR1cm4gdGhpcy5vbmNlKFwiZXJyb3JcIiwoZSxuKT0+dChuKSksdGhpc31hYm9ydCgpe3RoaXMueGhyLmFib3J0KCl9c2VuZCgpe3JldHVybiB0aGlzLl9wcmVwYXJlUmVxdWVzdCgpLHRoaXMuX2F0dGFjaFhIUkxpc3RlbmVycygpLHRoaXMuX3NlbmRSZXF1ZXN0KCl9X3ByZXBhcmVSZXF1ZXN0KCl7Y29uc3QgdD1uZXcgWE1MSHR0cFJlcXVlc3Q7dC5vcGVuKFwiUE9TVFwiLHRoaXMuX2FwaUFkZHJlc3MpLHQuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIix0aGlzLl90b2tlbi52YWx1ZSksdC5yZXNwb25zZVR5cGU9XCJqc29uXCIsdGhpcy54aHI9dH1fYXR0YWNoWEhSTGlzdGVuZXJzKCl7Y29uc3QgdD10aGlzLGU9dGhpcy54aHI7ZnVuY3Rpb24gbihlKXtyZXR1cm4oKT0+dC5maXJlKFwiZXJyb3JcIixlKX1lLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLG4oXCJOZXR3b3JrIEVycm9yXCIpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLG4oXCJBYm9ydFwiKSksZS51cGxvYWQmJmUudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLHQ9Pnt0Lmxlbmd0aENvbXB1dGFibGUmJnRoaXMuZmlyZShcInByb2dyZXNzXCIse3RvdGFsOnQudG90YWwsdXBsb2FkZWQ6dC5sb2FkZWR9KX0pLGUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKT0+e2NvbnN0IHQ9ZS5zdGF0dXMsbj1lLnJlc3BvbnNlO2lmKHQ8MjAwfHx0PjI5OSlyZXR1cm4gdGhpcy5maXJlKFwiZXJyb3JcIixuLm1lc3NhZ2V8fG4uZXJyb3IpfSl9X3NlbmRSZXF1ZXN0KCl7Y29uc3QgdD1uZXcgRm9ybURhdGEsZT10aGlzLnhocjtyZXR1cm4gdC5hcHBlbmQoXCJmaWxlXCIsdGhpcy5maWxlKSxuZXcgUHJvbWlzZSgobixpKT0+e2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKT0+e2NvbnN0IHQ9ZS5zdGF0dXMsbz1lLnJlc3BvbnNlO3JldHVybiB0PDIwMHx8dD4yOTk/aShvLm1lc3NhZ2V8fG8uZXJyb3IpOm4obyl9KSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCgpPT5pKFwiTmV0d29yayBFcnJvclwiKSksZS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwoKT0+aShcIkFib3J0XCIpKSxlLnNlbmQodCl9KX19UChkcCx5KTt2YXIgdXA9ZHA7Y29uc3QgaHA9e3JlZnJlc2hJbnRlcnZhbDozNmU1LGF1dG9SZWZyZXNoOiEwfTtjbGFzcyBmcHtjb25zdHJ1Y3Rvcih0LGU9aHApe2lmKCF0KXRocm93IG5ldyBFcnJvcihcImB0b2tlblVybGAgbXVzdCBiZSBwcm92aWRlZFwiKTt0aGlzLnNldChcInZhbHVlXCIsZS5pbml0VmFsdWUpLHRoaXMuX3Rva2VuVXJsPXQsdGhpcy5fb3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LGhwLGUpfWluaXQoKXtyZXR1cm4gbmV3IFByb21pc2UoKHQsZSk9Pnt0aGlzLl9vcHRpb25zLmF1dG9SZWZyZXNoJiZ0aGlzLl9zdGFydFJlZnJlc2hpbmcoKSx0aGlzLnZhbHVlP3QodGhpcyk6dGhpcy5fcmVmcmVzaFRva2VuKCkudGhlbih0KS5jYXRjaChlKX0pfV9yZWZyZXNoVG9rZW4oKXtyZXR1cm4gbmV3IFByb21pc2UoKHQsZSk9Pntjb25zdCBuPW5ldyBYTUxIdHRwUmVxdWVzdDtuLm9wZW4oXCJHRVRcIix0aGlzLl90b2tlblVybCksbi5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgpPT57Y29uc3QgaT1uLnN0YXR1cyxvPW4ucmVzcG9uc2U7cmV0dXJuIGk8MjAwfHxpPjI5OT9lKFwiQ2Fubm90IGRvd25sb2FkIG5ldyB0b2tlbiFcIik6KHRoaXMuc2V0KFwidmFsdWVcIixvKSx0KHRoaXMpKX0pLG4uYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsKCk9PmUoXCJOZXR3b3JrIEVycm9yXCIpKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgpPT5lKFwiQWJvcnRcIikpLG4uc2VuZCgpfSl9X3N0YXJ0UmVmcmVzaGluZygpe3RoaXMuX3JlZnJlc2hJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLl9yZWZyZXNoVG9rZW4uYmluZCh0aGlzKSx0aGlzLl9vcHRpb25zLnJlZnJlc2hJbnRlcnZhbCl9X3N0b3BSZWZyZXNoaW5nKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLl9yZWZyZXNoSW50ZXJ2YWwpfXN0YXRpYyBjcmVhdGUodCxlPWhwKXtyZXR1cm4gbmV3IGZwKHQsZSkuaW5pdCgpfX1QKGZwLHlpKTt2YXIgcHA9ZnA7Y2xhc3MgbXAgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci5jb25maWcuZ2V0KFwiY2xvdWRTZXJ2aWNlc1wiKXx8e307Zm9yKGNvbnN0IGUgaW4gdCl0aGlzW2VdPXRbZV07aWYodGhpcy50b2tlblVybClyZXR1cm4gdGhpcy50b2tlbj1uZXcgbXAuVG9rZW4odGhpcy50b2tlblVybCksdGhpcy50b2tlbi5pbml0KCk7dGhpcy50b2tlbj1udWxsfX1tcC5Ub2tlbj1wcDtjbGFzcyBncCBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bYXAsbXBdfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5wbHVnaW5zLmdldChtcCksbj1lLnRva2VuLGk9ZS51cGxvYWRVcmw7biYmKHRoaXMuX3VwbG9hZEdhdGV3YXk9bmV3IGdwLl9VcGxvYWRHYXRld2F5KG4saSksdC5wbHVnaW5zLmdldChhcCkuY3JlYXRlVXBsb2FkQWRhcHRlcj0odD0+bmV3IGJwKHRoaXMuX3VwbG9hZEdhdGV3YXksdCkpKX19Y2xhc3MgYnB7Y29uc3RydWN0b3IodCxlKXt0aGlzLnVwbG9hZEdhdGV3YXk9dCx0aGlzLmxvYWRlcj1lfXVwbG9hZCgpe3JldHVybiB0aGlzLmZpbGVVcGxvYWRlcj10aGlzLnVwbG9hZEdhdGV3YXkudXBsb2FkKHRoaXMubG9hZGVyLmZpbGUpLHRoaXMuZmlsZVVwbG9hZGVyLm9uKFwicHJvZ3Jlc3NcIiwodCxlKT0+e3RoaXMubG9hZGVyLnVwbG9hZFRvdGFsPWUudG90YWwsdGhpcy5sb2FkZXIudXBsb2FkZWQ9ZS51cGxvYWRlZH0pLHRoaXMuZmlsZVVwbG9hZGVyLnNlbmQoKX1hYm9ydCgpe3RoaXMuZmlsZVVwbG9hZGVyLmFib3J0KCl9fWdwLl9VcGxvYWRHYXRld2F5PWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4gbXVzdCBiZSBwcm92aWRlZFwiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJBcGkgYWRkcmVzcyBtdXN0IGJlIHByb3ZpZGVkXCIpO3RoaXMuX3Rva2VuPXQsdGhpcy5fYXBpQWRkcmVzcz1lfXVwbG9hZCh0KXtyZXR1cm4gbmV3IHVwKHQsdGhpcy5fdG9rZW4sdGhpcy5fYXBpQWRkcmVzcyl9fTtjbGFzcyB3cCBleHRlbmRzICRve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX29ic2VydmVkRWxlbWVudHM9bmV3IFNldH1vYnNlcnZlKHQsZSl7dGhpcy5kb2N1bWVudC5nZXRSb290KGUpLm9uKFwiY2hhbmdlOmNoaWxkcmVuXCIsKGUsbik9Pnt0aGlzLnZpZXcub25jZShcInJlbmRlclwiLCgpPT50aGlzLl91cGRhdGVPYnNlcnZlZEVsZW1lbnRzKHQsbikpfSl9X3VwZGF0ZU9ic2VydmVkRWxlbWVudHModCxlKXtpZighZS5pcyhcImVsZW1lbnRcIil8fGUuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpKXJldHVybjtjb25zdCBuPXRoaXMudmlldy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUpO2lmKG4pe2Zvcihjb25zdCB0IG9mIG4ucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKSl0aGlzLl9vYnNlcnZlZEVsZW1lbnRzLmhhcyh0KXx8KHRoaXMubGlzdGVuVG8odCxcImxvYWRcIiwodCxlKT0+dGhpcy5fZmlyZUV2ZW50cyhlKSksdGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5hZGQodCkpO2Zvcihjb25zdCBlIG9mIHRoaXMuX29ic2VydmVkRWxlbWVudHMpdC5jb250YWlucyhlKXx8KHRoaXMuc3RvcExpc3RlbmluZyhlKSx0aGlzLl9vYnNlcnZlZEVsZW1lbnRzLmRlbGV0ZShlKSl9fV9maXJlRXZlbnRzKHQpe3RoaXMuaXNFbmFibGVkJiYodGhpcy5kb2N1bWVudC5maXJlKFwibGF5b3V0Q2hhbmdlZFwiKSx0aGlzLmRvY3VtZW50LmZpcmUoXCJpbWFnZUxvYWRlZFwiLHQpKX1kZXN0cm95KCl7dGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5jbGVhcigpLHN1cGVyLmRlc3Ryb3koKX19ZnVuY3Rpb24gdnAodCl7cmV0dXJuIG49PntuLm9uKGBhdHRyaWJ1dGU6JHt0fTppbWFnZWAsZSl9O2Z1bmN0aW9uIGUodCxlLG4pe2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sdC5uYW1lKSlyZXR1cm47Y29uc3QgaT1uLndyaXRlcixvPW4ubWFwcGVyLnRvVmlld0VsZW1lbnQoZS5pdGVtKS5nZXRDaGlsZCgwKTtudWxsIT09ZS5hdHRyaWJ1dGVOZXdWYWx1ZT9pLnNldEF0dHJpYnV0ZShlLmF0dHJpYnV0ZUtleSxlLmF0dHJpYnV0ZU5ld1ZhbHVlLG8pOmkucmVtb3ZlQXR0cmlidXRlKGUuYXR0cmlidXRlS2V5LG8pfX1jbGFzcyBfcHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3N0YWNrPVtdfWFkZCh0LGUpe2NvbnN0IG49dGhpcy5fc3RhY2ssaT1uWzBdO3RoaXMuX2luc2VydERlc2NyaXB0b3IodCk7Y29uc3Qgbz1uWzBdO2k9PT1vfHxrcChpLG8pfHx0aGlzLmZpcmUoXCJjaGFuZ2U6dG9wXCIse29sZERlc2NyaXB0b3I6aSxuZXdEZXNjcmlwdG9yOm8sd3JpdGVyOmV9KX1yZW1vdmUodCxlKXtjb25zdCBuPXRoaXMuX3N0YWNrLGk9blswXTt0aGlzLl9yZW1vdmVEZXNjcmlwdG9yKHQpO2NvbnN0IG89blswXTtpPT09b3x8a3AoaSxvKXx8dGhpcy5maXJlKFwiY2hhbmdlOnRvcFwiLHtvbGREZXNjcmlwdG9yOmksbmV3RGVzY3JpcHRvcjpvLHdyaXRlcjplfSl9X2luc2VydERlc2NyaXB0b3IodCl7Y29uc3QgZT10aGlzLl9zdGFjayxuPWUuZmluZEluZGV4KGU9PmUuaWQ9PT10LmlkKTtpZihrcCh0LGVbbl0pKXJldHVybjtuPi0xJiZlLnNwbGljZShuLDEpO2xldCBpPTA7Zm9yKDtlW2ldJiZ5cChlW2ldLHQpOylpKys7ZS5zcGxpY2UoaSwwLHQpfV9yZW1vdmVEZXNjcmlwdG9yKHQpe2NvbnN0IGU9dGhpcy5fc3RhY2ssbj1lLmZpbmRJbmRleChlPT5lLmlkPT09dCk7bj4tMSYmZS5zcGxpY2UobiwxKX19ZnVuY3Rpb24ga3AodCxlKXtyZXR1cm4gdCYmZSYmdC5wcmlvcml0eT09ZS5wcmlvcml0eSYmeHAodC5jbGFzc2VzKT09eHAoZS5jbGFzc2VzKX1mdW5jdGlvbiB5cCh0LGUpe3JldHVybiB0LnByaW9yaXR5PmUucHJpb3JpdHl8fCEodC5wcmlvcml0eTxlLnByaW9yaXR5KSYmeHAodC5jbGFzc2VzKT54cChlLmNsYXNzZXMpfWZ1bmN0aW9uIHhwKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3Quc29ydCgpLmpvaW4oXCIsXCIpOnR9UChfcCx5KTt2YXIgQXA9bigyMiksQ3A9bi5uKEFwKTtjb25zdCBUcD1TeW1ib2woXCJpc1dpZGdldFwiKSxTcD1TeW1ib2woXCJsYWJlbFwiKSxFcD1cImNrLXdpZGdldFwiLFBwPVwiY2std2lkZ2V0X3NlbGVjdGVkXCI7ZnVuY3Rpb24gT3AodCl7cmV0dXJuISF0LmdldEN1c3RvbVByb3BlcnR5KFRwKX1mdW5jdGlvbiBScCh0LGUsbj17fSl7cmV0dXJuIEdpLmlzRWRnZXx8ZS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIixcImZhbHNlXCIsdCksZS5hZGRDbGFzcyhFcCx0KSxlLnNldEN1c3RvbVByb3BlcnR5KFRwLCEwLHQpLHQuZ2V0RmlsbGVyT2Zmc2V0PVZwLG4ubGFiZWwmJmZ1bmN0aW9uKHQsZSxuKXtuLnNldEN1c3RvbVByb3BlcnR5KFNwLGUsdCl9KHQsbi5sYWJlbCxlKSxuLmhhc1NlbGVjdGlvbkhhbmRsZXImJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLmNyZWF0ZVVJRWxlbWVudChcImRpdlwiLHtjbGFzczpcImNrIGNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXJcIn0sZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLnRvRG9tRWxlbWVudCh0KSxuPW5ldyBUZjtyZXR1cm4gbi5zZXQoXCJjb250ZW50XCIsQ3AuYSksbi5yZW5kZXIoKSxlLmFwcGVuZENoaWxkKG4uZWxlbWVudCksZX0pO2UuaW5zZXJ0KFZpLmNyZWF0ZUF0KHQpLG4pLGUuYWRkQ2xhc3MoW1wiY2std2lkZ2V0X3NlbGVjdGFibGVcIl0sdCl9KHQsZSksZnVuY3Rpb24odCxlLG4saSl7Y29uc3Qgbz1uZXcgX3A7by5vbihcImNoYW5nZTp0b3BcIiwoZSxvKT0+e28ub2xkRGVzY3JpcHRvciYmaSh0LG8ub2xkRGVzY3JpcHRvcixvLndyaXRlciksby5uZXdEZXNjcmlwdG9yJiZuKHQsby5uZXdEZXNjcmlwdG9yLG8ud3JpdGVyKX0pLGUuc2V0Q3VzdG9tUHJvcGVydHkoXCJhZGRIaWdobGlnaHRcIiwodCxlLG4pPT5vLmFkZChlLG4pLHQpLGUuc2V0Q3VzdG9tUHJvcGVydHkoXCJyZW1vdmVIaWdobGlnaHRcIiwodCxlLG4pPT5vLnJlbW92ZShlLG4pLHQpfSh0LGUsKHQsZSxuKT0+bi5hZGRDbGFzcyhpKGUuY2xhc3NlcyksdCksKHQsZSxuKT0+bi5yZW1vdmVDbGFzcyhpKGUuY2xhc3NlcyksdCkpLHQ7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Olt0XX19ZnVuY3Rpb24gSXAodCl7Y29uc3QgZT10LmdldEN1c3RvbVByb3BlcnR5KFNwKTtyZXR1cm4gZT9cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UoKTplOlwiXCJ9ZnVuY3Rpb24gVnAoKXtyZXR1cm4gbnVsbH1jb25zdCBNcD1TeW1ib2woXCJpc0ltYWdlXCIpO2Z1bmN0aW9uIEZwKHQpe2NvbnN0IGU9dC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtyZXR1cm4hKCFlfHwhZnVuY3Rpb24odCl7cmV0dXJuISF0LmdldEN1c3RvbVByb3BlcnR5KE1wKSYmT3AodCl9KGUpKX1mdW5jdGlvbiBOcCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGZzJiZcImltYWdlXCI9PXQubmFtZX1jbGFzcyBEcCBleHRlbmRzIHFoe2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5zY2hlbWEsbj10LnQsaT10LmNvbnZlcnNpb247dC5lZGl0aW5nLnZpZXcuYWRkT2JzZXJ2ZXIod3ApLGUucmVnaXN0ZXIoXCJpbWFnZVwiLHtpc09iamVjdDohMCxpc0Jsb2NrOiEwLGFsbG93V2hlcmU6XCIkYmxvY2tcIixhbGxvd0F0dHJpYnV0ZXM6W1wiYWx0XCIsXCJzcmNcIixcInNyY3NldFwiXX0pLGkuZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChWcyh7bW9kZWw6XCJpbWFnZVwiLHZpZXc6KHQsZSk9PkJwKGUpfSkpLGkuZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZChWcyh7bW9kZWw6XCJpbWFnZVwiLHZpZXc6KHQsZSk9PihmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUuc2V0Q3VzdG9tUHJvcGVydHkoTXAsITAsdCksUnAodCxlLHtsYWJlbDpmdW5jdGlvbigpe2NvbnN0IGU9dC5nZXRDaGlsZCgwKS5nZXRBdHRyaWJ1dGUoXCJhbHRcIik7cmV0dXJuIGU/YCR7ZX0gJHtufWA6bn19KX0pKEJwKGUpLGUsbihcIm5cIikpfSkpLGkuZm9yKFwiZG93bmNhc3RcIikuYWRkKHZwKFwic3JjXCIpKS5hZGQodnAoXCJhbHRcIikpLmFkZChmdW5jdGlvbigpe3JldHVybiBlPT57ZS5vbihcImF0dHJpYnV0ZTpzcmNzZXQ6aW1hZ2VcIix0KX07ZnVuY3Rpb24gdCh0LGUsbil7aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSx0Lm5hbWUpKXJldHVybjtjb25zdCBpPW4ud3JpdGVyLG89bi5tYXBwZXIudG9WaWV3RWxlbWVudChlLml0ZW0pLmdldENoaWxkKDApO2lmKG51bGw9PT1lLmF0dHJpYnV0ZU5ld1ZhbHVlKXtjb25zdCB0PWUuYXR0cmlidXRlT2xkVmFsdWU7dC5kYXRhJiYoaS5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNzZXRcIixvKSxpLnJlbW92ZUF0dHJpYnV0ZShcInNpemVzXCIsbyksdC53aWR0aCYmaS5yZW1vdmVBdHRyaWJ1dGUoXCJ3aWR0aFwiLG8pKX1lbHNle2NvbnN0IHQ9ZS5hdHRyaWJ1dGVOZXdWYWx1ZTt0LmRhdGEmJihpLnNldEF0dHJpYnV0ZShcInNyY3NldFwiLHQuZGF0YSxvKSxpLnNldEF0dHJpYnV0ZShcInNpemVzXCIsXCIxMDB2d1wiLG8pLHQud2lkdGgmJmkuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0LndpZHRoLG8pKX19fSgpKSxpLmZvcihcInVwY2FzdFwiKS5hZGQocmEoe3ZpZXc6e25hbWU6XCJpbWdcIixhdHRyaWJ1dGVzOntzcmM6ITB9fSxtb2RlbDoodCxlKT0+ZS5jcmVhdGVFbGVtZW50KFwiaW1hZ2VcIix7c3JjOnQuZ2V0QXR0cmlidXRlKFwic3JjXCIpfSl9KSkuYWRkKGFhKHt2aWV3OntuYW1lOlwiaW1nXCIsa2V5OlwiYWx0XCJ9LG1vZGVsOlwiYWx0XCJ9KSkuYWRkKGFhKHt2aWV3OntuYW1lOlwiaW1nXCIsa2V5Olwic3Jjc2V0XCJ9LG1vZGVsOntrZXk6XCJzcmNzZXRcIix2YWx1ZTp0PT57Y29uc3QgZT17ZGF0YTp0LmdldEF0dHJpYnV0ZShcInNyY3NldFwiKX07cmV0dXJuIHQuaGFzQXR0cmlidXRlKFwid2lkdGhcIikmJihlLndpZHRoPXQuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikpLGV9fX0pKS5hZGQoZnVuY3Rpb24oKXtyZXR1cm4gZT0+e2Uub24oXCJlbGVtZW50OmZpZ3VyZVwiLHQpfTtmdW5jdGlvbiB0KHQsZSxuKXtpZighbi5jb25zdW1hYmxlLnRlc3QoZS52aWV3SXRlbSx7bmFtZTohMCxjbGFzc2VzOlwiaW1hZ2VcIn0pKXJldHVybjtjb25zdCBpPUFycmF5LmZyb20oZS52aWV3SXRlbS5nZXRDaGlsZHJlbigpKS5maW5kKHQ9PnQuaXMoXCJpbWdcIikpO2lmKCFpfHwhaS5oYXNBdHRyaWJ1dGUoXCJzcmNcIil8fCFuLmNvbnN1bWFibGUudGVzdChpLHtuYW1lOiEwfSkpcmV0dXJuO2NvbnN0IG89bi5jb252ZXJ0SXRlbShpLGUubW9kZWxDdXJzb3IpLHI9UWYoby5tb2RlbFJhbmdlLmdldEl0ZW1zKCkpO3ImJihuLmNvbnZlcnRDaGlsZHJlbihlLnZpZXdJdGVtLGJzLmNyZWF0ZUF0KHIpKSxlLm1vZGVsUmFuZ2U9by5tb2RlbFJhbmdlLGUubW9kZWxDdXJzb3I9by5tb2RlbEN1cnNvcil9fSgpKX19ZnVuY3Rpb24gQnAodCl7Y29uc3QgZT10LmNyZWF0ZUVtcHR5RWxlbWVudChcImltZ1wiKSxuPXQuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcImZpZ3VyZVwiLHtjbGFzczpcImltYWdlXCJ9KTtyZXR1cm4gdC5pbnNlcnQoVmkuY3JlYXRlQXQobiksZSksbn1jbGFzcyBMcCBleHRlbmRzIFZye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZG9tRXZlbnRUeXBlPVwibW91c2Vkb3duXCJ9b25Eb21FdmVudCh0KXt0aGlzLmZpcmUodC50eXBlLHQpfX1uKDYwKTtjb25zdCBqcD1ZaShcIkN0cmwrQVwiKTtjbGFzcyB6cCBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiV2lkZ2V0XCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LGU9dC5kb2N1bWVudDt0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQ9bmV3IFNldCx0aGlzLmVkaXRvci5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcInNlbGVjdGlvblwiLCh0LGUsbik9Pnt0aGlzLl9jbGVhclByZXZpb3VzbHlTZWxlY3RlZFdpZGdldHMobi53cml0ZXIpO2NvbnN0IGk9bi53cml0ZXIsbz1pLmRvY3VtZW50LnNlbGVjdGlvbixyPW8uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7Zm9yKGNvbnN0IHQgb2Ygby5nZXRSYW5nZXMoKSlmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUuaXRlbTt0LmlzKFwiZWxlbWVudFwiKSYmT3AodCkmJihpLmFkZENsYXNzKFBwLHQpLHRoaXMuX3ByZXZpb3VzbHlTZWxlY3RlZC5hZGQodCksdD09ciYmaS5zZXRTZWxlY3Rpb24oby5nZXRSYW5nZXMoKSx7ZmFrZTohMCxsYWJlbDpJcChyKX0pKX19LHtwcmlvcml0eTpcImxvd1wifSksdC5hZGRPYnNlcnZlcihMcCksdGhpcy5saXN0ZW5UbyhlLFwibW91c2Vkb3duXCIsKC4uLnQpPT50aGlzLl9vbk1vdXNlZG93biguLi50KSksdGhpcy5saXN0ZW5UbyhlLFwia2V5ZG93blwiLCguLi50KT0+dGhpcy5fb25LZXlkb3duKC4uLnQpLHtwcmlvcml0eTpcImhpZ2hcIn0pLHRoaXMubGlzdGVuVG8oZSxcImRlbGV0ZVwiLCh0LGUpPT57dGhpcy5faGFuZGxlRGVsZXRlKFwiZm9yd2FyZFwiPT1lLmRpcmVjdGlvbikmJihlLnByZXZlbnREZWZhdWx0KCksdC5zdG9wKCkpfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KX1fb25Nb3VzZWRvd24odCxlKXtjb25zdCBuPXRoaXMuZWRpdG9yLGk9bi5lZGl0aW5nLnZpZXcsbz1pLmRvY3VtZW50O2xldCByPWUudGFyZ2V0O2lmKGZ1bmN0aW9uKHQpe2Zvcig7dDspe2lmKHQgaW5zdGFuY2VvZiBQaSYmISh0IGluc3RhbmNlb2YgUmkpKXJldHVybiEwO3Q9dC5wYXJlbnR9cmV0dXJuITF9KHIpKXJldHVybjtpZighT3AocikmJiEocj1yLmZpbmRBbmNlc3RvcihPcCkpKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCksby5pc0ZvY3VzZWR8fGkuZm9jdXMoKTtjb25zdCBzPW4uZWRpdGluZy5tYXBwZXIudG9Nb2RlbEVsZW1lbnQocik7dGhpcy5fc2V0U2VsZWN0aW9uT3ZlckVsZW1lbnQocyl9X29uS2V5ZG93bih0LGUpe2NvbnN0IG49ZS5rZXlDb2RlLGk9bj09SmkuZGVsZXRlfHxuPT1KaS5hcnJvd2Rvd258fG49PUppLmFycm93cmlnaHQ7bGV0IG89ITE7IWZ1bmN0aW9uKHQpe3JldHVybiB0PT1KaS5hcnJvd3JpZ2h0fHx0PT1KaS5hcnJvd2xlZnR8fHQ9PUppLmFycm93dXB8fHQ9PUppLmFycm93ZG93bn0obik/IWZ1bmN0aW9uKHQpe3JldHVybiBRaSh0KT09anB9KGUpP249PT1KaS5lbnRlciYmKG89dGhpcy5faGFuZGxlRW50ZXJLZXkoZS5zaGlmdEtleSkpOm89dGhpcy5fc2VsZWN0QWxsTmVzdGVkRWRpdGFibGVDb250ZW50KCl8fHRoaXMuX3NlbGVjdEFsbENvbnRlbnQoKTpvPXRoaXMuX2hhbmRsZUFycm93S2V5cyhpKSxvJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcCgpKX1faGFuZGxlRGVsZXRlKHQpe2lmKHRoaXMuZWRpdG9yLmlzUmVhZE9ubHkpcmV0dXJuO2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKCFlLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBuPXRoaXMuX2dldE9iamVjdEVsZW1lbnROZXh0VG9TZWxlY3Rpb24odCk7cmV0dXJuIG4/KHRoaXMuZWRpdG9yLm1vZGVsLmNoYW5nZSh0PT57bGV0IGk9ZS5hbmNob3IucGFyZW50O2Zvcig7aS5pc0VtcHR5Oyl7Y29uc3QgZT1pO2k9ZS5wYXJlbnQsdC5yZW1vdmUoZSl9dGhpcy5fc2V0U2VsZWN0aW9uT3ZlckVsZW1lbnQobil9KSwhMCk6dm9pZCAwfV9oYW5kbGVBcnJvd0tleXModCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuc2NoZW1hLGk9ZS5kb2N1bWVudC5zZWxlY3Rpb24sbz1pLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKG8mJm4uaXNPYmplY3Qobykpe2NvbnN0IG89dD9pLmdldExhc3RQb3NpdGlvbigpOmkuZ2V0Rmlyc3RQb3NpdGlvbigpLHI9bi5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2Uobyx0P1wiZm9yd2FyZFwiOlwiYmFja3dhcmRcIik7cmV0dXJuIHImJmUuY2hhbmdlKHQ9Pnt0LnNldFNlbGVjdGlvbihyKX0pLCEwfWlmKCFpLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCByPXRoaXMuX2dldE9iamVjdEVsZW1lbnROZXh0VG9TZWxlY3Rpb24odCk7cmV0dXJuIHIgaW5zdGFuY2VvZiBmcyYmbi5pc09iamVjdChyKT8odGhpcy5fc2V0U2VsZWN0aW9uT3ZlckVsZW1lbnQociksITApOnZvaWQgMH1faGFuZGxlRW50ZXJLZXkodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKG4mJmUuc2NoZW1hLmlzT2JqZWN0KG4pKXJldHVybiBlLmNoYW5nZShlPT57Y29uc3QgaT1lLmNyZWF0ZUVsZW1lbnQoXCJwYXJhZ3JhcGhcIik7ZS5pbnNlcnQoaSxuLHQ/XCJiZWZvcmVcIjpcImFmdGVyXCIpLGUuc2V0U2VsZWN0aW9uKGksXCJpblwiKX0pLCEwfV9zZWxlY3RBbGxOZXN0ZWRFZGl0YWJsZUNvbnRlbnQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudC5zZWxlY3Rpb24sbj10LnNjaGVtYS5nZXRMaW1pdEVsZW1lbnQoZSk7cmV0dXJuIGUuZ2V0Rmlyc3RSYW5nZSgpLnJvb3QhPW4mJih0LmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24od3MuY3JlYXRlSW4obikpfSksITApfV9zZWxlY3RBbGxDb250ZW50KCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXRoaXMuZWRpdG9yLmVkaXRpbmcsbj1lLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKG4mJk9wKG4pKXtjb25zdCBpPWUubWFwcGVyLnRvTW9kZWxFbGVtZW50KG4ucGFyZW50KTtyZXR1cm4gdC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHdzLmNyZWF0ZUluKGkpKX0pLCEwfXJldHVybiExfV9zZXRTZWxlY3Rpb25PdmVyRWxlbWVudCh0KXt0aGlzLmVkaXRvci5tb2RlbC5jaGFuZ2UoZT0+e2Uuc2V0U2VsZWN0aW9uKHdzLmNyZWF0ZU9uKHQpKX0pfV9nZXRPYmplY3RFbGVtZW50TmV4dFRvU2VsZWN0aW9uKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLnNjaGVtYSxpPWUuZG9jdW1lbnQuc2VsZWN0aW9uLG89bmV3IEFzKGkpO2UubW9kaWZ5U2VsZWN0aW9uKG8se2RpcmVjdGlvbjp0P1wiZm9yd2FyZFwiOlwiYmFja3dhcmRcIn0pO2NvbnN0IHI9dD9vLmZvY3VzLm5vZGVCZWZvcmU6by5mb2N1cy5ub2RlQWZ0ZXI7cmV0dXJuIHIgaW5zdGFuY2VvZiBmcyYmbi5pc09iamVjdChyKT9yOm51bGx9X2NsZWFyUHJldmlvdXNseVNlbGVjdGVkV2lkZ2V0cyh0KXtmb3IoY29uc3QgZSBvZiB0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQpdC5yZW1vdmVDbGFzcyhQcCxlKTt0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQuY2xlYXIoKX19Y2xhc3MgcXAgZXh0ZW5kcyBLaHtyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5pc0VuYWJsZWQ9TnAodCksTnAodCkmJnQuaGFzQXR0cmlidXRlKFwiYWx0XCIpP3RoaXMudmFsdWU9dC5nZXRBdHRyaWJ1dGUoXCJhbHRcIik6dGhpcy52YWx1ZT0hMX1leGVjdXRlKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtlLmNoYW5nZShlPT57ZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIix0Lm5ld1ZhbHVlLG4pfSl9fWNsYXNzIFVwIGV4dGVuZHMgcWh7aW5pdCgpe3RoaXMuZWRpdG9yLmNvbW1hbmRzLmFkZChcImltYWdlVGV4dEFsdGVybmF0aXZlXCIsbmV3IHFwKHRoaXMuZWRpdG9yKSl9fWZ1bmN0aW9uIEhwKHtlbWl0dGVyOnQsYWN0aXZhdG9yOmUsY2FsbGJhY2s6bixjb250ZXh0RWxlbWVudHM6aX0pe3QubGlzdGVuVG8oZG9jdW1lbnQsXCJtb3VzZWRvd25cIiwodCx7dGFyZ2V0Om99KT0+e2lmKGUoKSl7Zm9yKGNvbnN0IHQgb2YgaSlpZih0LmNvbnRhaW5zKG8pKXJldHVybjtuKCl9fSl9Y2xhc3MgV3AgZXh0ZW5kcyBUaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO2NvbnN0IG49YGNrLWlucHV0LSR7dygpfWA7dGhpcy5zZXQoXCJsYWJlbFwiKSx0aGlzLnNldChcInZhbHVlXCIpLHRoaXMuc2V0KFwiaXNSZWFkT25seVwiLCExKSx0aGlzLmxhYmVsVmlldz10aGlzLl9jcmVhdGVMYWJlbFZpZXcobiksdGhpcy5pbnB1dFZpZXc9dGhpcy5fY3JlYXRlSW5wdXRWaWV3KGUsbik7Y29uc3QgaT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGFiZWxlZC1pbnB1dFwiLGkuaWYoXCJpc1JlYWRPbmx5XCIsXCJjay1kaXNhYmxlZFwiKV19LGNoaWxkcmVuOlt0aGlzLmxhYmVsVmlldyx0aGlzLmlucHV0Vmlld119KX1fY3JlYXRlTGFiZWxWaWV3KHQpe2NvbnN0IGU9bmV3IEVoKHRoaXMubG9jYWxlKTtyZXR1cm4gZS5mb3I9dCxlLmJpbmQoXCJ0ZXh0XCIpLnRvKHRoaXMsXCJsYWJlbFwiKSxlfV9jcmVhdGVJbnB1dFZpZXcodCxlKXtjb25zdCBuPW5ldyB0KHRoaXMubG9jYWxlKTtyZXR1cm4gbi5pZD1lLG4uYmluZChcInZhbHVlXCIpLnRvKHRoaXMpLG4uYmluZChcImlzUmVhZE9ubHlcIikudG8odGhpcyksbn1zZWxlY3QoKXt0aGlzLmlucHV0Vmlldy5zZWxlY3QoKX1mb2N1cygpe3RoaXMuaW5wdXRWaWV3LmZvY3VzKCl9fW4oNjIpO2NsYXNzICRwIGV4dGVuZHMgVGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXQoXCJ2YWx1ZVwiKSx0aGlzLnNldChcImlkXCIpLHRoaXMuc2V0KFwicGxhY2Vob2xkZXJcIiksdGhpcy5zZXQoXCJpc1JlYWRPbmx5XCIsITEpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiaW5wdXRcIixhdHRyaWJ1dGVzOnt0eXBlOlwidGV4dFwiLGNsYXNzOltcImNrXCIsXCJjay1pbnB1dFwiLFwiY2staW5wdXQtdGV4dFwiXSxpZDplLnRvKFwiaWRcIikscGxhY2Vob2xkZXI6ZS50byhcInBsYWNlaG9sZGVyXCIpLHJlYWRvbmx5OmUudG8oXCJpc1JlYWRPbmx5XCIpfX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO2NvbnN0IHQ9dD0+e3RoaXMuZWxlbWVudC52YWx1ZT10fHwwPT09dD90OlwiXCJ9O3QodGhpcy52YWx1ZSksdGhpcy5vbihcImNoYW5nZTp2YWx1ZVwiLChlLG4saSk9Pnt0KGkpfSl9c2VsZWN0KCl7dGhpcy5lbGVtZW50LnNlbGVjdCgpfWZvY3VzKCl7dGhpcy5lbGVtZW50LmZvY3VzKCl9fWZ1bmN0aW9uIEtwKHt2aWV3OnR9KXt0Lmxpc3RlblRvKHQuZWxlbWVudCxcInN1Ym1pdFwiLChlLG4pPT57bi5wcmV2ZW50RGVmYXVsdCgpLHQuZmlyZShcInN1Ym1pdFwiKX0se3VzZUNhcHR1cmU6ITB9KX12YXIgR3A9big1KSxKcD1uLm4oR3ApLFFwPW4oNiksWXA9bi5uKFFwKTtuKDY0KTtjbGFzcyBYcCBleHRlbmRzIFRoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5sb2NhbGUudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgbmgsdGhpcy5rZXlzdHJva2VzPW5ldyBLdSx0aGlzLmxhYmVsZWRJbnB1dD10aGlzLl9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCksdGhpcy5zYXZlQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24oZShcImFnXCIpLEpwLmEsXCJjay1idXR0b24tc2F2ZVwiKSx0aGlzLnNhdmVCdXR0b25WaWV3LnR5cGU9XCJzdWJtaXRcIix0aGlzLmNhbmNlbEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJhaFwiKSxZcC5hLFwiY2stYnV0dG9uLWNhbmNlbFwiLFwiY2FuY2VsXCIpLHRoaXMuX2ZvY3VzYWJsZXM9bmV3IHJoLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBGaCh7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwic2hpZnQgKyB0YWJcIixmb2N1c05leHQ6XCJ0YWJcIn19KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJmb3JtXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybVwiXSx0YWJpbmRleDpcIi0xXCJ9LGNoaWxkcmVuOlt0aGlzLmxhYmVsZWRJbnB1dCx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KSxLcCh7dmlldzp0aGlzfSksW3RoaXMubGFiZWxlZElucHV0LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XS5mb3JFYWNoKHQ9Pnt0aGlzLl9mb2N1c2FibGVzLmFkZCh0KSx0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pfV9jcmVhdGVCdXR0b24odCxlLG4saSl7Y29uc3Qgbz1uZXcgU2YodGhpcy5sb2NhbGUpO3JldHVybiBvLnNldCh7bGFiZWw6dCxpY29uOmUsdG9vbHRpcDohMH0pLG8uZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOm59fSksaSYmby5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxpKSxvfV9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCl7Y29uc3QgdD10aGlzLmxvY2FsZS50LGU9bmV3IFdwKHRoaXMubG9jYWxlLCRwKTtyZXR1cm4gZS5sYWJlbD10KFwiYXFcIiksZS5pbnB1dFZpZXcucGxhY2Vob2xkZXI9dChcImFxXCIpLGV9fWZ1bmN0aW9uIFpwKHtlbGVtZW50OnQsdGFyZ2V0OmUscG9zaXRpb25zOm4sbGltaXRlcjppLGZpdEluVmlld3BvcnQ6b30pe0coZSkmJihlPWUoKSksRyhpKSYmKGk9aSgpKTtjb25zdCByPWZ1bmN0aW9uKHQpe2Zvcig7dCYmXCJodG1sXCIhPXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpOyl7aWYoXCJzdGF0aWNcIiE9Rm8ud2luZG93LmdldENvbXB1dGVkU3R5bGUodCkucG9zaXRpb24pcmV0dXJuIHQ7dD10LnBhcmVudEVsZW1lbnR9cmV0dXJuIG51bGx9KHQucGFyZW50RWxlbWVudCkscz1uZXcgS3IodCksYT1uZXcgS3IoZSk7bGV0IGMsbDtpZihpfHxvKXtjb25zdCB0PWkmJm5ldyBLcihpKS5nZXRWaXNpYmxlKCksZT1vJiZuZXcgS3IoRm8ud2luZG93KTtbbCxjXT1mdW5jdGlvbih0LGUsbixpLG8pe2xldCByLHMsYT0wLGM9MDtjb25zdCBsPW4uZ2V0QXJlYSgpO3JldHVybiB0LnNvbWUodD0+e2NvbnN0W2QsdV09dG0odCxlLG4pO2xldCBoLGY7aWYoaSlpZihvKXtjb25zdCB0PWkuZ2V0SW50ZXJzZWN0aW9uKG8pO2g9dD90LmdldEludGVyc2VjdGlvbkFyZWEodSk6MH1lbHNlIGg9aS5nZXRJbnRlcnNlY3Rpb25BcmVhKHUpO2Z1bmN0aW9uIHAoKXtjPWYsYT1oLHI9dSxzPWR9cmV0dXJuIG8mJihmPW8uZ2V0SW50ZXJzZWN0aW9uQXJlYSh1KSksbyYmIWk/Zj5jJiZwKCk6IW8mJmk/aD5hJiZwKCk6Zj5jJiZoPj1hP3AoKTpmPj1jJiZoPmEmJnAoKSxoPT09bH0pLHI/W3Mscl06bnVsbH0obixhLHMsdCxlKXx8dG0oblswXSxhLHMpfWVsc2VbbCxjXT10bShuWzBdLGEscyk7bGV0e2xlZnQ6ZCx0b3A6dX09ZW0oYyk7aWYocil7Y29uc3QgdD1lbShuZXcgS3IocikpLGU9JHIocik7ZC09dC5sZWZ0LHUtPXQudG9wLGQrPXIuc2Nyb2xsTGVmdCx1Kz1yLnNjcm9sbFRvcCxkLT1lLmxlZnQsdS09ZS50b3B9cmV0dXJue2xlZnQ6ZCx0b3A6dSxuYW1lOmx9fWZ1bmN0aW9uIHRtKHQsZSxuKXtjb25zdHtsZWZ0OmksdG9wOm8sbmFtZTpyfT10KGUsbik7cmV0dXJuW3Isbi5jbG9uZSgpLm1vdmVUbyhpLG8pXX1mdW5jdGlvbiBlbSh7bGVmdDp0LHRvcDplfSl7Y29uc3R7c2Nyb2xsWDpuLHNjcm9sbFk6aX09Rm8ud2luZG93O3JldHVybntsZWZ0OnQrbix0b3A6ZStpfX1uKDY2KTtjb25zdCBubT1JaChcInB4XCIpLGltPUZvLmRvY3VtZW50LmJvZHk7Y2xhc3Mgb20gZXh0ZW5kcyBUaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwidG9wXCIsMCksdGhpcy5zZXQoXCJsZWZ0XCIsMCksdGhpcy5zZXQoXCJwb3NpdGlvblwiLFwiYXJyb3dfbndcIiksdGhpcy5zZXQoXCJpc1Zpc2libGVcIiwhMSksdGhpcy5zZXQoXCJ3aXRoQXJyb3dcIiwhMCksdGhpcy5zZXQoXCJjbGFzc05hbWVcIiksdGhpcy5jb250ZW50PXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1iYWxsb29uLXBhbmVsXCIsZS50byhcInBvc2l0aW9uXCIsdD0+YGNrLWJhbGxvb24tcGFuZWxfJHt0fWApLGUuaWYoXCJpc1Zpc2libGVcIixcImNrLWJhbGxvb24tcGFuZWxfdmlzaWJsZVwiKSxlLmlmKFwid2l0aEFycm93XCIsXCJjay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3dcIiksZS50byhcImNsYXNzTmFtZVwiKV0sc3R5bGU6e3RvcDplLnRvKFwidG9wXCIsbm0pLGxlZnQ6ZS50byhcImxlZnRcIixubSl9fSxjaGlsZHJlbjp0aGlzLmNvbnRlbnR9KX1zaG93KCl7dGhpcy5pc1Zpc2libGU9ITB9aGlkZSgpe3RoaXMuaXNWaXNpYmxlPSExfWF0dGFjaFRvKHQpe3RoaXMuc2hvdygpO2NvbnN0IGU9b20uZGVmYXVsdFBvc2l0aW9ucyxuPU9iamVjdC5hc3NpZ24oe30se2VsZW1lbnQ6dGhpcy5lbGVtZW50LHBvc2l0aW9uczpbZS5zb3V0aEFycm93Tm9ydGgsZS5zb3V0aEFycm93Tm9ydGhXZXN0LGUuc291dGhBcnJvd05vcnRoRWFzdCxlLm5vcnRoQXJyb3dTb3V0aCxlLm5vcnRoQXJyb3dTb3V0aFdlc3QsZS5ub3J0aEFycm93U291dGhFYXN0XSxsaW1pdGVyOmltLGZpdEluVmlld3BvcnQ6ITB9LHQpLHt0b3A6aSxsZWZ0Om8sbmFtZTpyfT1vbS5fZ2V0T3B0aW1hbFBvc2l0aW9uKG4pO09iamVjdC5hc3NpZ24odGhpcyx7dG9wOmksbGVmdDpvLHBvc2l0aW9uOnJ9KX1waW4odCl7dGhpcy51bnBpbigpLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjaz0oKCk9Pnt0aGlzLmlzVmlzaWJsZT90aGlzLl9zdGFydFBpbm5pbmcodCk6dGhpcy5fc3RvcFBpbm5pbmcoKX0pLHRoaXMuX3N0YXJ0UGlubmluZyh0KSx0aGlzLmxpc3RlblRvKHRoaXMsXCJjaGFuZ2U6aXNWaXNpYmxlXCIsdGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrKX11bnBpbigpe3RoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjayYmKHRoaXMuX3N0b3BQaW5uaW5nKCksdGhpcy5zdG9wTGlzdGVuaW5nKHRoaXMsXCJjaGFuZ2U6aXNWaXNpYmxlXCIsdGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrKSx0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2s9bnVsbCx0aGlzLmhpZGUoKSl9X3N0YXJ0UGlubmluZyh0KXt0aGlzLmF0dGFjaFRvKHQpO2NvbnN0IGU9cm0odC50YXJnZXQpLG49dC5saW1pdGVyP3JtKHQubGltaXRlcik6aW07dGhpcy5saXN0ZW5UbyhGby5kb2N1bWVudCxcInNjcm9sbFwiLChpLG8pPT57Y29uc3Qgcj1vLnRhcmdldCxzPWUmJnIuY29udGFpbnMoZSksYT1uJiZyLmNvbnRhaW5zKG4pOyFzJiYhYSYmZSYmbnx8dGhpcy5hdHRhY2hUbyh0KX0se3VzZUNhcHR1cmU6ITB9KSx0aGlzLmxpc3RlblRvKEZvLndpbmRvdyxcInJlc2l6ZVwiLCgpPT57dGhpcy5hdHRhY2hUbyh0KX0pfV9zdG9wUGlubmluZygpe3RoaXMuc3RvcExpc3RlbmluZyhGby5kb2N1bWVudCxcInNjcm9sbFwiKSx0aGlzLnN0b3BMaXN0ZW5pbmcoRm8ud2luZG93LFwicmVzaXplXCIpfX1mdW5jdGlvbiBybSh0KXtyZXR1cm4gQm8odCk/dDpXcih0KT90LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/cm0odCgpKTpudWxsfWZ1bmN0aW9uIHNtKHQsZSl7cmV0dXJuIHQudG9wLWUuaGVpZ2h0LW9tLmFycm93VmVydGljYWxPZmZzZXR9ZnVuY3Rpb24gYW0odCl7cmV0dXJuIHQuYm90dG9tK29tLmFycm93VmVydGljYWxPZmZzZXR9b20uYXJyb3dIb3Jpem9udGFsT2Zmc2V0PTI1LG9tLmFycm93VmVydGljYWxPZmZzZXQ9MTAsb20uX2dldE9wdGltYWxQb3NpdGlvbj1acCxvbS5kZWZhdWx0UG9zaXRpb25zPXtub3J0aEFycm93U291dGg6KHQsZSk9Pih7dG9wOnNtKHQsZSksbGVmdDp0LmxlZnQrdC53aWR0aC8yLWUud2lkdGgvMixuYW1lOlwiYXJyb3dfc1wifSksbm9ydGhBcnJvd1NvdXRoRWFzdDoodCxlKT0+KHt0b3A6c20odCxlKSxsZWZ0OnQubGVmdCt0LndpZHRoLzItZS53aWR0aCtvbS5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3NlXCJ9KSxub3J0aEFycm93U291dGhXZXN0Oih0LGUpPT4oe3RvcDpzbSh0LGUpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1vbS5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3N3XCJ9KSxub3J0aFdlc3RBcnJvd1NvdXRoOih0LGUpPT4oe3RvcDpzbSh0LGUpLGxlZnQ6dC5sZWZ0LWUud2lkdGgvMixuYW1lOlwiYXJyb3dfc1wifSksbm9ydGhXZXN0QXJyb3dTb3V0aFdlc3Q6KHQsZSk9Pih7dG9wOnNtKHQsZSksbGVmdDp0LmxlZnQtb20uYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zd1wifSksbm9ydGhXZXN0QXJyb3dTb3V0aEVhc3Q6KHQsZSk9Pih7dG9wOnNtKHQsZSksbGVmdDp0LmxlZnQtZS53aWR0aCtvbS5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3NlXCJ9KSxub3J0aEVhc3RBcnJvd1NvdXRoOih0LGUpPT4oe3RvcDpzbSh0LGUpLGxlZnQ6dC5yaWdodC1lLndpZHRoLzIsbmFtZTpcImFycm93X3NcIn0pLG5vcnRoRWFzdEFycm93U291dGhFYXN0Oih0LGUpPT4oe3RvcDpzbSh0LGUpLGxlZnQ6dC5yaWdodC1lLndpZHRoK29tLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc2VcIn0pLG5vcnRoRWFzdEFycm93U291dGhXZXN0Oih0LGUpPT4oe3RvcDpzbSh0LGUpLGxlZnQ6dC5yaWdodC1vbS5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3N3XCJ9KSxzb3V0aEFycm93Tm9ydGg6KHQsZSk9Pih7dG9wOmFtKHQpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1lLndpZHRoLzIsbmFtZTpcImFycm93X25cIn0pLHNvdXRoQXJyb3dOb3J0aEVhc3Q6KHQsZSk9Pih7dG9wOmFtKHQpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1lLndpZHRoK29tLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbmVcIn0pLHNvdXRoQXJyb3dOb3J0aFdlc3Q6KHQsZSk9Pih7dG9wOmFtKHQpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1vbS5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X253XCJ9KSxzb3V0aFdlc3RBcnJvd05vcnRoOih0LGUpPT4oe3RvcDphbSh0KSxsZWZ0OnQubGVmdC1lLndpZHRoLzIsbmFtZTpcImFycm93X25cIn0pLHNvdXRoV2VzdEFycm93Tm9ydGhXZXN0Oih0LGUpPT4oe3RvcDphbSh0KSxsZWZ0OnQubGVmdC1vbS5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X253XCJ9KSxzb3V0aFdlc3RBcnJvd05vcnRoRWFzdDoodCxlKT0+KHt0b3A6YW0odCksbGVmdDp0LmxlZnQtZS53aWR0aCtvbS5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X25lXCJ9KSxzb3V0aEVhc3RBcnJvd05vcnRoOih0LGUpPT4oe3RvcDphbSh0KSxsZWZ0OnQucmlnaHQtZS53aWR0aC8yLG5hbWU6XCJhcnJvd19uXCJ9KSxzb3V0aEVhc3RBcnJvd05vcnRoRWFzdDoodCxlKT0+KHt0b3A6YW0odCksbGVmdDp0LnJpZ2h0LWUud2lkdGgrb20uYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19uZVwifSksc291dGhFYXN0QXJyb3dOb3J0aFdlc3Q6KHQsZSk9Pih7dG9wOmFtKHQpLGxlZnQ6dC5yaWdodC1vbS5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X253XCJ9KX07Y2xhc3MgY20gZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkNvbnRleHR1YWxCYWxsb29uXCJ9aW5pdCgpe3RoaXMudmlldz1uZXcgb20sdGhpcy5wb3NpdGlvbkxpbWl0ZXI9KCgpPT57Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcsZT10LmRvY3VtZW50LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7cmV0dXJuIGU/dC5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUucm9vdCk6bnVsbH0pLHRoaXMuX3N0YWNrPW5ldyBNYXAsdGhpcy5lZGl0b3IudWkudmlldy5ib2R5LmFkZCh0aGlzLnZpZXcpLHRoaXMuZWRpdG9yLnVpLmZvY3VzVHJhY2tlci5hZGQodGhpcy52aWV3LmVsZW1lbnQpfWdldCB2aXNpYmxlVmlldygpe2NvbnN0IHQ9dGhpcy5fc3RhY2suZ2V0KHRoaXMudmlldy5jb250ZW50LmdldCgwKSk7cmV0dXJuIHQ/dC52aWV3Om51bGx9aGFzVmlldyh0KXtyZXR1cm4gdGhpcy5fc3RhY2suaGFzKHQpfWFkZCh0KXtpZih0aGlzLmhhc1ZpZXcodC52aWV3KSl0aHJvdyBuZXcgbS5iKFwiY29udGV4dHVhbGJhbGxvb24tYWRkLXZpZXctZXhpc3Q6IENhbm5vdCBhZGQgY29uZmlndXJhdGlvbiBvZiB0aGUgc2FtZSB2aWV3IHR3aWNlLlwiKTt0aGlzLnZpc2libGVWaWV3JiZ0aGlzLnZpZXcuY29udGVudC5yZW1vdmUodGhpcy52aXNpYmxlVmlldyksdGhpcy5fc3RhY2suc2V0KHQudmlldyx0KSx0aGlzLl9zaG93KHQpfXJlbW92ZSh0KXtpZighdGhpcy5oYXNWaWV3KHQpKXRocm93IG5ldyBtLmIoXCJjb250ZXh0dWFsYmFsbG9vbi1yZW1vdmUtdmlldy1ub3QtZXhpc3Q6IENhbm5vdCByZW1vdmUgY29uZmlndXJhdGlvbiBvZiBub3QgZXhpc3Rpbmcgdmlldy5cIik7aWYodGhpcy52aXNpYmxlVmlldz09PXQpe3RoaXMudmlldy5jb250ZW50LnJlbW92ZSh0KSx0aGlzLl9zdGFjay5kZWxldGUodCk7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX3N0YWNrLnZhbHVlcygpKS5wb3AoKTtlP3RoaXMuX3Nob3coZSk6dGhpcy52aWV3LmhpZGUoKX1lbHNlIHRoaXMuX3N0YWNrLmRlbGV0ZSh0KX11cGRhdGVQb3NpdGlvbih0KXt0JiYodGhpcy5fc3RhY2suZ2V0KHRoaXMudmlzaWJsZVZpZXcpLnBvc2l0aW9uPXQpLHRoaXMudmlldy5waW4odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uKCkpfV9zaG93KHt2aWV3OnQsYmFsbG9vbkNsYXNzTmFtZTplPVwiXCJ9KXt0aGlzLnZpZXcuY2xhc3NOYW1lPWUsdGhpcy52aWV3LmNvbnRlbnQuYWRkKHQpLHRoaXMudmlldy5waW4odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uKCkpfV9nZXRCYWxsb29uUG9zaXRpb24oKXtsZXQgdD1BcnJheS5mcm9tKHRoaXMuX3N0YWNrLnZhbHVlcygpKS5wb3AoKS5wb3NpdGlvbjtyZXR1cm4gdCYmIXQubGltaXRlciYmKHQ9T2JqZWN0LmFzc2lnbih7fSx0LHtsaW1pdGVyOnRoaXMucG9zaXRpb25MaW1pdGVyfSkpLHR9fXZhciBsbT1uKDIzKSxkbT1uLm4obG0pO2Z1bmN0aW9uIHVtKHQpe2NvbnN0IGU9dC5wbHVnaW5zLmdldChcIkNvbnRleHR1YWxCYWxsb29uXCIpO2lmKEZwKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LnNlbGVjdGlvbikpe2NvbnN0IG49aG0odCk7ZS51cGRhdGVQb3NpdGlvbihuKX19ZnVuY3Rpb24gaG0odCl7Y29uc3QgZT10LmVkaXRpbmcudmlldyxuPW9tLmRlZmF1bHRQb3NpdGlvbnM7cmV0dXJue3RhcmdldDplLmRvbUNvbnZlcnRlci52aWV3VG9Eb20oZS5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCkpLHBvc2l0aW9uczpbbi5ub3J0aEFycm93U291dGgsbi5ub3J0aEFycm93U291dGhXZXN0LG4ubm9ydGhBcnJvd1NvdXRoRWFzdCxuLnNvdXRoQXJyb3dOb3J0aCxuLnNvdXRoQXJyb3dOb3J0aFdlc3Qsbi5zb3V0aEFycm93Tm9ydGhFYXN0XX19Y2xhc3MgZm0gZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2NtXX1pbml0KCl7dGhpcy5fY3JlYXRlQnV0dG9uKCksdGhpcy5fY3JlYXRlRm9ybSgpfV9jcmVhdGVCdXR0b24oKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiLG49Pntjb25zdCBpPXQuY29tbWFuZHMuZ2V0KFwiaW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIiksbz1uZXcgU2Yobik7cmV0dXJuIG8uc2V0KHtsYWJlbDplKFwiYWZcIiksaWNvbjpkbS5hLHRvb2x0aXA6ITB9KSxvLmJpbmQoXCJpc0VuYWJsZWRcIikudG8oaSxcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKG8sXCJleGVjdXRlXCIsKCk9PnRoaXMuX3Nob3dGb3JtKCkpLG99KX1fY3JlYXRlRm9ybSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldy5kb2N1bWVudDt0aGlzLl9iYWxsb29uPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiQ29udGV4dHVhbEJhbGxvb25cIiksdGhpcy5fZm9ybT1uZXcgWHAodC5sb2NhbGUpLHRoaXMuX2Zvcm0ucmVuZGVyKCksdGhpcy5saXN0ZW5Ubyh0aGlzLl9mb3JtLFwic3VibWl0XCIsKCk9Pnt0LmV4ZWN1dGUoXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiLHtuZXdWYWx1ZTp0aGlzLl9mb3JtLmxhYmVsZWRJbnB1dC5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZX0pLHRoaXMuX2hpZGVGb3JtKCEwKX0pLHRoaXMubGlzdGVuVG8odGhpcy5fZm9ybSxcImNhbmNlbFwiLCgpPT57dGhpcy5faGlkZUZvcm0oITApfSksdGhpcy5fZm9ybS5rZXlzdHJva2VzLnNldChcIkVzY1wiLCh0LGUpPT57dGhpcy5faGlkZUZvcm0oITApLGUoKX0pLHRoaXMubGlzdGVuVG8odC51aSxcInVwZGF0ZVwiLCgpPT57RnAoZS5zZWxlY3Rpb24pP3RoaXMuX2lzVmlzaWJsZSYmdW0odCk6dGhpcy5faGlkZUZvcm0oITApfSksSHAoe2VtaXR0ZXI6dGhpcy5fZm9ybSxhY3RpdmF0b3I6KCk9PnRoaXMuX2lzVmlzaWJsZSxjb250ZXh0RWxlbWVudHM6W3RoaXMuX2Zvcm0uZWxlbWVudF0sY2FsbGJhY2s6KCk9PnRoaXMuX2hpZGVGb3JtKCl9KX1fc2hvd0Zvcm0oKXtpZih0aGlzLl9pc1Zpc2libGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmNvbW1hbmRzLmdldChcImltYWdlVGV4dEFsdGVybmF0aXZlXCIpLG49dGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQ7dGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMuX2Zvcm0pfHx0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLl9mb3JtLHBvc2l0aW9uOmhtKHQpfSksbi52YWx1ZT1uLmlucHV0Vmlldy5lbGVtZW50LnZhbHVlPWUudmFsdWV8fFwiXCIsdGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQuc2VsZWN0KCl9X2hpZGVGb3JtKHQpe3RoaXMuX2lzVmlzaWJsZSYmKHRoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMuX2Zvcm0pLHQmJnRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5mb2N1cygpKX1nZXQgX2lzVmlzaWJsZSgpe3JldHVybiB0aGlzLl9iYWxsb29uLnZpc2libGVWaWV3PT10aGlzLl9mb3JtfX1jbGFzcyBwbSBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bVXAsZm1dfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIn19big2OCk7Y2xhc3MgbW0gZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0RwLHpwLHBtXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlXCJ9fWNsYXNzIGdtIGV4dGVuZHMgVGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5idXR0b25WaWV3PW5ldyBTZih0KSx0aGlzLl9maWxlSW5wdXRWaWV3PW5ldyBibSh0KSx0aGlzLl9maWxlSW5wdXRWaWV3LmJpbmQoXCJhY2NlcHRlZFR5cGVcIikudG8odGhpcyksdGhpcy5fZmlsZUlucHV0Vmlldy5iaW5kKFwiYWxsb3dNdWx0aXBsZUZpbGVzXCIpLnRvKHRoaXMpLHRoaXMuX2ZpbGVJbnB1dFZpZXcuZGVsZWdhdGUoXCJkb25lXCIpLnRvKHRoaXMpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpcImNrLWZpbGUtZGlhbG9nLWJ1dHRvblwifSxjaGlsZHJlbjpbdGhpcy5idXR0b25WaWV3LHRoaXMuX2ZpbGVJbnB1dFZpZXddfSksdGhpcy5idXR0b25WaWV3Lm9uKFwiZXhlY3V0ZVwiLCgpPT57dGhpcy5fZmlsZUlucHV0Vmlldy5vcGVuKCl9KX1mb2N1cygpe3RoaXMuYnV0dG9uVmlldy5mb2N1cygpfX1jbGFzcyBibSBleHRlbmRzIFRoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc2V0KFwiYWNjZXB0ZWRUeXBlXCIpLHRoaXMuc2V0KFwiYWxsb3dNdWx0aXBsZUZpbGVzXCIsITEpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiaW5wdXRcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay1oaWRkZW5cIl0sdHlwZTpcImZpbGVcIix0YWJpbmRleDpcIi0xXCIsYWNjZXB0OmUudG8oXCJhY2NlcHRlZFR5cGVcIiksbXVsdGlwbGU6ZS50byhcImFsbG93TXVsdGlwbGVGaWxlc1wiKX0sb246e2NoYW5nZTplLnRvKCgpPT57dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQuZmlsZXMmJnRoaXMuZWxlbWVudC5maWxlcy5sZW5ndGgmJnRoaXMuZmlyZShcImRvbmVcIix0aGlzLmVsZW1lbnQuZmlsZXMpLHRoaXMuZWxlbWVudC52YWx1ZT1cIlwifSl9fSl9b3Blbigpe3RoaXMuZWxlbWVudC5jbGljaygpfX12YXIgd209bigyNCksdm09bi5uKHdtKTtmdW5jdGlvbiBfbSh0KXtyZXR1cm4vXmltYWdlXFwvKGpwZWd8cG5nfGdpZnxibXApJC8udGVzdCh0LnR5cGUpfWZ1bmN0aW9uIGttKHQpe2NvbnN0IGU9dC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihlKXJldHVybiBicy5jcmVhdGVBZnRlcihlKTtjb25zdCBuPXQuZ2V0U2VsZWN0ZWRCbG9ja3MoKS5uZXh0KCkudmFsdWU7aWYobil7aWYobi5pc0VtcHR5KXJldHVybiBicy5jcmVhdGVBdChuKTtjb25zdCBlPWJzLmNyZWF0ZUFmdGVyKG4pO3JldHVybiB0LmZvY3VzLmlzVG91Y2hpbmcoZSk/ZTpicy5jcmVhdGVCZWZvcmUobil9cmV0dXJuIHQuZm9jdXN9Y2xhc3MgeW0gZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQudDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwiaW1hZ2VVcGxvYWRcIixuPT57Y29uc3QgaT1uZXcgZ20obiksbz10LmNvbW1hbmRzLmdldChcImltYWdlVXBsb2FkXCIpO3JldHVybiBpLnNldCh7YWNjZXB0ZWRUeXBlOlwiaW1hZ2UvKlwiLGFsbG93TXVsdGlwbGVGaWxlczohMH0pLGkuYnV0dG9uVmlldy5zZXQoe2xhYmVsOmUoXCJ0XCIpLGljb246dm0uYSx0b29sdGlwOiEwfSksaS5idXR0b25WaWV3LmJpbmQoXCJpc0VuYWJsZWRcIikudG8obyksaS5vbihcImRvbmVcIiwoZSxuKT0+e2Zvcihjb25zdCBlIG9mIEFycmF5LmZyb20obikpe2NvbnN0IG49a20odC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24pO19tKGUpJiZ0LmV4ZWN1dGUoXCJpbWFnZVVwbG9hZFwiLHtmaWxlOmUsaW5zZXJ0QXQ6bn0pfX0pLGl9KX19dmFyIHhtPW4oMjUpLEFtPW4ubih4bSk7big3MCksbig3Miksbig3NCk7Y2xhc3MgQ20gZXh0ZW5kcyBxaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnBsYWNlaG9sZGVyPVwiZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsXCIrZW5jb2RlVVJJQ29tcG9uZW50KEFtLmEpfWluaXQoKXt0aGlzLmVkaXRvci5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImF0dHJpYnV0ZTp1cGxvYWRTdGF0dXM6aW1hZ2VcIiwoLi4udCk9PnRoaXMudXBsb2FkU3RhdHVzQ2hhbmdlKC4uLnQpKX11cGxvYWRTdGF0dXNDaGFuZ2UodCxlLG4pe2NvbnN0IGk9dGhpcy5lZGl0b3Isbz1lLml0ZW0scj1vLmdldEF0dHJpYnV0ZShcInVwbG9hZElkXCIpO2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sdC5uYW1lKSlyZXR1cm47Y29uc3Qgcz1pLnBsdWdpbnMuZ2V0KGFwKSxhPXI/ZS5hdHRyaWJ1dGVOZXdWYWx1ZTpudWxsLGM9dGhpcy5wbGFjZWhvbGRlcixsPWkuZWRpdGluZy5tYXBwZXIudG9WaWV3RWxlbWVudChvKSxkPW4ud3JpdGVyO2lmKFwicmVhZGluZ1wiPT1hKXJldHVybiBFbShsLGQpLHZvaWQgUG0oYyxsLGQpO2lmKFwidXBsb2FkaW5nXCI9PWEpe2NvbnN0IHQ9cy5sb2FkZXJzLmdldChyKTtyZXR1cm4gRW0obCxkKSx2b2lkKHQ/KE9tKGwsZCksZnVuY3Rpb24odCxlLG4saSl7Y29uc3Qgbz1mdW5jdGlvbih0KXtjb25zdCBlPXQuY3JlYXRlVUlFbGVtZW50KFwiZGl2XCIse2NsYXNzOlwiY2stcHJvZ3Jlc3MtYmFyXCJ9KTtyZXR1cm4gdC5zZXRDdXN0b21Qcm9wZXJ0eShUbSwhMCxlKSxlfShlKTtlLmluc2VydChWaS5jcmVhdGVBdCh0LFwiZW5kXCIpLG8pLG4ub24oXCJjaGFuZ2U6dXBsb2FkZWRQZXJjZW50XCIsKHQsZSxuKT0+e2kuY2hhbmdlKHQ9Pnt0LnNldFN0eWxlKFwid2lkdGhcIixuK1wiJVwiLG8pfSl9KX0obCxkLHQsaS5lZGl0aW5nLnZpZXcpKTpQbShjLGwsZCkpfVwiY29tcGxldGVcIj09YSYmcy5sb2FkZXJzLmdldChyKSYmIUdpLmlzRWRnZSYmZnVuY3Rpb24odCxlLG4pe2NvbnN0IGk9bmV3IFppKFwiZGl2XCIse2NsYXNzOlwiY2staW1hZ2UtdXBsb2FkLWNvbXBsZXRlLWljb25cIn0pO2UuaW5zZXJ0KFZpLmNyZWF0ZUF0KHQsXCJlbmRcIiksaSksc2V0VGltZW91dCgoKT0+e24uY2hhbmdlKHQ9PnQucmVtb3ZlKE1pLmNyZWF0ZU9uKGkpKSl9LDNlMyl9KGwsZCxpLmVkaXRpbmcudmlldyksZnVuY3Rpb24odCxlKXtJbSh0LGUsVG0pfShsLGQpLE9tKGwsZCksZnVuY3Rpb24odCxlKXtlLnJlbW92ZUNsYXNzKFwiY2stYXBwZWFyXCIsdCl9KGwsZCl9fWNvbnN0IFRtPVN5bWJvbChcInByb2dyZXNzLWJhclwiKSxTbT1TeW1ib2woXCJwbGFjZWhvbGRlclwiKTtmdW5jdGlvbiBFbSh0LGUpe3QuaGFzQ2xhc3MoXCJjay1hcHBlYXJcIil8fGUuYWRkQ2xhc3MoXCJjay1hcHBlYXJcIix0KX1mdW5jdGlvbiBQbSh0LGUsbil7ZS5oYXNDbGFzcyhcImNrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlclwiKXx8bi5hZGRDbGFzcyhcImNrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlclwiLGUpO2NvbnN0IGk9ZS5nZXRDaGlsZCgwKTtpLmdldEF0dHJpYnV0ZShcInNyY1wiKSE9PXQmJm4uc2V0QXR0cmlidXRlKFwic3JjXCIsdCxpKSxSbShlLFNtKXx8bi5pbnNlcnQoVmkuY3JlYXRlQWZ0ZXIoaSksZnVuY3Rpb24odCl7Y29uc3QgZT10LmNyZWF0ZVVJRWxlbWVudChcImRpdlwiLHtjbGFzczpcImNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXJcIn0pO3JldHVybiB0LnNldEN1c3RvbVByb3BlcnR5KFNtLCEwLGUpLGV9KG4pKX1mdW5jdGlvbiBPbSh0LGUpe3QuaGFzQ2xhc3MoXCJjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXJcIikmJmUucmVtb3ZlQ2xhc3MoXCJjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXJcIix0KSxJbSh0LGUsU20pfWZ1bmN0aW9uIFJtKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGlsZHJlbigpKWlmKG4uZ2V0Q3VzdG9tUHJvcGVydHkoZSkpcmV0dXJuIG59ZnVuY3Rpb24gSW0odCxlLG4pe2NvbnN0IGk9Um0odCxuKTtpJiZlLnJlbW92ZShNaS5jcmVhdGVPbihpKSl9Y2xhc3MgVm0gZXh0ZW5kcyBLaHtleGVjdXRlKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbj1lLm1vZGVsLmRvY3VtZW50LGk9dC5maWxlLG89ZS5wbHVnaW5zLmdldChhcCk7ZS5tb2RlbC5jaGFuZ2Uocj0+e2NvbnN0IHM9by5jcmVhdGVMb2FkZXIoaSk7aWYoIXMpcmV0dXJuO2NvbnN0IGE9ci5jcmVhdGVFbGVtZW50KFwiaW1hZ2VcIix7dXBsb2FkSWQ6cy5pZH0pO2xldCBjO2M9dC5pbnNlcnRBdD9uZXcgQXMoW25ldyB3cyh0Lmluc2VydEF0KV0pOm4uc2VsZWN0aW9uLGUubW9kZWwuaW5zZXJ0Q29udGVudChhLGMpLGEucGFyZW50JiZyLnNldFNlbGVjdGlvbihhLFwib25cIil9KX19Y2xhc3MgTW0gZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIk5vdGlmaWNhdGlvblwifWluaXQoKXt0aGlzLm9uKFwic2hvdzp3YXJuaW5nXCIsKHQsZSk9Pnt3aW5kb3cuYWxlcnQoZS5tZXNzYWdlKX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KX1zaG93U3VjY2Vzcyh0LGU9e30pe3RoaXMuX3Nob3dOb3RpZmljYXRpb24oe21lc3NhZ2U6dCx0eXBlOlwic3VjY2Vzc1wiLG5hbWVzcGFjZTplLm5hbWVzcGFjZSx0aXRsZTplLnRpdGxlfSl9c2hvd0luZm8odCxlPXt9KXt0aGlzLl9zaG93Tm90aWZpY2F0aW9uKHttZXNzYWdlOnQsdHlwZTpcImluZm9cIixuYW1lc3BhY2U6ZS5uYW1lc3BhY2UsdGl0bGU6ZS50aXRsZX0pfXNob3dXYXJuaW5nKHQsZT17fSl7dGhpcy5fc2hvd05vdGlmaWNhdGlvbih7bWVzc2FnZTp0LHR5cGU6XCJ3YXJuaW5nXCIsbmFtZXNwYWNlOmUubmFtZXNwYWNlLHRpdGxlOmUudGl0bGV9KX1fc2hvd05vdGlmaWNhdGlvbih0KXtjb25zdCBlPWBzaG93OiR7dC50eXBlfWArKHQubmFtZXNwYWNlP2A6JHt0Lm5hbWVzcGFjZX1gOlwiXCIpO3RoaXMuZmlyZShlLHttZXNzYWdlOnQubWVzc2FnZSx0eXBlOnQudHlwZSx0aXRsZTp0LnRpdGxlfHxcIlwifSl9fWNsYXNzIEZtIGV4dGVuZHMgcWh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblthcCxNbV19aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLmRvY3VtZW50LG49dC5tb2RlbC5zY2hlbWEsaT10LnBsdWdpbnMuZ2V0KGFwKTtuLmV4dGVuZChcImltYWdlXCIse2FsbG93QXR0cmlidXRlczpbXCJ1cGxvYWRJZFwiLFwidXBsb2FkU3RhdHVzXCJdfSksdC5jb21tYW5kcy5hZGQoXCJpbWFnZVVwbG9hZFwiLG5ldyBWbSh0KSksdGhpcy5saXN0ZW5Ubyh0LmVkaXRpbmcudmlldy5kb2N1bWVudCxcImNsaXBib2FyZElucHV0XCIsKG4sbyk9PntpZihmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbSh0LnR5cGVzKS5pbmNsdWRlcyhcInRleHQvaHRtbFwiKSYmXCJcIiE9PXQuZ2V0RGF0YShcInRleHQvaHRtbFwiKX0oby5kYXRhVHJhbnNmZXIpKXJldHVybjtsZXQgcj1uZXcgQXMoby50YXJnZXRSYW5nZXMubWFwKGU9PnQuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFJhbmdlKGUpKSk7Zm9yKGNvbnN0IHMgb2Ygby5kYXRhVHJhbnNmZXIuZmlsZXMpe2lmKF9tKHMpKXtjb25zdCBlPWttKHIpO3QubW9kZWwuY2hhbmdlKG49Pntjb25zdCBvPWkuY3JlYXRlTG9hZGVyKHMpO2lmKCFvKXJldHVybjtjb25zdCByPW4uY3JlYXRlRWxlbWVudChcImltYWdlXCIse3VwbG9hZElkOm8uaWR9KSxhPW5ldyBBcyhbbmV3IHdzKGUpXSk7dC5tb2RlbC5pbnNlcnRDb250ZW50KHIsYSksci5wYXJlbnQmJm4uc2V0U2VsZWN0aW9uKHIsXCJvblwiKX0pLG4uc3RvcCgpfXI9ZS5zZWxlY3Rpb259fSksdC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQub24oXCJkcmFnb3ZlclwiLCh0LGUpPT57ZS5wcmV2ZW50RGVmYXVsdCgpfSksZS5vbihcImNoYW5nZVwiLCgpPT57Y29uc3QgdD1lLmRpZmZlci5nZXRDaGFuZ2VzKHtpbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkOiEwfSk7Zm9yKGNvbnN0IGUgb2YgdClpZihcImluc2VydFwiPT1lLnR5cGUmJlwiaW1hZ2VcIj09ZS5uYW1lKXtjb25zdCB0PWUucG9zaXRpb24ubm9kZUFmdGVyLG49XCIkZ3JhdmV5YXJkXCI9PWUucG9zaXRpb24ucm9vdC5yb290TmFtZSxvPXQuZ2V0QXR0cmlidXRlKFwidXBsb2FkSWRcIik7aWYoIW8pY29udGludWU7Y29uc3Qgcj1pLmxvYWRlcnMuZ2V0KG8pO2lmKCFyKWNvbnRpbnVlO24/ci5hYm9ydCgpOlwiaWRsZVwiPT1yLnN0YXR1cyYmdGhpcy5fbG9hZChyLHQpfX0pfV9sb2FkKHQsZSl7Y29uc3Qgbj10aGlzLmVkaXRvcixpPW4ubW9kZWwsbz1uLmxvY2FsZS50LHI9bi5wbHVnaW5zLmdldChhcCkscz1uLnBsdWdpbnMuZ2V0KE1tKTtyZXR1cm4gaS5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIix0PT57dC5zZXRBdHRyaWJ1dGUoXCJ1cGxvYWRTdGF0dXNcIixcInJlYWRpbmdcIixlKX0pLHQucmVhZCgpLnRoZW4obz0+e2NvbnN0IHI9bi5lZGl0aW5nLm1hcHBlci50b1ZpZXdFbGVtZW50KGUpLmdldENoaWxkKDApLHM9dC51cGxvYWQoKTtyZXR1cm4gbi5lZGl0aW5nLnZpZXcuY2hhbmdlKHQ9Pnt0LnNldEF0dHJpYnV0ZShcInNyY1wiLG8scil9KSxpLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pnt0LnNldEF0dHJpYnV0ZShcInVwbG9hZFN0YXR1c1wiLFwidXBsb2FkaW5nXCIsZSl9KSxzfSkudGhlbih0PT57aS5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIixuPT57bi5zZXRBdHRyaWJ1dGVzKHt1cGxvYWRTdGF0dXM6XCJjb21wbGV0ZVwiLHNyYzp0LmRlZmF1bHR9LGUpO2xldCBpPTA7Y29uc3Qgbz1PYmplY3Qua2V5cyh0KS5maWx0ZXIodD0+e2NvbnN0IGU9cGFyc2VJbnQodCwxMCk7aWYoIWlzTmFOKGUpKXJldHVybiBpPU1hdGgubWF4KGksZSksITB9KS5tYXAoZT0+YCR7dFtlXX0gJHtlfXdgKS5qb2luKFwiLCBcIik7XCJcIiE9byYmbi5zZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIix7ZGF0YTpvLHdpZHRoOml9LGUpfSksYSgpfSkuY2F0Y2gobj0+e2lmKFwiZXJyb3JcIiE9PXQuc3RhdHVzJiZcImFib3J0ZWRcIiE9PXQuc3RhdHVzKXRocm93IG47XCJlcnJvclwiPT10LnN0YXR1cyYmcy5zaG93V2FybmluZyhuLHt0aXRsZTpvKFwidVwiKSxuYW1lc3BhY2U6XCJ1cGxvYWRcIn0pLGEoKSxpLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pnt0LnJlbW92ZShlKX0pfSk7ZnVuY3Rpb24gYSgpe2kuZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+e3QucmVtb3ZlQXR0cmlidXRlKFwidXBsb2FkSWRcIixlKSx0LnJlbW92ZUF0dHJpYnV0ZShcInVwbG9hZFN0YXR1c1wiLGUpfSksci5kZXN0cm95TG9hZGVyKHQpfX19Y2xhc3MgTm0gZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVXBsb2FkXCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltGbSx5bSxDbV19fWNsYXNzIERtIGV4dGVuZHMgS2h7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT1RZih0LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTt0aGlzLnZhbHVlPSEhZSYmZS5pcyhcInBhcmFncmFwaFwiKSx0aGlzLmlzRW5hYmxlZD0hIWUmJkJtKGUsdC5zY2hlbWEpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQ7ZS5jaGFuZ2UoaT0+e2NvbnN0IG89KHQuc2VsZWN0aW9ufHxuLnNlbGVjdGlvbikuZ2V0U2VsZWN0ZWRCbG9ja3MoKTtmb3IoY29uc3QgdCBvZiBvKSF0LmlzKFwicGFyYWdyYXBoXCIpJiZCbSh0LGUuc2NoZW1hKSYmaS5yZW5hbWUodCxcInBhcmFncmFwaFwiKX0pfX1mdW5jdGlvbiBCbSh0LGUpe3JldHVybiBlLmNoZWNrQ2hpbGQodC5wYXJlbnQsXCJwYXJhZ3JhcGhcIikmJiFlLmlzT2JqZWN0KHQpfWNsYXNzIExtIGV4dGVuZHMgcWh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJQYXJhZ3JhcGhcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwsbj10LmRhdGE7dC5jb21tYW5kcy5hZGQoXCJwYXJhZ3JhcGhcIixuZXcgRG0odCkpLGUuc2NoZW1hLnJlZ2lzdGVyKFwicGFyYWdyYXBoXCIse2luaGVyaXRBbGxGcm9tOlwiJGJsb2NrXCJ9KSx0LmNvbnZlcnNpb24uZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJwYXJhZ3JhcGhcIix2aWV3OlwicFwifSksbi51cGNhc3REaXNwYXRjaGVyLm9uKFwiZWxlbWVudFwiLCh0LGUsbik9PntpZihuLmNvbnN1bWFibGUudGVzdChlLnZpZXdJdGVtLHtuYW1lOmUudmlld0l0ZW0ubmFtZX0pKWlmKExtLnBhcmFncmFwaExpa2VFbGVtZW50cy5oYXMoZS52aWV3SXRlbS5uYW1lKSl7aWYoZS52aWV3SXRlbS5pc0VtcHR5KXJldHVybjtjb25zdCB0PW4ud3JpdGVyLmNyZWF0ZUVsZW1lbnQoXCJwYXJhZ3JhcGhcIiksaT1uLnNwbGl0VG9BbGxvd2VkUGFyZW50KHQsZS5tb2RlbEN1cnNvcik7aWYoIWkpcmV0dXJuO24ud3JpdGVyLmluc2VydCh0LGkucG9zaXRpb24pO2NvbnN0e21vZGVsUmFuZ2U6b309bi5jb252ZXJ0Q2hpbGRyZW4oZS52aWV3SXRlbSxicy5jcmVhdGVBdCh0KSk7ZS5tb2RlbFJhbmdlPW5ldyB3cyhicy5jcmVhdGVCZWZvcmUodCksby5lbmQpLGUubW9kZWxDdXJzb3I9ZS5tb2RlbFJhbmdlLmVuZH1lbHNlIHptKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcixuLnNjaGVtYSkmJihlPU9iamVjdC5hc3NpZ24oZSxqbShlLnZpZXdJdGVtLGUubW9kZWxDdXJzb3IsbikpKX0se3ByaW9yaXR5OlwibG93XCJ9KSxuLnVwY2FzdERpc3BhdGNoZXIub24oXCJ0ZXh0XCIsKHQsZSxuKT0+e2UubW9kZWxSYW5nZXx8em0oZS52aWV3SXRlbSxlLm1vZGVsQ3Vyc29yLG4uc2NoZW1hKSYmKGU9T2JqZWN0LmFzc2lnbihlLGptKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcixuKSkpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLGUuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIodD0+dGhpcy5fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHModCkpLHQub24oXCJkYXRhUmVhZHlcIiwoKT0+e2UuZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+dGhpcy5fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHModCkpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pfV9hdXRvcGFyYWdyYXBoRW1wdHlSb290cyh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsO2Zvcihjb25zdCBuIG9mIGUuZG9jdW1lbnQuZ2V0Um9vdE5hbWVzKCkpe2NvbnN0IGk9ZS5kb2N1bWVudC5nZXRSb290KG4pO2lmKGkuaXNFbXB0eSYmXCIkZ3JhdmV5YXJkXCIhPWkucm9vdE5hbWUmJmUuc2NoZW1hLmNoZWNrQ2hpbGQoaSxcInBhcmFncmFwaFwiKSlyZXR1cm4gdC5pbnNlcnRFbGVtZW50KFwicGFyYWdyYXBoXCIsaSksITB9fX1mdW5jdGlvbiBqbSh0LGUsbil7Y29uc3QgaT1uLndyaXRlci5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO3JldHVybiBuLndyaXRlci5pbnNlcnQoaSxlKSxuLmNvbnZlcnRJdGVtKHQsYnMuY3JlYXRlQXQoaSkpfWZ1bmN0aW9uIHptKHQsZSxuKXtjb25zdCBpPW5ldyBLcyhlKTtyZXR1cm4hIW4uY2hlY2tDaGlsZChpLFwicGFyYWdyYXBoXCIpJiYhIW4uY2hlY2tDaGlsZChpLnB1c2goXCJwYXJhZ3JhcGhcIiksdCl9TG0ucGFyYWdyYXBoTGlrZUVsZW1lbnRzPW5ldyBTZXQoW1wiYmxvY2txdW90ZVwiLFwiZGRcIixcImRpdlwiLFwiZHRcIixcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIixcImxpXCIsXCJwXCIsXCJ0ZFwiXSk7Y2xhc3MgcW0gZXh0ZW5kcyBLaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMubW9kZWxFbGVtZW50cz1lfXJlZnJlc2goKXtjb25zdCB0PVFmKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTt0aGlzLnZhbHVlPSEhdCYmdGhpcy5tb2RlbEVsZW1lbnRzLmluY2x1ZGVzKHQubmFtZSkmJnQubmFtZSx0aGlzLmlzRW5hYmxlZD0hIXQmJnRoaXMubW9kZWxFbGVtZW50cy5zb21lKGU9PlVtKHQsZSx0aGlzLmVkaXRvci5tb2RlbC5zY2hlbWEpKX1leGVjdXRlKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LGk9dC52YWx1ZTtlLmNoYW5nZSh0PT57Y29uc3Qgbz1BcnJheS5mcm9tKG4uc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpLmZpbHRlcih0PT5VbSh0LGksZS5zY2hlbWEpKTtmb3IoY29uc3QgZSBvZiBvKWUuaXMoaSl8fHQucmVuYW1lKGUsaSl9KX19ZnVuY3Rpb24gVW0odCxlLG4pe3JldHVybiBuLmNoZWNrQ2hpbGQodC5wYXJlbnQsZSkmJiFuLmlzT2JqZWN0KHQpfWNvbnN0IEhtPVwicGFyYWdyYXBoXCI7Y2xhc3MgV20gZXh0ZW5kcyBxaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0LmNvbmZpZy5kZWZpbmUoXCJoZWFkaW5nXCIse29wdGlvbnM6W3ttb2RlbDpcInBhcmFncmFwaFwiLHRpdGxlOlwiUGFyYWdyYXBoXCIsY2xhc3M6XCJwXCJ9LHttb2RlbDpcImhlYWRpbmcxXCIsdmlldzpcImgyXCIsdGl0bGU6XCJIZWFkaW5nIDFcIixjbGFzczpcImgyXCJ9LHttb2RlbDpcImhlYWRpbmcyXCIsdmlldzpcImgzXCIsdGl0bGU6XCJIZWFkaW5nIDJcIixjbGFzczpcImgzXCJ9LHttb2RlbDpcImhlYWRpbmczXCIsdmlldzpcImg0XCIsdGl0bGU6XCJIZWFkaW5nIDNcIixjbGFzczpcImg0XCJ9XX0pfXN0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bTG1dfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5jb25maWcuZ2V0KFwiaGVhZGluZy5vcHRpb25zXCIpLG49W107Zm9yKGNvbnN0IGkgb2YgZSlpLm1vZGVsIT09SG0mJih0Lm1vZGVsLnNjaGVtYS5yZWdpc3RlcihpLm1vZGVsLHtpbmhlcml0QWxsRnJvbTpcIiRibG9ja1wifSksdC5jb252ZXJzaW9uLmVsZW1lbnRUb0VsZW1lbnQoaSksbi5wdXNoKGkubW9kZWwpKTt0LmNvbW1hbmRzLmFkZChcImhlYWRpbmdcIixuZXcgcW0odCxuKSl9YWZ0ZXJJbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuY29tbWFuZHMuZ2V0KFwiZW50ZXJcIiksbj10LmNvbmZpZy5nZXQoXCJoZWFkaW5nLm9wdGlvbnNcIik7ZSYmdGhpcy5saXN0ZW5UbyhlLFwiYWZ0ZXJFeGVjdXRlXCIsKGUsaSk9Pntjb25zdCBvPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQ7bi5zb21lKHQ9Pm8uaXModC5tb2RlbCkpJiYhby5pcyhIbSkmJjA9PT1vLmNoaWxkQ291bnQmJmkud3JpdGVyLnJlbmFtZShvLEhtKX0pfX1jbGFzcyAkbXtjb25zdHJ1Y3Rvcih0LGUpe2UmJmJpKHRoaXMsZSksdCYmdGhpcy5zZXQodCl9fVAoJG0seWkpO2NsYXNzIEttIGV4dGVuZHMgVGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldChcImlzVmlzaWJsZVwiLCExKSx0aGlzLmNoaWxkcmVuPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1yZXNldFwiLFwiY2stZHJvcGRvd25fX3BhbmVsXCIsZS5pZihcImlzVmlzaWJsZVwiLFwiY2stZHJvcGRvd25fX3BhbmVsLXZpc2libGVcIildfSxjaGlsZHJlbjp0aGlzLmNoaWxkcmVuLG9uOntzZWxlY3RzdGFydDplLnRvKHQ9PnQucHJldmVudERlZmF1bHQoKSl9fSl9Zm9jdXMoKXt0aGlzLmNoaWxkcmVuLmxlbmd0aCYmdGhpcy5jaGlsZHJlbi5maXJzdC5mb2N1cygpfWZvY3VzTGFzdCgpe2lmKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKXtjb25zdCB0PXRoaXMuY2hpbGRyZW4ubGFzdDtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZvY3VzTGFzdD90LmZvY3VzTGFzdCgpOnQuZm9jdXMoKX19fW4oNzYpO2NsYXNzIEdtIGV4dGVuZHMgVGh7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpO2NvbnN0IGk9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5idXR0b25WaWV3PWUsdGhpcy5wYW5lbFZpZXc9bix0aGlzLnNldChcImlzT3BlblwiLCExKSx0aGlzLnNldChcImlzRW5hYmxlZFwiLCEwKSx0aGlzLmZvY3VzVHJhY2tlcj1uZXcgbmgsdGhpcy5rZXlzdHJva2VzPW5ldyBLdSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stZHJvcGRvd25cIixpLmlmKFwiaXNFbmFibGVkXCIsXCJjay1kaXNhYmxlZFwiLHQ9PiF0KV19LGNoaWxkcmVuOltlLG5dfSksZS5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6W1wiY2stZHJvcGRvd25fX2J1dHRvblwiXX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmxpc3RlblRvKHRoaXMuYnV0dG9uVmlldyxcIm9wZW5cIiwoKT0+e3RoaXMuaXNPcGVuPSF0aGlzLmlzT3Blbn0pLHRoaXMucGFuZWxWaWV3LmJpbmQoXCJpc1Zpc2libGVcIikudG8odGhpcyxcImlzT3BlblwiKSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KSx0aGlzLmZvY3VzVHJhY2tlci5hZGQodGhpcy5lbGVtZW50KTtjb25zdCB0PSh0LGUpPT57dGhpcy5pc09wZW4mJih0aGlzLmJ1dHRvblZpZXcuZm9jdXMoKSx0aGlzLmlzT3Blbj0hMSxlKCkpfTt0aGlzLmtleXN0cm9rZXMuc2V0KFwiYXJyb3dkb3duXCIsKHQsZSk9Pnt0aGlzLmJ1dHRvblZpZXcuaXNFbmFibGVkJiYhdGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMCxlKCkpfSksdGhpcy5rZXlzdHJva2VzLnNldChcImFycm93cmlnaHRcIiwodCxlKT0+e3RoaXMuaXNPcGVuJiZlKCl9KSx0aGlzLmtleXN0cm9rZXMuc2V0KFwiYXJyb3dsZWZ0XCIsdCksdGhpcy5rZXlzdHJva2VzLnNldChcImVzY1wiLHQpfWZvY3VzKCl7dGhpcy5idXR0b25WaWV3LmZvY3VzKCl9fXZhciBKbT1uKDI2KSxRbT1uLm4oSm0pO2NsYXNzIFltIGV4dGVuZHMgU2Z7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5hcnJvd1ZpZXc9dGhpcy5fY3JlYXRlQXJyb3dWaWV3KCksdGhpcy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7XCJhcmlhLWhhc3BvcHVwXCI6ITB9fSksdGhpcy5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxcIm9wZW5cIil9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5jaGlsZHJlbi5hZGQodGhpcy5hcnJvd1ZpZXcpfV9jcmVhdGVBcnJvd1ZpZXcoKXtjb25zdCB0PW5ldyBUZjtyZXR1cm4gdC5jb250ZW50PVFtLmEsdC5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6XCJjay1kcm9wZG93bl9fYXJyb3dcIn19KSx0fX1uKDc4KTtjbGFzcyBYbSBleHRlbmRzIFRoe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLml0ZW1zPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBuaCx0aGlzLmtleXN0cm9rZXM9bmV3IEt1LHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBGaCh7Zm9jdXNhYmxlczp0aGlzLml0ZW1zLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwiYXJyb3d1cFwiLGZvY3VzTmV4dDpcImFycm93ZG93blwifX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInVsXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXJlc2V0XCIsXCJjay1saXN0XCJdfSxjaGlsZHJlbjp0aGlzLml0ZW1zfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5pdGVtcyl0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KTt0aGlzLml0ZW1zLm9uKFwiYWRkXCIsKHQsZSk9Pnt0aGlzLmZvY3VzVHJhY2tlci5hZGQoZS5lbGVtZW50KX0pLHRoaXMuaXRlbXMub24oXCJyZW1vdmVcIiwodCxlKT0+e3RoaXMuZm9jdXNUcmFja2VyLnJlbW92ZShlLmVsZW1lbnQpfSksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCl9Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9Zm9jdXNMYXN0KCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNMYXN0KCl9fWNsYXNzIFptIGV4dGVuZHMgVGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJsaVwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1saXN0X19pdGVtXCJdfSxjaGlsZHJlbjp0aGlzLmNoaWxkcmVufSl9Zm9jdXMoKXt0aGlzLmNoaWxkcmVuLmZpcnN0LmZvY3VzKCl9fWNsYXNzIHRnIGV4dGVuZHMgVGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwibGlcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGlzdF9fc2VwYXJhdG9yXCJdfX0pfX1uKDgwKTtjbGFzcyBlZyBleHRlbmRzIFNme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMudG9nZ2xlU3dpdGNoVmlldz10aGlzLl9jcmVhdGVUb2dnbGVWaWV3KCksdGhpcy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6XCJjay1zd2l0Y2hidXR0b25cIn19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmNoaWxkcmVuLmFkZCh0aGlzLnRvZ2dsZVN3aXRjaFZpZXcpfV9jcmVhdGVUb2dnbGVWaWV3KCl7Y29uc3QgdD1uZXcgVGg7cmV0dXJuIHQuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stYnV0dG9uX190b2dnbGVcIl19LGNoaWxkcmVuOlt7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1idXR0b25fX3RvZ2dsZV9faW5uZXJcIl19fV19KSx0fX1uKDgyKSxuKDg0KTtmdW5jdGlvbiBuZyh0LGU9WW0pe2NvbnN0IG49bmV3IGUodCksaT1uZXcgS20odCksbz1uZXcgR20odCxuLGkpO3JldHVybiBuLmJpbmQoXCJpc0VuYWJsZWRcIikudG8obyksbiBpbnN0YW5jZW9mIFltP24uYmluZChcImlzT25cIikudG8obyxcImlzT3BlblwiKTpuLmFycm93Vmlldy5iaW5kKFwiaXNPblwiKS50byhvLFwiaXNPcGVuXCIpLGZ1bmN0aW9uKHQpeyhmdW5jdGlvbih0KXt0Lm9uKFwicmVuZGVyXCIsKCk9PntIcCh7ZW1pdHRlcjp0LGFjdGl2YXRvcjooKT0+dC5pc09wZW4sY2FsbGJhY2s6KCk9Pnt0LmlzT3Blbj0hMX0sY29udGV4dEVsZW1lbnRzOlt0LmVsZW1lbnRdfSl9KX0pKHQpLGZ1bmN0aW9uKHQpe3Qub24oXCJleGVjdXRlXCIsZT0+e2Uuc291cmNlIGluc3RhbmNlb2YgZWd8fCh0LmlzT3Blbj0hMSl9KX0odCksZnVuY3Rpb24odCl7dC5rZXlzdHJva2VzLnNldChcImFycm93ZG93blwiLChlLG4pPT57dC5pc09wZW4mJih0LnBhbmVsVmlldy5mb2N1cygpLG4oKSl9KSx0LmtleXN0cm9rZXMuc2V0KFwiYXJyb3d1cFwiLChlLG4pPT57dC5pc09wZW4mJih0LnBhbmVsVmlldy5mb2N1c0xhc3QoKSxuKCkpfSl9KHQpfShvKSxvfWZ1bmN0aW9uIGlnKHQpe2NvbnN0IGU9dC50LG49e1BhcmFncmFwaDplKFwiZFwiKSxcIkhlYWRpbmcgMVwiOmUoXCJrXCIpLFwiSGVhZGluZyAyXCI6ZShcImxcIiksXCJIZWFkaW5nIDNcIjplKFwibVwiKX07cmV0dXJuIHQuY29uZmlnLmdldChcImhlYWRpbmcub3B0aW9uc1wiKS5tYXAodD0+e2NvbnN0IGU9blt0LnRpdGxlXTtyZXR1cm4gZSYmZSE9dC50aXRsZSYmKHQ9T2JqZWN0LmFzc2lnbih7fSx0LHt0aXRsZTplfSkpLHR9KX1jbGFzcyBvZyBleHRlbmRzIHFoe2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC50LG49aWcodCksaT1lKFwiaVwiKSxvPWUoXCJqXCIpO3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJoZWFkaW5nXCIsZT0+e2NvbnN0IHI9e30scz1uZXcgTGksYT10LmNvbW1hbmRzLmdldChcImhlYWRpbmdcIiksYz10LmNvbW1hbmRzLmdldChcInBhcmFncmFwaFwiKSxsPVthXTtmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBlPXt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6bmV3ICRtKHtsYWJlbDp0LnRpdGxlLGNsYXNzOnQuY2xhc3Msd2l0aFRleHQ6ITB9KX07XCJwYXJhZ3JhcGhcIj09PXQubW9kZWw/KGUubW9kZWwuYmluZChcImlzT25cIikudG8oYyxcInZhbHVlXCIpLGUubW9kZWwuc2V0KFwiY29tbWFuZE5hbWVcIixcInBhcmFncmFwaFwiKSxsLnB1c2goYykpOihlLm1vZGVsLmJpbmQoXCJpc09uXCIpLnRvKGEsXCJ2YWx1ZVwiLGU9PmU9PT10Lm1vZGVsKSxlLm1vZGVsLnNldCh7Y29tbWFuZE5hbWU6XCJoZWFkaW5nXCIsY29tbWFuZFZhbHVlOnQubW9kZWx9KSkscy5hZGQoZSksclt0Lm1vZGVsXT10LnRpdGxlfWNvbnN0IGQ9bmcoZSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmxvY2FsZSxpPXQubGlzdFZpZXc9bmV3IFhtKG4pO2kuaXRlbXMuYmluZFRvKGUpLnVzaW5nKCh7dHlwZTp0LG1vZGVsOmV9KT0+e2lmKFwic2VwYXJhdG9yXCI9PT10KXJldHVybiBuZXcgdGcobik7aWYoXCJidXR0b25cIj09PXR8fFwic3dpdGNoYnV0dG9uXCI9PT10KXtjb25zdCBpPW5ldyBabShuKTtsZXQgbztyZXR1cm4obz1cImJ1dHRvblwiPT09dD9uZXcgU2Yobik6bmV3IGVnKG4pKS5iaW5kKC4uLk9iamVjdC5rZXlzKGUpKS50byhlKSxvLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byhpKSxpLmNoaWxkcmVuLmFkZChvKSxpfX0pLHQucGFuZWxWaWV3LmNoaWxkcmVuLmFkZChpKSxpLml0ZW1zLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byh0KX0oZCxzKSxkLmJ1dHRvblZpZXcuc2V0KHtpc09uOiExLHdpdGhUZXh0OiEwLHRvb2x0aXA6b30pLGQuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWhlYWRpbmctZHJvcGRvd25cIl19fSksZC5iaW5kKFwiaXNFbmFibGVkXCIpLnRvTWFueShsLFwiaXNFbmFibGVkXCIsKC4uLnQpPT50LnNvbWUodD0+dCkpLGQuYnV0dG9uVmlldy5iaW5kKFwibGFiZWxcIikudG8oYSxcInZhbHVlXCIsYyxcInZhbHVlXCIsKHQsZSk9Pntjb25zdCBuPXR8fGUmJlwicGFyYWdyYXBoXCI7cmV0dXJuIHJbbl0/cltuXTppfSksdGhpcy5saXN0ZW5UbyhkLFwiZXhlY3V0ZVwiLGU9Pnt0LmV4ZWN1dGUoZS5zb3VyY2UuY29tbWFuZE5hbWUsZS5zb3VyY2UuY29tbWFuZFZhbHVlP3t2YWx1ZTplLnNvdXJjZS5jb21tYW5kVmFsdWV9OnZvaWQgMCksdC5lZGl0aW5nLnZpZXcuZm9jdXMoKX0pLGR9KX19big4Nik7Y29uc3Qgcmc9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gc2codCxlLG4saSl7Y29uc3Qgbz10LmRvY3VtZW50O3JnLmhhcyhvKXx8KHJnLnNldChvLG5ldyBNYXApLG8ucmVnaXN0ZXJQb3N0Rml4ZXIodD0+KGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1yZy5nZXQodCk7bGV0IGk9ITE7Zm9yKGNvbnN0W3Qsb11vZiBuKWFnKGUsdCxvKSYmKGk9ITApO3JldHVybiBpfSkobyx0KSkpLHJnLmdldChvKS5zZXQoZSx7cGxhY2Vob2xkZXJUZXh0Om4sY2hlY2tGdW5jdGlvbjppfSksdC5yZW5kZXIoKX1mdW5jdGlvbiBhZyh0LGUsbil7Y29uc3QgaT1lLmRvY3VtZW50LG89bi5wbGFjZWhvbGRlclRleHQ7bGV0IHI9ITE7aWYoIWkpcmV0dXJuITE7ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIpIT09byYmKHQuc2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiLG8sZSkscj0hMCk7Y29uc3Qgcz1pLnNlbGVjdGlvbi5hbmNob3IsYT1uLmNoZWNrRnVuY3Rpb247aWYoYSYmIWEoKSlyZXR1cm4gZS5oYXNDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIpJiYodC5yZW1vdmVDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIsZSkscj0hMCkscjtjb25zdCBjPSFBcnJheS5mcm9tKGUuZ2V0Q2hpbGRyZW4oKSkuc29tZSh0PT4hdC5pcyhcInVpRWxlbWVudFwiKSk7cmV0dXJuIWkuaXNGb2N1c2VkJiZjPyhlLmhhc0NsYXNzKFwiY2stcGxhY2Vob2xkZXJcIil8fCh0LmFkZENsYXNzKFwiY2stcGxhY2Vob2xkZXJcIixlKSxyPSEwKSxyKTooYyYmcyYmcy5wYXJlbnQhPT1lP2UuaGFzQ2xhc3MoXCJjay1wbGFjZWhvbGRlclwiKXx8KHQuYWRkQ2xhc3MoXCJjay1wbGFjZWhvbGRlclwiLGUpLHI9ITApOmUuaGFzQ2xhc3MoXCJjay1wbGFjZWhvbGRlclwiKSYmKHQucmVtb3ZlQ2xhc3MoXCJjay1wbGFjZWhvbGRlclwiLGUpLHI9ITApLHIpfWNvbnN0IGNnPVN5bWJvbChcImltYWdlQ2FwdGlvblwiKTtmdW5jdGlvbiBsZyh0LGUpe3JldHVybiBuPT57Y29uc3QgaT1uLmNyZWF0ZUVkaXRhYmxlRWxlbWVudChcImZpZ2NhcHRpb25cIik7cmV0dXJuIG4uc2V0Q3VzdG9tUHJvcGVydHkoY2csITAsaSksc2codCxpLGUpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuYWRkQ2xhc3MoW1wiY2stZWRpdG9yX19lZGl0YWJsZVwiLFwiY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVcIl0sdCksR2kuaXNFZGdlfHwoZS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIix0LmlzUmVhZE9ubHk/XCJmYWxzZVwiOlwidHJ1ZVwiLHQpLHQub24oXCJjaGFuZ2U6aXNSZWFkT25seVwiLChuLGksbyk9PntlLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLG8/XCJmYWxzZVwiOlwidHJ1ZVwiLHQpfSkpLHQub24oXCJjaGFuZ2U6aXNGb2N1c2VkXCIsKG4saSxvKT0+e28/ZS5hZGRDbGFzcyhcImNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlX2ZvY3VzZWRcIix0KTplLnJlbW92ZUNsYXNzKFwiY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZFwiLHQpfSksdH0oaSxuKX19ZnVuY3Rpb24gZGcodCl7Zm9yKGNvbnN0IGUgb2YgdC5nZXRDaGlsZHJlbigpKWlmKGUgaW5zdGFuY2VvZiBmcyYmXCJjYXB0aW9uXCI9PWUubmFtZSlyZXR1cm4gZTtyZXR1cm4gbnVsbH1mdW5jdGlvbiB1Zyh0KXtjb25zdCBlPXQucGFyZW50O3JldHVyblwiZmlnY2FwdGlvblwiPT10Lm5hbWUmJmUmJlwiZmlndXJlXCI9PWUubmFtZSYmZS5oYXNDbGFzcyhcImltYWdlXCIpP3tuYW1lOiEwfTpudWxsfWNsYXNzIGhnIGV4dGVuZHMgcWh7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldyxuPXQubW9kZWwuc2NoZW1hLGk9dC5kYXRhLG89dC5lZGl0aW5nLHI9dC50O24ucmVnaXN0ZXIoXCJjYXB0aW9uXCIse2FsbG93SW46XCJpbWFnZVwiLGFsbG93Q29udGVudE9mOlwiJGJsb2NrXCIsaXNMaW1pdDohMH0pLHQubW9kZWwuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIodD0+dGhpcy5faW5zZXJ0TWlzc2luZ01vZGVsQ2FwdGlvbkVsZW1lbnQodCkpLHQuY29udmVyc2lvbi5mb3IoXCJ1cGNhc3RcIikuYWRkKHJhKHt2aWV3OnVnLG1vZGVsOlwiY2FwdGlvblwifSkpO2kuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiaW5zZXJ0OmNhcHRpb25cIixmZyh0PT50LmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoXCJmaWdjYXB0aW9uXCIpLCExKSk7Y29uc3Qgcz1sZyhlLHIoXCJ2XCIpKTtvLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydDpjYXB0aW9uXCIsZmcocykpLG8uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiaW5zZXJ0XCIsdGhpcy5fZml4Q2FwdGlvblZpc2liaWxpdHkodD0+dC5pdGVtKSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSxvLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcInJlbW92ZVwiLHRoaXMuX2ZpeENhcHRpb25WaXNpYmlsaXR5KHQ9PnQucG9zaXRpb24ucGFyZW50KSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSxlLmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKHQ9PnRoaXMuX3VwZGF0ZUNhcHRpb25WaXNpYmlsaXR5KHQpKX1fdXBkYXRlQ2FwdGlvblZpc2liaWxpdHkodCl7Y29uc3QgZT10aGlzLmVkaXRvci5lZGl0aW5nLm1hcHBlcixuPXRoaXMuX2xhc3RTZWxlY3RlZENhcHRpb247bGV0IGk7Y29uc3Qgbz10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24scj1vLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKHImJnIuaXMoXCJpbWFnZVwiKSl7Y29uc3QgdD1kZyhyKTtpPWUudG9WaWV3RWxlbWVudCh0KX1jb25zdCBzPXBnKG8uZ2V0Rmlyc3RQb3NpdGlvbigpLnBhcmVudCk7aWYocyYmKGk9ZS50b1ZpZXdFbGVtZW50KHMpKSxpKXJldHVybiBuP249PT1pP2dnKGksdCk6KG1nKG4sdCksdGhpcy5fbGFzdFNlbGVjdGVkQ2FwdGlvbj1pLGdnKGksdCkpOih0aGlzLl9sYXN0U2VsZWN0ZWRDYXB0aW9uPWksZ2coaSx0KSk7aWYobil7Y29uc3QgZT1tZyhuLHQpO3JldHVybiB0aGlzLl9sYXN0U2VsZWN0ZWRDYXB0aW9uPW51bGwsZX1yZXR1cm4hMX1fZml4Q2FwdGlvblZpc2liaWxpdHkodCl7cmV0dXJuKGUsbixpKT0+e2NvbnN0IG89cGcodChuKSkscj10aGlzLmVkaXRvci5lZGl0aW5nLm1hcHBlcixzPWkud3JpdGVyO2lmKG8pe2NvbnN0IHQ9ci50b1ZpZXdFbGVtZW50KG8pO3QmJihvLmNoaWxkQ291bnQ/cy5yZW1vdmVDbGFzcyhcImNrLWhpZGRlblwiLHQpOnMuYWRkQ2xhc3MoXCJjay1oaWRkZW5cIix0KSl9fX1faW5zZXJ0TWlzc2luZ01vZGVsQ2FwdGlvbkVsZW1lbnQodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpO2Zvcihjb25zdCBuIG9mIGUpaWYoXCJpbnNlcnRcIj09bi50eXBlJiZcImltYWdlXCI9PW4ubmFtZSl7Y29uc3QgZT1uLnBvc2l0aW9uLm5vZGVBZnRlcjtpZighZGcoZSkpcmV0dXJuIHQuYXBwZW5kRWxlbWVudChcImNhcHRpb25cIixlKSwhMH19fWZ1bmN0aW9uIGZnKHQsZT0hMCl7cmV0dXJuKG4saSxvKT0+e2NvbnN0IHI9aS5pdGVtO2lmKChyLmNoaWxkQ291bnR8fGUpJiZOcChyLnBhcmVudCkpe2lmKCFvLmNvbnN1bWFibGUuY29uc3VtZShpLml0ZW0sXCJpbnNlcnRcIikpcmV0dXJuO2NvbnN0IGU9by5tYXBwZXIudG9WaWV3RWxlbWVudChpLnJhbmdlLnN0YXJ0LnBhcmVudCksbj10KG8ud3JpdGVyKSxzPW8ud3JpdGVyO3IuY2hpbGRDb3VudHx8cy5hZGRDbGFzcyhcImNrLWhpZGRlblwiLG4pLGZ1bmN0aW9uKHQsZSxuLGkpe2NvbnN0IG89VmkuY3JlYXRlQXQobixcImVuZFwiKTtpLndyaXRlci5pbnNlcnQobyx0KSxpLm1hcHBlci5iaW5kRWxlbWVudHMoZSx0KX0obixpLml0ZW0sZSxvKX19fWZ1bmN0aW9uIHBnKHQpe2NvbnN0IGU9dC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSkuZmluZCh0PT5cImNhcHRpb25cIj09dC5uYW1lKTtyZXR1cm4gZSYmZS5wYXJlbnQmJlwiaW1hZ2VcIj09ZS5wYXJlbnQubmFtZT9lOm51bGx9ZnVuY3Rpb24gbWcodCxlKXtyZXR1cm4hdC5jaGlsZENvdW50JiYhdC5oYXNDbGFzcyhcImNrLWhpZGRlblwiKSYmKGUuYWRkQ2xhc3MoXCJjay1oaWRkZW5cIix0KSwhMCl9ZnVuY3Rpb24gZ2codCxlKXtyZXR1cm4hIXQuaGFzQ2xhc3MoXCJjay1oaWRkZW5cIikmJihlLnJlbW92ZUNsYXNzKFwiY2staGlkZGVuXCIsdCksITApfWNsYXNzIGJnIGV4dGVuZHMgS2h7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLl9kZWZhdWx0U3R5bGU9ITEsdGhpcy5zdHlsZXM9ZS5yZWR1Y2UoKHQsZSk9Pih0W2UubmFtZV09ZSxlLmlzRGVmYXVsdCYmKHRoaXMuX2RlZmF1bHRTdHlsZT1lLm5hbWUpLHQpLHt9KX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYodGhpcy5pc0VuYWJsZWQ9TnAodCksdClpZih0Lmhhc0F0dHJpYnV0ZShcImltYWdlU3R5bGVcIikpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoXCJpbWFnZVN0eWxlXCIpO3RoaXMudmFsdWU9ISF0aGlzLnN0eWxlc1tlXSYmZX1lbHNlIHRoaXMudmFsdWU9dGhpcy5fZGVmYXVsdFN0eWxlO2Vsc2UgdGhpcy52YWx1ZT0hMX1leGVjdXRlKHQpe2NvbnN0IGU9dC52YWx1ZSxuPXRoaXMuZWRpdG9yLm1vZGVsLGk9bi5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7bi5jaGFuZ2UodD0+e3RoaXMuc3R5bGVzW2VdLmlzRGVmYXVsdD90LnJlbW92ZUF0dHJpYnV0ZShcImltYWdlU3R5bGVcIixpKTp0LnNldEF0dHJpYnV0ZShcImltYWdlU3R5bGVcIixlLGkpfSl9fWZ1bmN0aW9uIHdnKHQsZSl7Zm9yKGNvbnN0IG4gb2YgZSlpZihuLm5hbWU9PT10KXJldHVybiBufXZhciB2Zz1uKDkpLF9nPW4ubih2Zyksa2c9bigxMCkseWc9bi5uKGtnKSx4Zz1uKDExKSxBZz1uLm4oeGcpLENnPW4oNyksVGc9bi5uKENnKTtjb25zdCBTZz17ZnVsbDp7bmFtZTpcImZ1bGxcIix0aXRsZTpcIkZ1bGwgc2l6ZSBpbWFnZVwiLGljb246X2cuYSxpc0RlZmF1bHQ6ITB9LHNpZGU6e25hbWU6XCJzaWRlXCIsdGl0bGU6XCJTaWRlIGltYWdlXCIsaWNvbjpUZy5hLGNsYXNzTmFtZTpcImltYWdlLXN0eWxlLXNpZGVcIn0sYWxpZ25MZWZ0OntuYW1lOlwiYWxpZ25MZWZ0XCIsdGl0bGU6XCJMZWZ0IGFsaWduZWQgaW1hZ2VcIixpY29uOnlnLmEsY2xhc3NOYW1lOlwiaW1hZ2Utc3R5bGUtYWxpZ24tbGVmdFwifSxhbGlnbkNlbnRlcjp7bmFtZTpcImFsaWduQ2VudGVyXCIsdGl0bGU6XCJDZW50ZXJlZCBpbWFnZVwiLGljb246QWcuYSxjbGFzc05hbWU6XCJpbWFnZS1zdHlsZS1hbGlnbi1jZW50ZXJcIn0sYWxpZ25SaWdodDp7bmFtZTpcImFsaWduUmlnaHRcIix0aXRsZTpcIlJpZ2h0IGFsaWduZWQgaW1hZ2VcIixpY29uOlRnLmEsY2xhc3NOYW1lOlwiaW1hZ2Utc3R5bGUtYWxpZ24tcmlnaHRcIn19LEVnPXtmdWxsOl9nLmEsbGVmdDp5Zy5hLHJpZ2h0OlRnLmEsY2VudGVyOkFnLmF9O2Z1bmN0aW9uIFBnKHQ9W10pe3JldHVybiB0Lm1hcChPZykubWFwKHQ9Pk9iamVjdC5hc3NpZ24oe30sdCkpfWZ1bmN0aW9uIE9nKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdCBlPXQ7U2dbZV0/dD1PYmplY3QuYXNzaWduKHt9LFNnW2VdKTooenIuYS53YXJuKFwiaW1hZ2Utc3R5bGUtbm90LWZvdW5kOiBUaGVyZSBpcyBubyBzdWNoIGltYWdlIHN0eWxlIG9mIGdpdmVuIG5hbWUuXCIse25hbWU6ZX0pLHQ9e25hbWU6ZX0pfWVsc2UgaWYoU2dbdC5uYW1lXSl7Y29uc3QgZT1TZ1t0Lm5hbWVdLG49T2JqZWN0LmFzc2lnbih7fSx0KTtmb3IoY29uc3QgaSBpbiBlKXQuaGFzT3duUHJvcGVydHkoaSl8fChuW2ldPWVbaV0pO3Q9bn1yZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdC5pY29uJiZFZ1t0Lmljb25dJiYodC5pY29uPUVnW3QuaWNvbl0pLHR9Y2xhc3MgUmcgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0RwXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlU3R5bGVFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLnNjaGVtYSxuPXQuZGF0YSxpPXQuZWRpdGluZzt0LmNvbmZpZy5kZWZpbmUoXCJpbWFnZS5zdHlsZXNcIixbXCJmdWxsXCIsXCJzaWRlXCJdKTtjb25zdCBvPVBnKHQuY29uZmlnLmdldChcImltYWdlLnN0eWxlc1wiKSk7ZS5leHRlbmQoXCJpbWFnZVwiLHthbGxvd0F0dHJpYnV0ZXM6XCJpbWFnZVN0eWxlXCJ9KTtjb25zdCByPWZ1bmN0aW9uKHQpe3JldHVybihlLG4saSk9PntpZighaS5jb25zdW1hYmxlLmNvbnN1bWUobi5pdGVtLGUubmFtZSkpcmV0dXJuO2NvbnN0IG89d2cobi5hdHRyaWJ1dGVOZXdWYWx1ZSx0KSxyPXdnKG4uYXR0cmlidXRlT2xkVmFsdWUsdCkscz1pLm1hcHBlci50b1ZpZXdFbGVtZW50KG4uaXRlbSksYT1pLndyaXRlcjtyJiZhLnJlbW92ZUNsYXNzKHIuY2xhc3NOYW1lLHMpLG8mJmEuYWRkQ2xhc3Moby5jbGFzc05hbWUscyl9fShvKTtpLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImF0dHJpYnV0ZTppbWFnZVN0eWxlOmltYWdlXCIsciksbi5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6aW1hZ2VTdHlsZTppbWFnZVwiLHIpLG4udXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnQ6ZmlndXJlXCIsZnVuY3Rpb24odCl7Y29uc3QgZT10LmZpbHRlcih0PT4hdC5pc0RlZmF1bHQpO3JldHVybih0LG4saSk9PntpZighbi5tb2RlbFJhbmdlKXJldHVybjtjb25zdCBvPW4udmlld0l0ZW0scj1RZihuLm1vZGVsUmFuZ2UuZ2V0SXRlbXMoKSk7aWYoaS5zY2hlbWEuY2hlY2tBdHRyaWJ1dGUocixcImltYWdlU3R5bGVcIikpZm9yKGNvbnN0IHQgb2YgZSlpLmNvbnN1bWFibGUuY29uc3VtZShvLHtjbGFzc2VzOnQuY2xhc3NOYW1lfSkmJmkud3JpdGVyLnNldEF0dHJpYnV0ZShcImltYWdlU3R5bGVcIix0Lm5hbWUscil9fShvKSx7cHJpb3JpdHk6XCJsb3dcIn0pLHQuY29tbWFuZHMuYWRkKFwiaW1hZ2VTdHlsZVwiLG5ldyBiZyh0LG8pKX19big4OCk7Y2xhc3MgSWcgZXh0ZW5kcyBxaHtnZXQgbG9jYWxpemVkRGVmYXVsdFN0eWxlc1RpdGxlcygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IudDtyZXR1cm57XCJGdWxsIHNpemUgaW1hZ2VcIjp0KFwib1wiKSxcIlNpZGUgaW1hZ2VcIjp0KFwicFwiKSxcIkxlZnQgYWxpZ25lZCBpbWFnZVwiOnQoXCJxXCIpLFwiQ2VudGVyZWQgaW1hZ2VcIjp0KFwiclwiKSxcIlJpZ2h0IGFsaWduZWQgaW1hZ2VcIjp0KFwic1wiKX19aW5pdCgpe2NvbnN0IHQ9ZnVuY3Rpb24odCxlKXtmb3IoY29uc3QgbiBvZiB0KWVbbi50aXRsZV0mJihuLnRpdGxlPWVbbi50aXRsZV0pO3JldHVybiB0fShQZyh0aGlzLmVkaXRvci5jb25maWcuZ2V0KFwiaW1hZ2Uuc3R5bGVzXCIpKSx0aGlzLmxvY2FsaXplZERlZmF1bHRTdHlsZXNUaXRsZXMpO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fY3JlYXRlQnV0dG9uKGUpfV9jcmVhdGVCdXR0b24odCl7Y29uc3QgZT10aGlzLmVkaXRvcixuPWBpbWFnZVN0eWxlOiR7dC5uYW1lfWA7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZChuLG49Pntjb25zdCBpPWUuY29tbWFuZHMuZ2V0KFwiaW1hZ2VTdHlsZVwiKSxvPW5ldyBTZihuKTtyZXR1cm4gby5zZXQoe2xhYmVsOnQudGl0bGUsaWNvbjp0Lmljb24sdG9vbHRpcDohMH0pLG8uYmluZChcImlzRW5hYmxlZFwiKS50byhpLFwiaXNFbmFibGVkXCIpLG8uYmluZChcImlzT25cIikudG8oaSxcInZhbHVlXCIsZT0+ZT09PXQubmFtZSksdGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT5lLmV4ZWN1dGUoXCJpbWFnZVN0eWxlXCIse3ZhbHVlOnQubmFtZX0pKSxvfSl9fWNvbnN0IFZnPVwiY2stdG9vbGJhci1jb250YWluZXJcIjtmdW5jdGlvbiBNZyh0LGUpe3JldHVybiBuZXcgd3MoRmcodCxlLCEwKSxGZyh0LGUsITEpKX1mdW5jdGlvbiBGZyh0LGUsbil7bGV0IGk9dC50ZXh0Tm9kZXx8KG4/dC5ub2RlQmVmb3JlOnQubm9kZUFmdGVyKSxvPW51bGw7Zm9yKDtpJiZpLmdldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIpPT1lOylvPWksaT1uP2kucHJldmlvdXNTaWJsaW5nOmkubmV4dFNpYmxpbmc7cmV0dXJuIG8/YnMuY3JlYXRlQXQobyxuP1wiYmVmb3JlXCI6XCJhZnRlclwiKTp0fWNsYXNzIE5nIGV4dGVuZHMgS2h7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O3RoaXMudmFsdWU9ZS5zZWxlY3Rpb24uZ2V0QXR0cmlidXRlKFwibGlua0hyZWZcIiksdGhpcy5pc0VuYWJsZWQ9dC5zY2hlbWEuY2hlY2tBdHRyaWJ1dGVJblNlbGVjdGlvbihlLnNlbGVjdGlvbixcImxpbmtIcmVmXCIpfWV4ZWN1dGUodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uO2UuY2hhbmdlKGk9PntpZihuLmlzQ29sbGFwc2VkKXtjb25zdCBlPW4uZ2V0Rmlyc3RQb3NpdGlvbigpO2lmKG4uaGFzQXR0cmlidXRlKFwibGlua0hyZWZcIikpe2NvbnN0IGU9TWcobi5nZXRGaXJzdFBvc2l0aW9uKCksbi5nZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSk7aS5zZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiLHQsZSksaS5zZXRTZWxlY3Rpb24oZSl9ZWxzZSBpZihcIlwiIT09dCl7Y29uc3Qgbz1jcyhuLmdldEF0dHJpYnV0ZXMoKSk7by5zZXQoXCJsaW5rSHJlZlwiLHQpO2NvbnN0IHI9aS5jcmVhdGVUZXh0KHQsbyk7aS5pbnNlcnQocixlKSxpLnNldFNlbGVjdGlvbih3cy5jcmVhdGVPbihyKSl9fWVsc2V7Y29uc3Qgbz1lLnNjaGVtYS5nZXRWYWxpZFJhbmdlcyhuLmdldFJhbmdlcygpLFwibGlua0hyZWZcIik7Zm9yKGNvbnN0IGUgb2YgbylpLnNldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIsdCxlKX19KX19Y2xhc3MgRGcgZXh0ZW5kcyBLaHtyZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmhhc0F0dHJpYnV0ZShcImxpbmtIcmVmXCIpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudC5zZWxlY3Rpb247dC5jaGFuZ2UodD0+e2NvbnN0IG49ZS5pc0NvbGxhcHNlZD9bTWcoZS5nZXRGaXJzdFBvc2l0aW9uKCksZS5nZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSldOmUuZ2V0UmFuZ2VzKCk7Zm9yKGNvbnN0IGUgb2Ygbil0LnJlbW92ZUF0dHJpYnV0ZShcImxpbmtIcmVmXCIsZSl9KX19Y29uc3QgQmc9U3ltYm9sKFwibGlua0VsZW1lbnRcIiksTGc9L1tcXHUwMDAwLVxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMjlcXHUyMDVmXFx1MzAwMF0vZyxqZz0vXig/Oig/Omh0dHBzP3xmdHBzP3xtYWlsdG8pOnxbXmEtel18W2EteisuLV0rKD86W15hLXorLjotXXwkKSkvaTtmdW5jdGlvbiB6Zyh0LGUpe2NvbnN0IG49ZS5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KFwiYVwiLHtocmVmOnR9LHtwcmlvcml0eTo1fSk7cmV0dXJuIGUuc2V0Q3VzdG9tUHJvcGVydHkoQmcsITAsbiksbn1mdW5jdGlvbiBxZyh0KXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZShMZyxcIlwiKS5tYXRjaChqZyl9KHQ9U3RyaW5nKHQpKT90OlwiI1wifWNsYXNzIFVne2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLm1vZGVsPXQsdGhpcy5hdHRyaWJ1dGU9bix0aGlzLl9tb2RlbFNlbGVjdGlvbj10LmRvY3VtZW50LnNlbGVjdGlvbix0aGlzLl9vdmVycmlkZVVpZD1udWxsLHRoaXMuX2lzTmV4dEdyYXZpdHlSZXN0b3JhdGlvblNraXBwZWQ9ITEsZS5saXN0ZW5Ubyh0aGlzLl9tb2RlbFNlbGVjdGlvbixcImNoYW5nZTpyYW5nZVwiLCh0LGUpPT57dGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD90aGlzLl9pc05leHRHcmF2aXR5UmVzdG9yYXRpb25Ta2lwcGVkPSExOnRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW4mJighZS5kaXJlY3RDaGFuZ2UmJkhnKHRoaXMuX21vZGVsU2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSxuKXx8dGhpcy5fcmVzdG9yZUdyYXZpdHkoKSl9KX1oYW5kbGVGb3J3YXJkTW92ZW1lbnQodCxlKXtjb25zdCBuPXRoaXMuYXR0cmlidXRlO2lmKCEodGhpcy5faXNHcmF2aXR5T3ZlcnJpZGRlbnx8dC5pc0F0U3RhcnQmJnRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZSkpcmV0dXJuIEtnKHQsbikmJnRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksdGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCksITApOldnKHQsbik/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX292ZXJyaWRlR3Jhdml0eSgpLCEwKTokZyh0LG4pJiZ0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX292ZXJyaWRlR3Jhdml0eSgpLCEwKTp2b2lkIDB9aGFuZGxlQmFja3dhcmRNb3ZlbWVudCh0LGUpe2NvbnN0IG49dGhpcy5hdHRyaWJ1dGU7cmV0dXJuIHRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW4/S2codCxuKSYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKSx0aGlzLl9yZXN0b3JlR3Jhdml0eSgpLHRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLCEwKToodGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksdGhpcy5fcmVzdG9yZUdyYXZpdHkoKSx0LmlzQXRTdGFydCYmdGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCksITApOktnKHQsbikmJiF0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX3NldFNlbGVjdGlvbkF0dHJpYnV0ZUZyb21UaGVOb2RlQmVmb3JlKHQpLCEwKTp0LmlzQXRFbmQmJiRnKHQsbik/dGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlP3ZvaWQoR2codCxuKSYmKHRoaXMuX3NraXBOZXh0QXV0b21hdGljR3Jhdml0eVJlc3RvcmF0aW9uKCksdGhpcy5fb3ZlcnJpZGVHcmF2aXR5KCkpKToodGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlRnJvbVRoZU5vZGVCZWZvcmUodCksITApOnQuaXNBdFN0YXJ0P3RoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCksdGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksITApOnZvaWQgMDp2b2lkKEdnKHQsbikmJih0aGlzLl9za2lwTmV4dEF1dG9tYXRpY0dyYXZpdHlSZXN0b3JhdGlvbigpLHRoaXMuX292ZXJyaWRlR3Jhdml0eSgpKSl9Z2V0IF9pc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuISF0aGlzLl9vdmVycmlkZVVpZH1nZXQgX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZSgpe3JldHVybiB0aGlzLl9tb2RlbFNlbGVjdGlvbi5oYXNBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUpfV9vdmVycmlkZUdyYXZpdHkoKXt0aGlzLl9vdmVycmlkZVVpZD10aGlzLm1vZGVsLmNoYW5nZSh0PT50Lm92ZXJyaWRlU2VsZWN0aW9uR3Jhdml0eSgpKX1fcmVzdG9yZUdyYXZpdHkoKXt0aGlzLm1vZGVsLmNoYW5nZSh0PT57dC5yZXN0b3JlU2VsZWN0aW9uR3Jhdml0eSh0aGlzLl9vdmVycmlkZVVpZCksdGhpcy5fb3ZlcnJpZGVVaWQ9bnVsbH0pfV9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KXt0LnByZXZlbnREZWZhdWx0KCl9X3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpe3RoaXMubW9kZWwuY2hhbmdlKHQ9Pnt0LnJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZSl9KX1fc2V0U2VsZWN0aW9uQXR0cmlidXRlRnJvbVRoZU5vZGVCZWZvcmUodCl7Y29uc3QgZT10aGlzLmF0dHJpYnV0ZTt0aGlzLm1vZGVsLmNoYW5nZShuPT57bi5zZXRTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUsdC5ub2RlQmVmb3JlLmdldEF0dHJpYnV0ZShlKSl9KX1fc2tpcE5leHRBdXRvbWF0aWNHcmF2aXR5UmVzdG9yYXRpb24oKXt0aGlzLl9pc05leHRHcmF2aXR5UmVzdG9yYXRpb25Ta2lwcGVkPSEwfX1mdW5jdGlvbiBIZyh0LGUpe3JldHVybiBXZyh0LGUpfHwkZyh0LGUpfWZ1bmN0aW9uIFdnKHQsZSl7Y29uc3R7bm9kZUJlZm9yZTpuLG5vZGVBZnRlcjppfT10LG89ISFuJiZuLmhhc0F0dHJpYnV0ZShlKTtyZXR1cm4hIWkmJmkuaGFzQXR0cmlidXRlKGUpJiYoIW98fG4uZ2V0QXR0cmlidXRlKGUpIT09aS5nZXRBdHRyaWJ1dGUoZSkpfWZ1bmN0aW9uICRnKHQsZSl7Y29uc3R7bm9kZUJlZm9yZTpuLG5vZGVBZnRlcjppfT10LG89ISFuJiZuLmhhc0F0dHJpYnV0ZShlKSxyPSEhaSYmaS5oYXNBdHRyaWJ1dGUoZSk7cmV0dXJuIG8mJighcnx8bi5nZXRBdHRyaWJ1dGUoZSkhPT1pLmdldEF0dHJpYnV0ZShlKSl9ZnVuY3Rpb24gS2codCxlKXtjb25zdHtub2RlQmVmb3JlOm4sbm9kZUFmdGVyOml9PXQsbz0hIW4mJm4uaGFzQXR0cmlidXRlKGUpO2lmKCEhaSYmaS5oYXNBdHRyaWJ1dGUoZSkmJm8pcmV0dXJuIGkuZ2V0QXR0cmlidXRlKGUpIT09bi5nZXRBdHRyaWJ1dGUoZSl9ZnVuY3Rpb24gR2codCxlKXtyZXR1cm4gSGcodC5nZXRTaGlmdGVkQnkoLTEpLGUpfW4oOTApO2NvbnN0IEpnPVwiY2stbGlua19zZWxlY3RlZFwiO2NsYXNzIFFnIGV4dGVuZHMgcWh7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOlwibGlua0hyZWZcIn0pLHQuY29udmVyc2lvbi5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKE1zKHttb2RlbDpcImxpbmtIcmVmXCIsdmlldzp6Z30pKSx0LmNvbnZlcnNpb24uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZChNcyh7bW9kZWw6XCJsaW5rSHJlZlwiLHZpZXc6KHQsZSk9PnpnKHFnKHQpLGUpfSkpLHQuY29udmVyc2lvbi5mb3IoXCJ1cGNhc3RcIikuYWRkKHNhKHt2aWV3OntuYW1lOlwiYVwiLGF0dHJpYnV0ZXM6e2hyZWY6ITB9fSxtb2RlbDp7a2V5OlwibGlua0hyZWZcIix2YWx1ZTp0PT50LmdldEF0dHJpYnV0ZShcImhyZWZcIil9fSkpLHQuY29tbWFuZHMuYWRkKFwibGlua1wiLG5ldyBOZyh0KSksdC5jb21tYW5kcy5hZGQoXCJ1bmxpbmtcIixuZXcgRGcodCkpLGZ1bmN0aW9uKHQsZSxuLGkpe2NvbnN0IG89bmV3IFVnKGUsbixpKSxyPWUuZG9jdW1lbnQuc2VsZWN0aW9uO24ubGlzdGVuVG8odC5kb2N1bWVudCxcImtleWRvd25cIiwodCxlKT0+e2lmKCFyLmlzQ29sbGFwc2VkKXJldHVybjtpZihlLnNoaWZ0S2V5fHxlLmFsdEtleXx8ZS5jdHJsS2V5KXJldHVybjtjb25zdCBuPWUua2V5Q29kZT09SmkuYXJyb3dyaWdodCxpPWUua2V5Q29kZT09SmkuYXJyb3dsZWZ0O2lmKCFuJiYhaSlyZXR1cm47Y29uc3Qgcz1yLmdldEZpcnN0UG9zaXRpb24oKTtsZXQgYTsoYT1uP28uaGFuZGxlRm9yd2FyZE1vdmVtZW50KHMsZSk6by5oYW5kbGVCYWNrd2FyZE1vdmVtZW50KHMsZSkpJiZ0LnN0b3AoKX0se3ByaW9yaXR5OnYuZ2V0KFwiaGlnaFwiKSsxfSl9KHQuZWRpdGluZy52aWV3LHQubW9kZWwsdGhpcyxcImxpbmtIcmVmXCIpLHRoaXMuX3NldHVwTGlua0hpZ2hsaWdodCgpfV9zZXR1cExpbmtIaWdobGlnaHQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5lZGl0aW5nLnZpZXcsbj1uZXcgU2V0O2UuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoZT0+e2NvbnN0IGk9dC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYoaS5oYXNBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSl7Y29uc3Qgbz1NZyhpLmdldEZpcnN0UG9zaXRpb24oKSxpLmdldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIpKSxyPXQuZWRpdGluZy5tYXBwZXIudG9WaWV3UmFuZ2Uobyk7Zm9yKGNvbnN0IHQgb2Ygci5nZXRJdGVtcygpKXQuaXMoXCJhXCIpJiYoZS5hZGRDbGFzcyhKZyx0KSxuLmFkZCh0KSl9fSksdC5jb252ZXJzaW9uLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQodD0+e2Z1bmN0aW9uIGkoKXtlLmNoYW5nZSh0PT57Zm9yKGNvbnN0IGUgb2Ygbi52YWx1ZXMoKSl0LnJlbW92ZUNsYXNzKEpnLGUpLG4uZGVsZXRlKGUpfSl9dC5vbihcImluc2VydFwiLGkse3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdC5vbihcInJlbW92ZVwiLGkse3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdC5vbihcImF0dHJpYnV0ZVwiLGkse3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdC5vbihcInNlbGVjdGlvblwiLGkse3ByaW9yaXR5OlwiaGlnaGVzdFwifSl9KX19Y2xhc3MgWWcgZXh0ZW5kcyBWcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmRvbUV2ZW50VHlwZT1cImNsaWNrXCJ9b25Eb21FdmVudCh0KXt0aGlzLmZpcmUodC50eXBlLHQpfX1uKDkyKTtjbGFzcyBYZyBleHRlbmRzIFRoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dC50O3RoaXMuZm9jdXNUcmFja2VyPW5ldyBuaCx0aGlzLmtleXN0cm9rZXM9bmV3IEt1LHRoaXMudXJsSW5wdXRWaWV3PXRoaXMuX2NyZWF0ZVVybElucHV0KCksdGhpcy5zYXZlQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24oZShcImFnXCIpLEpwLmEsXCJjay1idXR0b24tc2F2ZVwiKSx0aGlzLnNhdmVCdXR0b25WaWV3LnR5cGU9XCJzdWJtaXRcIix0aGlzLmNhbmNlbEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJhaFwiKSxZcC5hLFwiY2stYnV0dG9uLWNhbmNlbFwiLFwiY2FuY2VsXCIpLHRoaXMuX2ZvY3VzYWJsZXM9bmV3IHJoLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBGaCh7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwic2hpZnQgKyB0YWJcIixmb2N1c05leHQ6XCJ0YWJcIn19KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJmb3JtXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWxpbmstZm9ybVwiXSx0YWJpbmRleDpcIi0xXCJ9LGNoaWxkcmVuOlt0aGlzLnVybElucHV0Vmlldyx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSxLcCh7dmlldzp0aGlzfSksW3RoaXMudXJsSW5wdXRWaWV3LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XS5mb3JFYWNoKHQ9Pnt0aGlzLl9mb2N1c2FibGVzLmFkZCh0KSx0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfV9jcmVhdGVVcmxJbnB1dCgpe2NvbnN0IHQ9dGhpcy5sb2NhbGUudCxlPW5ldyBXcCh0aGlzLmxvY2FsZSwkcCk7cmV0dXJuIGUubGFiZWw9dChcImFpXCIpLGUuaW5wdXRWaWV3LnBsYWNlaG9sZGVyPVwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiLGV9X2NyZWF0ZUJ1dHRvbih0LGUsbixpKXtjb25zdCBvPW5ldyBTZih0aGlzLmxvY2FsZSk7cmV0dXJuIG8uc2V0KHtsYWJlbDp0LGljb246ZSx0b29sdGlwOiEwfSksby5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6bn19KSxpJiZvLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byh0aGlzLGkpLG99fXZhciBaZz1uKDI3KSx0Yj1uLm4oWmcpLGViPW4oMjgpLG5iPW4ubihlYik7big5NCk7Y2xhc3MgaWIgZXh0ZW5kcyBUaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXQudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgbmgsdGhpcy5rZXlzdHJva2VzPW5ldyBLdSx0aGlzLnByZXZpZXdCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZVByZXZpZXdCdXR0b24oKSx0aGlzLnVubGlua0J1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJhalwiKSx0Yi5hLFwidW5saW5rXCIpLHRoaXMuZWRpdEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJha1wiKSxuYi5hLFwiZWRpdFwiKSx0aGlzLnNldChcImhyZWZcIiksdGhpcy5fZm9jdXNhYmxlcz1uZXcgcmgsdGhpcy5fZm9jdXNDeWNsZXI9bmV3IEZoKHtmb2N1c2FibGVzOnRoaXMuX2ZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6XCJzaGlmdCArIHRhYlwiLGZvY3VzTmV4dDpcInRhYlwifX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1saW5rLWFjdGlvbnNcIl0sdGFiaW5kZXg6XCItMVwifSxjaGlsZHJlbjpbdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSxbdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld10uZm9yRWFjaCh0PT57dGhpcy5fZm9jdXNhYmxlcy5hZGQodCksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCl9KSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1fY3JlYXRlQnV0dG9uKHQsZSxuKXtjb25zdCBpPW5ldyBTZih0aGlzLmxvY2FsZSk7cmV0dXJuIGkuc2V0KHtsYWJlbDp0LGljb246ZSx0b29sdGlwOiEwfSksaS5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxuKSxpfV9jcmVhdGVQcmV2aWV3QnV0dG9uKCl7Y29uc3QgdD1uZXcgU2YodGhpcy5sb2NhbGUpLGU9dGhpcy5iaW5kVGVtcGxhdGUsbj10aGlzLnQ7cmV0dXJuIHQuc2V0KHt3aXRoVGV4dDohMCx0b29sdGlwOm4oXCJhbFwiKX0pLHQuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1saW5rLWFjdGlvbnNfX3ByZXZpZXdcIl0saHJlZjplLnRvKFwiaHJlZlwiLHQ9PnQmJnFnKHQpKSx0YXJnZXQ6XCJfYmxhbmtcIn19KSx0LmJpbmQoXCJsYWJlbFwiKS50byh0aGlzLFwiaHJlZlwiLHQ9PnR8fG4oXCJhbVwiKSksdC5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKHRoaXMsXCJocmVmXCIsdD0+ISF0KSx0LnRlbXBsYXRlLnRhZz1cImFcIix0LnRlbXBsYXRlLmV2ZW50TGlzdGVuZXJzPXt9LHR9fXZhciBvYj1uKDI5KSxyYj1uLm4ob2IpO2NvbnN0IHNiPVwiQ3RybCtLXCI7Y2xhc3MgYWIgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2NtXX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0LmVkaXRpbmcudmlldy5hZGRPYnNlcnZlcihZZyksdGhpcy5hY3Rpb25zVmlldz10aGlzLl9jcmVhdGVBY3Rpb25zVmlldygpLHRoaXMuZm9ybVZpZXc9dGhpcy5fY3JlYXRlRm9ybVZpZXcoKSx0aGlzLl9iYWxsb29uPXQucGx1Z2lucy5nZXQoY20pLHRoaXMuX2NyZWF0ZVRvb2xiYXJMaW5rQnV0dG9uKCksdGhpcy5fZW5hYmxlVXNlckJhbGxvb25JbnRlcmFjdGlvbnMoKX1fY3JlYXRlQWN0aW9uc1ZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9bmV3IGliKHQubG9jYWxlKSxuPXQuY29tbWFuZHMuZ2V0KFwibGlua1wiKSxpPXQuY29tbWFuZHMuZ2V0KFwidW5saW5rXCIpO3JldHVybiBlLmJpbmQoXCJocmVmXCIpLnRvKG4sXCJ2YWx1ZVwiKSxlLmVkaXRCdXR0b25WaWV3LmJpbmQoXCJpc0VuYWJsZWRcIikudG8obiksZS51bmxpbmtCdXR0b25WaWV3LmJpbmQoXCJpc0VuYWJsZWRcIikudG8oaSksdGhpcy5saXN0ZW5UbyhlLFwiZWRpdFwiLCgpPT57dGhpcy5fYWRkRm9ybVZpZXcoKX0pLHRoaXMubGlzdGVuVG8oZSxcInVubGlua1wiLCgpPT57dC5leGVjdXRlKFwidW5saW5rXCIpLHRoaXMuX2hpZGVVSSgpfSksZS5rZXlzdHJva2VzLnNldChcIkVzY1wiLCh0LGUpPT57dGhpcy5faGlkZVVJKCksZSgpfSksZS5rZXlzdHJva2VzLnNldChzYiwodCxlKT0+e3RoaXMuX2FkZEZvcm1WaWV3KCksZSgpfSksZX1fY3JlYXRlRm9ybVZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9bmV3IFhnKHQubG9jYWxlKSxuPXQuY29tbWFuZHMuZ2V0KFwibGlua1wiKTtyZXR1cm4gZS51cmxJbnB1dFZpZXcuYmluZChcInZhbHVlXCIpLnRvKG4sXCJ2YWx1ZVwiKSxlLnVybElucHV0Vmlldy5iaW5kKFwiaXNSZWFkT25seVwiKS50byhuLFwiaXNFbmFibGVkXCIsdD0+IXQpLGUuc2F2ZUJ1dHRvblZpZXcuYmluZChcImlzRW5hYmxlZFwiKS50byhuKSx0aGlzLmxpc3RlblRvKGUsXCJzdWJtaXRcIiwoKT0+e3QuZXhlY3V0ZShcImxpbmtcIixlLnVybElucHV0Vmlldy5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZSksdGhpcy5fcmVtb3ZlRm9ybVZpZXcoKX0pLHRoaXMubGlzdGVuVG8oZSxcImNhbmNlbFwiLCgpPT57dGhpcy5fcmVtb3ZlRm9ybVZpZXcoKX0pLGUua2V5c3Ryb2tlcy5zZXQoXCJFc2NcIiwodCxlKT0+e3RoaXMuX3JlbW92ZUZvcm1WaWV3KCksZSgpfSksZX1fY3JlYXRlVG9vbGJhckxpbmtCdXR0b24oKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5jb21tYW5kcy5nZXQoXCJsaW5rXCIpLG49dC50O3Qua2V5c3Ryb2tlcy5zZXQoc2IsKHQsbik9PntuKCksZS5pc0VuYWJsZWQmJnRoaXMuX3Nob3dVSSgpfSksdC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImxpbmtcIix0PT57Y29uc3QgaT1uZXcgU2YodCk7cmV0dXJuIGkuaXNFbmFibGVkPSEwLGkubGFiZWw9bihcImFiXCIpLGkuaWNvbj1yYi5hLGkua2V5c3Ryb2tlPXNiLGkudG9vbHRpcD0hMCxpLmJpbmQoXCJpc0VuYWJsZWRcIikudG8oZSxcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKGksXCJleGVjdXRlXCIsKCk9PnRoaXMuX3Nob3dVSSgpKSxpfSl9X2VuYWJsZVVzZXJCYWxsb29uSW50ZXJhY3Rpb25zKCl7Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQ7dGhpcy5saXN0ZW5Ubyh0LFwiY2xpY2tcIiwoKT0+e3RoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSYmdGhpcy5fc2hvd1VJKCl9KSx0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIlRhYlwiLCh0LGUpPT57dGhpcy5fYXJlQWN0aW9uc1Zpc2libGUmJiF0aGlzLmFjdGlvbnNWaWV3LmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQmJih0aGlzLmFjdGlvbnNWaWV3LmZvY3VzKCksZSgpKX0se3ByaW9yaXR5OlwiaGlnaFwifSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoXCJFc2NcIiwodCxlKT0+e3RoaXMuX2lzVUlWaXNpYmxlJiYodGhpcy5faGlkZVVJKCksZSgpKX0pLEhwKHtlbWl0dGVyOnRoaXMuZm9ybVZpZXcsYWN0aXZhdG9yOigpPT50aGlzLl9pc1VJVmlzaWJsZSxjb250ZXh0RWxlbWVudHM6W3RoaXMuX2JhbGxvb24udmlldy5lbGVtZW50XSxjYWxsYmFjazooKT0+dGhpcy5faGlkZVVJKCl9KX1fYWRkQWN0aW9uc1ZpZXcoKXt0aGlzLl9hcmVBY3Rpb25zSW5QYW5lbHx8dGhpcy5fYmFsbG9vbi5hZGQoe3ZpZXc6dGhpcy5hY3Rpb25zVmlldyxwb3NpdGlvbjp0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCl9KX1fYWRkRm9ybVZpZXcoKXtpZih0aGlzLl9pc0Zvcm1JblBhbmVsKXJldHVybjtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImxpbmtcIik7dGhpcy5fYmFsbG9vbi5hZGQoe3ZpZXc6dGhpcy5mb3JtVmlldyxwb3NpdGlvbjp0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCl9KSx0aGlzLmZvcm1WaWV3LnVybElucHV0Vmlldy5zZWxlY3QoKSx0aGlzLmZvcm1WaWV3LnVybElucHV0Vmlldy5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZT10LnZhbHVlfHxcIlwifV9yZW1vdmVGb3JtVmlldygpe3RoaXMuX2lzRm9ybUluUGFuZWwmJih0aGlzLl9iYWxsb29uLnJlbW92ZSh0aGlzLmZvcm1WaWV3KSx0aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZm9jdXMoKSl9X3Nob3dVSSgpe3RoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImxpbmtcIikuaXNFbmFibGVkJiYodGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpP3RoaXMuX2FyZUFjdGlvbnNWaXNpYmxlP3RoaXMuX2FkZEZvcm1WaWV3KCk6dGhpcy5fYWRkQWN0aW9uc1ZpZXcoKToodGhpcy5fYWRkQWN0aW9uc1ZpZXcoKSx0aGlzLl9hZGRGb3JtVmlldygpKSx0aGlzLl9zdGFydFVwZGF0aW5nVUkoKSl9X2hpZGVVSSgpe2lmKCF0aGlzLl9pc1VJSW5QYW5lbClyZXR1cm47Y29uc3QgdD10aGlzLmVkaXRvcjt0aGlzLnN0b3BMaXN0ZW5pbmcodC51aSxcInVwZGF0ZVwiKSx0aGlzLl9yZW1vdmVGb3JtVmlldygpLHRoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMuYWN0aW9uc1ZpZXcpLHQuZWRpdGluZy52aWV3LmZvY3VzKCl9X3N0YXJ0VXBkYXRpbmdVSSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldy5kb2N1bWVudDtsZXQgbj10aGlzLl9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCksaT1vKCk7ZnVuY3Rpb24gbygpe3JldHVybiBlLnNlbGVjdGlvbi5mb2N1cy5nZXRBbmNlc3RvcnMoKS5yZXZlcnNlKCkuZmluZCh0PT50LmlzKFwiZWxlbWVudFwiKSl9dGhpcy5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9Pntjb25zdCB0PXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSxlPW8oKTtuJiYhdHx8IW4mJmUhPT1pP3RoaXMuX2hpZGVVSSgpOnRoaXMuX2JhbGxvb24udXBkYXRlUG9zaXRpb24odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpKSxuPXQsaT1lfSl9Z2V0IF9pc0Zvcm1JblBhbmVsKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLmZvcm1WaWV3KX1nZXQgX2FyZUFjdGlvbnNJblBhbmVsKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLmFjdGlvbnNWaWV3KX1nZXQgX2FyZUFjdGlvbnNWaXNpYmxlKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24udmlzaWJsZVZpZXc9PT10aGlzLmFjdGlvbnNWaWV3fWdldCBfaXNVSUluUGFuZWwoKXtyZXR1cm4gdGhpcy5faXNGb3JtSW5QYW5lbHx8dGhpcy5fYXJlQWN0aW9uc0luUGFuZWx9Z2V0IF9pc1VJVmlzaWJsZSgpe3JldHVybiB0aGlzLl9iYWxsb29uLnZpc2libGVWaWV3PT10aGlzLmZvcm1WaWV3fHx0aGlzLl9hcmVBY3Rpb25zVmlzaWJsZX1fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LGU9dC5kb2N1bWVudCxuPXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKTtyZXR1cm57dGFyZ2V0Om4/dC5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG4pOnQuZG9tQ29udmVydGVyLnZpZXdSYW5nZVRvRG9tKGUuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKSl9fV9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCl7Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKHQuaXNDb2xsYXBzZWQpcmV0dXJuIGNiKHQuZ2V0Rmlyc3RQb3NpdGlvbigpKTt7Y29uc3QgZT10LmdldEZpcnN0UmFuZ2UoKS5nZXRUcmltbWVkKCksbj1jYihlLnN0YXJ0KSxpPWNiKGUuZW5kKTtyZXR1cm4gbiYmbj09aSYmTWkuY3JlYXRlSW4obikuZ2V0VHJpbW1lZCgpLmlzRXF1YWwoZSk/bjpudWxsfX19ZnVuY3Rpb24gY2IodCl7cmV0dXJuIHQuZ2V0QW5jZXN0b3JzKCkuZmluZCh0PT4oZnVuY3Rpb24odCl7cmV0dXJuIHQuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiYhIXQuZ2V0Q3VzdG9tUHJvcGVydHkoQmcpfSkodCkpfWNsYXNzIGxiIGV4dGVuZHMgS2h7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnR5cGU9XCJidWxsZXRlZFwiPT1lP1wiYnVsbGV0ZWRcIjpcIm51bWJlcmVkXCJ9cmVmcmVzaCgpe3RoaXMudmFsdWU9dGhpcy5fZ2V0VmFsdWUoKSx0aGlzLmlzRW5hYmxlZD10aGlzLl9jaGVja0VuYWJsZWQoKX1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQsbj1BcnJheS5mcm9tKGUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpLmZpbHRlcihlPT51YihlLHQuc2NoZW1hKSksaT0hMD09PXRoaXMudmFsdWU7dC5jaGFuZ2UodD0+e2lmKGkpe2xldCBlPW5bbi5sZW5ndGgtMV0ubmV4dFNpYmxpbmcsaT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbz1bXTtmb3IoO2UmJlwibGlzdEl0ZW1cIj09ZS5uYW1lJiYwIT09ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpOyl7Y29uc3QgdD1lLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7dDxpJiYoaT10KTtjb25zdCBuPXQtaTtvLnB1c2goe2VsZW1lbnQ6ZSxsaXN0SW5kZW50Om59KSxlPWUubmV4dFNpYmxpbmd9bz1vLnJldmVyc2UoKTtmb3IoY29uc3QgZSBvZiBvKXQuc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLGUubGlzdEluZGVudCxlLmVsZW1lbnQpfWlmKCFpKXtsZXQgdD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGNvbnN0IGUgb2YgbillLmlzKFwibGlzdEl0ZW1cIikmJmUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTx0JiYodD1lLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikpO2RiKG4sITAsdD0wPT09dD8xOnQpLGRiKG4sITEsdCl9Zm9yKGNvbnN0IGUgb2Ygbi5yZXZlcnNlKCkpaSYmXCJsaXN0SXRlbVwiPT1lLm5hbWU/dC5yZW5hbWUoZSxcInBhcmFncmFwaFwiKTppfHxcImxpc3RJdGVtXCI9PWUubmFtZT9pfHxcImxpc3RJdGVtXCIhPWUubmFtZXx8ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKT09dGhpcy50eXBlfHx0LnNldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIsdGhpcy50eXBlLGUpOih0LnNldEF0dHJpYnV0ZXMoe2xpc3RUeXBlOnRoaXMudHlwZSxsaXN0SW5kZW50OjB9LGUpLHQucmVuYW1lKGUsXCJsaXN0SXRlbVwiKSl9KX1fZ2V0VmFsdWUoKXtjb25zdCB0PVFmKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtyZXR1cm4hIXQmJnQuaXMoXCJsaXN0SXRlbVwiKSYmdC5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKT09dGhpcy50eXBlfV9jaGVja0VuYWJsZWQoKXtpZih0aGlzLnZhbHVlKXJldHVybiEwO2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLGU9dGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hLG49UWYodC5nZXRTZWxlY3RlZEJsb2NrcygpKTtyZXR1cm4hIW4mJnViKG4sZSl9fWZ1bmN0aW9uIGRiKHQsZSxuKXtjb25zdCBpPWU/dFswXTp0W3QubGVuZ3RoLTFdO2lmKGkuaXMoXCJsaXN0SXRlbVwiKSl7bGV0IG89aVtlP1wicHJldmlvdXNTaWJsaW5nXCI6XCJuZXh0U2libGluZ1wiXSxyPWkuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTtmb3IoO28mJm8uaXMoXCJsaXN0SXRlbVwiKSYmby5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPj1uOylyPm8uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSYmKHI9by5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpKSxvLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik9PXImJnRbZT9cInVuc2hpZnRcIjpcInB1c2hcIl0obyksbz1vW2U/XCJwcmV2aW91c1NpYmxpbmdcIjpcIm5leHRTaWJsaW5nXCJdfX1mdW5jdGlvbiB1Yih0LGUpe3JldHVybiBlLmNoZWNrQ2hpbGQodC5wYXJlbnQsXCJsaXN0SXRlbVwiKSYmIWUuaXNPYmplY3QodCl9Y2xhc3MgaGIgZXh0ZW5kcyBLaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuX2luZGVudEJ5PVwiZm9yd2FyZFwiPT1lPzE6LTF9cmVmcmVzaCgpe3RoaXMuaXNFbmFibGVkPXRoaXMuX2NoZWNrRW5hYmxlZCgpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudDtsZXQgbj1BcnJheS5mcm9tKGUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3QuY2hhbmdlKHQ9Pntjb25zdCBlPW5bbi5sZW5ndGgtMV07bGV0IGk9ZS5uZXh0U2libGluZztmb3IoO2kmJlwibGlzdEl0ZW1cIj09aS5uYW1lJiZpLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik+ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpOyluLnB1c2goaSksaT1pLm5leHRTaWJsaW5nO3RoaXMuX2luZGVudEJ5PDAmJihuPW4ucmV2ZXJzZSgpKTtmb3IoY29uc3QgZSBvZiBuKXtjb25zdCBuPWUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSt0aGlzLl9pbmRlbnRCeTtuPDA/dC5yZW5hbWUoZSxcInBhcmFncmFwaFwiKTp0LnNldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIixuLGUpfX0pfV9jaGVja0VuYWJsZWQoKXtjb25zdCB0PVFmKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtpZighdHx8IXQuaXMoXCJsaXN0SXRlbVwiKSlyZXR1cm4hMTtpZih0aGlzLl9pbmRlbnRCeT4wKXtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSxuPXQuZ2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIik7bGV0IGk9dC5wcmV2aW91c1NpYmxpbmc7Zm9yKDtpJiZpLmlzKFwibGlzdEl0ZW1cIikmJmkuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKT49ZTspe2lmKGkuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKT09ZSlyZXR1cm4gaS5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKT09bjtpPWkucHJldmlvdXNTaWJsaW5nfXJldHVybiExfXJldHVybiEwfX1mdW5jdGlvbiBmYigpe2NvbnN0IHQ9IXRoaXMuaXNFbXB0eSYmKFwidWxcIj09dGhpcy5nZXRDaGlsZCgwKS5uYW1lfHxcIm9sXCI9PXRoaXMuZ2V0Q2hpbGQoMCkubmFtZSk7cmV0dXJuIHRoaXMuaXNFbXB0eXx8dD8wOm51bGx9ZnVuY3Rpb24gcGIodCxlLG4pe2NvbnN0IGk9bi5jb25zdW1hYmxlO2lmKCFpLnRlc3QoZS5pdGVtLFwiaW5zZXJ0XCIpfHwhaS50ZXN0KGUuaXRlbSxcImF0dHJpYnV0ZTpsaXN0VHlwZVwiKXx8IWkudGVzdChlLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdEluZGVudFwiKSlyZXR1cm47aS5jb25zdW1lKGUuaXRlbSxcImluc2VydFwiKSxpLmNvbnN1bWUoZS5pdGVtLFwiYXR0cmlidXRlOmxpc3RUeXBlXCIpLGkuY29uc3VtZShlLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdEluZGVudFwiKTtjb25zdCBvPWUuaXRlbTtFYihvLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLm1hcHBlcixpPWUud3JpdGVyLG89XCJudW1iZXJlZFwiPT10LmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpP1wib2xcIjpcInVsXCIscj1mdW5jdGlvbih0KXtjb25zdCBlPXQuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcImxpXCIpO3JldHVybiBlLmdldEZpbGxlck9mZnNldD1mYixlfShpKSxzPWkuY3JlYXRlQ29udGFpbmVyRWxlbWVudChvLG51bGwpO3JldHVybiBpLmluc2VydChWaS5jcmVhdGVBdChzKSxyKSxuLmJpbmRFbGVtZW50cyh0LHIpLHJ9KG8sbiksbil9ZnVuY3Rpb24gbWIodCxlLG4pe2NvbnN0IGk9bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5wb3NpdGlvbikuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odD0+IXQuaXRlbS5pcyhcImxpXCIpKS5ub2RlQWZ0ZXIsbz1uLndyaXRlcjtvLmJyZWFrQ29udGFpbmVyKFZpLmNyZWF0ZUJlZm9yZShpKSksby5icmVha0NvbnRhaW5lcihWaS5jcmVhdGVBZnRlcihpKSk7Y29uc3Qgcj1pLnBhcmVudCxzPXIucHJldmlvdXNTaWJsaW5nLGE9TWkuY3JlYXRlT24ociksYz1vLnJlbW92ZShhKTtzJiZzLm5leHRTaWJsaW5nJiZTYihvLHMscy5uZXh0U2libGluZyksUGIobi5tYXBwZXIudG9Nb2RlbEVsZW1lbnQoaSkuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSsxLGUucG9zaXRpb24sYS5zdGFydCxpLG4pO2Zvcihjb25zdCB0IG9mIE1pLmNyZWF0ZUluKGMpLmdldEl0ZW1zKCkpbi5tYXBwZXIudW5iaW5kVmlld0VsZW1lbnQodCk7dC5zdG9wKCl9ZnVuY3Rpb24gZ2IodCxlLG4pe2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdFR5cGVcIikpcmV0dXJuO2NvbnN0IGk9bi5tYXBwZXIudG9WaWV3RWxlbWVudChlLml0ZW0pLG89bi53cml0ZXI7by5icmVha0NvbnRhaW5lcihWaS5jcmVhdGVCZWZvcmUoaSkpLG8uYnJlYWtDb250YWluZXIoVmkuY3JlYXRlQWZ0ZXIoaSkpO2xldCByPWkucGFyZW50O2NvbnN0IHM9XCJudW1iZXJlZFwiPT1lLmF0dHJpYnV0ZU5ld1ZhbHVlP1wib2xcIjpcInVsXCI7U2IobyxyPW8ucmVuYW1lKHIscyksci5uZXh0U2libGluZyksU2IobyxyLnByZXZpb3VzU2libGluZyxyKTtmb3IoY29uc3QgdCBvZiBlLml0ZW0uZ2V0Q2hpbGRyZW4oKSluLmNvbnN1bWFibGUuY29uc3VtZSh0LFwiaW5zZXJ0XCIpfWZ1bmN0aW9uIGJiKHQsZSxuKXtpZighbi5jb25zdW1hYmxlLmNvbnN1bWUoZS5pdGVtLFwiYXR0cmlidXRlOmxpc3RJbmRlbnRcIikpcmV0dXJuO2NvbnN0IGk9bi5tYXBwZXIudG9WaWV3RWxlbWVudChlLml0ZW0pLG89bi53cml0ZXI7by5icmVha0NvbnRhaW5lcihWaS5jcmVhdGVCZWZvcmUoaSkpLG8uYnJlYWtDb250YWluZXIoVmkuY3JlYXRlQWZ0ZXIoaSkpO2NvbnN0IHI9aS5wYXJlbnQscz1yLnByZXZpb3VzU2libGluZyxhPU1pLmNyZWF0ZU9uKHIpO28ucmVtb3ZlKGEpLHMmJnMubmV4dFNpYmxpbmcmJlNiKG8scyxzLm5leHRTaWJsaW5nKSxQYihlLmF0dHJpYnV0ZU9sZFZhbHVlKzEsZS5yYW5nZS5zdGFydCxhLnN0YXJ0LGksbiksRWIoZS5pdGVtLGksbik7Zm9yKGNvbnN0IHQgb2YgZS5pdGVtLmdldENoaWxkcmVuKCkpbi5jb25zdW1hYmxlLmNvbnN1bWUodCxcImluc2VydFwiKX1mdW5jdGlvbiB3Yih0LGUsbil7aWYoXCJsaXN0SXRlbVwiIT1lLml0ZW0ubmFtZSl7bGV0IHQ9bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5yYW5nZS5zdGFydCk7Y29uc3QgaT1uLndyaXRlcixvPVtdO2Zvcig7KFwidWxcIj09dC5wYXJlbnQubmFtZXx8XCJvbFwiPT10LnBhcmVudC5uYW1lKSYmXCJsaVwiPT0odD1pLmJyZWFrQ29udGFpbmVyKHQpKS5wYXJlbnQubmFtZTspe2NvbnN0IGU9dCxuPVZpLmNyZWF0ZUF0KHQucGFyZW50LFwiZW5kXCIpO2lmKCFlLmlzRXF1YWwobikpe2NvbnN0IHQ9aS5yZW1vdmUobmV3IE1pKGUsbikpO28ucHVzaCh0KX10PVZpLmNyZWF0ZUFmdGVyKHQucGFyZW50KX1pZihvLmxlbmd0aD4wKXtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7Y29uc3Qgbj10Lm5vZGVCZWZvcmU7aWYodD1pLmluc2VydCh0LG9bZV0pLmVuZCxlPjApe2NvbnN0IGU9U2IoaSxuLG4ubmV4dFNpYmxpbmcpO2UmJmUucGFyZW50PT1uJiZ0Lm9mZnNldC0tfX1TYihpLHQubm9kZUJlZm9yZSx0Lm5vZGVBZnRlcil9fX1mdW5jdGlvbiB2Yih0LGUsbil7Y29uc3QgaT1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihlLnBvc2l0aW9uKSxvPWkubm9kZUJlZm9yZSxyPWkubm9kZUFmdGVyO1NiKG4ud3JpdGVyLG8scil9ZnVuY3Rpb24gX2IodCxlLG4pe2lmKG4uY29uc3VtYWJsZS5jb25zdW1lKGUudmlld0l0ZW0se25hbWU6ITB9KSl7Y29uc3QgdD1uLndyaXRlcixpPXRoaXMuY29udmVyc2lvbkFwaS5zdG9yZSxvPXQuY3JlYXRlRWxlbWVudChcImxpc3RJdGVtXCIpO2kuaW5kZW50PWkuaW5kZW50fHwwLHQuc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLGkuaW5kZW50LG8pO2NvbnN0IHI9ZS52aWV3SXRlbS5wYXJlbnQmJlwib2xcIj09ZS52aWV3SXRlbS5wYXJlbnQubmFtZT9cIm51bWJlcmVkXCI6XCJidWxsZXRlZFwiO3Quc2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIixyLG8pLGkuaW5kZW50Kys7Y29uc3Qgcz1uLnNwbGl0VG9BbGxvd2VkUGFyZW50KG8sZS5tb2RlbEN1cnNvcik7aWYoIXMpcmV0dXJuO3QuaW5zZXJ0KG8scy5wb3NpdGlvbik7bGV0IGE9YnMuY3JlYXRlQWZ0ZXIobyk7Zm9yKGNvbnN0IHQgb2YgZS52aWV3SXRlbS5nZXRDaGlsZHJlbigpKVwidWxcIj09dC5uYW1lfHxcIm9sXCI9PXQubmFtZT9hPW4uY29udmVydEl0ZW0odCxhKS5tb2RlbEN1cnNvcjpuLmNvbnZlcnRJdGVtKHQsYnMuY3JlYXRlQXQobyxcImVuZFwiKSk7aS5pbmRlbnQtLSxlLm1vZGVsUmFuZ2U9bmV3IHdzKGUubW9kZWxDdXJzb3IsYSkscy5jdXJzb3JQYXJlbnQ/ZS5tb2RlbEN1cnNvcj1icy5jcmVhdGVBdChzLmN1cnNvclBhcmVudCk6ZS5tb2RlbEN1cnNvcj1lLm1vZGVsUmFuZ2UuZW5kfX1mdW5jdGlvbiBrYih0LGUsbil7aWYobi5jb25zdW1hYmxlLnRlc3QoZS52aWV3SXRlbSx7bmFtZTohMH0pKXtjb25zdCB0PUFycmF5LmZyb20oZS52aWV3SXRlbS5nZXRDaGlsZHJlbigpKTtmb3IoY29uc3QgZSBvZiB0KWUuaXMoXCJsaVwiKXx8ZS5fcmVtb3ZlKCl9fWZ1bmN0aW9uIHliKHQsZSxuKXtpZihuLmNvbnN1bWFibGUudGVzdChlLnZpZXdJdGVtLHtuYW1lOiEwfSkpe2lmKDA9PT1lLnZpZXdJdGVtLmNoaWxkQ291bnQpcmV0dXJuO2NvbnN0IHQ9Wy4uLmUudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKV07bGV0IG49ITEsaT0hMDtmb3IoY29uc3QgZSBvZiB0KSFufHxlLmlzKFwidWxcIil8fGUuaXMoXCJvbFwiKXx8ZS5fcmVtb3ZlKCksZS5pcyhcInRleHRcIik/KGkmJihlLl9kYXRhPWUuZGF0YS5yZXBsYWNlKC9eXFxzKy8sXCJcIikpLCghZS5uZXh0U2libGluZ3x8ZS5uZXh0U2libGluZy5pcyhcInVsXCIpfHxlLm5leHRTaWJsaW5nLmlzKFwib2xcIikpJiYoZS5fZGF0YT1lLmRhdGEucmVwbGFjZSgvXFxzKyQvLFwiXCIpKSk6KGUuaXMoXCJ1bFwiKXx8ZS5pcyhcIm9sXCIpKSYmKG49ITApLGk9ITF9fWZ1bmN0aW9uIHhiKHQsZSl7aWYoZS5pc1BoYW50b20pcmV0dXJuO2NvbnN0IG49ZS5tb2RlbFBvc2l0aW9uLm5vZGVCZWZvcmU7aWYobiYmbi5pcyhcImxpc3RJdGVtXCIpKXtjb25zdCB0PWUubWFwcGVyLnRvVmlld0VsZW1lbnQobiksaT10LmdldEFuY2VzdG9ycygpLmZpbmQodD0+dC5pcyhcInVsXCIpfHx0LmlzKFwib2xcIikpLG89bmV3IElpKHtzdGFydFBvc2l0aW9uOlZpLmNyZWF0ZUF0KHQsMCl9KTtmb3IoY29uc3QgdCBvZiBvKXtpZihcImVsZW1lbnRTdGFydFwiPT10LnR5cGUmJnQuaXRlbS5pcyhcImxpXCIpKXtlLnZpZXdQb3NpdGlvbj10LnByZXZpb3VzUG9zaXRpb247YnJlYWt9aWYoXCJlbGVtZW50RW5kXCI9PXQudHlwZSYmdC5pdGVtPT1pKXtlLnZpZXdQb3NpdGlvbj10Lm5leHRQb3NpdGlvbjticmVha319fX1mdW5jdGlvbiBBYih0LGUpe2NvbnN0IG49ZS52aWV3UG9zaXRpb24saT1uLnBhcmVudCxvPWUubWFwcGVyO2lmKFwidWxcIj09aS5uYW1lfHxcIm9sXCI9PWkubmFtZSl7aWYobi5pc0F0RW5kKXtjb25zdCB0PW8udG9Nb2RlbEVsZW1lbnQobi5ub2RlQmVmb3JlKSxpPW8uZ2V0TW9kZWxMZW5ndGgobi5ub2RlQmVmb3JlKTtlLm1vZGVsUG9zaXRpb249YnMuY3JlYXRlQmVmb3JlKHQpLmdldFNoaWZ0ZWRCeShpKX1lbHNle2NvbnN0IHQ9by50b01vZGVsRWxlbWVudChuLm5vZGVBZnRlcik7ZS5tb2RlbFBvc2l0aW9uPWJzLmNyZWF0ZUJlZm9yZSh0KX10LnN0b3AoKX1lbHNlIGlmKFwibGlcIj09aS5uYW1lJiZuLm5vZGVCZWZvcmUmJihcInVsXCI9PW4ubm9kZUJlZm9yZS5uYW1lfHxcIm9sXCI9PW4ubm9kZUJlZm9yZS5uYW1lKSl7Y29uc3Qgcj1vLnRvTW9kZWxFbGVtZW50KGkpO2xldCBzPTEsYT1uLm5vZGVCZWZvcmU7Zm9yKDthJiYoYS5pcyhcInVsXCIpfHxhLmlzKFwib2xcIikpOylzKz1vLmdldE1vZGVsTGVuZ3RoKGEpLGE9YS5wcmV2aW91c1NpYmxpbmc7ZS5tb2RlbFBvc2l0aW9uPWJzLmNyZWF0ZUJlZm9yZShyKS5nZXRTaGlmdGVkQnkocyksdC5zdG9wKCl9fWZ1bmN0aW9uIENiKHQsW2Usbl0pe2xldCBpPWUuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP2UuZ2V0Q2hpbGQoMCk6ZTtpZihpJiZpLmlzKFwibGlzdEl0ZW1cIikpe2NvbnN0IHQ9bi5nZXRGaXJzdFBvc2l0aW9uKCk7bGV0IGU9bnVsbDtpZih0LnBhcmVudC5pcyhcImxpc3RJdGVtXCIpP2U9dC5wYXJlbnQ6dC5ub2RlQmVmb3JlJiZ0Lm5vZGVCZWZvcmUuaXMoXCJsaXN0SXRlbVwiKSYmKGU9dC5ub2RlQmVmb3JlKSxlKXtjb25zdCB0PWUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTtpZih0PjApZm9yKDtpJiZpLmlzKFwibGlzdEl0ZW1cIik7KWkuX3NldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIixpLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikrdCksaT1pLm5leHRTaWJsaW5nfX19ZnVuY3Rpb24gVGIodCxlKXtjb25zdCBuPSEhZS5zYW1lSW5kZW50LGk9ISFlLnNtYWxsZXJJbmRlbnQsbz10IGluc3RhbmNlb2YgZnM/dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpOmUubGlzdEluZGVudDtsZXQgcj10IGluc3RhbmNlb2YgZnM/dC5wcmV2aW91c1NpYmxpbmc6dC5ub2RlQmVmb3JlO2Zvcig7ciYmXCJsaXN0SXRlbVwiPT1yLm5hbWU7KXtjb25zdCB0PXIuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTtpZihuJiZvPT10fHxpJiZvPnQpcmV0dXJuIHI7cj1yLnByZXZpb3VzU2libGluZ31yZXR1cm4gbnVsbH1mdW5jdGlvbiBTYih0LGUsbil7cmV0dXJuIGUmJm4mJihcInVsXCI9PWUubmFtZXx8XCJvbFwiPT1lLm5hbWUpJiZlLm5hbWU9PW4ubmFtZT90Lm1lcmdlQ29udGFpbmVycyhWaS5jcmVhdGVBZnRlcihlKSk6bnVsbH1mdW5jdGlvbiBFYih0LGUsbil7Y29uc3QgaT1lLnBhcmVudCxvPW4ubWFwcGVyLHI9bi53cml0ZXI7bGV0IHM9by50b1ZpZXdQb3NpdGlvbihicy5jcmVhdGVCZWZvcmUodCkpO2NvbnN0IGE9VGIodCx7c2FtZUluZGVudDohMCxzbWFsbGVySW5kZW50OiEwfSksYz10LnByZXZpb3VzU2libGluZztpZihhJiZhLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik9PXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSl7Y29uc3QgdD1vLnRvVmlld0VsZW1lbnQoYSk7cz1yLmJyZWFrQ29udGFpbmVyKFZpLmNyZWF0ZUFmdGVyKHQpKX1lbHNlIHM9YyYmXCJsaXN0SXRlbVwiPT1jLm5hbWU/by50b1ZpZXdQb3NpdGlvbihicy5jcmVhdGVBdChjLFwiZW5kXCIpKTpvLnRvVmlld1Bvc2l0aW9uKGJzLmNyZWF0ZUJlZm9yZSh0KSk7aWYocz1PYihzKSxyLmluc2VydChzLGkpLGMmJlwibGlzdEl0ZW1cIj09Yy5uYW1lKXtjb25zdCB0PW8udG9WaWV3RWxlbWVudChjKSxuPW5ldyBJaSh7Ym91bmRhcmllczpuZXcgTWkoVmkuY3JlYXRlQXQodCwwKSxzKSxpZ25vcmVFbGVtZW50RW5kOiEwfSk7Zm9yKGNvbnN0IHQgb2YgbilpZih0Lml0ZW0uaXMoXCJsaVwiKSl7Y29uc3QgaT1yLmJyZWFrQ29udGFpbmVyKFZpLmNyZWF0ZUJlZm9yZSh0Lml0ZW0pKSxvPXQuaXRlbS5wYXJlbnQscz1WaS5jcmVhdGVBdChlLFwiZW5kXCIpO1NiKHIscy5ub2RlQmVmb3JlLHMubm9kZUFmdGVyKSxyLm1vdmUoTWkuY3JlYXRlT24obykscyksbi5wb3NpdGlvbj1pfX1lbHNle2NvbnN0IG49aS5uZXh0U2libGluZztpZihuJiYobi5pcyhcInVsXCIpfHxuLmlzKFwib2xcIikpKXtsZXQgaT1udWxsO2Zvcihjb25zdCBlIG9mIG4uZ2V0Q2hpbGRyZW4oKSl7Y29uc3Qgbj1vLnRvTW9kZWxFbGVtZW50KGUpO2lmKCEobiYmbi5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPnQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSkpYnJlYWs7aT1lfWkmJihyLmJyZWFrQ29udGFpbmVyKFZpLmNyZWF0ZUFmdGVyKGkpKSxyLm1vdmUoTWkuY3JlYXRlT24oaS5wYXJlbnQpLFZpLmNyZWF0ZUF0KGUsXCJlbmRcIikpKX19U2IocixpLGkubmV4dFNpYmxpbmcpLFNiKHIsaS5wcmV2aW91c1NpYmxpbmcsaSl9ZnVuY3Rpb24gUGIodCxlLG4saSxvKXtjb25zdCByPVRiKGUse3NhbWVJbmRlbnQ6ITAsc21hbGxlckluZGVudDohMCxsaXN0SW5kZW50OnR9KSxzPW8ubWFwcGVyLGE9by53cml0ZXIsYz1yP3IuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTpudWxsO2xldCBsO2lmKHIpaWYoYz09dCl7Y29uc3QgdD1zLnRvVmlld0VsZW1lbnQocikucGFyZW50O2w9VmkuY3JlYXRlQWZ0ZXIodCl9ZWxzZXtjb25zdCB0PWJzLmNyZWF0ZUF0KHIsXCJlbmRcIik7bD1zLnRvVmlld1Bvc2l0aW9uKHQpfWVsc2UgbD1uO2w9T2IobCk7Zm9yKGNvbnN0IHQgb2ZbLi4uaS5nZXRDaGlsZHJlbigpXSkodC5pcyhcInVsXCIpfHx0LmlzKFwib2xcIikpJiYobD1hLm1vdmUoTWkuY3JlYXRlT24odCksbCkuZW5kLFNiKGEsdCx0Lm5leHRTaWJsaW5nKSxTYihhLHQucHJldmlvdXNTaWJsaW5nLHQpKX1mdW5jdGlvbiBPYih0KXtyZXR1cm4gdC5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0PT50Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikpfWNsYXNzIFJiIGV4dGVuZHMgcWh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltMbV19aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEucmVnaXN0ZXIoXCJsaXN0SXRlbVwiLHtpbmhlcml0QWxsRnJvbTpcIiRibG9ja1wiLGFsbG93QXR0cmlidXRlczpbXCJsaXN0VHlwZVwiLFwibGlzdEluZGVudFwiXX0pO2NvbnN0IGU9dC5kYXRhLG49dC5lZGl0aW5nO3QubW9kZWwuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoZT0+KGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCksaT1uZXcgTWFwO2xldCBvPSExO2Zvcihjb25zdCB0IG9mIG4paWYoXCJpbnNlcnRcIj09dC50eXBlJiZcImxpc3RJdGVtXCI9PXQubmFtZSlyKHQucG9zaXRpb24pO2Vsc2UgaWYoXCJpbnNlcnRcIj09dC50eXBlJiZcImxpc3RJdGVtXCIhPXQubmFtZSl7aWYoXCIkdGV4dFwiIT10Lm5hbWUpe2NvbnN0IG49dC5wb3NpdGlvbi5ub2RlQWZ0ZXI7bi5oYXNBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpJiYoZS5yZW1vdmVBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIsbiksbz0hMCksbi5oYXNBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKSYmKGUucmVtb3ZlQXR0cmlidXRlKFwibGlzdFR5cGVcIixuKSxvPSEwKX1yKHQucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KHQubGVuZ3RoKSl9ZWxzZVwicmVtb3ZlXCI9PXQudHlwZSYmXCJsaXN0SXRlbVwiPT10Lm5hbWU/cih0LnBvc2l0aW9uKTpcImF0dHJpYnV0ZVwiPT10LnR5cGUmJlwibGlzdEluZGVudFwiPT10LmF0dHJpYnV0ZUtleT9yKHQucmFuZ2Uuc3RhcnQpOlwiYXR0cmlidXRlXCI9PXQudHlwZSYmXCJsaXN0VHlwZVwiPT10LmF0dHJpYnV0ZUtleSYmcih0LnJhbmdlLnN0YXJ0KTtmb3IoY29uc3QgdCBvZiBpLnZhbHVlcygpKXModCksYSh0KTtyZXR1cm4gbztmdW5jdGlvbiByKHQpe2NvbnN0IGU9dC5ub2RlQmVmb3JlO2lmKGUmJmUuaXMoXCJsaXN0SXRlbVwiKSl7bGV0IG49ZTtpZihpLmhhcyhuKSlyZXR1cm47Zm9yKDtuLnByZXZpb3VzU2libGluZyYmbi5wcmV2aW91c1NpYmxpbmcuaXMoXCJsaXN0SXRlbVwiKTspaWYobj1uLnByZXZpb3VzU2libGluZyxpLmhhcyhuKSlyZXR1cm47aS5zZXQodC5ub2RlQmVmb3JlLG4pfWVsc2V7Y29uc3QgZT10Lm5vZGVBZnRlcjtlJiZlLmlzKFwibGlzdEl0ZW1cIikmJmkuc2V0KGUsZSl9fWZ1bmN0aW9uIHModCl7bGV0IG49MCxpPW51bGw7Zm9yKDt0JiZ0LmlzKFwibGlzdEl0ZW1cIik7KXtjb25zdCByPXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTtpZihyPm4pe2xldCBzO251bGw9PT1pPyhpPXItbixzPW4pOihpPnImJihpPXIpLHM9ci1pKSxlLnNldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIixzLHQpLG89ITB9ZWxzZSBpPW51bGwsbj10LmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikrMTt0PXQubmV4dFNpYmxpbmd9fWZ1bmN0aW9uIGEodCl7bGV0IG49W10saT1udWxsO2Zvcig7dCYmdC5pcyhcImxpc3RJdGVtXCIpOyl7Y29uc3Qgcj10LmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7aWYoaSYmaS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPnImJihuPW4uc2xpY2UoMCxyKzEpKSwwIT1yKWlmKG5bcl0pe2NvbnN0IGk9bltyXTt0LmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpIT1pJiYoZS5zZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiLGksdCksbz0hMCl9ZWxzZSBuW3JdPXQuZ2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIik7aT10LHQ9dC5uZXh0U2libGluZ319fSkodC5tb2RlbCxlKSksbi5tYXBwZXIucmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aChcImxpXCIsSWIpLGUubWFwcGVyLnJlZ2lzdGVyVmlld1RvTW9kZWxMZW5ndGgoXCJsaVwiLEliKSxuLm1hcHBlci5vbihcIm1vZGVsVG9WaWV3UG9zaXRpb25cIix4Yiksbi5tYXBwZXIub24oXCJ2aWV3VG9Nb2RlbFBvc2l0aW9uXCIsQWIpLGUubWFwcGVyLm9uKFwibW9kZWxUb1ZpZXdQb3NpdGlvblwiLHhiKSxuLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydFwiLHdiLHtwcmlvcml0eTpcImhpZ2hcIn0pLG4uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiaW5zZXJ0Omxpc3RJdGVtXCIscGIpLGUuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiaW5zZXJ0XCIsd2Ise3ByaW9yaXR5OlwiaGlnaFwifSksZS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnQ6bGlzdEl0ZW1cIixwYiksbi5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6bGlzdFR5cGU6bGlzdEl0ZW1cIixnYiksZS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6bGlzdFR5cGU6bGlzdEl0ZW1cIixnYiksbi5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6bGlzdEluZGVudDpsaXN0SXRlbVwiLGJiKSxlLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImF0dHJpYnV0ZTpsaXN0SW5kZW50Omxpc3RJdGVtXCIsYmIpLG4uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwicmVtb3ZlOmxpc3RJdGVtXCIsbWIpLG4uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwicmVtb3ZlXCIsdmIse3ByaW9yaXR5OlwibG93XCJ9KSxlLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcInJlbW92ZTpsaXN0SXRlbVwiLG1iKSxlLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcInJlbW92ZVwiLHZiLHtwcmlvcml0eTpcImxvd1wifSksZS51cGNhc3REaXNwYXRjaGVyLm9uKFwiZWxlbWVudDp1bFwiLGtiLHtwcmlvcml0eTpcImhpZ2hcIn0pLGUudXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnQ6b2xcIixrYix7cHJpb3JpdHk6XCJoaWdoXCJ9KSxlLnVwY2FzdERpc3BhdGNoZXIub24oXCJlbGVtZW50OmxpXCIseWIse3ByaW9yaXR5OlwiaGlnaFwifSksZS51cGNhc3REaXNwYXRjaGVyLm9uKFwiZWxlbWVudDpsaVwiLF9iKSx0Lm1vZGVsLm9uKFwiaW5zZXJ0Q29udGVudFwiLENiLHtwcmlvcml0eTpcImhpZ2hcIn0pLHQuY29tbWFuZHMuYWRkKFwibnVtYmVyZWRMaXN0XCIsbmV3IGxiKHQsXCJudW1iZXJlZFwiKSksdC5jb21tYW5kcy5hZGQoXCJidWxsZXRlZExpc3RcIixuZXcgbGIodCxcImJ1bGxldGVkXCIpKSx0LmNvbW1hbmRzLmFkZChcImluZGVudExpc3RcIixuZXcgaGIodCxcImZvcndhcmRcIikpLHQuY29tbWFuZHMuYWRkKFwib3V0ZGVudExpc3RcIixuZXcgaGIodCxcImJhY2t3YXJkXCIpKTtjb25zdCBpPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudDt0aGlzLmxpc3RlblRvKGksXCJlbnRlclwiLCh0LGUpPT57Y29uc3Qgbj10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxpPW4uc2VsZWN0aW9uLmdldExhc3RQb3NpdGlvbigpLnBhcmVudDtuLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCYmXCJsaXN0SXRlbVwiPT1pLm5hbWUmJmkuaXNFbXB0eSYmKHRoaXMuZWRpdG9yLmV4ZWN1dGUoXCJvdXRkZW50TGlzdFwiKSxlLnByZXZlbnREZWZhdWx0KCksdC5zdG9wKCkpfSksdGhpcy5saXN0ZW5UbyhpLFwiZGVsZXRlXCIsKHQsZSk9PntpZihcImJhY2t3YXJkXCIhPT1lLmRpcmVjdGlvbilyZXR1cm47Y29uc3Qgbj10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYoIW4uaXNDb2xsYXBzZWQpcmV0dXJuO2NvbnN0IGk9bi5nZXRGaXJzdFBvc2l0aW9uKCk7aWYoIWkuaXNBdFN0YXJ0KXJldHVybjtjb25zdCBvPWkucGFyZW50O1wibGlzdEl0ZW1cIj09PW8ubmFtZSYmKG8ucHJldmlvdXNTaWJsaW5nJiZcImxpc3RJdGVtXCI9PT1vLnByZXZpb3VzU2libGluZy5uYW1lfHwodGhpcy5lZGl0b3IuZXhlY3V0ZShcIm91dGRlbnRMaXN0XCIpLGUucHJldmVudERlZmF1bHQoKSx0LnN0b3AoKSkpfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KTtjb25zdCBvPXQ9PihlLG4pPT57dGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KHQpLmlzRW5hYmxlZCYmKHRoaXMuZWRpdG9yLmV4ZWN1dGUodCksbigpKX07dGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoXCJUYWJcIixvKFwiaW5kZW50TGlzdFwiKSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoXCJTaGlmdCtUYWJcIixvKFwib3V0ZGVudExpc3RcIikpfX1mdW5jdGlvbiBJYih0KXtsZXQgZT0xO2Zvcihjb25zdCBuIG9mIHQuZ2V0Q2hpbGRyZW4oKSlpZihcInVsXCI9PW4ubmFtZXx8XCJvbFwiPT1uLm5hbWUpZm9yKGNvbnN0IHQgb2Ygbi5nZXRDaGlsZHJlbigpKWUrPUliKHQpO3JldHVybiBlfXZhciBWYj1uKDMwKSxNYj1uLm4oVmIpLEZiPW4oMzEpLE5iPW4ubihGYik7Y2xhc3MgRGIgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci50O3RoaXMuX2FkZEJ1dHRvbihcIm51bWJlcmVkTGlzdFwiLHQoXCJhY1wiKSxNYi5hKSx0aGlzLl9hZGRCdXR0b24oXCJidWxsZXRlZExpc3RcIix0KFwiYWRcIiksTmIuYSl9X2FkZEJ1dHRvbih0LGUsbil7Y29uc3QgaT10aGlzLmVkaXRvcjtpLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKHQsbz0+e2NvbnN0IHI9aS5jb21tYW5kcy5nZXQodCkscz1uZXcgU2Yobyk7cmV0dXJuIHMuc2V0KHtsYWJlbDplLGljb246bix0b29sdGlwOiEwfSkscy5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKHIsXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpLHRoaXMubGlzdGVuVG8ocyxcImV4ZWN1dGVcIiwoKT0+aS5leGVjdXRlKHQpKSxzfSl9fWNvbnN0IEJiPVwiY2tDc3JmVG9rZW5cIixMYj00MCxqYj1cImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO2Z1bmN0aW9uIHpiKCl7bGV0IHQ9ZnVuY3Rpb24odCl7dD10LnRvTG93ZXJDYXNlKCk7Y29uc3QgZT1kb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpO2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGU9bi5zcGxpdChcIj1cIiksaT1kZWNvZGVVUklDb21wb25lbnQoZVswXS50cmltKCkudG9Mb3dlckNhc2UoKSk7aWYoaT09PXQpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlWzFdKX1yZXR1cm4gbnVsbH0oQmIpO3JldHVybiB0JiZ0Lmxlbmd0aD09TGJ8fCh0PWZ1bmN0aW9uKHQpe2xldCBlPVwiXCI7Y29uc3Qgbj1uZXcgVWludDhBcnJheSh0KTt3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgaT1qYi5jaGFyQXQoblt0XSVqYi5sZW5ndGgpO2UrPU1hdGgucmFuZG9tKCk+LjU/aS50b1VwcGVyQ2FzZSgpOml9cmV0dXJuIGV9KExiKSxmdW5jdGlvbih0LGUpe2RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQodCkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpK1wiO3BhdGg9L1wifShCYix0KSksdH1jbGFzcyBxYntjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5sb2FkZXI9dCx0aGlzLnVybD1lLHRoaXMudD1ufXVwbG9hZCgpe3JldHVybiBuZXcgUHJvbWlzZSgodCxlKT0+e3RoaXMuX2luaXRSZXF1ZXN0KCksdGhpcy5faW5pdExpc3RlbmVycyh0LGUpLHRoaXMuX3NlbmRSZXF1ZXN0KCl9KX1hYm9ydCgpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpfV9pbml0UmVxdWVzdCgpe2NvbnN0IHQ9dGhpcy54aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Qub3BlbihcIlBPU1RcIix0aGlzLnVybCwhMCksdC5yZXNwb25zZVR5cGU9XCJqc29uXCJ9X2luaXRMaXN0ZW5lcnModCxlKXtjb25zdCBuPXRoaXMueGhyLGk9dGhpcy5sb2FkZXIsbz0oMCx0aGlzLnQpKFwiY1wiKStgICR7aS5maWxlLm5hbWV9LmA7bi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwoKT0+ZShvKSksbi5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwoKT0+ZSgpKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCk9Pntjb25zdCBpPW4ucmVzcG9uc2U7aWYoIWl8fCFpLnVwbG9hZGVkKXJldHVybiBlKGkmJmkuZXJyb3ImJmkuZXJyb3IubWVzc2FnZT9pLmVycm9yLm1lc3NhZ2U6byk7dCh7ZGVmYXVsdDppLnVybH0pfSksbi51cGxvYWQmJm4udXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLHQ9Pnt0Lmxlbmd0aENvbXB1dGFibGUmJihpLnVwbG9hZFRvdGFsPXQudG90YWwsaS51cGxvYWRlZD10LmxvYWRlZCl9KX1fc2VuZFJlcXVlc3QoKXtjb25zdCB0PW5ldyBGb3JtRGF0YTt0LmFwcGVuZChcInVwbG9hZFwiLHRoaXMubG9hZGVyLmZpbGUpLHQuYXBwZW5kKFwiY2tDc3JmVG9rZW5cIix6YigpKSxjb25zb2xlLmxvZyh0KSx0aGlzLnhoci5zZW5kKHQpfX1jb25zdCBVYj1bXCJsZWZ0XCIsXCJyaWdodFwiLFwiY2VudGVyXCIsXCJqdXN0aWZ5XCJdO2Z1bmN0aW9uIEhiKHQpe3JldHVybiBVYi5pbmNsdWRlcyh0KX1mdW5jdGlvbiBXYih0KXtyZXR1cm5cImxlZnRcIj09PXR9Y29uc3QgJGI9XCJhbGlnbm1lbnRcIjtjbGFzcyBLYiBleHRlbmRzIEtoe3JlZnJlc2goKXtjb25zdCB0PVFmKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTt0aGlzLmlzRW5hYmxlZD0hIXQmJnRoaXMuX2NhbkJlQWxpZ25lZCh0KSx0aGlzLnZhbHVlPXRoaXMuaXNFbmFibGVkJiZ0Lmhhc0F0dHJpYnV0ZShcImFsaWdubWVudFwiKT90LmdldEF0dHJpYnV0ZShcImFsaWdubWVudFwiKTpcImxlZnRcIn1leGVjdXRlKHQ9e30pe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LGk9dC52YWx1ZTtlLmNoYW5nZSh0PT57Y29uc3QgZT1BcnJheS5mcm9tKG4uc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpLmZpbHRlcih0PT50aGlzLl9jYW5CZUFsaWduZWQodCkpLG89ZVswXS5nZXRBdHRyaWJ1dGUoXCJhbGlnbm1lbnRcIik7V2IoaSl8fG89PT1pfHwhaT9mdW5jdGlvbih0LGUpe2Zvcihjb25zdCBuIG9mIHQpZS5yZW1vdmVBdHRyaWJ1dGUoJGIsbil9KGUsdCk6ZnVuY3Rpb24odCxlLG4pe2Zvcihjb25zdCBpIG9mIHQpZS5zZXRBdHRyaWJ1dGUoJGIsbixpKX0oZSx0LGkpfSl9X2NhbkJlQWxpZ25lZCh0KXtyZXR1cm4gdGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hLmNoZWNrQXR0cmlidXRlKHQsJGIpfX1jbGFzcyBHYiBleHRlbmRzIHFoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHQuY29uZmlnLmRlZmluZShcImFsaWdubWVudFwiLHtvcHRpb25zOlsuLi5VYl19KX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuc2NoZW1hLG49dC5jb25maWcuZ2V0KFwiYWxpZ25tZW50Lm9wdGlvbnNcIikuZmlsdGVyKEhiKTtlLmV4dGVuZChcIiRibG9ja1wiLHthbGxvd0F0dHJpYnV0ZXM6XCJhbGlnbm1lbnRcIn0pO2NvbnN0IGk9ZnVuY3Rpb24odCl7Y29uc3QgZT17bW9kZWw6e2tleTpcImFsaWdubWVudFwiLHZhbHVlczp0LnNsaWNlKCl9LHZpZXc6e319O2Zvcihjb25zdCBuIG9mIHQpZS52aWV3W25dPXtrZXk6XCJzdHlsZVwiLHZhbHVlOntcInRleHQtYWxpZ25cIjpufX07cmV0dXJuIGV9KG4uZmlsdGVyKHQ9PiFXYih0KSkpO3QuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0F0dHJpYnV0ZShpKSx0LmNvbW1hbmRzLmFkZChcImFsaWdubWVudFwiLG5ldyBLYih0KSl9fXZhciBKYj1uKDEyKSxRYj1uLm4oSmIpLFliPW4oMzIpLFhiPW4ubihZYiksWmI9bigzMyksdHc9bi5uKFpiKSxldz1uKDM0KSxudz1uLm4oZXcpO2NvbnN0IGl3PW5ldyBNYXAoW1tcImxlZnRcIixRYi5hXSxbXCJyaWdodFwiLFhiLmFdLFtcImNlbnRlclwiLHR3LmFdLFtcImp1c3RpZnlcIixudy5hXV0pO2NsYXNzIG93IGV4dGVuZHMgcWh7Z2V0IGxvY2FsaXplZE9wdGlvblRpdGxlcygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IudDtyZXR1cm57bGVmdDp0KFwid1wiKSxyaWdodDp0KFwieFwiKSxjZW50ZXI6dChcInlcIiksanVzdGlmeTp0KFwielwiKX19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJBbGlnbm1lbnRVSVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC51aS5jb21wb25lbnRGYWN0b3J5LG49dC50LGk9dC5jb25maWcuZ2V0KFwiYWxpZ25tZW50Lm9wdGlvbnNcIik7aS5maWx0ZXIoSGIpLmZvckVhY2godD0+dGhpcy5fYWRkQnV0dG9uKHQpKSxlLmFkZChcImFsaWdubWVudFwiLHQ9Pntjb25zdCBvPW5nKHQpLHI9aS5tYXAodD0+ZS5jcmVhdGUoYGFsaWdubWVudDoke3R9YCkpOyFmdW5jdGlvbih0LGUpe2NvbnN0IG49dC50b29sYmFyVmlldz1uZXcgQmg7dC5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6W1wiY2stdG9vbGJhci1kcm9wZG93blwiXX19KSxlLm1hcCh0PT5uLml0ZW1zLmFkZCh0KSksdC5wYW5lbFZpZXcuY2hpbGRyZW4uYWRkKG4pLG4uaXRlbXMuZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHQpfShvLHIpLG8uYnV0dG9uVmlldy5zZXQoe2xhYmVsOm4oXCJhYVwiKSx0b29sdGlwOiEwfSksby50b29sYmFyVmlldy5pc1ZlcnRpY2FsPSEwLG8uZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stYWxpZ25tZW50LWRyb3Bkb3duXCJ9fSk7Y29uc3Qgcz1RYi5hO3JldHVybiBvLmJ1dHRvblZpZXcuYmluZChcImljb25cIikudG9NYW55KHIsXCJpc09uXCIsKC4uLnQpPT57Y29uc3QgZT10LmZpbmRJbmRleCh0PT50KTtyZXR1cm4gZTwwP3M6cltlXS5pY29ufSksby5iaW5kKFwiaXNFbmFibGVkXCIpLnRvTWFueShyLFwiaXNFbmFibGVkXCIsKC4uLnQpPT50LnNvbWUodD0+dCkpLG99KX1fYWRkQnV0dG9uKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZChgYWxpZ25tZW50OiR7dH1gLG49Pntjb25zdCBpPWUuY29tbWFuZHMuZ2V0KFwiYWxpZ25tZW50XCIpLG89bmV3IFNmKG4pO3JldHVybiBvLnNldCh7bGFiZWw6dGhpcy5sb2NhbGl6ZWRPcHRpb25UaXRsZXNbdF0saWNvbjppdy5nZXQodCksdG9vbHRpcDohMH0pLG8uYmluZChcImlzRW5hYmxlZFwiKS50byhpKSxvLmJpbmQoXCJpc09uXCIpLnRvKGksXCJ2YWx1ZVwiLGU9PmU9PT10KSx0aGlzLmxpc3RlblRvKG8sXCJleGVjdXRlXCIsKCk9PntlLmV4ZWN1dGUoXCJhbGlnbm1lbnRcIix7dmFsdWU6dH0pLGUuZWRpdGluZy52aWV3LmZvY3VzKCl9KSxvfSl9fW4oOTYpO2NvbnN0IHJ3PUloKFwicHhcIik7Y2xhc3Mgc3cgZXh0ZW5kcyBTZntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuaXNWaXNpYmxlPSExLHRoaXMuc2V0KFwidG9wXCIsMCksdGhpcy5zZXQoXCJsZWZ0XCIsMCksdGhpcy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6XCJjay1ibG9jay10b29sYmFyLWJ1dHRvblwiLHN0eWxlOnt0b3A6ZS50byhcInRvcFwiLHQ9PnJ3KHQpKSxsZWZ0OmUudG8oXCJsZWZ0XCIsdD0+cncodCkpfX19KX19dmFyIGF3PW4oMzUpLGN3PW4ubihhdyk7dmFyIGx3PW4oMzYpLGR3PW4ubihsdyksdXc9bigzNyksaHc9bi5uKHV3KSxmdz1uKDM4KSxwdz1uLm4oZncpO2NvbnN0IG13PXtoZWFkaW5nMTpkdy5hLGhlYWRpbmcyOmh3LmEsaGVhZGluZzM6cHcuYX07dmFyIGd3PW4oMzkpLGJ3PW4ubihndyk7Y29uc3Qgd3c9XCJjb2RlXCI7Y2xhc3MgdncgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0Lm1vZGVsLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0F0dHJpYnV0ZXM6d3d9KSx0LmNvbnZlcnNpb24uYXR0cmlidXRlVG9FbGVtZW50KHttb2RlbDp3dyx2aWV3OlwiY29kZVwiLHVwY2FzdEFsc286e3N0eWxlczp7XCJ3b3JkLXdyYXBcIjpcImJyZWFrLXdvcmRcIn19fSksdC5jb21tYW5kcy5hZGQod3csbmV3IERmKHQsd3cpKX19dmFyIF93PW4oNDApLGt3PW4ubihfdyk7Y29uc3QgeXc9XCJjb2RlXCI7Y2xhc3MgeHcgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQudDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKHl3LG49Pntjb25zdCBpPXQuY29tbWFuZHMuZ2V0KHl3KSxvPW5ldyBTZihuKTtyZXR1cm4gby5zZXQoe2xhYmVsOmUoXCJhXCIpLGljb246a3cuYSx0b29sdGlwOiEwfSksby5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKGksXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpLHRoaXMubGlzdGVuVG8obyxcImV4ZWN1dGVcIiwoKT0+dC5leGVjdXRlKHl3KSksb30pfX1jb25zdCBBdz1cInVuZGVybGluZVwiO2NsYXNzIEN3IGV4dGVuZHMgcWh7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOkF3fSksdC5jb252ZXJzaW9uLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6QXcsdmlldzpcInVcIix1cGNhc3RBbHNvOntzdHlsZXM6e1widGV4dC1kZWNvcmF0aW9uXCI6XCJ1bmRlcmxpbmVcIn19fSksdC5jb21tYW5kcy5hZGQoQXcsbmV3IERmKHQsQXcpKSx0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtVXCIsXCJ1bmRlcmxpbmVcIil9fXZhciBUdz1uKDQxKSxTdz1uLm4oVHcpO2NvbnN0IEV3PVwidW5kZXJsaW5lXCI7Y2xhc3MgUHcgZXh0ZW5kcyBxaHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQudDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKEV3LG49Pntjb25zdCBpPXQuY29tbWFuZHMuZ2V0KEV3KSxvPW5ldyBTZihuKTtyZXR1cm4gby5zZXQoe2xhYmVsOmUoXCJiXCIpLGljb246U3cuYSxrZXlzdHJva2U6XCJDVFJMK1VcIix0b29sdGlwOiEwfSksby5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKGksXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpLHRoaXMubGlzdGVuVG8obyxcImV4ZWN1dGVcIiwoKT0+dC5leGVjdXRlKEV3KSksb30pfX1uLmQoZSxcImRlZmF1bHRcIixmdW5jdGlvbigpe3JldHVybiBPd30pO2NsYXNzIE93IGV4dGVuZHMgemh7fU93LmJ1aWx0aW5QbHVnaW5zPVtjbGFzcyBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bJGgsWGgsbmYsX2YsVmZdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRXNzZW50aWFsc1wifX0sY2xhc3MgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkF1dG9mb3JtYXRcIn1hZnRlckluaXQoKXt0aGlzLl9hZGRMaXN0QXV0b2Zvcm1hdHMoKSx0aGlzLl9hZGRCYXNpY1N0eWxlc0F1dG9mb3JtYXRzKCksdGhpcy5fYWRkSGVhZGluZ0F1dG9mb3JtYXRzKCksdGhpcy5fYWRkQmxvY2tRdW90ZUF1dG9mb3JtYXRzKCl9X2FkZExpc3RBdXRvZm9ybWF0cygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHM7dC5nZXQoXCJidWxsZXRlZExpc3RcIikmJm5ldyBNZih0aGlzLmVkaXRvciwvXlsqLV1cXHMkLyxcImJ1bGxldGVkTGlzdFwiKSx0LmdldChcIm51bWJlcmVkTGlzdFwiKSYmbmV3IE1mKHRoaXMuZWRpdG9yLC9eXFxkK1sufCldXFxzJC8sXCJudW1iZXJlZExpc3RcIil9X2FkZEJhc2ljU3R5bGVzQXV0b2Zvcm1hdHMoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbW1hbmRzO3QuZ2V0KFwiYm9sZFwiKSYmKG5ldyBGZih0aGlzLmVkaXRvciwvKFxcKlxcKikoW14qXSspKFxcKlxcKikkL2csXCJib2xkXCIpLG5ldyBGZih0aGlzLmVkaXRvciwvKF9fKShbXl9dKykoX18pJC9nLFwiYm9sZFwiKSksdC5nZXQoXCJpdGFsaWNcIikmJihuZXcgRmYodGhpcy5lZGl0b3IsLyg/Ol58W14qXSkoXFwqKShbXipfXSspKFxcKikkL2csXCJpdGFsaWNcIiksbmV3IEZmKHRoaXMuZWRpdG9yLC8oPzpefFteX10pKF8pKFteX10rKShfKSQvZyxcIml0YWxpY1wiKSksdC5nZXQoXCJjb2RlXCIpJiZuZXcgRmYodGhpcy5lZGl0b3IsLyhgKShbXmBdKykoYCkkL2csXCJjb2RlXCIpfV9hZGRIZWFkaW5nQXV0b2Zvcm1hdHMoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImhlYWRpbmdcIik7dCYmdC5tb2RlbEVsZW1lbnRzLmZpbHRlcih0PT50Lm1hdGNoKC9eaGVhZGluZ1sxLTZdJC8pKS5mb3JFYWNoKHQ9Pntjb25zdCBlPXRbN10sbj1uZXcgUmVnRXhwKGBeKCN7JHtlfX0pXFxcXHMkYCk7bmV3IE1mKHRoaXMuZWRpdG9yLG4sKCk9Pnt0aGlzLmVkaXRvci5leGVjdXRlKFwiaGVhZGluZ1wiLHt2YWx1ZTp0fSl9KX0pfV9hZGRCbG9ja1F1b3RlQXV0b2Zvcm1hdHMoKXt0aGlzLmVkaXRvci5jb21tYW5kcy5nZXQoXCJibG9ja1F1b3RlXCIpJiZuZXcgTWYodGhpcy5lZGl0b3IsL14+XFxzJC8sXCJibG9ja1F1b3RlXCIpfX0sY2xhc3MgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkF1dG9zYXZlXCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltycF19Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fdGhyb3R0bGVkU2F2ZT1mdW5jdGlvbih0LGUpe2xldCBuPTAsaT1udWxsO2Z1bmN0aW9uIG8oKXtjb25zdCB0PURhdGUubm93KCk7cmV0dXJuIWkmJih0Pm4rZT8ocigpLCEwKTooaT13aW5kb3cuc2V0VGltZW91dChyLG4rZS10KSwhMCkpfWZ1bmN0aW9uIHIoKXtuPURhdGUubm93KCksaT1udWxsLHQoKX1yZXR1cm4gby5mbHVzaD1mdW5jdGlvbigpe2kmJih3aW5kb3cuY2xlYXJUaW1lb3V0KGkpLHIoKSksbj0wfSxvfSh0aGlzLl9zYXZlLmJpbmQodGhpcyksMTVlMyksdGhpcy5fbGFzdERvY3VtZW50VmVyc2lvbj10Lm1vZGVsLmRvY3VtZW50LnZlcnNpb24sdGhpcy5fZG9tRW1pdHRlcj1PYmplY3QuY3JlYXRlKFVvKSx0aGlzLl9zYXZlQWN0aW9uQ291bnRlcj0wLHRoaXMuX2NvbmZpZz10LmNvbmZpZy5nZXQoXCJhdXRvc2F2ZVwiKXx8e319aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLmRvY3VtZW50O3RoaXMuX3BlbmRpbmdBY3Rpb25zPXQucGx1Z2lucy5nZXQocnApLHRoaXMubGlzdGVuVG8oZSxcImNoYW5nZTpkYXRhXCIsKCk9Pnt0aGlzLl9pbmNyZW1lbnRDb3VudGVyKCksdGhpcy5fdGhyb3R0bGVkU2F2ZSgpfHx0aGlzLl9kZWNyZW1lbnRDb3VudGVyKCl9KSx0aGlzLmxpc3RlblRvKHQsXCJkZXN0cm95XCIsKCk9PnRoaXMuX2ZsdXNoKCkse3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdGhpcy5fZG9tRW1pdHRlci5saXN0ZW5Ubyh3aW5kb3csXCJiZWZvcmV1bmxvYWRcIiwodCxlKT0+e3RoaXMuX3BlbmRpbmdBY3Rpb25zLmhhc0FueSYmKGUucmV0dXJuVmFsdWU9dGhpcy5fcGVuZGluZ0FjdGlvbnMuZmlyc3QubWVzc2FnZSl9KX1kZXN0cm95KCl7dGhpcy5fZG9tRW1pdHRlci5zdG9wTGlzdGVuaW5nKCksc3VwZXIuZGVzdHJveSgpfV9mbHVzaCgpe3RoaXMuX3Rocm90dGxlZFNhdmUuZmx1c2goKX1fc2F2ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQudmVyc2lvbixlPVtdO2lmKHRoaXMuYWRhcHRlciYmdGhpcy5hZGFwdGVyLnNhdmUmJmUucHVzaCh0aGlzLmFkYXB0ZXIuc2F2ZSksdGhpcy5fY29uZmlnLnNhdmUmJmUucHVzaCh0aGlzLl9jb25maWcuc2F2ZSksdDx0aGlzLl9sYXN0RG9jdW1lbnRWZXJzaW9ufHwhZS5sZW5ndGh8fFwiaW5pdGlhbGl6aW5nXCI9PT10aGlzLmVkaXRvci5zdGF0ZSlyZXR1cm4gdGhpcy5fdGhyb3R0bGVkU2F2ZS5mbHVzaCgpLHZvaWQgdGhpcy5fZGVjcmVtZW50Q291bnRlcigpO3RoaXMuX2xhc3REb2N1bWVudFZlcnNpb249dCxQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT5Qcm9taXNlLmFsbChlLm1hcCh0PT50KHRoaXMuZWRpdG9yKSkpKS50aGVuKCgpPT57dGhpcy5fZGVjcmVtZW50Q291bnRlcigpfSl9X2luY3JlbWVudENvdW50ZXIoKXtjb25zdCB0PXRoaXMuZWRpdG9yLnQ7dGhpcy5fc2F2ZUFjdGlvbkNvdW50ZXIrKyx0aGlzLl9hY3Rpb258fCh0aGlzLl9hY3Rpb249dGhpcy5fcGVuZGluZ0FjdGlvbnMuYWRkKHQoXCJlXCIpKSl9X2RlY3JlbWVudENvdW50ZXIoKXt0aGlzLl9zYXZlQWN0aW9uQ291bnRlci0tLDA9PT10aGlzLl9zYXZlQWN0aW9uQ291bnRlciYmKHRoaXMuX3BlbmRpbmdBY3Rpb25zLnJlbW92ZSh0aGlzLl9hY3Rpb24pLHRoaXMuX2FjdGlvbj1udWxsKX19LGNsYXNzIGV4dGVuZHMgcWh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltMZixVZl19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJCb2xkXCJ9fSxjbGFzcyBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bV2YsSmZdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSXRhbGljXCJ9fSxjbGFzcyBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bZXAsb3BdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQmxvY2tRdW90ZVwifX0sY2xhc3MgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2dwLG1tLE5tXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkVhc3lJbWFnZVwifX0sY2xhc3MgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1dtLG9nXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkhlYWRpbmdcIn19LG1tLGNsYXNzIGV4dGVuZHMgcWh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltoZ119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbWFnZUNhcHRpb25cIn19LGNsYXNzIGV4dGVuZHMgcWh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltSZyxJZ119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbWFnZVN0eWxlXCJ9fSxjbGFzcyBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bY21dfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VUb29sYmFyXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LnBsdWdpbnMuZ2V0KFwiQmFsbG9vblRvb2xiYXJcIik7ZSYmdGhpcy5saXN0ZW5UbyhlLFwic2hvd1wiLGU9PntGcCh0LmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pJiZlLnN0b3AoKX0se3ByaW9yaXR5OlwiaGlnaFwifSl9YWZ0ZXJJbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuY29uZmlnLmdldChcImltYWdlLnRvb2xiYXJcIik7ZSYmZS5sZW5ndGgmJih0aGlzLl9iYWxsb29uPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiQ29udGV4dHVhbEJhbGxvb25cIiksdGhpcy5fdG9vbGJhcj1uZXcgQmgsdGhpcy5fdG9vbGJhci5maWxsRnJvbUNvbmZpZyhlLHQudWkuY29tcG9uZW50RmFjdG9yeSksdGhpcy5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9Pnt0aGlzLl9jaGVja0lzVmlzaWJsZSgpfSksdGhpcy5saXN0ZW5Ubyh0LnVpLmZvY3VzVHJhY2tlcixcImNoYW5nZTppc0ZvY3VzZWRcIiwoKT0+e3RoaXMuX2NoZWNrSXNWaXNpYmxlKCl9LHtwcmlvcml0eTpcImxvd1wifSkpfV9jaGVja0lzVmlzaWJsZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC51aS5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiZGcCh0LmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pP3RoaXMuX3Nob3dUb29sYmFyKCk6dGhpcy5faGlkZVRvb2xiYXIoKX1fc2hvd1Rvb2xiYXIoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3RoaXMuX2lzVmlzaWJsZT91bSh0KTp0aGlzLl9iYWxsb29uLmhhc1ZpZXcodGhpcy5fdG9vbGJhcil8fHRoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnRoaXMuX3Rvb2xiYXIscG9zaXRpb246aG0odCksYmFsbG9vbkNsYXNzTmFtZTpWZ30pfV9oaWRlVG9vbGJhcigpe3RoaXMuX2lzVmlzaWJsZSYmdGhpcy5fYmFsbG9vbi5yZW1vdmUodGhpcy5fdG9vbGJhcil9Z2V0IF9pc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09dGhpcy5fdG9vbGJhcn19LE5tLGNsYXNzIGV4dGVuZHMgcWh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltRZyxhYl19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJMaW5rXCJ9fSxjbGFzcyBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bUmIsRGJdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiTGlzdFwifX0sTG0sY2xhc3MgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2FwXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkNLRmluZGVyVXBsb2FkQWRhcHRlclwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbmZpZy5nZXQoXCJja2ZpbmRlci51cGxvYWRVcmxcIik7dCYmKHRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KGFwKS5jcmVhdGVVcGxvYWRBZGFwdGVyPShlPT5uZXcgcWIoZSx0LHRoaXMuZWRpdG9yLnQpKSl9fSxjbGFzcyBleHRlbmRzIHFoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bdncseHddfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQ29kZVwifX0sY2xhc3MgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0N3LFB3XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlVuZGVybGluZVwifX0sY2xhc3MgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0diLG93XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkFsaWdubWVudFwifX0sY2xhc3MgZXh0ZW5kcyBxaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkJsb2NrVG9vbGJhclwifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMudG9vbGJhclZpZXc9dGhpcy5fY3JlYXRlVG9vbGJhclZpZXcoKSx0aGlzLnBhbmVsVmlldz10aGlzLl9jcmVhdGVQYW5lbFZpZXcoKSx0aGlzLmJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uVmlldygpLEhwKHtlbWl0dGVyOnRoaXMucGFuZWxWaWV3LGNvbnRleHRFbGVtZW50czpbdGhpcy5wYW5lbFZpZXcuZWxlbWVudCx0aGlzLmJ1dHRvblZpZXcuZWxlbWVudF0sYWN0aXZhdG9yOigpPT50aGlzLnBhbmVsVmlldy5pc1Zpc2libGUsY2FsbGJhY2s6KCk9PnRoaXMuX2hpZGVQYW5lbCgpfSl9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dGhpcy5saXN0ZW5Ubyh0Lm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbixcImNoYW5nZTpyYW5nZVwiLCh0LGUpPT57ZS5kaXJlY3RDaGFuZ2UmJnRoaXMuX2hpZGVQYW5lbCgpfSksdGhpcy5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9PnRoaXMuX3VwZGF0ZUJ1dHRvbigpKSx0aGlzLmxpc3RlblRvKHQsXCJjaGFuZ2U6aXNSZWFkT25seVwiLCgpPT50aGlzLl91cGRhdGVCdXR0b24oKSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMubGlzdGVuVG8odC51aS5mb2N1c1RyYWNrZXIsXCJjaGFuZ2U6aXNGb2N1c2VkXCIsKCk9PnRoaXMuX3VwZGF0ZUJ1dHRvbigpKSx0aGlzLmxpc3RlblRvKHRoaXMuYnV0dG9uVmlldyxcImNoYW5nZTppc1Zpc2libGVcIiwodCxlLG4pPT57bj90aGlzLmJ1dHRvblZpZXcubGlzdGVuVG8od2luZG93LFwicmVzaXplXCIsKCk9PnRoaXMuX3VwZGF0ZUJ1dHRvbigpKToodGhpcy5idXR0b25WaWV3LnN0b3BMaXN0ZW5pbmcod2luZG93LFwicmVzaXplXCIpLHRoaXMuX2hpZGVQYW5lbCgpKX0pfWFmdGVySW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IudWkuY29tcG9uZW50RmFjdG9yeSxlPXRoaXMuZWRpdG9yLmNvbmZpZy5nZXQoXCJibG9ja1Rvb2xiYXJcIik7dGhpcy50b29sYmFyVmlldy5maWxsRnJvbUNvbmZpZyhlLHQpO2Zvcihjb25zdCB0IG9mIHRoaXMudG9vbGJhclZpZXcuaXRlbXMpdC5vbihcImV4ZWN1dGVcIiwoKT0+dGhpcy5faGlkZVBhbmVsKCEwKSx7cHJpb3JpdHk6XCJoaWdoXCJ9KX1fY3JlYXRlVG9vbGJhclZpZXcoKXtjb25zdCB0PW5ldyBCaCh0aGlzLmVkaXRvci5sb2NhbGUpO3JldHVybiB0LmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpbXCJjay10b29sYmFyX2Zsb2F0aW5nXCJdfX0pLHQuZm9jdXNUcmFja2VyLm9uKFwiY2hhbmdlOmlzRm9jdXNlZFwiLCh0LGUsbik9PntufHx0aGlzLl9oaWRlUGFuZWwoKX0pLHR9X2NyZWF0ZVBhbmVsVmlldygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT1uZXcgb20odC5sb2NhbGUpO3JldHVybiBlLmNvbnRlbnQuYWRkKHRoaXMudG9vbGJhclZpZXcpLGUuY2xhc3NOYW1lPVwiY2stdG9vbGJhci1jb250YWluZXJcIix0LnVpLnZpZXcuYm9keS5hZGQoZSksdC51aS5mb2N1c1RyYWNrZXIuYWRkKGUuZWxlbWVudCksdGhpcy50b29sYmFyVmlldy5rZXlzdHJva2VzLnNldChcIkVzY1wiLCh0LGUpPT57dGhpcy5faGlkZVBhbmVsKCEwKSxlKCl9KSxlfV9jcmVhdGVCdXR0b25WaWV3KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPW5ldyBzdyh0LmxvY2FsZSk7cmV0dXJuIGUuc2V0KHtsYWJlbDp0LnQoXCJFZGl0IGJsb2NrXCIpLGljb246Y3cuYSx3aXRoVGV4dDohMX0pLGUuYmluZChcImlzT25cIikudG8odGhpcy5wYW5lbFZpZXcsXCJpc1Zpc2libGVcIiksZS5iaW5kKFwidG9vbHRpcFwiKS50byh0aGlzLnBhbmVsVmlldyxcImlzVmlzaWJsZVwiLHQ9PiF0KSx0aGlzLmxpc3RlblRvKGUsXCJleGVjdXRlXCIsKCk9Pnt0aGlzLnBhbmVsVmlldy5pc1Zpc2libGU/dGhpcy5faGlkZVBhbmVsKCEwKTp0aGlzLl9zaG93UGFuZWwoKX0pLHQudWkudmlldy5ib2R5LmFkZChlKSx0LnVpLmZvY3VzVHJhY2tlci5hZGQoZS5lbGVtZW50KSxlfV91cGRhdGVCdXR0b24oKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbCxuPXQuZWRpdGluZy52aWV3O2lmKCF0LnVpLmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQpcmV0dXJuIHZvaWQgdGhpcy5faGlkZUJ1dHRvbigpO2lmKHQuaXNSZWFkT25seSlyZXR1cm4gdm9pZCB0aGlzLl9oaWRlQnV0dG9uKCk7Y29uc3QgaT1BcnJheS5mcm9tKGUuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpWzBdO2lmKCFpfHxBcnJheS5mcm9tKHRoaXMudG9vbGJhclZpZXcuaXRlbXMpLmV2ZXJ5KHQ9PiF0LmlzRW5hYmxlZCkpcmV0dXJuIHZvaWQgdGhpcy5faGlkZUJ1dHRvbigpO2NvbnN0IG89bi5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQuZWRpdGluZy5tYXBwZXIudG9WaWV3RWxlbWVudChpKSk7dGhpcy5idXR0b25WaWV3LmlzVmlzaWJsZT0hMCx0aGlzLl9hdHRhY2hCdXR0b25Ub0VsZW1lbnQobyksdGhpcy5wYW5lbFZpZXcuaXNWaXNpYmxlJiZ0aGlzLl9zaG93UGFuZWwoKX1faGlkZUJ1dHRvbigpe3RoaXMuYnV0dG9uVmlldy5pc1Zpc2libGU9ITF9X3Nob3dQYW5lbCgpe2NvbnN0IHQ9dGhpcy5wYW5lbFZpZXcuaXNWaXNpYmxlO3RoaXMucGFuZWxWaWV3LnBpbih7dGFyZ2V0OnRoaXMuYnV0dG9uVmlldy5lbGVtZW50LGxpbWl0ZXI6dGhpcy5lZGl0b3IudWkudmlldy5lZGl0YWJsZUVsZW1lbnR9KSx0fHx0aGlzLnRvb2xiYXJWaWV3Lml0ZW1zLmdldCgwKS5mb2N1cygpfV9oaWRlUGFuZWwodCl7dGhpcy5wYW5lbFZpZXcuaXNWaXNpYmxlPSExLHQmJnRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5mb2N1cygpfV9hdHRhY2hCdXR0b25Ub0VsZW1lbnQodCl7Y29uc3QgZT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxuPW5ldyBLcih0aGlzLmVkaXRvci51aS52aWV3LmVkaXRhYmxlRWxlbWVudCksaT1wYXJzZUludChlLnBhZGRpbmdUb3AsMTApLG89cGFyc2VJbnQoZS5saW5lSGVpZ2h0LDEwKXx8MS4yKnBhcnNlSW50KGUuZm9udFNpemUsMTApLHI9WnAoe2VsZW1lbnQ6dGhpcy5idXR0b25WaWV3LmVsZW1lbnQsdGFyZ2V0OnQscG9zaXRpb25zOlsodCxlKT0+KHt0b3A6dC50b3AraSsoby1lLmhlaWdodCkvMixsZWZ0Om4ubGVmdC1lLndpZHRofSldfSk7dGhpcy5idXR0b25WaWV3LnRvcD1yLnRvcCx0aGlzLmJ1dHRvblZpZXcubGVmdD1yLmxlZnR9fSxjbGFzcyBleHRlbmRzIHFoe2luaXQoKXtpZyh0aGlzLmVkaXRvcikuZmlsdGVyKHQ9PlwicGFyYWdyYXBoXCIhPT10Lm1vZGVsKS5tYXAodD0+dGhpcy5fY3JlYXRlQnV0dG9uKHQpKX1fY3JlYXRlQnV0dG9uKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZCh0Lm1vZGVsLG49Pntjb25zdCBpPW5ldyBTZihuKSxvPWUuY29tbWFuZHMuZ2V0KFwiaGVhZGluZ1wiKTtyZXR1cm4gaS5sYWJlbD10LnRpdGxlLGkuaWNvbj10Lmljb258fG13W3QubW9kZWxdLGkudG9vbHRpcD0hMCxpLmJpbmQoXCJpc0VuYWJsZWRcIikudG8obyksaS5iaW5kKFwiaXNPblwiKS50byhvLFwidmFsdWVcIixlPT5lPT10Lm1vZGVsKSxpLm9uKFwiZXhlY3V0ZVwiLCgpPT57ZS5leGVjdXRlKFwiaGVhZGluZ1wiLHt2YWx1ZTp0Lm1vZGVsfSl9KSxpfSl9fSxjbGFzcyBleHRlbmRzIHFoe2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJwYXJhZ3JhcGhcIixuPT57Y29uc3QgaT1uZXcgU2Yobiksbz10LmNvbW1hbmRzLmdldChcInBhcmFncmFwaFwiKTtyZXR1cm4gaS5sYWJlbD1lKFwiZFwiKSxpLmljb249YncuYSxpLnRvb2x0aXA9ITAsaS5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKG8pLGkuYmluZChcImlzT25cIikudG8obyxcInZhbHVlXCIpLGkub24oXCJleGVjdXRlXCIsKCk9Pnt0LmV4ZWN1dGUoXCJwYXJhZ3JhcGhcIil9KSxpfSl9fSx4dyxQd10sT3cuZGVmYXVsdENvbmZpZz17YWxpZ25tZW50OntvcHRpb25zOltcImxlZnRcIixcImNlbnRlclwiLFwicmlnaHRcIixcImp1c3RpZnlcIl19LHRvb2xiYXI6e2l0ZW1zOltcImhlYWRpbmdcIixcInxcIixcImJvbGRcIixcIml0YWxpY1wiLFwidW5kZXJsaW5lXCIsXCJhbGlnbm1lbnQ6bGVmdFwiLFwiYWxpZ25tZW50OmNlbnRlclwiLFwiYWxpZ25tZW50OnJpZ2h0XCIsXCJhbGlnbm1lbnQ6anVzdGlmeVwiLFwiYnVsbGV0ZWRMaXN0XCIsXCJudW1iZXJlZExpc3RcIixcImJsb2NrUXVvdGVcIixcImNvZGVcIixcImxpbmtcIixcImltYWdlVXBsb2FkXCIsXCJ1bmRvXCIsXCJyZWRvXCJdfSxibG9ja1Rvb2xiYXI6W1wicGFyYWdyYXBoXCIsXCJoZWFkaW5nMlwiLFwiaGVhZGluZzNcIixcInxcIixcImJvbGRcIixcIml0YWxpY1wiLFwidW5kZXJsaW5lXCIsXCJhbGlnbm1lbnQ6Y2VudGVyXCIsXCJhbGlnbm1lbnQ6cmlnaHRcIixcImJsb2NrUXVvdGVcIixcImNvZGVcIixcImxpbmtcIixcImltYWdlVXBsb2FkXCIsXCJ1bmRvXCJdLGltYWdlOnt0b29sYmFyOltcImltYWdlU3R5bGU6ZnVsbFwiLFwiaW1hZ2VTdHlsZTpzaWRlXCIsXCJ8XCIsXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiXX0sbGFuZ3VhZ2U6XCJlblwifX1dKS5kZWZhdWx0fSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ja2VkaXRvci5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/vendorjs/ckeditor.js\n");

/***/ })

}]);